;(function(){
function require(r,e,i){var n=require.resolve(r);if(null==n){i=i||r,e=e||"root";var t=new Error('Failed to require "'+i+'" from "'+e+'"');throw t.path=i,t.parent=e,t.require=!0,t}var o=require.modules[n];if(!o._resolving&&!o.exports){var u={};u.exports={},u.client=u.component=!0,o._resolving=!0,o.call(this,u.exports,require.relative(n),u),delete o._resolving,o.exports=u.exports}return o.exports}require.modules={},require.aliases={},require.resolve=function(r){"/"===r.charAt(0)&&(r=r.slice(1));for(var e=[r,r+".js",r+".json",r+"/index.js",r+"/index.json"],i=0;i<e.length;i++){var r=e[i];if(require.modules.hasOwnProperty(r))return r;if(require.aliases.hasOwnProperty(r))return require.aliases[r]}},require.normalize=function(r,e){var i=[];if("."!=e.charAt(0))return e;r=r.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."==e[n]?r.pop():"."!=e[n]&&""!=e[n]&&i.push(e[n]);return r.concat(i).join("/")},require.register=function(r,e){require.modules[r]=e},require.alias=function(r,e){if(!require.modules.hasOwnProperty(r))throw new Error('Failed to alias "'+r+'", it does not exist');require.aliases[e]=r},require.relative=function(r){function e(r,e){for(var i=r.length;i--;)if(r[i]===e)return i;return-1}function i(e){var n=i.resolve(e);return require(n,r,e)}var n=require.normalize(r,"..");return i.resolve=function(i){var t=i.charAt(0);if("/"==t)return i.slice(1);if("."==t)return require.normalize(n,i);var o=r.split("/"),u=e(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i},i.exists=function(r){return require.modules.hasOwnProperty(i.resolve(r))},i};require.register("vendors/index.js",function(e,t,n){t("./js/es5-shim.js"),n.exports.Stately=t("./js/stately"),n.exports.Spectra=t("./js/spectra"),n.exports.lodash=t("./js/lodash"),n.exports.Mailcheck=t("./js/mailcheck"),n.exports.FastClick=t("./js/fastclick"),n.exports.Hammer=Hammer=t("./js/hammer"),n.exports.Modernizer=t("./js/modernizr"),n.exports.CodeMirror=t("./js/codemirror"),n.exports.CodeMirrorPython=t("./js/python"),n.exports.jwplayer=t("./js/jwplayer"),n.exports.jwplayer.key="yGd7Ly4agvx2TGfD37oX7ez3O2u95t+YorDGvg==",t("./js/angular/angular"),t("./js/angular/angular-animate"),t("./js/angular/angular-sanitize"),t("./js/angular/angular-ui-router"),t("./js/angular/angular-ios9-uiwebview-patch"),t("./js/angular/ng-sortable")}),require.register("vendors/js/es5-shim.js",function(e,t,n){!function(){"use strict";var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){var i,r=this.length,s=[];if(this.charAt)for(i=0;r>i;i++)s.push(this.charAt(i));else for(i=0;i<this.length;i++)s.push(this[i]);return e.call(s,t,n||s.length)}}}(),function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e?n.exports=i():t.returnExports=i()}(this,function(){function e(){}function t(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function n(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}function i(e){var t,i,r;if(n(e))return e;if(i=e.valueOf,"function"==typeof i&&(t=i.call(e),n(t)))return t;if(r=e.toString,"function"==typeof r&&(t=r.call(e),n(t)))return t;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=m.call(arguments,1),r=function(){if(this instanceof l){var e=n.apply(this,i.concat(m.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(m.call(arguments)))},s=Math.max(0,n.length-i.length),o=[],a=0;s>a;a++)o.push("$"+a);var l=Function("binder","return function("+o.join(",")+"){return binder.apply(this,arguments)}")(r);return n.prototype&&(e.prototype=n.prototype,l.prototype=new e,e.prototype=null),l});var r,s,o,a,l,c=Function.prototype.call,u=Array.prototype,d=Object.prototype,m=u.slice,p=c.bind(d.toString),f=c.bind(d.hasOwnProperty);if((l=f(d,"__defineGetter__"))&&(r=c.bind(d.__defineGetter__),s=c.bind(d.__defineSetter__),o=c.bind(d.__lookupGetter__),a=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length){var v=Array.prototype.splice,h=Array.prototype.push,g=Array.prototype.unshift;Array.prototype.splice=function(){function e(e){for(var t=[];e--;)t.unshift(e);return t}var t,n=[];return n.splice.bind(n,0,0).apply(null,e(20)),n.splice.bind(n,0,0).apply(null,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length?!0:void 0}()?function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(m.call(arguments,2))):[]}:function(e,t){var n,i=m.call(arguments,2),r=i.length;if(!arguments.length)return[];if(void 0===e&&(e=0),void 0===t&&(t=this.length-e),r>0){if(0>=t){if(e==this.length)return h.apply(this,i),[];if(0==e)return g.apply(this,i),[]}return n=m.call(this,e,e+t),i.push.apply(i,m.call(this,e+t,this.length)),i.unshift.apply(i,m.call(this,0,e)),i.unshift(0,this.length),v.apply(this,i),n}return v.call(this,e,t)}}if(1!=[].unshift(0)){var g=Array.prototype.unshift;Array.prototype.unshift=function(){return g.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(e){return"[object Array]"==p(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y),E=function(e){var t=!0;return e&&e.call("foo",function(e,n,i){"object"!=typeof i&&(t=!1)}),!!e&&t};if(Array.prototype.forEach&&E(Array.prototype.forEach)||(Array.prototype.forEach=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError;for(;++r<s;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map&&E(Array.prototype.map)||(Array.prototype.map=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)o in n&&(r[o]=e.call(s,n[o],o,t));return r}),Array.prototype.filter&&E(Array.prototype.filter)||(Array.prototype.filter=function(e){var t,n=L(this),i=b&&"[object String]"==p(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)a in i&&(t=i[a],e.call(o,t,a,n)&&s.push(t));return s}),Array.prototype.every&&E(Array.prototype.every)||(Array.prototype.every=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)if(s in n&&!e.call(r,n[s],s,t))return!1;return!0}),Array.prototype.some&&E(Array.prototype.some)||(Array.prototype.some=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)if(s in n&&e.call(r,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>s;s++)s in n&&(r=e.call(void 0,r,n[s],s,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=L(this),n=b&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return r;do s in this&&(r=e.call(void 0,r,n[s],s,t));while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var n=b&&"[object String]"==p(this)?this.split(""):L(this),i=n.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=t(arguments[1])),r=r>=0?r:Math.max(0,i+r);i>r;r++)if(r in n&&n[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var n=b&&"[object String]"==p(this)?this.split(""):L(this),i=n.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,t(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in n&&e===n[r])return r;return-1}),!Object.keys){var w=!0,A=function(){}.propertyIsEnumerable("prototype"),S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],T=S.length;for(var j in{toString:null})w=!1;Object.keys=function N(e){var t="[object Function]"===p(e),n=null!==e&&"object"==typeof e;if(!n&&!t)throw new TypeError("Object.keys called on a non-object");var N=[],i=A&&t;for(var r in e)i&&"prototype"===r||!f(e,r)||N.push(r);if(w)for(var s=e.constructor,o=s&&s.prototype===e,a=0;T>a;a++){var l=S[a];o&&"constructor"===l||!f(e,l)||N.push(l)}return N}}var C=-621987552e5,x="-000001";Date.prototype.toISOString&&-1!==new Date(C).toISOString().indexOf(x)||(Date.prototype.toISOString=function(){var e,t,n,i,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),r=this.getUTCMonth(),i+=Math.floor(r/12),r=(r%12+12)%12,e=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(0>i?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(i>=0&&9999>=i?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return i+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var k=!1;try{k=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(C).toJSON().indexOf(x)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(D){}k||(Date.prototype.toJSON=function(){var e,t=Object(this),n=i(t);if("number"==typeof n&&!isFinite(n))return null;if(e=t.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(t)}),(!Date.parse||isNaN(Date.parse("2000-01-01T00:00:00.000Z")))&&(Date=function(e){function t(n,i,r,s,o,a,l){var c=arguments.length;if(this instanceof e){var u=1==c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,i,r,s,o,a,l):c>=6?new e(n,i,r,s,o,a):c>=5?new e(n,i,r,s,o):c>=4?new e(n,i,r,s):c>=3?new e(n,i,r):c>=2?new e(n,i):c>=1?new e(n):new e;return u.constructor=t,u}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return s[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}function i(t){return Number(new e(1970,0,1,0,0,0,t))}var r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),s=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var o in e)t[o]=e[o];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var s=r.exec(t);if(s){var o,a=Number(s[1]),l=Number(s[2]||1)-1,c=Number(s[3]||1)-1,u=Number(s[4]||0),d=Number(s[5]||0),m=Number(s[6]||0),p=Math.floor(1e3*Number(s[7]||0)),f=Boolean(s[4]&&!s[8]),v="-"===s[9]?1:-1,h=Number(s[10]||0),g=Number(s[11]||0);return(d>0||m>0||p>0?24:25)>u&&60>d&&60>m&&1e3>p&&l>-1&&12>l&&24>h&&60>g&&c>-1&&c<n(a,l+1)-n(a,l)&&(o=60*(24*(n(a,l)+c)+u+h*v),o=1e3*(60*(o+d+g*v)+m)+p,f&&(o=i(o)),o>=-864e13&&864e13>=o)?o:0/0}return e.parse.apply(this,arguments)},t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function e(e,t){for(var n=-1;++n<o;)t+=e*a[n],a[n]=t%s,t=Math.floor(t/s)}function t(e){for(var t=o,n=0;--t>=0;)n+=a[t],a[t]=Math.floor(n/e),n=n%e*s}function n(){for(var e=o,t="";--e>=0;)if(""!==t||0===e||0!==a[e]){var n=String(a[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t}function i(e,t,n){return 0===t?n:t%2===1?i(e,t-1,n*e):i(e*e,t/2,n)}function r(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}var s,o,a;s=1e7,o=6,a=[0,0,0,0,0,0],Number.prototype.toFixed=function(s){var o,a,l,c,u,d,m,p;if(o=Number(s),o=o!==o?0:Math.floor(o),0>o||o>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(a=Number(this),a!==a)return"NaN";if(-1e21>=a||a>=1e21)return String(a);if(l="",0>a&&(l="-",a=-a),c="0",a>1e-21)if(u=r(a*i(2,69,1))-69,d=0>u?a*i(2,-u,1):a/i(2,u,1),d*=4503599627370496,u=52-u,u>0){for(e(0,d),m=o;m>=7;)e(1e7,0),m-=7;for(e(i(10,m,1),0),m=u-1;m>=23;)t(1<<23),m-=23;t(1<<m),e(1,1),t(2),c=n()}else e(0,d),e(1<<-u,0),c=n()+"0.00000000000000000000".slice(2,2+o);return o>0?(p=c.length,c=o>=p?l+"0.0000000000000000000".slice(0,o-p+2)+c:l+c.slice(0,p-o)+"."+c.slice(p-o)):c=l+c,c}}();var O=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];String.prototype.split=function(t,n){var i=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==Object.prototype.toString.call(t))return O.apply(this,arguments);var r,s,o,a,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),u=0,t=new RegExp(t.source,c+"g");for(i+="",e||(r=new RegExp("^"+t.source+"$(?!\\s)",c)),n=void 0===n?-1>>>0:n>>>0;(s=t.exec(i))&&(o=s.index+s[0].length,!(o>u&&(l.push(i.slice(u,s.index)),!e&&s.length>1&&s[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<i.length&&Array.prototype.push.apply(l,s.slice(1)),a=s[0].length,u=o,l.length>=n)));)t.lastIndex===s.index&&t.lastIndex++;return u===i.length?(a||!t.test(""))&&l.push(""):l.push(i.slice(u)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(String.prototype.split=function(e,t){return void 0===e&&0===t?[]:O.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var I=String.prototype.substr;String.prototype.substr=function(e,t){return I.call(this,0>e&&(e=this.length+e)<0?0:e,t)}}var R="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||R.trim()){R="["+R+"]";var _=new RegExp("^"+R+R+"*"),M=new RegExp(R+R+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(_,"").replace(M,"")}}(8!==parseInt(R+"08")||22!==parseInt(R+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,i){return n=String(n).trim(),+i||(i=t.test(n)?16:10),e(n,i)}}(parseInt));var L=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}})}),require.register("vendors/js/fastclick.js",function(e,t,n){function i(e,t){"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}var s;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,!i.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=o.length;c>l;l++)a[o[l]]=n(a[o[l]],a);r&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(s=e.onclick,e.addEventListener("click",function(e){s(e)},!1),e.onclick=null)}}var r=navigator.userAgent.indexOf("Android")>0,s=/iP(ad|hone|od)/.test(navigator.userAgent),o=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=s&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),l=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(s&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},i.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},i.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},i.prototype.determineEventType=function(e){"use strict";return r&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(e){"use strict";var t;s&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},i.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},i.prototype.onTouchStart=function(e){"use strict";var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],s){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!o){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},i.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},i.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(e){"use strict";var t,n,i,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=u.tagName.toLowerCase(),"label"===i){if(t=this.findControl(u)){if(this.focus(u),r)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-n>100||s&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),s&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return s&&!o&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},i.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},i.prototype.destroy=function(){"use strict";var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(e){"use strict";var t,n,i;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction?!0:!1},i.attach=function(e,t){"use strict";return new i(e,t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return i}):"undefined"!=typeof n&&n.exports?(n.exports=i.attach,n.exports.FastClick=i):window.FastClick=i}),require.register("vendors/js/hammer.js",function(e,t,n){!function(e,t){"use strict";function i(){r.READY||(r.event.determineEventTypes(),r.utils.each(r.gestures,function(e){r.detection.register(e)}),r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0)}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},-1!==navigator.userAgent.indexOf("Windows Phone")&&(r.defaults.stop_browser_behavior.touchAction="auto"),r.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.UPDATE_VELOCITY_INTERVAL=20,r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=e.document,r.plugins=r.plugins||{},r.gestures=r.gestures||{},r.READY=!1,r.utils={extend:function(e,n,i){for(var r in n)e[r]!==t&&i||(e[r]=n[r]);return e},each:function(e,n,i){var r,s;if("forEach"in e)e.forEach(n,i);else if(e.length!==t){for(r=0,s=e.length;s>r;r++)if(n.call(i,e[r],r,e)===!1)return}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[];return r.utils.each(e,function(e){t.push("undefined"!=typeof e.clientX?e.clientX:e.pageX),n.push("undefined"!=typeof e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){t&&e&&e.style&&(r.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){r.utils.each(t,function(t,i){n&&(i=n+i.substring(0,1).toUpperCase()+i.substring(1)),i in e.style&&(e.style[i]=t)})}),"none"==t.userSelect&&(e.onselectstart=function(){return!1}),"none"==t.userDrag&&(e.ondragstart=function(){return!1}))},startDefaultBrowserBehavior:function(e,t){t&&e&&e.style&&(r.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){r.utils.each(t,function(t,i){n&&(i=n+i.substring(0,1).toUpperCase()+i.substring(1)),i in e.style&&(e.style[i]="")})}),"none"==t.userSelect&&(e.onselectstart=null),"none"==t.userDrag&&(e.ondragstart=null))}},r.Instance=function(e,t){var n=this;return i(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),this._eventStartHandler=r.event.onTouch(e,r.EVENT_START,function(e){n.enabled&&r.detection.startDetect(n,e)}),this._eventHandler=[],this},r.Instance.prototype={on:function(e,t){var n=e.split(" ");return r.utils.each(n,function(e){this.element.addEventListener(e,t,!1),this._eventHandler.push({gesture:e,handler:t})},this),this},off:function(e,t){var n=e.split(" ");return r.utils.each(n,function(e){this.element.removeEventListener(e,t,!1);var n=-1;r.utils.each(this._eventHandler,function(i,r){-1===n&&i.gesture===e&&i.handler===t&&(n=r)},this),n>-1&&this._eventHandler.splice(n,1)},this),this},trigger:function(e,t){t||(t={});var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){return this.options.stop_browser_behavior&&r.utils.startDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.utils.each(this._eventHandler,function(e){this.element.removeEventListener(e.gesture,e.handler,!1)},this),this._eventHandler.length=0,r.event.unbindDom(this.element,r.EVENT_TYPES[r.EVENT_START],this._eventStartHandler),this}};var s=null,o=!1,a=!1;r.event={bindDom:function(e,t,n){var i=t.split(" ");r.utils.each(i,function(t){e.addEventListener(t,n,!1)})},unbindDom:function(e,t,n){var i=t.split(" ");r.utils.each(i,function(t){e.removeEventListener(t,n,!1)})},onTouch:function(e,t,n){var i=this,l=function(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!a){c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which?o=!0:c.match(/mouse/)&&!l.which&&(o=!1),c.match(/touch|pointer/)&&(a=!0);var u=0;o&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?u=r.PointerEvent.updatePointer(t,l):c.match(/touch/)?u=l.touches.length:a||(u=c.match(/up/)?0:1),u>0&&t==r.EVENT_END?t=r.EVENT_MOVE:u||(t=r.EVENT_END),(u||null===s)&&(s=l),n.call(r.detection,i.collectEventData(e,t,i.getTouchList(s,t),l)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(u=r.PointerEvent.updatePointer(t,l))),u||(s=null,o=!1,a=!1,r.PointerEvent.reset())}};return this.bindDom(e,r.EVENT_TYPES[t],l),l},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,t,n,i){var s=r.POINTER_TOUCH;return(i.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,i))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:s,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return r.utils.each(e.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){return e==r.EVENT_END?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,i={};return i[r.POINTER_MOUSE]=n===t.MSPOINTER_TYPE_MOUSE||n===r.POINTER_MOUSE,i[r.POINTER_TOUCH]=n===t.MSPOINTER_TYPE_TOUCH||n===r.POINTER_TOUCH,i[r.POINTER_PEN]=n===t.MSPOINTER_TYPE_PEN||n===r.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,lastVEvent:!1,velocity:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst.options;return r.utils.each(this.gestures,function(n){return this.stopped||t[n.name]===!1||n.handler.call(n,e,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent,n=this.current.lastVEvent;!t||e.touches.length==t.touches.length&&e.touches!==t.touches||(t.touches=[],r.utils.each(e.touches,function(e){t.touches.push(r.utils.extend({},e))}));var i,s,o=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,l=e.center.pageY-t.center.pageY,c=this.current.velocity;return n!==!1&&e.timeStamp-n.timeStamp>r.UPDATE_VELOCITY_INTERVAL?(c=r.utils.getVelocity(e.timeStamp-n.timeStamp,e.center.pageX-n.center.pageX,e.center.pageY-n.center.pageY),this.current.lastVEvent=e,c.x>0&&c.y>0&&(this.current.velocity=c)):this.current.velocity===!1&&(c=r.utils.getVelocity(o,a,l),this.current.velocity=c,this.current.lastVEvent=e),"end"===e.eventType?(i=this.current.lastEvent&&this.current.lastEvent.interimAngle,s=this.current.lastEvent&&this.current.lastEvent.interimDirection):(i=this.current.lastEvent&&r.utils.getAngle(this.current.lastEvent.center,e.center),s=this.current.lastEvent&&r.utils.getDirection(this.current.lastEvent.center,e.center)),r.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:l,velocityX:c.x,velocityY:c.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),interimAngle:i,direction:r.utils.getDirection(t.center,e.center),interimDirection:s,scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&r.detection.current.name!=this.name)return;if(r.detection.current.name!=this.name&&(r.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&e.distance>0)){var n=Math.abs(t.options.drag_min_distance/e.distance);r.detection.current.startEvent.center.pageX+=e.deltaX*n,r.detection.current.startEvent.center.pageY+=e.deltaY*n,e=r.detection.extendEventData(e)}(r.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;
e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?e.deltaY<0?r.DIRECTION_UP:r.DIRECTION_DOWN:e.deltaX<0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&r.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType!=r.EVENT_MOVE||r.detection.current.reachedTapMaxDistance){if(e.eventType==r.EVENT_END&&"touchcancel"!=e.srcEvent.type){var n=r.detection.previous,i=!1;if(r.detection.current.reachedTapMaxDistance||e.deltaTime>t.options.tap_max_touchtime)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}else r.detection.current.reachedTapMaxDistance=e.distance>t.options.tap_max_distance}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==r.EVENT_START&&t.trigger(this.name,e)))}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var n=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(n<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;r.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),n>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof n&&n.exports?n.exports=r:e.Hammer=r}(window)}),require.register("vendors/js/lodash.js",function(e,t,n){(function(){function t(e,t){if(e!==t){var n=e===e,i=t===t;if(e>t||!n||"undefined"==typeof e&&i)return 1;if(t>e||!i||"undefined"==typeof t&&n)return-1}return 0}function i(e,t,n){if(t!==t)return f(e,n);for(var i=(n||0)-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function s(e){return"string"==typeof e?e:null==e?"":e+""}function o(e){return e.charCodeAt(0)}function a(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function u(e,n){for(var i=-1,r=e.criteria,s=n.criteria,o=r.length;++i<o;){var a=t(r[i],s[i]);if(a)return a}return e.index-n.index}function d(e){return Ht[e]}function m(e){return qt[e]}function p(e){return"\\"+Vt[e]}function f(e,t,n){for(var i=e.length,r=n?t||i:(t||0)-1;n?r--:++r<i;){var s=e[r];if(s!==s)return r}return-1}function v(e){return e&&"object"==typeof e||!1}function h(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var n=-1,i=e.length,r=-1,s=[];++n<i;)e[n]===t&&(e[n]=B,s[++r]=n);return s}function y(e,t){for(var n,i=-1,r=e.length,s=-1,o=[];++i<r;){var a=e[i],l=t?t(a,i,e):a;i&&n===l||(n=l,o[++s]=a)}return o}function b(e){for(var t=-1,n=e.length;++t<n&&h(e.charCodeAt(t)););return t}function E(e){for(var t=e.length;t--&&h(e.charCodeAt(t)););return t}function w(e){return Bt[e]}function A(e){function n(e){if(v(e)&&!Ka(e)&&!(e instanceof Q)){if(e instanceof h)return e;if(ea.call(e,"__chain__")&&ea.call(e,"__wrapped__"))return Li(e)}return new h(e)}function h(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Q(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Oa,this.__views__=null}function Z(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,i=new Q(this.__wrapped__);return i.__actions__=e?Jt(e):null,i.__dir__=this.__dir__,i.__dropCount__=this.__dropCount__,i.__filtered__=this.__filtered__,i.__iteratees__=t?Jt(t):null,i.__takeCount__=this.__takeCount__,i.__views__=n?Jt(n):null,i}function tt(){if(this.__filtered__){var e=new Q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ht(){var e=this.__wrapped__.value();if(!Ka(e))return Qn(e,this.__actions__);var t=this.__dir__,n=0>t,i=yi(0,e.length,this.__views__),r=i.start,s=i.end,o=s-r,a=this.__dropCount__,l=Ta(o,this.__takeCount__),c=n?s:r-1,u=this.__iteratees__,d=u?u.length:0,m=0,p=[];e:for(;o--&&l>m;){c+=t;for(var f=-1,v=e[c];++f<d;){var h=u[f],g=h.iteratee,y=g(v,c,e),b=h.type;if(b==U)v=y;else if(!y){if(b==P)continue e;break e}}a?a--:p[m++]=v}return p}function qt(){this.__data__={}}function Bt(e){return this.has(e)&&delete this.__data__[e]}function Ft(e){return"__proto__"==e?S:this.__data__[e]}function Vt(e){return"__proto__"!=e&&ea.call(this.__data__,e)}function Wt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function zt(e){var t=e?e.length:0;for(this.data={hash:Ea(null),set:new pa};t--;)this.push(e[t])}function Yt(e,t){var n=e.data,i="string"==typeof t||xs(t)?n.set.has(t):n.hash[t];return i?0:-1}function Qt(e){var t=this.data;"string"==typeof e||xs(e)?t.set.add(e):t.hash[e]=!0}function Jt(e,t){var n=-1,i=e.length;for(t||(t=Uo(i));++n<i;)t[n]=e[n];return t}function Xt(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function Zt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function en(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function tn(e,t){for(var n=-1,i=e.length,r=-1,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[++r]=o)}return s}function nn(e,t){for(var n=-1,i=e.length,r=Uo(i);++n<i;)r[n]=t(e[n],n,e);return r}function rn(e){for(var t=-1,n=e.length,i=Da;++t<n;){var r=e[t];r>i&&(i=r)}return i}function sn(e){for(var t=-1,n=e.length,i=Oa;++t<n;){var r=e[t];i>r&&(i=r)}return i}function on(e,t,n,i){var r=-1,s=e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function an(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ln(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function cn(e,t){return"undefined"==typeof e?t:e}function un(e,t,n,i){return"undefined"!=typeof e&&ea.call(i,n)?e:t}function dn(e,t,n){var i=el(t);if(!n)return pn(t,e,i);for(var r=-1,s=i.length;++r<s;){var o=i[r],a=e[o],l=n(a,t[o],o,e,t);(l===l?l===a:a!==a)&&("undefined"!=typeof a||o in e)||(e[o]=l)}return e}function mn(e,t){for(var n=-1,i=e.length,r=ji(i),s=t.length,o=Uo(s);++n<s;){var a=t[n];r?(a=parseFloat(a),o[n]=Si(a,i)?e[a]:S):o[n]=e[a]}return o}function pn(e,t,n){n||(n=t,t={});for(var i=-1,r=n.length;++i<r;){var s=n[i];t[s]=e[s]}return t}function fn(e,t){for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=di(e[r],j,e)}return e}function vn(e,t,n){var i=typeof e;return"function"==i?"undefined"!=typeof t&&Ai(e)?Xn(e,t,n):e:null==e?ko:"object"==i?$n(e):"undefined"==typeof t?qn(e+""):Pn(e+"",t)}function hn(e,t,n,i,r,s,o){var a;if(n&&(a=r?n(e,i,r):n(e)),"undefined"!=typeof a)return a;if(!xs(e))return e;var l=Ka(e);if(l){if(a=bi(e),!t)return Jt(e,a)}else{var c=na.call(e),u=c==Y;if(c!=J&&c!=F&&(!u||r))return Pt[c]?wi(e,c,t):r?e:{};if(a=Ei(u?{}:e),!t)return pn(e,a,el(e))}s||(s=[]),o||(o=[]);for(var d=s.length;d--;)if(s[d]==e)return o[d];return s.push(e),o.push(a),(l?Xt:Dn)(e,function(i,r){a[r]=hn(i,t,n,r,e,s,o)}),a}function gn(e,t,n,i){if("function"!=typeof e)throw new Yo(q);return fa(function(){e.apply(S,Gn(n,i))},t)}function yn(e,t){var n=e?e.length:0,r=[];if(!n)return r;var s=-1,o=gi(),a=o==i,l=a&&t.length>=200&&Ha(t),c=t.length;l&&(o=Yt,a=!1,t=l);e:for(;++s<n;){var u=e[s];if(a&&u===u){for(var d=c;d--;)if(t[d]===u)continue e;r.push(u)}else o(t,u)<0&&r.push(u)}return r}function bn(e,t){var n=e?e.length:0;if(!ji(n))return Dn(e,t);for(var i=-1,r=Mi(e);++i<n&&t(r[i],i,r)!==!1;);return e}function En(e,t){var n=e?e.length:0;if(!ji(n))return On(e,t);for(var i=Mi(e);n--&&t(i[n],n,i)!==!1;);return e}function wn(e,t){var n=!0;return bn(e,function(e,i,r){return n=!!t(e,i,r)}),n}function An(e,t,n,i){var r=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i="undefined"==typeof i||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)e[n++]=t;return e}function Sn(e,t){var n=[];return bn(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Tn(e,t,n,i){var r;return n(e,function(e,n,s){return t(e,n,s)?(r=i?n:e,!1):void 0}),r}function jn(e,t,n,i){for(var r=(i||0)-1,s=e.length,o=-1,a=[];++r<s;){var l=e[r];if(v(l)&&ji(l.length)&&(Ka(l)||bs(l))){t&&(l=jn(l,t,n));var c=-1,u=l.length;for(a.length+=u;++c<u;)a[++o]=l[c]}else n||(a[++o]=l)}return a}function Cn(e,t,n){for(var i=-1,r=Mi(e),s=n(e),o=s.length;++i<o;){var a=s[i];if(t(r[a],a,r)===!1)break}return e}function xn(e,t,n){for(var i=Mi(e),r=n(e),s=r.length;s--;){var o=r[s];if(t(i[o],o,i)===!1)break}return e}function kn(e,t){return Cn(e,t,Ks)}function Dn(e,t){return Cn(e,t,el)}function On(e,t){return xn(e,t,el)}function In(e,t){for(var n=-1,i=t.length,r=-1,s=[];++n<i;){var o=t[n];Cs(e[o])&&(s[++r]=o)}return s}function Rn(e,t,n){var i=-1,r="function"==typeof t,s=e?e.length:0,o=ji(s)?Uo(s):[];return bn(e,function(e){var s=r?t:null!=e&&e[t];o[++i]=s?s.apply(e,n):S}),o}function _n(e,t,n,i,r,s){if(e===t)return 0!==e||1/e==1/t;var o=typeof e,a=typeof t;return"function"!=o&&"object"!=o&&"function"!=a&&"object"!=a||null==e||null==t?e!==e&&t!==t:Mn(e,t,_n,n,i,r,s)}function Mn(e,t,n,i,r,s,o){var a=Ka(e),l=Ka(t),c=V,u=V;a||(c=na.call(e),c==F?c=J:c!=J&&(a=Ls(e))),l||(u=na.call(t),u==F?u=J:u!=J&&(l=Ls(t)));var d=c==J,m=u==J,p=c==u;if(p&&!a&&!d)return pi(e,t,c);var f=d&&ea.call(e,"__wrapped__"),v=m&&ea.call(t,"__wrapped__");if(f||v)return n(f?e.value():e,v?t.value():t,i,r,s,o);if(!p)return!1;s||(s=[]),o||(o=[]);for(var h=s.length;h--;)if(s[h]==e)return o[h]==t;s.push(e),o.push(t);var g=(a?mi:fi)(e,t,n,i,r,s,o);return s.pop(),o.pop(),g}function Ln(e,t,n,i,r){var s=t.length;if(null==e)return!s;for(var o=-1,a=!r;++o<s;)if(a&&i[o]?n[o]!==e[t[o]]:!ea.call(e,t[o]))return!1;for(o=-1;++o<s;){var l=t[o];if(a&&i[o])var c=ea.call(e,l);else{var u=e[l],d=n[o];c=r?r(u,d,l):S,"undefined"==typeof c&&(c=_n(d,u,r,!0))}if(!c)return!1}return!0}function Nn(e,t){var n=[];return bn(e,function(e,i,r){n.push(t(e,i,r))}),n}function $n(e){var t=el(e),n=t.length;if(1==n){var i=t[0],r=e[i];if(Ci(r))return function(e){return null!=e&&e[i]===r&&ea.call(e,i)}}for(var s=Uo(n),o=Uo(n);n--;)r=e[t[n]],s[n]=r,o[n]=Ci(r);return function(e){return Ln(e,t,s,o)}}function Pn(e,t){return Ci(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&_n(t,n[e],null,!0)}}function Un(e,t,n,i,r){var s=ji(t.length)&&(Ka(t)||Ls(t));return(s?Xt:Dn)(t,function(t,o,a){if(v(t))return i||(i=[]),r||(r=[]),Hn(e,a,o,Un,n,i,r);var l=e[o],c=n?n(l,t,o,e,a):S,u="undefined"==typeof c;u&&(c=t),!s&&"undefined"==typeof c||!u&&(c===c?c===l:l!==l)||(e[o]=c)}),e}function Hn(e,t,n,i,r,s,o){for(var a=s.length,l=t[n];a--;)if(s[a]==l)return void(e[n]=o[a]);var c=e[n],u=r?r(c,l,n,e,t):S,d="undefined"==typeof u;d&&(u=l,ji(l.length)&&(Ka(l)||Ls(l))?u=Ka(c)?c:c?Jt(c):[]:Xa(l)||bs(l)?u=bs(c)?Ps(c):Xa(c)?c:{}:d=!1),s.push(l),o.push(u),d?e[n]=i(u,l,r,s,o):(u===u?u!==c:c===c)&&(e[n]=u)}function qn(e){return function(t){return null==t?S:t[e]}}function Bn(e,n){var i=n.length,r=mn(e,n);for(n.sort(t);i--;){var s=parseFloat(n[i]);if(s!=o&&Si(s)){var o=s;va.call(e,s,1)}}return r}function Fn(e,t){return e+ca(ka()*(t-e+1))}function Vn(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function Gn(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Uo(r);++i<r;)s[i]=e[i+t];return s}function Wn(e,t){var n;return bn(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function zn(e,t){var n=-1,r=gi(),s=e.length,o=r==i,a=o&&s>=200,l=a&&Ha(),c=[];l?(r=Yt,o=!1):(a=!1,l=t?[]:c);e:for(;++n<s;){var u=e[n],d=t?t(u,n,e):u;if(o&&u===u){for(var m=l.length;m--;)if(l[m]===d)continue e;t&&l.push(d),c.push(u)}else r(l,d)<0&&((t||a)&&l.push(d),c.push(u))}return c}function Yn(e,t){for(var n=-1,i=t.length,r=Uo(i);++n<i;)r[n]=e[t[n]];return r}function Qn(e,t){var n=e;n instanceof Q&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var s=[n],o=t[i];da.apply(s,o.args),n=o.func.apply(o.thisArg,s)}return n}function Kn(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&_a>=r){for(;r>i;){var s=i+r>>>1,o=e[s];(n?t>=o:t>o)?i=s+1:r=s}return r}return Jn(e,t,ko,n)}function Jn(e,t,n,i){t=n(t);for(var r=0,s=e?e.length:0,o=t!==t,a="undefined"==typeof t;s>r;){var l=ca((r+s)/2),c=n(e[l]),u=c===c;if(o)var d=u||i;else d=a?u&&(i||"undefined"!=typeof c):i?t>=c:t>c;d?r=l+1:s=l}return Ta(s,Ra)}function Xn(e,t,n){if("function"!=typeof e)return ko;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)};case 5:return function(n,i,r,s,o){return e.call(t,n,i,r,s,o)}}return function(){return e.apply(t,arguments)}}function Zn(e){return oa.call(e,0)}function ei(e,t,n){for(var i=n.length,r=-1,s=Sa(e.length-i,0),o=-1,a=t.length,l=Uo(s+a);++o<a;)l[o]=t[o];for(;++r<i;)l[n[r]]=e[r];for(;s--;)l[o++]=e[r++];return l}function ti(e,t,n){for(var i=-1,r=n.length,s=-1,o=Sa(e.length-r,0),a=-1,l=t.length,c=Uo(o+l);++s<o;)c[s]=e[s];for(var u=s;++a<l;)c[u+a]=t[a];for(;++i<r;)c[u+n[i]]=e[s++];return c}function ni(e,t){return function(n,i,r){var s=t?t():{};if(i=hi(i,r,3),Ka(n))for(var o=-1,a=n.length;++o<a;){var l=n[o];e(s,l,i(l,o,n),n)}else bn(n,function(t,n,r){e(s,t,i(t,n,r),r)});return s}}function ii(e){return function(){var t=arguments.length,n=arguments[0];if(2>t||null==n)return n;if(t>3&&Ti(arguments[1],arguments[2],arguments[3])&&(t=2),t>3&&"function"==typeof arguments[t-2])var i=Xn(arguments[--t-1],arguments[t--],5);else t>2&&"function"==typeof arguments[t-1]&&(i=arguments[--t]);for(var r=0;++r<t;){var s=arguments[r];s&&e(n,s,i)}return n}}function ri(e,t){function n(){return(this instanceof n?i:e).apply(t,arguments)}var i=oi(e);return n}function si(e){return function(t){for(var n=-1,i=To(ao(t)),r=i.length,s="";++n<r;)s=e(s,i[n],n);return s}}function oi(e){return function(){var t=Pa(e.prototype),n=e.apply(t,arguments);return xs(n)?n:t}}function ai(e,t){return function(n,i,r){r&&Ti(n,i,r)&&(i=null);var s=hi(),a=null==i;if(s===vn&&a||(a=!1,i=s(i,r,3)),a){var l=Ka(n);if(l||!Ms(n))return e(l?n:_i(n));i=o}return vi(n,i,t)}}function li(e,t,n,i,r,s,o,a,l,c){function u(){for(var E=arguments.length,w=E,A=Uo(E);w--;)A[w]=arguments[w];if(i&&(A=ei(A,i,r)),s&&(A=ti(A,s,o)),f||h){var S=u.placeholder,T=g(A,S);if(E-=T.length,c>E){var x=a?Jt(a):null,k=Sa(c-E,0),D=f?T:null,R=f?null:T,_=f?A:null,M=f?null:A;t|=f?O:I,t&=~(f?I:O),v||(t&=~(j|C));var L=li(e,t,n,_,D,M,R,x,l,k);return L.placeholder=S,L}}var N=m?n:this;return p&&(e=N[b]),a&&(A=Oi(A,a)),d&&l<A.length&&(A.length=l),(this instanceof u?y||oi(e):e).apply(N,A)}var d=t&_,m=t&j,p=t&C,f=t&k,v=t&x,h=t&D,y=!p&&oi(e),b=e;return u}function ci(e,t,n){var i=e.length;if(t=+t,i>=t||!wa(t))return"";var r=t-i;return n=null==n?" ":n+"",ho(n,aa(r/n.length)).slice(0,r)}function ui(e,t,n,i){function r(){for(var t=-1,a=arguments.length,l=-1,c=i.length,u=Uo(a+c);++l<c;)u[l]=i[l];for(;a--;)u[l++]=arguments[++t];return(this instanceof r?o:e).apply(s?n:this,u)}var s=t&j,o=oi(e);return r}function di(e,t,n,i,r,s,o,a){var l=t&C;if(!l&&"function"!=typeof e)throw new Yo(q);var c=i?i.length:0;if(c||(t&=~(O|I),i=r=null),c-=r?r.length:0,t&I){var u=i,d=r;i=r=null}var m=!l&&qa(e),p=[e,t,n,i,r,u,d,s,o,a];if(m&&m!==!0&&(xi(p,m),t=p[1],a=p[9]),p[9]=null==a?l?0:e.length:Sa(a-c,0)||0,t==j)var f=ri(p[0],p[2]);else f=t!=O&&t!=(j|O)||p[4].length?li.apply(S,p):ui.apply(S,p);var v=m?Ua:Ba;return v(f,p)}function mi(e,t,n,i,r,s,o){var a=-1,l=e.length,c=t.length,u=!0;if(l!=c&&!(r&&c>l))return!1;for(;u&&++a<l;){var d=e[a],m=t[a];if(u=S,i&&(u=r?i(m,d,a):i(d,m,a)),"undefined"==typeof u)if(r)for(var p=c;p--&&(m=t[p],!(u=d&&d===m||n(d,m,i,r,s,o))););else u=d&&d===m||n(d,m,i,r,s,o)}return!!u}function pi(e,t,n){switch(n){case G:case W:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case K:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case X:case et:return e==t+""}return!1}function fi(e,t,n,i,r,s,o){var a=el(e),l=a.length,c=el(t),u=c.length;if(l!=u&&!r)return!1;for(var d,m=-1;++m<l;){var p=a[m],f=ea.call(t,p);if(f){var v=e[p],h=t[p];f=S,i&&(f=r?i(h,v,p):i(v,h,p)),"undefined"==typeof f&&(f=v&&v===h||n(v,h,i,r,s,o))}if(!f)return!1;d||(d="constructor"==p)}if(!d){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function vi(e,t,n){var i=n?Oa:Da,r=i,s=r;return bn(e,function(e,o,a){var l=t(e,o,a);((n?r>l:l>r)||l===i&&l===s)&&(r=l,s=e)}),s}function hi(e,t,i){var r=n.callback||Co;return r=r===Co?vn:r,i?r(e,t,i):r}function gi(e,t,r){var s=n.indexOf||Qi;return s=s===Qi?i:s,e?s(e,t,r):s}function yi(e,t,n){for(var i=-1,r=n?n.length:0;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Ta(t,e+o);break;case"takeRight":e=Sa(e,t-o)}}return{start:e,end:t}}function bi(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ea.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ei(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Go),new t}function wi(e,t,n){var i=e.constructor;switch(t){case nt:return Zn(e);case G:case W:return new i(+e);case it:case rt:case st:case ot:case at:case lt:case ct:case ut:case dt:var r=e.buffer;return new i(n?Zn(r):r,e.byteOffset,e.length);case K:case et:return new i(e);case X:var s=new i(e.source,St.exec(e));s.lastIndex=e.lastIndex}return s}function Ai(e){var t=n.support,i=!(t.funcNames?e.name:t.funcDecomp);if(!i){var r=Xo.call(e);t.funcNames||(i=!Tt.test(r)),i||(i=It.test(r)||Os(e),Ua(e,i))}return i}function Si(e,t){return e=+e,t=null==t?La:t,e>-1&&e%1==0&&t>e}function Ti(e,t,n){if(!xs(n))return!1;var i=typeof t;if("number"==i)var r=n.length,s=ji(r)&&Si(t,r);else s="string"==i&&t in n;return s&&n[t]===e}function ji(e){return"number"==typeof e&&e>-1&&e%1==0&&La>=e}function Ci(e){return e===e&&(0===e?1/e>0:!xs(e))}function xi(e,t){var n=e[1],i=t[1],r=n|i,s=_|R,o=j|C,a=s|o|x|D,l=n&_&&!(i&_),c=n&R&&!(i&R),u=(c?e:t)[7],d=(l?e:t)[8],m=!(n>=R&&i>o||n>o&&i>=R),p=r>=s&&a>=r&&(R>n||(c||l)&&u.length<=d);if(!m&&!p)return e;i&j&&(e[2]=t[2],r|=n&j?0:x);var f=t[3];if(f){var v=e[3];e[3]=v?ei(v,f,t[4]):Jt(f),e[4]=v?g(e[3],B):Jt(t[4])}return f=t[5],f&&(v=e[5],e[5]=v?ti(v,f,t[6]):Jt(f),e[6]=v?g(e[5],B):Jt(t[6])),f=t[7],f&&(e[7]=Jt(f)),i&_&&(e[8]=null==e[8]?t[8]:Ta(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function ki(e,t){e=Mi(e);for(var n=-1,i=t.length,r={};++n<i;){var s=t[n];s in e&&(r[s]=e[s])}return r}function Di(e,t){var n={};return kn(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function Oi(e,t){for(var n=e.length,i=Ta(t.length,n),r=Jt(e);i--;){var s=t[i];e[i]=Si(s,n)?r[s]:S}return e}function Ii(e){{var t;n.support}if(!v(e)||na.call(e)!=J||!ea.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return kn(e,function(e,t){i=t}),"undefined"==typeof i||ea.call(e,i)}function Ri(e){for(var t=Ks(e),i=t.length,r=i&&e.length,s=n.support,o=r&&ji(r)&&(Ka(e)||s.nonEnumArgs&&bs(e)),a=-1,l=[];++a<i;){var c=t[a];(o&&Si(c,r)||ea.call(e,c))&&l.push(c)}return l}function _i(e){return null==e?[]:ji(e.length)?xs(e)?e:Go(e):io(e)}function Mi(e){return xs(e)?e:Go(e)}function Li(e){return e instanceof Q?e.clone():new h(e.__wrapped__,e.__chain__,Jt(e.__actions__))}function Ni(e,t,n){t=(n?Ti(e,t,n):null==t)?1:Sa(+t||1,1);for(var i=0,r=e?e.length:0,s=-1,o=Uo(aa(r/t));r>i;)o[++s]=Gn(e,i,i+=t);return o}function $i(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var s=e[t];s&&(r[++i]=s)}return r}function Pi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ka(n)||bs(n))break}return yn(n,jn(arguments,!1,!0,++e))}function Ui(e,t,n){var i=e?e.length:0;return i?((n?Ti(e,t,n):null==t)&&(t=1),Gn(e,0>t?0:t)):[]}function Hi(e,t,n){var i=e?e.length:0;return i?((n?Ti(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gn(e,0,0>t?0:t)):[]}function qi(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=hi(t,n,3);i--&&t(e[i],i,e););return Gn(e,0,i+1)}function Bi(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=hi(t,n,3);++r<i&&t(e[r],r,e););return Gn(e,r)}function Fi(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Ti(e,t,n)&&(n=0,i=r),An(e,t,n,i)):[]}function Vi(e,t,n){var i=-1,r=e?e.length:0;for(t=hi(t,n,3);++i<r;)if(t(e[i],i,e))return i;return-1}function Gi(e,t,n){var i=e?e.length:0;for(t=hi(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function Wi(e){return e?e[0]:S}function zi(e,t,n){var i=e?e.length:0;return n&&Ti(e,t,n)&&(t=!1),i?jn(e,t):[]}function Yi(e){var t=e?e.length:0;return t?jn(e,!0):[]}function Qi(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?Sa(r+n,0):n||0;else if(n){var s=Kn(e,t),o=e[s];return(t===t?t===o:o!==o)?s:-1}return i(e,t,n)}function Ki(e){return Hi(e,1)}function Ji(){for(var e=[],t=-1,n=arguments.length,r=[],s=gi(),o=s==i;++t<n;){var a=arguments[t];(Ka(a)||bs(a))&&(e.push(a),r.push(o&&a.length>=120&&Ha(t&&a)))}n=e.length;var l=e[0],c=-1,u=l?l.length:0,d=[],m=r[0];e:for(;++c<u;)if(a=l[c],(m?Yt(m,a):s(d,a))<0){for(t=n;--t;){var p=r[t];if((p?Yt(p,a):s(e[t],a))<0)continue e}m&&m.push(a),d.push(a)}return d}function Xi(e){var t=e?e.length:0;return t?e[t-1]:S}function Zi(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?Sa(i+n,0):Ta(n||0,i-1))+1;else if(n){r=Kn(e,t,!0)-1;var s=e[r];return(t===t?t===s:s!==s)?r:-1}if(t!==t)return f(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function er(){var e=arguments[0];if(!e||!e.length)return e;for(var t=0,n=gi(),i=arguments.length;++t<i;)for(var r=0,s=arguments[t];(r=n(e,s,r))>-1;)va.call(e,r,1);return e}function tr(e){return Bn(e||[],jn(arguments,!1,!1,1))}function nr(e,t,n){var i=-1,r=e?e.length:0,s=[];for(t=hi(t,n,3);++i<r;){var o=e[i];t(o,i,e)&&(s.push(o),va.call(e,i--,1),r--)}return s}function ir(e){return Ui(e,1)}function rr(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Ti(e,t,n)&&(t=0,n=i),Gn(e,t,n)):[]}function sr(e,t,n,i){var r=hi(n);return r===vn&&null==n?Kn(e,t):Jn(e,t,r(n,i,1))}function or(e,t,n,i){var r=hi(n);return r===vn&&null==n?Kn(e,t,!0):Jn(e,t,r(n,i,1),!0)}function ar(e,t,n){var i=e?e.length:0;return i?((n?Ti(e,t,n):null==t)&&(t=1),Gn(e,0,0>t?0:t)):[]}function lr(e,t,n){var i=e?e.length:0;return i?((n?Ti(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gn(e,0>t?0:t)):[]}function cr(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=hi(t,n,3);i--&&t(e[i],i,e););return Gn(e,i+1)}function ur(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=hi(t,n,3);++r<i&&t(e[r],r,e););return Gn(e,0,r)}function dr(){return zn(jn(arguments,!1,!0))}function mr(e,t,n,r){var s=e?e.length:0;if(!s)return[];"boolean"!=typeof t&&null!=t&&(r=n,n=Ti(e,t,r)?null:t,t=!1);var o=hi();return(o!==vn||null!=n)&&(n=o(n,r,3)),t&&gi()==i?y(e,n):zn(e,n)}function pr(e){for(var t=-1,n=(e&&e.length&&rn(nn(e,Zo)))>>>0,i=Uo(n);++t<n;)i[t]=nn(e,qn(t));return i}function fr(e){return yn(e,Gn(arguments,1))}function vr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ka(n)||bs(n))var i=i?yn(i,n).concat(yn(n,i)):n}return i?zn(i):[]}function hr(){for(var e=arguments.length,t=Uo(e);e--;)t[e]=arguments[e];return pr(t)}function gr(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Ka(e[0])||(t=[]);++n<i;){var s=e[n];t?r[s]=t[n]:s&&(r[s[0]]=s[1])}return r}function yr(e){var t=n(e);return t.__chain__=!0,t}function br(e,t,n){return t.call(n,e),e}function Er(e,t,n){return t.call(n,e)}function wr(){return yr(this)}function Ar(){return new h(this.value(),this.__chain__)}function Sr(e){for(var t,n=this;n instanceof h;){var i=Li(n);t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function Tr(){var e=this.__wrapped__;return e instanceof Q?(this.__actions__.length&&(e=new Q(this)),new h(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function jr(){return this.value()+""}function Cr(){return Qn(this.__wrapped__,this.__actions__)}function xr(e){var t=e?e.length:0;return ji(t)&&(e=_i(e)),mn(e,jn(arguments,!1,!1,1))}function kr(e,t,n){var i=e?e.length:0;return ji(i)||(e=io(e),i=e.length),i?(n="number"==typeof n?0>n?Sa(i+n,0):n||0:0,"string"==typeof e||!Ka(e)&&Ms(e)?i>n&&e.indexOf(t,n)>-1:gi(e,t,n)>-1):!1}function Dr(e,t,n){var i=Ka(e)?en:wn;return("function"!=typeof t||"undefined"!=typeof n)&&(t=hi(t,n,3)),i(e,t)}function Or(e,t,n){var i=Ka(e)?tn:Sn;return t=hi(t,n,3),i(e,t)}function Ir(e,t,n){if(Ka(e)){var i=Vi(e,t,n);return i>-1?e[i]:S}return t=hi(t,n,3),Tn(e,t,bn)}function Rr(e,t,n){return t=hi(t,n,3),Tn(e,t,En)}function _r(e,t){return Ir(e,$n(t))}function Mr(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&Ka(e)?Xt(e,t):bn(e,Xn(t,n,3))}function Lr(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&Ka(e)?Zt(e,t):En(e,Xn(t,n,3))}function Nr(e,t){return Rn(e,t,Gn(arguments,2))}function $r(e,t,n){var i=Ka(e)?nn:Nn;return t=hi(t,n,3),i(e,t)}function Pr(e,t){return $r(e,qn(t))}function Ur(e,t,n,i){var r=Ka(e)?on:Vn;return r(e,hi(t,i,4),n,arguments.length<3,bn)}function Hr(e,t,n,i){var r=Ka(e)?an:Vn;return r(e,hi(t,i,4),n,arguments.length<3,En)}function qr(e,t,n){var i=Ka(e)?tn:Sn;return t=hi(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function Br(e,t,n){if(n?Ti(e,t,n):null==t){e=_i(e);var i=e.length;return i>0?e[Fn(0,i-1)]:S}var r=Fr(e);return r.length=Ta(0>t?0:+t||0,r.length),r}function Fr(e){e=_i(e);for(var t=-1,n=e.length,i=Uo(n);++t<n;){var r=Fn(0,t);t!=r&&(i[t]=i[r]),i[r]=e[t]}return i}function Vr(e){var t=e?e.length:0;return ji(t)?t:el(e).length}function Gr(e,t,n){var i=Ka(e)?ln:Wn;return("function"!=typeof t||"undefined"!=typeof n)&&(t=hi(t,n,3)),i(e,t)}function Wr(e,t,n){var i=-1,s=e?e.length:0,o=ji(s)?Uo(s):[];return n&&Ti(e,t,n)&&(t=null),t=hi(t,n,3),bn(e,function(e,n,r){o[++i]={criteria:t(e,n,r),index:i,value:e}}),r(o,c)}function zr(e){var t=arguments;t.length>3&&Ti(t[1],t[2],t[3])&&(t=[e,t[1]]);var n=-1,i=e?e.length:0,s=jn(t,!1,!1,1),o=ji(i)?Uo(i):[];return bn(e,function(e){for(var t=s.length,i=Uo(t);t--;)i[t]=null==e?S:e[s[t]];o[++n]={criteria:i,index:n,value:e}}),r(o,u)}function Yr(e,t){return Or(e,$n(t))}function Qr(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Yo(q);var n=e;e=t,t=n}return e=wa(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function Kr(e,t,n){return n&&Ti(e,t,n)&&(t=null),t=e&&null==t?e.length:Sa(+t||0,0),di(e,_,null,null,null,null,t)}function Jr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Yo(q);var i=e;e=t,t=i}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function Xr(e,t){var n=j;if(arguments.length>2){var i=Gn(arguments,2),r=g(i,Xr.placeholder);n|=O}return di(e,n,t,i,r)}function Zr(e){return fn(e,arguments.length>1?jn(arguments,!1,!1,1):zs(e))}function es(e,t){var n=j|C;if(arguments.length>2){var i=Gn(arguments,2),r=g(i,es.placeholder);n|=O}return di(t,n,e,i,r)}function ts(e,t,n){n&&Ti(e,t,n)&&(t=null);var i=di(e,k,null,null,null,null,null,t);return i.placeholder=ts.placeholder,i}function ns(e,t,n){n&&Ti(e,t,n)&&(t=null);var i=di(e,D,null,null,null,null,null,t);return i.placeholder=ns.placeholder,i}function is(e,t,n){function i(){m&&la(m),l&&la(l),l=m=p=S}function r(){var n=t-(Qa()-u);if(0>=n||n>t){l&&la(l);var i=p;l=m=p=S,i&&(f=Qa(),c=e.apply(d,a),m||l||(a=d=null))}else m=fa(r,n)}function s(){m&&la(m),l=m=p=S,(h||v!==t)&&(f=Qa(),c=e.apply(d,a),m||l||(a=d=null))}function o(){if(a=arguments,u=Qa(),d=this,p=h&&(m||!g),v===!1)var n=g&&!m;else{l||g||(f=u);var i=v-(u-f),o=0>=i||i>v;o?(l&&(l=la(l)),f=u,c=e.apply(d,a)):l||(l=fa(s,i))}return o&&m?m=la(m):m||t===v||(m=fa(r,t)),n&&(o=!0,c=e.apply(d,a)),!o||m||l||(a=d=null),c}var a,l,c,u,d,m,p,f=0,v=!1,h=!0;if("function"!=typeof e)throw new Yo(q);if(t=0>t?0:t,n===!0){var g=!0;h=!1}else xs(n)&&(g=n.leading,v="maxWait"in n&&Sa(+n.maxWait||0,t),h="trailing"in n?n.trailing:h);return o.cancel=i,o}function rs(e){return gn(e,1,arguments,1)}function ss(e,t){return gn(e,t,arguments,2)}function os(){var e=arguments,t=e.length;if(!t)return function(){return arguments[0]};if(!en(e,Cs))throw new Yo(q);return function(){for(var n=0,i=e[n].apply(this,arguments);++n<t;)i=e[n].call(this,i);return i}}function as(){var e=arguments,t=e.length-1;if(0>t)return function(){return arguments[0]};if(!en(e,Cs))throw new Yo(q);return function(){for(var n=t,i=e[n].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function ls(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Yo(q);var n=function(){var i=n.cache,r=t?t.apply(this,arguments):arguments[0];if(i.has(r))return i.get(r);var s=e.apply(this,arguments);return i.set(r,s),s};return n.cache=new ls.Cache,n}function cs(e){if("function"!=typeof e)throw new Yo(q);return function(){return!e.apply(this,arguments)}}function us(e){return Jr(e,2)}function ds(e){var t=Gn(arguments,1),n=g(t,ds.placeholder);return di(e,O,null,t,n)}function ms(e){var t=Gn(arguments,1),n=g(t,ms.placeholder);return di(e,I,null,t,n)}function ps(e){var t=jn(arguments,!1,!1,1);return di(e,R,null,null,null,t)}function fs(e){if("function"!=typeof e)throw new Yo(q);return function(t){return e.apply(this,t)}}function vs(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Yo(q);return n===!1?i=!1:xs(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ut.leading=i,Ut.maxWait=+t,Ut.trailing=r,is(e,t,Ut)}function hs(e,t){return t=null==t?ko:t,di(t,O,null,[e],[])}function gs(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=Ti(e,t,i)?null:t,t=!1),n="function"==typeof n&&Xn(n,i,1),hn(e,t,n)}function ys(e,t,n){return t="function"==typeof t&&Xn(t,n,1),hn(e,!0,t)}function bs(e){var t=v(e)?e.length:S;return ji(t)&&na.call(e)==F||!1}function Es(e){return e===!0||e===!1||v(e)&&na.call(e)==G||!1}function ws(e){return v(e)&&na.call(e)==W||!1}function As(e){return e&&1===e.nodeType&&v(e)&&na.call(e).indexOf("Element")>-1||!1
}function Ss(e){if(null==e)return!0;var t=e.length;return ji(t)&&(Ka(e)||Ms(e)||bs(e)||v(e)&&Cs(e.splice))?!t:!el(e).length}function Ts(e,t,n,i){if(n="function"==typeof n&&Xn(n,i,3),!n&&Ci(e)&&Ci(t))return e===t;var r=n?n(e,t):S;return"undefined"==typeof r?_n(e,t,n):!!r}function js(e){return v(e)&&"string"==typeof e.message&&na.call(e)==z||!1}function Cs(e){return"function"==typeof e||!1}function xs(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function ks(e,t,n,i){var r=el(t),s=r.length;if(n="function"==typeof n&&Xn(n,i,3),!n&&1==s){var o=r[0],a=t[o];if(Ci(a))return null!=e&&a===e[o]&&ea.call(e,o)}for(var l=Uo(s),c=Uo(s);s--;)a=l[s]=t[r[s]],c[s]=Ci(a);return Ln(e,r,l,c,n)}function Ds(e){return Rs(e)&&e!=+e}function Os(e){return null==e?!1:na.call(e)==Y?ra.test(Xo.call(e)):v(e)&&Ct.test(e)||!1}function Is(e){return null===e}function Rs(e){return"number"==typeof e||v(e)&&na.call(e)==K||!1}function _s(e){return v(e)&&na.call(e)==X||!1}function Ms(e){return"string"==typeof e||v(e)&&na.call(e)==et||!1}function Ls(e){return v(e)&&ji(e.length)&&$t[na.call(e)]||!1}function Ns(e){return"undefined"==typeof e}function $s(e){var t=e?e.length:0;return ji(t)?t?Jt(e):[]:io(e)}function Ps(e){return pn(e,Ks(e))}function Us(e,t,n){var i=Pa(e);return n&&Ti(e,t,n)&&(t=null),t?pn(t,i,el(t)):i}function Hs(e){if(null==e)return e;var t=Jt(arguments);return t.push(cn),Za.apply(S,t)}function qs(e,t,n){return t=hi(t,n,3),Tn(e,t,Dn,!0)}function Bs(e,t,n){return t=hi(t,n,3),Tn(e,t,On,!0)}function Fs(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=Xn(t,n,3)),Cn(e,t,Ks)}function Vs(e,t,n){return t=Xn(t,n,3),xn(e,t,Ks)}function Gs(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=Xn(t,n,3)),Dn(e,t)}function Ws(e,t,n){return t=Xn(t,n,3),xn(e,t,el)}function zs(e){return In(e,Ks(e))}function Ys(e,t){return e?ea.call(e,t):!1}function Qs(e,t,n){n&&Ti(e,t,n)&&(t=null);for(var i=-1,r=el(e),s=r.length,o={};++i<s;){var a=r[i],l=e[a];t?ea.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o}function Ks(e){if(null==e)return[];xs(e)||(e=Go(e));var t=e.length;t=t&&ji(t)&&(Ka(e)||$a.nonEnumArgs&&bs(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,s=Uo(t),o=t>0;++i<t;)s[i]=i+"";for(var a in e)o&&Si(a,t)||"constructor"==a&&(r||!ea.call(e,a))||s.push(a);return s}function Js(e,t,n){var i={};return t=hi(t,n,3),Dn(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Xs(e,t,n){if(null==e)return{};if("function"!=typeof t){var i=nn(jn(arguments,!1,!1,1),zo);return ki(e,yn(Ks(e),i))}return t=Xn(t,n,3),Di(e,function(e,n,i){return!t(e,n,i)})}function Zs(e){for(var t=-1,n=el(e),i=n.length,r=Uo(i);++t<i;){var s=n[t];r[t]=[s,e[s]]}return r}function eo(e,t,n){return null==e?{}:"function"==typeof t?Di(e,Xn(t,n,3)):ki(e,jn(arguments,!1,!1,1))}function to(e,t,n){var i=null==e?S:e[t];return"undefined"==typeof i&&(i=n),Cs(i)?i.call(e):i}function no(e,t,n,i){var r=Ka(e)||Ls(e);if(t=hi(t,i,4),null==n)if(r||xs(e)){var s=e.constructor;n=r?Ka(e)?new s:[]:Pa(Cs(s)&&s.prototype)}else n={};return(r?Xt:Dn)(e,function(e,i,r){return t(n,e,i,r)}),n}function io(e){return Yn(e,el(e))}function ro(e){return Yn(e,Ks(e))}function so(e,t,n){n&&Ti(e,t,n)&&(t=n=null);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var s=ka();return Ta(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return Fn(e,t)}function oo(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ao(e){return e=s(e),e&&e.replace(xt,d)}function lo(e,t,n){e=s(e),t+="";var i=e.length;return n=("undefined"==typeof n?i:Ta(0>n?0:+n||0,i))-t.length,n>=0&&e.indexOf(t,n)==n}function co(e){return e=s(e),e&&yt.test(e)?e.replace(ht,m):e}function uo(e){return e=s(e),e&&Ot.test(e)?e.replace(Dt,"\\$&"):e}function mo(e,t,n){e=s(e),t=+t;var i=e.length;if(i>=t||!wa(t))return e;var r=(t-i)/2,o=ca(r),a=aa(r);return n=ci("",a,n),n.slice(0,o)+e+n}function po(e,t,n){return e=s(e),e&&ci(e,t,n)+e}function fo(e,t,n){return e=s(e),e&&e+ci(e,t,n)}function vo(e,t,n){return n&&Ti(e,t,n)&&(t=0),xa(e,t)}function ho(e,t){var n="";if(e=s(e),t=+t,1>t||!e||!wa(t))return n;do t%2&&(n+=e),t=ca(t/2),e+=e;while(t);return n}function go(e,t,n){return e=s(e),n=null==n?0:Ta(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function yo(e,t,i){var r=n.templateSettings;i&&Ti(e,t,i)&&(t=i=null),e=s(e),t=dn(dn({},i||t),r,un);var o,a,l=dn(dn({},t.imports),r.imports,un),c=el(l),u=Yn(l,c),d=0,m=t.interpolate||kt,f="__p += '",v=Wo((t.escape||kt).source+"|"+m.source+"|"+(m===wt?At:kt).source+"|"+(t.evaluate||kt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Nt+"]")+"\n";e.replace(v,function(t,n,i,r,s,l){return i||(i=r),f+=e.slice(d,l).replace(Rt,p),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(mt,""):f).replace(pt,"$1").replace(ft,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=jo(function(){return Bo(c,h+"return "+f).apply(S,u)});if(y.source=f,js(y))throw y;return y}function bo(e,t,n){var i=e;return(e=s(e))?(n?Ti(i,t,n):null==t)?e.slice(b(e),E(e)+1):(t+="",e.slice(a(e,t),l(e,t)+1)):e}function Eo(e,t,n){var i=e;return e=s(e),e?e.slice((n?Ti(i,t,n):null==t)?b(e):a(e,t+"")):e}function wo(e,t,n){var i=e;return e=s(e),e?(n?Ti(i,t,n):null==t)?e.slice(0,E(e)+1):e.slice(0,l(e,t+"")+1):e}function Ao(e,t,n){n&&Ti(e,t,n)&&(t=null);var i=M,r=L;if(null!=t)if(xs(t)){var o="separator"in t?t.separator:o;i="length"in t?+t.length||0:i,r="omission"in t?s(t.omission):r}else i=+t||0;if(e=s(e),i>=e.length)return e;var a=i-r.length;if(1>a)return r;var l=e.slice(0,a);if(null==o)return l+r;if(_s(o)){if(e.slice(a).search(o)){var c,u,d=e.slice(0,a);for(o.global||(o=Wo(o.source,(St.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)u=c.index;l=l.slice(0,null==u?a:u)}}else if(e.indexOf(o,a)!=a){var m=l.lastIndexOf(o);m>-1&&(l=l.slice(0,m))}return l+r}function So(e){return e=s(e),e&&gt.test(e)?e.replace(vt,w):e}function To(e,t,n){return n&&Ti(e,t,n)&&(t=null),e=s(e),e.match(t||_t)||[]}function jo(e){try{return e.apply(S,Gn(arguments,1))}catch(t){return js(t)?t:new qo(t)}}function Co(e,t,n){return n&&Ti(e,t,n)&&(t=null),v(e)?Do(e):vn(e,t)}function xo(e){return function(){return e}}function ko(e){return e}function Do(e){return $n(hn(e,!0))}function Oo(e,t){return Pn(e+"",hn(t,!0))}function Io(e,t,n){if(null==n){var i=xs(t),r=i&&el(t),s=r&&r.length&&In(t,r);(s?s.length:i)||(s=!1,n=t,t=e,e=this)}s||(s=In(t,el(t)));var o=!0,a=-1,l=Cs(e),c=s.length;n===!1?o=!1:xs(n)&&"chain"in n&&(o=n.chain);for(;++a<c;){var u=s[a],d=t[u];e[u]=d,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(o||n){var i=e(this.__wrapped__);return(i.__actions__=Jt(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}var r=[this.value()];return da.apply(r,arguments),t.apply(e,r)}}(d))}return e}function Ro(){return e._=ia,this}function _o(){}function Mo(e){return qn(e+"")}function Lo(e){return function(t){return null==e?S:e[t]}}function No(e,t,n){n&&Ti(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=Sa(aa((t-e)/(n||1)),0),s=Uo(r);++i<r;)s[i]=e,e+=n;return s}function $o(e,t,n){if(e=+e,1>e||!wa(e))return[];var i=-1,r=Uo(Ta(e,Ia));for(t=Xn(t,n,1);++i<e;)Ia>i?r[i]=t(i):t(i);return r}function Po(e){var t=++ta;return s(e)+t}e=e?Kt.defaults(Gt.Object(),e,Kt.pick(Gt,Lt)):Gt;var Uo=e.Array,Ho=e.Date,qo=e.Error,Bo=e.Function,Fo=e.Math,Vo=e.Number,Go=e.Object,Wo=e.RegExp,zo=e.String,Yo=e.TypeError,Qo=Uo.prototype,Ko=Go.prototype,Jo=(Jo=e.window)&&Jo.document,Xo=Bo.prototype.toString,Zo=qn("length"),ea=Ko.hasOwnProperty,ta=0,na=Ko.toString,ia=e._,ra=Wo("^"+uo(na).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sa=Os(sa=e.ArrayBuffer)&&sa,oa=Os(oa=sa&&new sa(0).slice)&&oa,aa=Fo.ceil,la=e.clearTimeout,ca=Fo.floor,ua=Os(ua=Go.getPrototypeOf)&&ua,da=Qo.push,ma=Ko.propertyIsEnumerable,pa=Os(pa=e.Set)&&pa,fa=e.setTimeout,va=Qo.splice,ha=Os(ha=e.Uint8Array)&&ha,ga=Os(ga=e.WeakMap)&&ga,ya=function(){try{var t=Os(t=e.Float64Array)&&t,n=new t(new sa(10),0,1)&&t}catch(i){}return n}(),ba=Os(ba=Uo.isArray)&&ba,Ea=Os(Ea=Go.create)&&Ea,wa=e.isFinite,Aa=Os(Aa=Go.keys)&&Aa,Sa=Fo.max,Ta=Fo.min,ja=Os(ja=Ho.now)&&ja,Ca=Os(Ca=Vo.isFinite)&&Ca,xa=e.parseInt,ka=Fo.random,Da=Vo.NEGATIVE_INFINITY,Oa=Vo.POSITIVE_INFINITY,Ia=Fo.pow(2,32)-1,Ra=Ia-1,_a=Ia>>>1,Ma=ya?ya.BYTES_PER_ELEMENT:0,La=Fo.pow(2,53)-1,Na=ga&&new ga,$a=n.support={};!function(){$a.funcDecomp=!Os(e.WinRTError)&&It.test(A),$a.funcNames="string"==typeof Bo.name;try{$a.dom=11===Jo.createDocumentFragment().nodeType}catch(t){$a.dom=!1}try{$a.nonEnumArgs=!ma.call(arguments,1)}catch(t){$a.nonEnumArgs=!0}}(0,0),n.templateSettings={escape:bt,evaluate:Et,interpolate:wt,variable:"",imports:{_:n}};var Pa=function(){function t(){}return function(n){if(xs(n)){t.prototype=n;var i=new t;t.prototype=null}return i||e.Object()}}(),Ua=Na?function(e,t){return Na.set(e,t),e}:ko;oa||(Zn=sa&&ha?function(e){var t=e.byteLength,n=ya?ca(t/Ma):0,i=n*Ma,r=new sa(t);if(n){var s=new ya(r,0,n);s.set(new ya(e,0,n))}return t!=i&&(s=new ha(r,i),s.set(new ha(e,i))),r}:xo(null));var Ha=Ea&&pa?function(e){return new zt(e)}:xo(null),qa=Na?function(e){return Na.get(e)}:_o,Ba=function(){var e=0,t=0;return function(n,i){var r=Qa(),s=$-(r-t);if(t=r,s>0){if(++e>=N)return n}else e=0;return Ua(n,i)}}(),Fa=ni(function(e,t,n){ea.call(e,n)?++e[n]:e[n]=1}),Va=ni(function(e,t,n){ea.call(e,n)?e[n].push(t):e[n]=[t]}),Ga=ni(function(e,t,n){e[n]=t}),Wa=ai(rn),za=ai(sn,!0),Ya=ni(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Qa=ja||function(){return(new Ho).getTime()},Ka=ba||function(e){return v(e)&&ji(e.length)&&na.call(e)==V||!1};$a.dom||(As=function(e){return e&&1===e.nodeType&&v(e)&&!Xa(e)||!1});var Ja=Ca||function(e){return"number"==typeof e&&wa(e)};(Cs(/x/)||ha&&!Cs(ha))&&(Cs=function(e){return na.call(e)==Y});var Xa=ua?function(e){if(!e||na.call(e)!=J)return!1;var t=e.valueOf,n=Os(t)&&(n=ua(t))&&ua(n);return n?e==n||ua(e)==n:Ii(e)}:Ii,Za=ii(dn),el=Aa?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&ji(n)?Ri(e):xs(e)?Aa(e):[]}:Ri,tl=ii(Un),nl=si(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),il=si(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});8!=xa(Mt+"08")&&(vo=function(e,t,n){return(n?Ti(e,t,n):null==t)?t=0:t&&(t=+t),e=bo(e),xa(e,t||(jt.test(e)?16:10))});var rl=si(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),sl=si(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});return h.prototype=Pa(n.prototype),Q.prototype=Pa(h.prototype),Q.prototype.constructor=Q,qt.prototype["delete"]=Bt,qt.prototype.get=Ft,qt.prototype.has=Vt,qt.prototype.set=Wt,zt.prototype.push=Qt,ls.Cache=qt,n.after=Qr,n.ary=Kr,n.assign=Za,n.at=xr,n.before=Jr,n.bind=Xr,n.bindAll=Zr,n.bindKey=es,n.callback=Co,n.chain=yr,n.chunk=Ni,n.compact=$i,n.constant=xo,n.countBy=Fa,n.create=Us,n.curry=ts,n.curryRight=ns,n.debounce=is,n.defaults=Hs,n.defer=rs,n.delay=ss,n.difference=Pi,n.drop=Ui,n.dropRight=Hi,n.dropRightWhile=qi,n.dropWhile=Bi,n.fill=Fi,n.filter=Or,n.flatten=zi,n.flattenDeep=Yi,n.flow=os,n.flowRight=as,n.forEach=Mr,n.forEachRight=Lr,n.forIn=Fs,n.forInRight=Vs,n.forOwn=Gs,n.forOwnRight=Ws,n.functions=zs,n.groupBy=Va,n.indexBy=Ga,n.initial=Ki,n.intersection=Ji,n.invert=Qs,n.invoke=Nr,n.keys=el,n.keysIn=Ks,n.map=$r,n.mapValues=Js,n.matches=Do,n.matchesProperty=Oo,n.memoize=ls,n.merge=tl,n.mixin=Io,n.negate=cs,n.omit=Xs,n.once=us,n.pairs=Zs,n.partial=ds,n.partialRight=ms,n.partition=Ya,n.pick=eo,n.pluck=Pr,n.property=Mo,n.propertyOf=Lo,n.pull=er,n.pullAt=tr,n.range=No,n.rearg=ps,n.reject=qr,n.remove=nr,n.rest=ir,n.shuffle=Fr,n.slice=rr,n.sortBy=Wr,n.sortByAll=zr,n.spread=fs,n.take=ar,n.takeRight=lr,n.takeRightWhile=cr,n.takeWhile=ur,n.tap=br,n.throttle=vs,n.thru=Er,n.times=$o,n.toArray=$s,n.toPlainObject=Ps,n.transform=no,n.union=dr,n.uniq=mr,n.unzip=pr,n.values=io,n.valuesIn=ro,n.where=Yr,n.without=fr,n.wrap=hs,n.xor=vr,n.zip=hr,n.zipObject=gr,n.backflow=as,n.collect=$r,n.compose=as,n.each=Mr,n.eachRight=Lr,n.extend=Za,n.iteratee=Co,n.methods=zs,n.object=gr,n.select=Or,n.tail=ir,n.unique=mr,Io(n,n),n.attempt=jo,n.camelCase=nl,n.capitalize=oo,n.clone=gs,n.cloneDeep=ys,n.deburr=ao,n.endsWith=lo,n.escape=co,n.escapeRegExp=uo,n.every=Dr,n.find=Ir,n.findIndex=Vi,n.findKey=qs,n.findLast=Rr,n.findLastIndex=Gi,n.findLastKey=Bs,n.findWhere=_r,n.first=Wi,n.has=Ys,n.identity=ko,n.includes=kr,n.indexOf=Qi,n.isArguments=bs,n.isArray=Ka,n.isBoolean=Es,n.isDate=ws,n.isElement=As,n.isEmpty=Ss,n.isEqual=Ts,n.isError=js,n.isFinite=Ja,n.isFunction=Cs,n.isMatch=ks,n.isNaN=Ds,n.isNative=Os,n.isNull=Is,n.isNumber=Rs,n.isObject=xs,n.isPlainObject=Xa,n.isRegExp=_s,n.isString=Ms,n.isTypedArray=Ls,n.isUndefined=Ns,n.kebabCase=il,n.last=Xi,n.lastIndexOf=Zi,n.max=Wa,n.min=za,n.noConflict=Ro,n.noop=_o,n.now=Qa,n.pad=mo,n.padLeft=po,n.padRight=fo,n.parseInt=vo,n.random=so,n.reduce=Ur,n.reduceRight=Hr,n.repeat=ho,n.result=to,n.runInContext=A,n.size=Vr,n.snakeCase=rl,n.some=Gr,n.sortedIndex=sr,n.sortedLastIndex=or,n.startCase=sl,n.startsWith=go,n.template=yo,n.trim=bo,n.trimLeft=Eo,n.trimRight=wo,n.trunc=Ao,n.unescape=So,n.uniqueId=Po,n.words=To,n.all=Dr,n.any=Gr,n.contains=kr,n.detect=Ir,n.foldl=Ur,n.foldr=Hr,n.head=Wi,n.include=kr,n.inject=Ur,Io(n,function(){var e={};return Dn(n,function(t,i){n.prototype[i]||(e[i]=t)}),e}(),!1),n.sample=Br,n.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Br(t,e)}):Br(this.value())},n.VERSION=T,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),Xt(["filter","map","takeWhile"],function(e,t){var n=t==P,i=t==H;Q.prototype[e]=function(e,r){var s=this.clone(),o=s.__filtered__,a=s.__iteratees__||(s.__iteratees__=[]);return s.__filtered__=o||n||i&&s.__dir__<0,a.push({iteratee:hi(e,r,3),type:t}),s}}),Xt(["drop","take"],function(e,t){var n="__"+e+"Count__",i=e+"While";Q.prototype[e]=function(i){i=null==i?1:Sa(ca(i)||0,0);var r=this.clone();if(r.__filtered__){var s=r[n];r[n]=t?Ta(s,i):s+i}else{var o=r.__views__||(r.__views__=[]);o.push({size:i,type:e+(r.__dir__<0?"Right":"")})}return r},Q.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},Q.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[i](e,t).reverse()}}),Xt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Q.prototype[e]=function(){return this[n](1).value()[0]}}),Xt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Q.prototype[e]=function(){return this[n](1)}}),Xt(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?$n:qn;Q.prototype[e]=function(e){return this[n](i(e))}}),Q.prototype.compact=function(){return this.filter(ko)},Q.prototype.dropWhile=function(e,t){var n;return e=hi(e,t,3),this.filter(function(t,i,r){return n||(n=!e(t,i,r))})},Q.prototype.reject=function(e,t){return e=hi(e,t,3),this.filter(function(t,n,i){return!e(t,n,i)})},Q.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return"undefined"!=typeof t&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},Q.prototype.toArray=function(){return this.drop(0)},Dn(Q.prototype,function(e,t){var i=n[t],r=/^(?:first|last)$/.test(t);n.prototype[t]=function(){var t=this.__wrapped__,s=arguments,o=this.__chain__,a=!!this.__actions__.length,l=t instanceof Q,c=l&&!a;if(r&&!o)return c?e.call(t):i.call(n,this.value());var u=function(e){var t=[e];return da.apply(t,s),i.apply(n,t)};if(l||Ka(t)){var d=c?t:new Q(this),m=e.apply(d,s);if(!r&&(a||m.__actions__)){var p=m.__actions__||(m.__actions__=[]);p.push({func:Er,args:[u],thisArg:n})}return new h(m,o)}return this.thru(u)}}),Xt(["concat","join","pop","push","shift","sort","splice","unshift"],function(e){var t=Qo[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[i](function(n){return t.apply(n,e)})}}),Q.prototype.clone=Z,Q.prototype.reverse=tt,Q.prototype.value=Ht,n.prototype.chain=wr,n.prototype.commit=Ar,n.prototype.plant=Sr,n.prototype.reverse=Tr,n.prototype.toString=jr,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Cr,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var S,T="3.2.0",j=1,C=2,x=4,k=8,D=16,O=32,I=64,R=128,_=256,M=30,L="...",N=150,$=16,P=0,U=1,H=2,q="Expected a function",B="__lodash_placeholder__",F="[object Arguments]",V="[object Array]",G="[object Boolean]",W="[object Date]",z="[object Error]",Y="[object Function]",Q="[object Map]",K="[object Number]",J="[object Object]",X="[object RegExp]",Z="[object Set]",et="[object String]",tt="[object WeakMap]",nt="[object ArrayBuffer]",it="[object Float32Array]",rt="[object Float64Array]",st="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",lt="[object Uint8Array]",ct="[object Uint8ClampedArray]",ut="[object Uint16Array]",dt="[object Uint32Array]",mt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39|#96);/g,ht=/[&<>"'`]/g,gt=RegExp(vt.source),yt=RegExp(ht.source),bt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,At=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,St=/\w*$/,Tt=/^\s*function[ \n\r\t]+\w/,jt=/^0[xX]/,Ct=/^\[object .+?Constructor\]$/,xt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,kt=/($^)/,Dt=/[.*+?^${}()|[\]\/\\]/g,Ot=RegExp(Dt.source),It=/\bthis\b/,Rt=/['\n\r\u2028\u2029\\]/g,_t=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"{2,}(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Mt=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Lt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Nt=-1,$t={};$t[it]=$t[rt]=$t[st]=$t[ot]=$t[at]=$t[lt]=$t[ct]=$t[ut]=$t[dt]=!0,$t[F]=$t[V]=$t[nt]=$t[G]=$t[W]=$t[z]=$t[Y]=$t[Q]=$t[K]=$t[J]=$t[X]=$t[Z]=$t[et]=$t[tt]=!1;var Pt={};Pt[F]=Pt[V]=Pt[nt]=Pt[G]=Pt[W]=Pt[it]=Pt[rt]=Pt[st]=Pt[ot]=Pt[at]=Pt[K]=Pt[J]=Pt[X]=Pt[et]=Pt[lt]=Pt[ct]=Pt[ut]=Pt[dt]=!0,Pt[z]=Pt[Y]=Pt[Q]=Pt[Z]=Pt[tt]=!1;var Ut={leading:!1,maxWait:0,trailing:!1},Ht={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Bt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ft={"function":!0,object:!0},Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gt=Ft[typeof window]&&window!==(this&&this.window)?window:this,Wt=Ft[typeof e]&&e&&!e.nodeType&&e,zt=Ft[typeof n]&&n&&!n.nodeType&&n,Yt=Wt&&zt&&"object"==typeof global&&global;!Yt||Yt.global!==Yt&&Yt.window!==Yt&&Yt.self!==Yt||(Gt=Yt);var Qt=zt&&zt.exports===Wt&&Wt,Kt=A();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Gt._=Kt,define(function(){return Kt})):Wt&&zt?Qt?(zt.exports=Kt)._=Kt:Wt._=Kt:Gt._=Kt}).call(this)}),require.register("vendors/js/mailcheck.js",function(e,t,n){var i={domainThreshold:4,topLevelThreshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","outlook.com","icloud.com"],defaultTopLevelDomains:["co.jp","co.uk","com","net","org","info","edu","gov","mil","ca"],run:function(e){e.domains=e.domains||i.defaultDomains,e.topLevelDomains=e.topLevelDomains||i.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||i.sift3Distance;var t=function(e){return e},n=e.suggested||t,r=e.empty||t,s=i.suggest(i.encodeEmail(e.email),e.domains,e.topLevelDomains,e.distanceFunction);return s?n(s):r()},suggest:function(e,t,n,i){e=e.toLowerCase();var r=this.splitEmail(e),s=this.findClosestDomain(r.domain,t,i,this.domainThreshold);if(s){if(s!=r.domain)return{address:r.address,domain:s,full:r.address+"@"+s}}else{var o=this.findClosestDomain(r.topLevelDomain,n,i,this.topLevelThreshold);if(r.domain&&o&&o!=r.topLevelDomain){var a=r.domain;return s=a.substring(0,a.lastIndexOf(r.topLevelDomain))+o,{address:r.address,domain:s,full:r.address+"@"+s}}}return!1},findClosestDomain:function(e,t,n,i){i=i||this.topLevelThreshold;var r,s=99,o=null;if(!e||!t)return!1;n||(n=this.sift3Distance);for(var a=0;a<t.length;a++){if(e===t[a])return e;r=n(e,t[a]),s>r&&(s=r,o=t[a])}return i>=s&&null!==o?o:!1},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var n=0,i=0,r=0,s=0,o=5;n+i<e.length&&n+r<t.length;){if(e.charAt(n+i)==t.charAt(n+r))s++;else{i=0,r=0;for(var a=0;o>a;a++){if(n+a<e.length&&e.charAt(n+a)==t.charAt(n)){i=a;break}if(n+a<t.length&&e.charAt(n)==t.charAt(n+a)){r=a;break}}}n++}return(e.length+t.length)/2-s},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var n=0;n<t.length;n++)if(""===t[n])return!1;var i=t.pop(),r=i.split("."),s="";if(0==r.length)return!1;if(1==r.length)s=r[0];else{for(var n=1;n<r.length;n++)s+=r[n]+".";r.length>=2&&(s=s.substring(0,s.length-1))}return{topLevelDomain:s,domain:i,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof n&&n.exports&&(n.exports=i),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return i}),"undefined"!=typeof window&&window.jQuery&&!function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var r=e.empty;e.empty=function(){r.call(null,t)}}e.email=this.val(),i.run(e)}}(jQuery)}),require.register("vendors/js/modernizr.js",function(){window.Modernizr=function(e,t,n){function i(e){p.cssText=e}function r(e,t){return typeof e===t}function s(){c.inputtypes=function(e){for(var i,r,s,o=0,a=e.length;a>o;o++)f.setAttribute("type",r=e[o]),i="text"!==f.type,i&&(f.value=v,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&f.style.WebkitAppearance!==n?(u.appendChild(f),s=t.defaultView,i=s.getComputedStyle&&"textfield"!==s.getComputedStyle(f,null).WebkitAppearance&&0!==f.offsetHeight,u.removeChild(f)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?f.checkValidity&&f.checkValidity()===!1:f.value!=v)),g[e[o]]=!!i;return g}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var o,a,l="2.7.1",c={},u=t.documentElement,d="modernizr",m=t.createElement(d),p=m.style,f=t.createElement("input"),v=":)",h=({}.toString,{}),g={},y=[],b=y.slice,E={}.hasOwnProperty;a=r(E,"undefined")||r(E.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var s=new r,o=t.apply(s,n.concat(b.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(b.call(arguments)))};return i});for(var w in h)a(h,w)&&(o=w.toLowerCase(),c[o]=h[w](),y.push((c[o]?"":"no-")+o));return c.input||s(),c.addTest=function(e,t){if("object"==typeof e)for(var i in e)a(e,i)&&c.addTest(i,e[i]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(u.className+=" "+(t?"":"no-")+e),c[e]=t}return c},i(""),m=f=null,c._version=l,c}(this,this.document)}),require.register("vendors/js/stately.js",function(e,t,n){!function(t,i){"object"==typeof e?n.exports=i():"function"==typeof define&&define.amd?define(i):t.Stately=i()}(this,function(){function e(e,i){if("function"==typeof e&&(e=e()),"[object Object]"!==t.call(e))throw new n("Stately.js: Invalid states object: `"+e+"`.");var r,s=[],o=function(){for(var e=s.slice(),t=0,n=e.length;n>t;t++)e[t].apply(this,arguments)},a={getMachineState:function(){return r.name},setMachineState:function m(e){var t,i,s,c=arguments[1],u=r;if(!e||!e.name||!a[e.name])throw new n("Stately.js: Transitioned into invalid state: `"+m.caller+"`.");return r=e,t=l["onbefore"+r.name],t&&"function"==typeof t&&t.call(a,c,u.name,e.name),i=l["onenter"+r.name]||l["on"+r.name],i&&"function"==typeof i&&i.call(a,c,u.name,e.name),s=l["onleave"+u.name],s&&"function"==typeof s&&s.call(a,c,u.name,e.name),o.call(a,c,u.name,e.name),this},getMachineEvents:function(){var e=[];for(var t in r)r.hasOwnProperty(t)&&"function"==typeof r[t]&&e.push(t);return e}},l={getMachineState:a.getMachineState,getMachineEvents:a.getMachineEvents,bind:function(e){return e&&s.push(e),this},unbind:function(e){if(e)for(var t=0,n=s.length;n>t;t++)s[t]===e&&s.splice(t,1);else s=[];return this}},c=function(e,n,i){return function(){var s,o,c,u=l;return a[e]!==r?(i&&(u=i.apply(a,arguments)),u):(s=l["onbefore"+n],s&&"function"==typeof s&&s.call(a,n,r.name,r.name),u=a[e][n].apply(a,arguments),"undefined"==typeof u?(c=r,u=l):"[object Object]"===t.call(u)?(c=u===a?r:u,u=l):"[object Array]"===t.call(u)&&u.length>=1&&(c=u[0],u=u[1]),o=l["onafter"+n]||l["on"+n],o&&"function"==typeof o&&o.call(a,n,r.name,c.name),a.setMachineState(c,n),u)}};for(var u in e)if(e.hasOwnProperty(u)){a[u]=e[u];for(var d in a[u])a[u].hasOwnProperty(d)&&("string"==typeof a[u][d]&&(a[u][d]=function(e){return function(){return this[e]}}(a[u][d])),"function"==typeof a[u][d]&&(l[d]=c(u,d,l[d])));a[u].name=u,r||(r=a[u])}if("undefined"!=typeof a[i]&&(r=a[i]),!r)throw new n("Stately.js: Invalid initial state.");return l}var t=Object.prototype.toString,n=function(){function e(e){this.name="InvalidStateError",this.message=e}return e.prototype=new Error,e.prototype.constructor=e,e}();return e.machine=function(t,n){return new e(t,n)},e.InvalidStateError=n,e})}),require.register("vendors/js/codemirror.js",function(e,t,n){!function(t){if("object"==typeof e&&"object"==typeof n)n.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Ls(i):{},Ls(Qo,i,!1),p(i);var r=i.value;"string"==typeof r&&(r=new ba(r,i.mode,null,i.lineSeparator)),this.doc=r;var s=new e.inputStyles[i.inputStyle](this),o=this.display=new t(n,r,s);o.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!jo&&o.input.focus(),g(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ks,keySeq:null,specialChars:null};var l=this;vo&&11>ho&&setTimeout(function(){l.display.input.reset(!0)},20),Bn(this),zs(),En(this),this.curOp.forceUpdate=!0,Qr(this,r),i.autofocus&&!jo||l.hasFocus()?setTimeout(Ns(hi,this),20):gi(this);for(var u in Ko)Ko.hasOwnProperty(u)&&Ko[u](this,i[u],Jo);A(this),i.finishInit&&i.finishInit(this);for(var d=0;d<ta.length;++d)ta[d](this);An(this),go&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Hs("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Hs("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Hs("div",null,"CodeMirror-code"),i.selectionDiv=Hs("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Hs("div",null,"CodeMirror-cursors"),i.measure=Hs("div",null,"CodeMirror-measure"),i.lineMeasure=Hs("div",null,"CodeMirror-measure"),i.lineSpace=Hs("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Hs("div",[Hs("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Hs("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Hs("div",null,null,"position: absolute; height: "+Da+"px; width: 1px;"),i.gutters=Hs("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Hs("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Hs("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),vo&&8>ho&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),go||mo&&jo||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Pt(e,100),e.state.modeGen++,e.curOp&&Ln(e)}function r(e){e.options.lineWrapping?(Wa(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ga(e.display.wrapper,"CodeMirror-wrap"),m(e)),o(e),Ln(e),an(e),setTimeout(function(){y(e)},100)}function s(e){var t=yn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(r){if(wr(e.doc,r))return 0;var s=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(s+=r.widgets[o].height);return n?s+(Math.ceil(r.text.length/i)||1)*t:s+t}}function o(e){var t=e.doc,n=s(e);t.iter(function(e){var t=n(e);t!=e.height&&Zr(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),an(e)}function l(e){c(e),Ln(e),setTimeout(function(){w(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;qs(t);for(var i=0;i<n.length;++i){var r=n[i],s=t.appendChild(Hs("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=fr(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=vr(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function m(e){var t=e.display,n=e.doc;t.maxLine=Kr(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);
n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Is(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function f(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ft(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Gt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function v(e,t,n){this.cm=n;var i=this.vert=Hs("div",[Hs("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Hs("div",[Hs("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),ja(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ja(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedOverlay=!1,vo&&8>ho&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function h(){}function g(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Ga(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ja(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?ri(t,e):ii(t,e)},t),t.display.scrollbars.addClass&&Wa(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=f(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&I(e),b(e,f(e)),n=e.display.barWidth,i=e.display.barHeight}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function E(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Bt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,s=ts(t,i),o=ts(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;s>a?(s=a,o=ts(t,ns(Kr(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(s=ts(t,ns(Kr(t,l))-e.wrapper.clientHeight),o=l)}return{from:s,to:Math.max(o,s+1)}}function w(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=T(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,s=i+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=s);var a=n[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function A(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=S(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Hs("div",[Hs("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(s,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function T(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function j(e,t,n){var i=e.display;this.viewport=t,this.visible=E(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Wt(e),this.force=n,this.dims=_(e),this.events=[]}function C(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Gt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Gt(e)+"px",t.scrollbarsClipped=!0)}function x(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return $n(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==qn(e))return!1;A(e)&&($n(e),t.dims=_(e));var r=i.first+i.size,s=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(i.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(r,n.viewTo)),Ro&&(s=br(e.doc,s),o=Er(e.doc,o));var a=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hn(e,s,o),n.viewOffset=ns(Kr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=qn(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Fs();return l>4&&(n.lineDiv.style.display="none"),M(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Fs()!=c&&c.offsetHeight&&c.focus(),qs(n.cursorDiv),qs(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Pt(e,400)),n.updateLineNumbers=null,!0}function k(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Wt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ft(e.display)-zt(e),n.top)}),t.visible=E(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&x(e,t);i=!1){I(e);var r=f(e);_t(e),O(e,r),y(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function D(e,t){var n=new j(e,t);if(x(e,n)){I(e),k(e,n);var i=f(e);_t(e),O(e,i),y(e,i),n.finish()}}function O(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+Gt(e),t.clientHeight)+"px"}function I(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,s=t.view[i];if(!s.hidden){if(vo&&8>ho){var o=s.node.offsetTop+s.node.offsetHeight;r=o-n,n=o}else{var a=s.node.getBoundingClientRect();r=a.bottom-a.top}var l=s.line.height-r;if(2>r&&(r=yn(t)),(l>.001||-.001>l)&&(Zr(s.line,r),R(s.line),s.rest))for(var c=0;c<s.rest.length;c++)R(s.rest[c])}}}function R(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function _(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)n[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+r,i[e.options.gutters[o]]=s.clientWidth;return{fixedPos:T(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function M(e,t,n){function i(t){var n=t.nextSibling;return go&&Co&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,s=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=i(a);var m=s&&null!=t&&c>=t&&d.lineNumber;d.changes&&(Is(d.changes,"gutter")>-1&&(m=!1),L(e,d,c,n)),m&&(qs(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(S(e.options,c)))),a=d.node.nextSibling}else{var p=F(e,d,c,n);o.insertBefore(p,a)}c+=d.size}for(;a;)a=i(a)}function L(e,t,n,i){for(var r=0;r<t.changes.length;r++){var s=t.changes[r];"text"==s?U(e,t):"gutter"==s?q(e,t,n,i):"class"==s?H(t):"widget"==s&&B(e,t,i)}t.changes=null}function N(e){return e.node==e.text&&(e.node=Hs("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),vo&&8>ho&&(e.node.style.zIndex=2)),e.node}function $(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=N(e);e.background=n.insertBefore(Hs("div",null,t),n.firstChild)}}function P(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):$r(e,t)}function U(e,t){var n=t.text.className,i=P(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,H(t)):n&&(t.text.className=n)}function H(e){$(e),e.line.wrapClass?N(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function q(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=N(t);t.gutterBackground=Hs("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var r=N(t),o=t.gutter=Hs("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),r.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Hs("div",S(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=s.hasOwnProperty(l)&&s[l];c&&o.appendChild(Hs("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function B(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}V(e,t,n)}function F(e,t,n,i){var r=P(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),H(t),q(e,t,n,i),V(e,t,i),t.node}function V(e,t,n){if(G(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)G(e,t.rest[i],t,n,!1)}function G(e,t,n,i,r){if(t.widgets)for(var s=N(n),o=0,a=t.widgets;o<a.length;++o){var l=a[o],c=Hs("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),W(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?s.insertBefore(c,n.gutter||n.text):s.appendChild(c),As(l,"redraw")}}function W(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function z(e){return _o(e.line,e.ch)}function Y(e,t){return Mo(e,t)<0?t:e}function Q(e,t){return Mo(e,t)<0?e:t}function K(e){e.state.focused||(e.display.input.focus(),hi(e))}function J(e){return e.options.readOnly||e.doc.cantEdit}function X(e,t,n,i,r){var s=e.doc;e.display.shift=!1,i||(i=s.sel);var o=e.state.pasteIncoming||"paste"==r,a=s.splitLines(t),l=null;if(o&&i.ranges.length>1)if(Lo&&Lo.join("\n")==t){if(i.ranges.length%Lo.length==0){l=[];for(var c=0;c<Lo.length;c++)l.push(s.splitLines(Lo[c]))}}else a.length==i.ranges.length&&(l=Rs(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],d=u.from(),m=u.to();u.empty()&&(n&&n>0?d=_o(d.line,d.ch-n):e.state.overwrite&&!o&&(m=_o(m.line,Math.min(Kr(s,m.line).text.length,m.ch+Os(a).length))));var p=e.curOp.updateInput,f={from:d,to:m,text:l?l[c%l.length]:a,origin:r||(o?"paste":e.state.cutIncoming?"cut":"+input")};ji(e.doc,f),As(e,"inputRead",e,f)}t&&!o&&et(e,t),$i(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),J(t)||t.options.disableInput||Dn(t,function(){X(t,n,0,null,"paste")}),!0):void 0}function et(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var s=e.getModeAt(r.head),o=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(t.indexOf(s.electricChars.charAt(a))>-1){o=Ui(e,r.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Kr(e.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Ui(e,r.head.line,"smart"));o&&As(e,"electricInput",e,r.head.line)}}}function tt(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,s={anchor:_o(r,0),head:_o(r+1,0)};n.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:n}}function nt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function it(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ks,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function rt(){var e=Hs("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Hs("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return go?e.style.width="1000px":e.setAttribute("wrap","off"),To&&(e.style.border="1px solid black"),nt(e),t}function st(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ks,this.gracePeriod=!1}function ot(e,t){var n=Xt(e,t.line);if(!n||n.hidden)return null;var i=Kr(e.doc,t.line),r=Qt(n,i,t.line),s=is(i),o="left";if(s){var a=ao(s,t.ch);o=a%2?"right":"left"}var l=tn(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function at(e,t){return t&&(e.bad=!0),e}function lt(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return at(e.clipPos(_o(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var s=e.display.view[r];if(s.node==i)return ct(s,t,n)}}function ct(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var s=0>r?c.map:u[r],o=0;o<s.length;o+=3){var a=s[o+2];if(a==t||a==n){var l=es(0>r?e.line:e.rest[r]),d=s[o]+i;return(0>i||a!=t)&&(d=s[o+(i?1:0)]),_o(l,d)}}}var r=e.text.firstChild,s=!1;if(!t||!Ba(r,t))return at(_o(es(e.line),0),!0);if(t==r&&(s=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Os(e.rest):e.line;return at(_o(es(o),o.text.length),s)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,d=i(a,l,n);if(d)return at(d,s);for(var m=l.nextSibling,p=a?a.nodeValue.length-n:0;m;m=m.nextSibling){if(d=i(m,m.firstChild,0))return at(_o(d.line,d.ch-p),s);p+=m.textContent.length}for(var f=l.previousSibling,p=n;f;f=f.previousSibling){if(d=i(f,f.firstChild,-1))return at(_o(d.line,d.ch+p),s);p+=m.textContent.length}}function ut(e,t,n,i,r){function s(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var u,d=t.getAttribute("cm-marker");if(d){var m=e.findMarks(_o(i,0),_o(r+1,0),s(+d));return void(m.length&&(u=m[0].find())&&(a+=Jr(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)o(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return a}function dt(e,t){this.ranges=e,this.primIndex=t}function mt(e,t){this.anchor=e,this.head=t}function pt(e,t){var n=e[t];e.sort(function(e,t){return Mo(e.from(),t.from())}),t=Is(e,n);for(var i=1;i<e.length;i++){var r=e[i],s=e[i-1];if(Mo(s.to(),r.from())>=0){var o=Q(s.from(),r.from()),a=Y(s.to(),r.to()),l=s.empty()?r.from()==r.head:s.from()==s.head;t>=i&&--t,e.splice(--i,2,new mt(l?a:o,l?o:a))}}return new dt(e,t)}function ft(e,t){return new dt([new mt(e,t||e)],0)}function vt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return _o(e.first,0);var n=e.first+e.size-1;return t.line>n?_o(n,Kr(e,n).text.length):gt(t,Kr(e,t.line).text.length)}function gt(e,t){var n=e.ch;return null==n||n>t?_o(e.line,t):0>n?_o(e.line,0):e}function yt(e,t){return t>=e.first&&t<e.first+e.size}function bt(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ht(e,t[i]);return n}function Et(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var s=Mo(n,r)<0;s!=Mo(i,r)<0?(r=n,n=i):s!=Mo(n,i)<0&&(n=i)}return new mt(r,n)}return new mt(i||n,n)}function wt(e,t,n,i){xt(e,new dt([Et(e,e.sel.primary(),t,n)],0),i)}function At(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=Et(e,e.sel.ranges[r],t[r],null);var s=pt(i,e.sel.primIndex);xt(e,s,n)}function St(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,xt(e,pt(r,e.sel.primIndex),i)}function Tt(e,t,n,i){xt(e,ft(t,n),i)}function jt(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new mt(ht(e,t[n].anchor),ht(e,t[n].head))}};return xa(e,"beforeSelectionChange",e,n),e.cm&&xa(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?pt(n.ranges,n.ranges.length-1):t}function Ct(e,t,n){var i=e.history.done,r=Os(i);r&&r.ranges?(i[i.length-1]=t,kt(e,t,n)):xt(e,t,n)}function xt(e,t,n){kt(e,t,n),us(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function kt(e,t,n){(Cs(e,"beforeSelectionChange")||e.cm&&Cs(e.cm,"beforeSelectionChange"))&&(t=jt(e,t));var i=n&&n.bias||(Mo(t.primary().head,e.sel.primary().head)<0?-1:1);Dt(e,It(e,t,i,!0)),n&&n.scroll===!1||!e.cm||$i(e.cm)}function Dt(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,js(e.cm)),As(e,"cursorActivity",e))}function Ot(e){Dt(e,It(e,e.sel,null,!1),Ia)}function It(e,t,n,i){for(var r,s=0;s<t.ranges.length;s++){var o=t.ranges[s],a=Rt(e,o.anchor,n,i),l=Rt(e,o.head,n,i);(r||a!=o.anchor||l!=o.head)&&(r||(r=t.ranges.slice(0,s)),r[s]=new mt(a,l))}return r?pt(r,t.primIndex):t}function Rt(e,t,n,i){var r=!1,s=t,o=n||1;e.cantEdit=!1;e:for(;;){var a=Kr(e,s.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=s.ch:c.from<s.ch))&&(null==c.to||(u.inclusiveRight?c.to>=s.ch:c.to>s.ch))){if(i&&(xa(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var d=u.find(0>o?-1:1);if(0==Mo(d,s)&&(d.ch+=o,d.ch<0?d=d.line>e.first?ht(e,_o(d.line-1)):null:d.ch>a.text.length&&(d=d.line<e.first+e.size-1?_o(d.line+1,0):null),!d)){if(r)return i?(e.cantEdit=!0,_o(e.first,0)):Rt(e,t,n,!0);r=!0,d=t,o=-o}s=d;continue e}}return s}}function _t(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Mt(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),s=i.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){var a=n.sel.ranges[o],l=a.empty();(l||e.options.showCursorWhenSelecting)&&Lt(e,a.head,r),l||Nt(e,a,s)}return i}function Lt(e,t,n){var i=pn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Hs("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var s=n.appendChild(Hs("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Nt(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Hs("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function s(n,i){return mn(e,_o(t,n),"div",d,i)}var a,l,d=Kr(o,t),m=d.text.length;return Xs(is(d),n||0,null==r?m:r,function(e,t,o){var d,p,f,v=s(e,"left");if(e==t)d=v,p=f=v.left;else{if(d=s(t-1,"right"),"rtl"==o){var h=v;v=d,d=h}p=v.left,f=d.right}null==n&&0==e&&(p=c),d.top-v.top>3&&(i(p,v.top,null,v.bottom),p=c,v.bottom<d.top&&i(p,v.bottom,null,d.top)),null==r&&t==m&&(f=u),(!a||v.top<a.top||v.top==a.top&&v.left<a.left)&&(a=v),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>p&&(p=c),i(p,d.top,f-p,d.bottom)}),{start:a,end:l}}var s=e.display,o=e.doc,a=document.createDocumentFragment(),l=Vt(e.display),c=l.left,u=Math.max(s.sizerWidth,Wt(e)-s.sizer.offsetLeft)-l.right,d=t.from(),m=t.to();if(d.line==m.line)r(d.line,d.ch,m.ch);else{var p=Kr(o,d.line),f=Kr(o,m.line),v=gr(p)==gr(f),h=r(d.line,d.ch,v?p.text.length+1:null).end,g=r(m.line,v?0:null,m.ch).start;v&&(h.top<g.top-2?(i(h.right,h.top,null,h.bottom),i(c,g.top,g.left,g.bottom)):i(h.right,h.top,g.left-h.right,h.bottom)),h.bottom<g.top&&i(c,h.bottom,null,g.top)}n.appendChild(a)}function $t(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Pt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ns(Ut,e))}function Ut(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ia(t.mode,qt(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,a=s.text.length>e.options.maxHighlightLength,l=_r(e,s,a?ia(t.mode,i):i,!0);s.styles=l.styles;var c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&&(s.styleClasses=null);for(var d=!o||o.length!=s.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),m=0;!d&&m<o.length;++m)d=o[m]!=s.styles[m];d&&r.push(t.frontier),s.stateAfter=a?i:ia(t.mode,i)}else s.text.length<=e.options.maxHighlightLength&&Lr(e,s.text,i),s.stateAfter=t.frontier%5==0?ia(t.mode,i):null;return++t.frontier,+new Date>n?(Pt(e,e.options.workDelay),!0):void 0}),r.length&&Dn(e,function(){for(var t=0;t<r.length;t++)Nn(e,r[t],"text")})}}function Ht(e,t,n){for(var i,r,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){if(a<=s.first)return s.first;var l=Kr(s,a-1);if(l.stateAfter&&(!n||a<=s.frontier))return a;var c=Ma(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function qt(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var s=Ht(e,t,n),o=s>i.first&&Kr(i,s-1).stateAfter;return o=o?ia(i.mode,o):ra(i.mode),i.iter(s,t,function(n){Lr(e,n.text,o);var a=s==t-1||s%5==0||s>=r.viewFrom&&s<r.viewTo;n.stateAfter=a?ia(i.mode,o):null,++s}),n&&(i.frontier=s),o}function Bt(e){return e.lineSpace.offsetTop}function Ft(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Vt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Bs(e.measure,Hs("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Gt(e){return Da-e.display.nativeBarWidth}function Wt(e){return e.display.scroller.clientWidth-Gt(e)-e.display.barWidth}function zt(e){return e.display.scroller.clientHeight-Gt(e)-e.display.barHeight}function Yt(e,t,n){var i=e.options.lineWrapping,r=i&&Wt(e);if(!t.measure.heights||i&&t.measure.width!=r){var s=t.measure.heights=[];if(i){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],c=o[a+1];Math.abs(l.bottom-c.bottom)>2&&s.push((l.bottom+c.top)/2-n.top)}}s.push(n.bottom-n.top)}}function Qt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(es(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kt(e,t){t=gr(t);var n=es(t),i=e.display.externalMeasured=new _n(e.doc,t,n);i.lineN=n;var r=i.built=$r(e,i);return i.text=r.pre,Bs(e.display.lineMeasure,r.pre),i}function Jt(e,t,n,i){return en(e,Zt(e,t),n,i)}function Xt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Pn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Zt(e,t){var n=es(t),i=Xt(e,n);i&&!i.text?i=null:i&&i.changes&&(L(e,i,n,_(e)),e.curOp.forceUpdate=!0),i||(i=Kt(e,t));var r=Qt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function en(e,t,n,i,r){t.before&&(n=-1);var s,o=n+(i||"");return t.cache.hasOwnProperty(o)?s=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Yt(e,t.view,t.rect),t.hasHeights=!0),s=nn(e,t,n,i),s.bogus||(t.cache[o]=s)),{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}function tn(e,t,n){for(var i,r,s,o,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,s=1,o="left"):c>t?(r=t-l,s=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(s=c-l,r=s-1,t>=c&&(o="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(o=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],o="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],o="right";break}}return{node:i,start:r,end:s,collapse:o,coverStart:l,coverEnd:c}}function nn(e,t,n,i){var r,s=tn(t.map,n,i),o=s.node,a=s.start,l=s.end,c=s.collapse;if(3==o.nodeType){for(var u=0;4>u;u++){for(;a&&Us(t.line.text.charAt(s.coverStart+a));)--a;for(;s.coverStart+l<s.coverEnd&&Us(t.line.text.charAt(s.coverStart+l));)++l;if(vo&&9>ho&&0==a&&l==s.coverEnd-s.coverStart)r=o.parentNode.getBoundingClientRect();else if(vo&&e.options.lineWrapping){var d=Pa(o,a,l).getClientRects();r=d.length?d["right"==i?d.length-1:0]:Uo}else r=Pa(o,a,l).getBoundingClientRect()||Uo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}vo&&11>ho&&(r=rn(e.display.measure,r))}else{a>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==i?d.length-1:0]:o.getBoundingClientRect()}if(vo&&9>ho&&!a&&(!r||!r.left&&!r.right)){var m=o.parentNode.getClientRects()[0];r=m?{left:m.left,right:m.left+bn(e.display),top:m.top,bottom:m.bottom}:Uo}for(var p=r.top-t.rect.top,f=r.bottom-t.rect.top,v=(p+f)/2,h=t.view.measure.heights,u=0;u<h.length-1&&!(v<h[u]);u++);var g=u?h[u-1]:0,y=h[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:g,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f),b}function rn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Js(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function sn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function on(e){e.display.externalMeasure=null,qs(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)sn(e.display.view[t])}function an(e){on(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ln(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cn(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function un(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var s=Tr(t.widgets[r]);n.top+=s,n.bottom+=s}if("line"==i)return n;i||(i="local");var o=ns(t);if("local"==i?o+=Bt(e.display):o-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==i?0:cn());var l=a.left+("window"==i?0:ln());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function dn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=ln(),r-=cn();else if("local"==n||!n){var s=e.display.sizer.getBoundingClientRect();i+=s.left,r+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:i-o.left,top:r-o.top}}function mn(e,t,n,i,r){return i||(i=Kr(e.doc,t.line)),un(e,i,Jt(e,i,t.ch,r),n)}function pn(e,t,n,i,r,s){function o(t,o){var a=en(e,r,t,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,un(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==Zs(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=eo(n)-(n.level%2?0:1),i=!0):e==eo(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Zs(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?o(e-1):o(e,i)}i=i||Kr(e.doc,t.line),r||(r=Zt(e,i));var l=is(i),c=t.ch;if(!l)return o(c);var u=ao(l,c),d=a(c,u);return null!=el&&(d.other=a(c,el)),d}function fn(e,t){var n=0,t=ht(e.doc,t);e.options.lineWrapping||(n=bn(e.display)*t.ch);var i=Kr(e.doc,t.line),r=ns(i)+Bt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function vn(e,t,n,i){var r=_o(e,t);return r.xRel=i,n&&(r.outside=!0),r}function hn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return vn(i.first,0,!0,-1);var r=ts(i,n),s=i.first+i.size-1;if(r>s)return vn(i.first+i.size-1,Kr(i,s).text.length,!0,1);0>t&&(t=0);for(var o=Kr(i,r);;){var a=gn(e,o,r,t,n),l=vr(o),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=es(o=c.to.line)}}function gn(e,t,n,i,r){function s(i){var r=pn(e,_o(n,i),"line",t,c);return a=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(a=!1,r.left)}var o=r-ns(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Zt(e,t),u=is(t),d=t.text.length,m=to(t),p=no(t),f=s(m),v=a,h=s(p),g=a;if(i>h)return vn(n,p,g,1);for(;;){if(u?p==m||p==co(t,m,1):1>=p-m){for(var y=f>i||h-i>=i-f?m:p,b=i-(y==m?f:h);Us(t.text.charAt(y));)++y;var E=vn(n,y,y==m?v:g,-1>b?-1:b>1?1:0);return E}var w=Math.ceil(d/2),A=m+w;if(u){A=m;for(var S=0;w>S;++S)A=co(t,A,1)}var T=s(A);T>i?(p=A,h=T,(g=a)&&(h+=1e3),d=w):(m=A,f=T,v=a,d-=w)}}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==No){No=Hs("pre");for(var t=0;49>t;++t)No.appendChild(document.createTextNode("x")),No.appendChild(Hs("br"));No.appendChild(document.createTextNode("x"))}Bs(e.measure,No);var n=No.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),qs(e.measure),n||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Hs("span","xxxxxxxxxx"),n=Hs("pre",[t]);Bs(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function En(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qo},Ho?Ho.ops.push(e.curOp):e.curOp.ownsGroup=Ho={ops:[e.curOp],delayedCallbacks:[]}
}function wn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function An(e){var t=e.curOp,n=t.ownsGroup;if(n)try{wn(n)}finally{Ho=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;Sn(n)}}function Sn(e){for(var t=e.ops,n=0;n<t.length;n++)Tn(t[n]);for(var n=0;n<t.length;n++)jn(t[n]);for(var n=0;n<t.length;n++)Cn(t[n]);for(var n=0;n<t.length;n++)xn(t[n]);for(var n=0;n<t.length;n++)kn(t[n])}function Tn(e){var t=e.cm,n=t.display;C(t),e.updateMaxLine&&m(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new j(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function jn(e){e.updatedDisplay=e.mustUpdate&&x(e.cm,e.update)}function Cn(e){var t=e.cm,n=t.display;e.updatedDisplay&&I(t),e.barMeasure=f(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Jt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Gt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Wt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function xn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ri(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&O(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&$t(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==Fs()&&K(e.cm)}function kn(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&k(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Wt(t),e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,w(t)),e.scrollToPos){var r=_i(t,ht(i,e.scrollToPos.from),ht(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ri(t,r)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||xa(s[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&xa(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&xa(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Dn(e,t){if(e.curOp)return t();En(e);try{return t()}finally{An(e)}}function On(e,t){return function(){if(e.curOp)return t.apply(e,arguments);En(e);try{return t.apply(e,arguments)}finally{An(e)}}}function In(e){return function(){if(this.curOp)return e.apply(this,arguments);En(this);try{return e.apply(this,arguments)}finally{An(this)}}}function Rn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);En(t);try{return e.apply(this,arguments)}finally{An(t)}}}function _n(e,t,n){this.line=t,this.rest=yr(t),this.size=this.rest?es(Os(this.rest))-n+1:1,this.node=this.text=null,this.hidden=wr(e,t)}function Mn(e,t,n){for(var i,r=[],s=t;n>s;s=i){var o=new _n(e.doc,Kr(e.doc,s),s);i=s+o.size,r.push(o)}return r}function Ln(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ro&&br(e.doc,t)<r.viewTo&&$n(e);else if(n<=r.viewFrom)Ro&&Er(e.doc,n+i)>r.viewFrom?$n(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)$n(e);else if(t<=r.viewFrom){var s=Un(e,n,n+i,1);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=i):$n(e)}else if(n>=r.viewTo){var s=Un(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):$n(e)}else{var o=Un(e,t,t,-1),a=Un(e,n,n+i,1);o&&a?(r.view=r.view.slice(0,o.index).concat(Mn(e,o.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):$n(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function Nn(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var s=i.view[Pn(e,t)];if(null!=s.node){var o=s.changes||(s.changes=[]);-1==Is(o,n)&&o.push(n)}}}function $n(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Pn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function Un(e,t,n,i){var r,s=Pn(e,t),o=e.display.view;if(!Ro||n==e.doc.first+e.doc.size)return{index:s,lineN:n};for(var a=0,l=e.display.viewFrom;s>a;a++)l+=o[a].size;if(l!=t){if(i>0){if(s==o.length-1)return null;r=l+o[s].size-t,s++}else r=l-t;t+=r,n+=r}for(;br(e.doc,n)!=n;){if(s==(0>i?0:o.length-1))return null;n+=i*o[s-(0>i?1:0)].size,s+=i}return{index:s,lineN:n}}function Hn(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Mn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Mn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Pn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Mn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Pn(e,n)))),i.viewTo=n}function qn(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Bn(e){function t(){r.activeTouch&&(s=setTimeout(function(){r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;ja(r.scroller,"mousedown",On(e,zn)),vo&&11>ho?ja(r.scroller,"dblclick",On(e,function(t){if(!Ts(e,t)){var n=Wn(e,t);if(n&&!Xn(e,t)&&!Gn(e.display,t)){Aa(t);var i=e.findWordAt(n);wt(e.doc,i.anchor,i.head)}}})):ja(r.scroller,"dblclick",function(t){Ts(e,t)||Aa(t)}),Oo||ja(r.scroller,"contextmenu",function(t){yi(e,t)});var s,o={end:0};ja(r.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(s);var t=+new Date;r.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),ja(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),ja(r.scroller,"touchend",function(n){var s=r.activeTouch;if(s&&!Gn(r,n)&&null!=s.left&&!s.moved&&new Date-s.start<300){var o,a=e.coordsChar(r.activeTouch,"page");o=!s.prev||i(s,s.prev)?new mt(a,a):!s.prev.prev||i(s,s.prev.prev)?e.findWordAt(a):new mt(_o(a.line,0),ht(e.doc,_o(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Aa(n)}t()}),ja(r.scroller,"touchcancel",t),ja(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ii(e,r.scroller.scrollTop),ri(e,r.scroller.scrollLeft,!0),xa(e,"scroll",e))}),ja(r.scroller,"mousewheel",function(t){si(e,t)}),ja(r.scroller,"DOMMouseScroll",function(t){si(e,t)}),ja(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Ts(e,t)||Ta(t)},over:function(t){Ts(e,t)||(ti(e,t),Ta(t))},start:function(t){ei(e,t)},drop:On(e,Zn),leave:function(){ni(e)}};var a=r.input.getField();ja(a,"keyup",function(t){pi.call(e,t)}),ja(a,"keydown",On(e,di)),ja(a,"keypress",On(e,fi)),ja(a,"focus",Ns(hi,e)),ja(a,"blur",Ns(gi,e))}function Fn(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var s=t.display.dragFunctions,o=n?ja:Ca;o(t.display.scroller,"dragstart",s.start),o(t.display.scroller,"dragenter",s.enter),o(t.display.scroller,"dragover",s.over),o(t.display.scroller,"dragleave",s.leave),o(t.display.scroller,"drop",s.drop)}}function Vn(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Gn(e,t){for(var n=Es(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wn(e,t,n,i){var r=e.display;if(!n&&"true"==Es(t).getAttribute("cm-not-content"))return null;var s,o,a=r.lineSpace.getBoundingClientRect();try{s=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,c=hn(e,s,o);if(i&&1==c.xRel&&(l=Kr(e.doc,c.line).text).length==c.ch){var u=Ma(l,l.length,e.options.tabSize)-l.length;c=_o(c.line,Math.max(0,Math.round((s-Vt(e.display).left)/bn(e.display))-u))}return c}function zn(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||Ts(t,e))){if(n.shift=e.shiftKey,Gn(n,e))return void(go||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Xn(t,e)){var i=Wn(t,e);switch(window.focus(),ws(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Yn(t,e,i):Es(e)==n.scroller&&Aa(e);break;case 2:go&&(t.state.lastMiddleDown=+new Date),i&&wt(t.doc,i),setTimeout(function(){n.input.focus()},20),Aa(e);break;case 3:Oo?yi(t,e):vi(t)}}}}function Yn(e,t,n){vo?setTimeout(Ns(K,e),0):e.curOp.focus=Fs();var i,r=+new Date;Po&&Po.time>r-400&&0==Mo(Po.pos,n)?i="triple":$o&&$o.time>r-400&&0==Mo($o.pos,n)?(i="double",Po={time:r,pos:n}):(i="single",$o={time:r,pos:n});var s,o=e.doc.sel,a=Co?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ya&&!J(e)&&"single"==i&&(s=o.contains(n))>-1&&(Mo((s=o.ranges[s]).from(),n)<0||n.xRel>0)&&(Mo(s.to(),n)>0||n.xRel<0)?Qn(e,t,n,a):Kn(e,t,n,i,a)}function Qn(e,t,n,i){var r=e.display,s=+new Date,o=On(e,function(a){go&&(r.scroller.draggable=!1),e.state.draggingText=!1,Ca(document,"mouseup",o),Ca(r.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Aa(a),!i&&+new Date-200<s&&wt(e.doc,n),go||vo&&9==ho?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});go&&(r.scroller.draggable=!0),e.state.draggingText=o,r.scroller.dragDrop&&r.scroller.dragDrop(),ja(document,"mouseup",o),ja(r.scroller,"drop",o)}function Kn(e,t,n,i,r){function s(t){if(0!=Mo(h,t))if(h=t,"rect"==i){for(var r=[],s=e.options.tabSize,o=Ma(Kr(c,n.line).text,n.ch,s),a=Ma(Kr(c,t.line).text,t.ch,s),l=Math.min(o,a),p=Math.max(o,a),f=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));v>=f;f++){var g=Kr(c,f).text,y=La(g,l,s);l==p?r.push(new mt(_o(f,y),_o(f,y))):g.length>y&&r.push(new mt(_o(f,y),_o(f,La(g,p,s))))}r.length||r.push(new mt(n,n)),xt(c,pt(m.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,E=b.anchor,w=t;if("single"!=i){if("double"==i)var A=e.findWordAt(t);else var A=new mt(_o(t.line,0),ht(c,_o(t.line+1,0)));Mo(A.anchor,E)>0?(w=A.head,E=Q(b.from(),A.anchor)):(w=A.anchor,E=Y(b.to(),A.head))}var r=m.ranges.slice(0);r[d]=new mt(ht(c,E),w),xt(c,pt(r,d),Ra)}}function o(t){var n=++y,r=Wn(e,t,!0,"rect"==i);if(r)if(0!=Mo(r,h)){e.curOp.focus=Fs(),s(r);var a=E(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(On(e,function(){y==n&&o(t)}),150)}else{var u=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;u&&setTimeout(On(e,function(){y==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Aa(t),l.input.focus(),Ca(document,"mousemove",b),Ca(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Aa(t);var u,d,m=c.sel,p=m.ranges;if(r&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?p[d]:new mt(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),t.altKey)i="rect",r||(u=new mt(n,n)),n=Wn(e,t,!0,!0),d=-1;else if("double"==i){var f=e.findWordAt(n);u=e.display.shift||c.extend?Et(c,u,f.anchor,f.head):f}else if("triple"==i){var v=new mt(_o(n.line,0),ht(c,_o(n.line+1,0)));u=e.display.shift||c.extend?Et(c,u,v.anchor,v.head):v}else u=Et(c,u,n);r?-1==d?(d=p.length,xt(c,pt(p.concat([u]),d),{scroll:!1,origin:"*mouse"})):p.length>1&&p[d].empty()&&"single"==i&&!t.shiftKey?(xt(c,pt(p.slice(0,d).concat(p.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),m=c.sel):St(c,d,u,Ra):(d=0,xt(c,new dt([u],0),Ra),m=c.sel);var h=n,g=l.wrapper.getBoundingClientRect(),y=0,b=On(e,function(e){ws(e)?o(e):a(e)}),w=On(e,a);e.state.selectingText=w,ja(document,"mousemove",b),ja(document,"mouseup",w)}function Jn(e,t,n,i,r){try{var s=t.clientX,o=t.clientY}catch(t){return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Aa(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!Cs(e,n))return bs(t);o-=l.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=s){var d=ts(e.doc,o),m=e.options.gutters[c];return r(e,n,e,d,m,t),bs(t)}}}function Xn(e,t){return Jn(e,t,"gutterClick",!0,As)}function Zn(e){var t=this;if(ni(t),!Ts(t,e)&&!Gn(t.display,e)){Aa(e),vo&&(Bo=+new Date);var n=Wn(t,e,!0),i=e.dataTransfer.files;if(n&&!J(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,s=Array(r),o=0,a=function(e,i){var a=new FileReader;a.onload=On(t,function(){if(s[i]=a.result,++o==r){n=ht(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(s.join(t.doc.lineSeparator())),origin:"paste"};ji(t.doc,e),Ct(t.doc,ft(n,Yo(e)))}}),a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var s=e.dataTransfer.getData("Text");if(s){if(t.state.draggingText&&!(Co?e.altKey:e.ctrlKey))var c=t.listSelections();if(kt(t.doc,ft(n,n)),c)for(var l=0;l<c.length;++l)Ii(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(s,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ei(e,t){if(vo&&(!e.state.draggingText||+new Date-Bo<100))return void Ta(t);if(!Ts(e,t)&&!Gn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!wo)){var n=Hs("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Eo&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Eo&&n.parentNode.removeChild(n)}}function ti(e,t){var n=Wn(e,t);if(n){var i=document.createDocumentFragment();Lt(e,n,i),e.display.dragCursor||(e.display.dragCursor=Hs("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Bs(e.display.dragCursor,i)}}function ni(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ii(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,mo||D(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),mo&&D(e),Pt(e,100))}function ri(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function si(e,t){var n=Go(t),i=n.x,r=n.y,s=e.display,o=s.scroller;if(i&&o.scrollWidth>o.clientWidth||r&&o.scrollHeight>o.clientHeight){if(r&&Co&&go)e:for(var a=t.target,l=s.view;a!=o;a=a.parentNode)for(var c=0;c<l.length;c++)if(l[c].node==a){e.display.currentWheelTarget=a;break e}if(i&&!mo&&!Eo&&null!=Vo)return r&&ii(e,Math.max(0,Math.min(o.scrollTop+r*Vo,o.scrollHeight-o.clientHeight))),ri(e,Math.max(0,Math.min(o.scrollLeft+i*Vo,o.scrollWidth-o.clientWidth))),Aa(t),void(s.wheelStartX=null);if(r&&null!=Vo){var u=r*Vo,d=e.doc.scrollTop,m=d+s.wrapper.clientHeight;0>u?d=Math.max(0,d+u-50):m=Math.min(e.doc.height,m+u+50),D(e,{top:d,bottom:m})}20>Fo&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=i,s.wheelDY=r,setTimeout(function(){if(null!=s.wheelStartX){var e=o.scrollLeft-s.wheelStartX,t=o.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Vo=(Vo*Fo+n)/(Fo+1),++Fo)}},200)):(s.wheelDX+=i,s.wheelDY+=r))}}function oi(e,t,n){if("string"==typeof t&&(t=sa[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{J(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Oa}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function ai(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=aa(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&aa(t,e.options.extraKeys,n,e)||aa(t,e.options.keyMap,n,e)}function li(e,t,n,i){var r=e.state.keySeq;if(r){if(la(t))return"handled";Wo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var s=ai(e,t,i);return"multi"==s&&(e.state.keySeq=t),"handled"==s&&As(e,"keyHandled",e,t,n),("handled"==s||"multi"==s)&&(Aa(n),$t(e)),r&&!s&&/\'$/.test(t)?(Aa(n),!0):!!s}function ci(e,t){var n=ca(t,!0);return n?t.shiftKey&&!e.state.keySeq?li(e,"Shift-"+n,t,function(t){return oi(e,t,!0)})||li(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?oi(e,t):void 0}):li(e,n,t,function(t){return oi(e,t)}):!1}function ui(e,t,n){return li(e,"'"+n+"'",t,function(t){return oi(e,t,!0)})}function di(e){var t=this;if(t.curOp.focus=Fs(),!Ts(t,e)){vo&&11>ho&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ci(t,e);Eo&&(zo=i?n:null,!i&&88==n&&!Ja&&(Co?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||mi(t)}}function mi(e){function t(e){18!=e.keyCode&&e.altKey||(Ga(n,"CodeMirror-crosshair"),Ca(document,"keyup",t),Ca(document,"mouseover",t))}var n=e.display.lineDiv;Wa(n,"CodeMirror-crosshair"),ja(document,"keyup",t),ja(document,"mouseover",t)}function pi(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ts(this,e)}function fi(e){var t=this;if(!(Gn(t.display,e)||Ts(t,e)||e.ctrlKey&&!e.altKey||Co&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Eo&&n==zo)return zo=null,void Aa(e);if(!Eo||e.which&&!(e.which<10)||!ci(t,e)){var r=String.fromCharCode(null==i?n:i);ui(t,e,r)||t.display.input.onKeyPress(e)}}}function vi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,gi(e))},100)}function hi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(xa(e,"focus",e),e.state.focused=!0,Wa(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),go&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),$t(e))}function gi(e){e.state.delayingBlurEvent||(e.state.focused&&(xa(e,"blur",e),e.state.focused=!1,Ga(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yi(e,t){Gn(e.display,t)||bi(e,t)||e.display.input.onContextMenu(t)}function bi(e,t){return Cs(e,"gutterContextMenu")?Jn(e,t,"gutterContextMenu",!1,xa):!1}function Ei(e,t){if(Mo(e,t.from)<0)return e;if(Mo(e,t.to)<=0)return Yo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Yo(t).ch-t.to.ch),_o(n,i)}function wi(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new mt(Ei(r.anchor,t),Ei(r.head,t)))}return pt(n,e.sel.primIndex)}function Ai(e,t,n){return e.line==t.line?_o(n.line,e.ch-t.ch+n.ch):_o(n.line+(e.line-t.line),e.ch)}function Si(e,t,n){for(var i=[],r=_o(e.first,0),s=r,o=0;o<t.length;o++){var a=t[o],l=Ai(a.from,r,s),c=Ai(Yo(a),r,s);if(r=a.to,s=c,"around"==n){var u=e.sel.ranges[o],d=Mo(u.head,u.anchor)<0;i[o]=new mt(d?c:l,d?l:c)}else i[o]=new mt(l,l)}return new dt(i,e.sel.primIndex)}function Ti(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=ht(e,t)),n&&(this.to=ht(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),xa(e,"beforeChange",e,i),e.cm&&xa(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function ji(e,t,n){if(e.cm){if(!e.cm.curOp)return On(e.cm,ji)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Cs(e,"beforeChange")||e.cm&&Cs(e.cm,"beforeChange"))||(t=Ti(e,t,!0))){var i=Io&&!n&&ar(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Ci(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Ci(e,t)}}function Ci(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Mo(t.from,t.to)){var n=wi(e,t);ls(e,t,n,e.cm?e.cm.curOp.id:0/0),Di(e,t,n,rr(e,t));var i=[];Yr(e,function(e,n){n||-1!=Is(i,e.history)||(ys(e.history,t),i.push(e.history)),Di(e,t,null,rr(e,t))})}}function xi(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,s=e.sel,o="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<o.length&&(i=o[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=o.length){for(r.lastOrigin=r.lastSelOrigin=null;i=o.pop(),i.ranges;){if(ds(i,a),n&&!i.equals(e.sel))return void xt(e,i,{clearRedo:!1});s=i}var c=[];ds(s,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Cs(e,"beforeChange")||e.cm&&Cs(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=t,u&&!Ti(e,d,!1))return void(o.length=0);c.push(ss(e,d));var m=l?wi(e,d):Os(o);Di(e,d,m,or(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Yo(d)});var p=[];Yr(e,function(e,t){t||-1!=Is(p,e.history)||(ys(e.history,d),p.push(e.history)),Di(e,d,null,or(e,d))})}}}}function ki(e,t){if(0!=t&&(e.first+=t,e.sel=new dt(Rs(e.sel.ranges,function(e){return new mt(_o(e.anchor.line+t,e.anchor.ch),_o(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Ln(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Nn(e.cm,i,"gutter")}}function Di(e,t,n,i){if(e.cm&&!e.cm.curOp)return On(e.cm,Di)(e,t,n,i);if(t.to.line<e.first)return void ki(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ki(e,r),t={from:_o(e.first,0),to:_o(t.to.line+r,t.to.ch),text:[Os(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:_o(s,Kr(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Jr(e,t.from,t.to),n||(n=wi(e,t)),e.cm?Oi(e.cm,t,i):Gr(e,t,i),kt(e,n,Ia)}}function Oi(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=es(gr(Kr(i,o.line))),i.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&js(e),Gr(i,t,n,s(e)),e.options.lineWrapping||(i.iter(c,o.line+t.text.length,function(e){var t=d(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),Pt(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Ln(e):o.line!=a.line||1!=t.text.length||Vr(e.doc,t)?Ln(e,o.line,a.line+1,u):Nn(e,o.line,"text");var m=Cs(e,"changes"),p=Cs(e,"change");if(p||m){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&As(e,"change",e,f),m&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Ii(e,t,n,i,r){if(i||(i=n),Mo(i,n)<0){var s=i;i=n,n=s}"string"==typeof t&&(t=e.splitLines(t)),ji(e,{from:n,to:i,text:t,origin:r})}function Ri(e,t){if(!Ts(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!So){var s=Hs("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Bt(e.display))+"px; height: "+(t.bottom-t.top+Gt(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(r),e.display.lineSpace.removeChild(s)}}}function _i(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var s=!1,o=pn(e,t),a=n&&n!=t?pn(e,n):o,l=Li(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-i,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(ii(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(ri(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return o}function Mi(e,t,n,i,r){var s=Li(e,t,n,i,r);null!=s.scrollTop&&ii(e,s.scrollTop),null!=s.scrollLeft&&ri(e,s.scrollLeft)}function Li(e,t,n,i,r){var s=e.display,o=yn(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:s.scroller.scrollTop,l=zt(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Ft(s),d=o>n,m=r>u-o;if(a>n)c.scrollTop=d?0:n;else if(r>a+l){var p=Math.min(n,(m?u:r)-l);p!=a&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:s.scroller.scrollLeft,v=Wt(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),h=i-t>v;return h&&(i=t+v),10>t?c.scrollLeft=0:f>t?c.scrollLeft=Math.max(0,t-(h?0:10)):i>v+f-3&&(c.scrollLeft=i+(h?0:10)-v),c}function Ni(e,t,n){(null!=t||null!=n)&&Pi(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function $i(e){Pi(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?_o(t.line,t.ch-1):t,i=_o(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Pi(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=fn(e,t.from),i=fn(e,t.to),r=Li(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Ui(e,t,n,i){var r,s=e.doc;null==n&&(n="add"),"smart"==n&&(s.mode.indent?r=qt(e,t):n="prev");var o=e.options.tabSize,a=Kr(s,t),l=Ma(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=s.mode.indent(r,a.text.slice(u.length),a.text),c==Oa||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>s.first?Ma(Kr(s,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",m=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/o);p;--p)m+=o,d+="	";if(c>m&&(d+=Ds(c-m)),d!=u)return Ii(s,d,_o(t,0),_o(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<s.sel.ranges.length;p++){var f=s.sel.ranges[p];if(f.head.line==t&&f.head.ch<u.length){var m=_o(t,u.length);St(s,p,new mt(m,m));break}}}function Hi(e,t,n,i){var r=t,s=t;return"number"==typeof t?s=Kr(e,vt(e,t)):r=es(t),null==r?null:(i(s,r)&&e.cm&&Nn(e.cm,r,n),s)}function qi(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var s=t(n[r]);i.length&&Mo(s.from,Os(i).to)<=0;){var o=i.pop();if(Mo(o.from,s.from)<0){s.from=o.from;break}}i.push(s)}Dn(e,function(){for(var t=i.length-1;t>=0;t--)Ii(e.doc,"",i[t].from,i[t].to,"+delete");$i(e)})}function Bi(e,t,n,i,r){function s(){var t=a+n;return t<e.first||t>=e.first+e.size?d=!1:(a=t,u=Kr(e,t))}function o(e){var t=(r?co:uo)(u,l,n,!0);if(null==t){if(e||!s())return d=!1;l=r?(0>n?no:to)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Kr(e,a),d=!0;if("char"==i)o();else if("column"==i)o(!0);else if("word"==i||"group"==i)for(var m=null,p="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),v=!0;!(0>n)||o(!v);v=!1){var h=u.text.charAt(l)||"\n",g=$s(h,f)?"w":p&&"\n"==h?"n":!p||/\s/.test(h)?null:"p";if(!p||v||g||(g="s"),m&&m!=g){0>n&&(n=1,o());break}if(g&&(m=g),n>0&&!o(!v))break}var y=Rt(e,_o(a,l),c,!0);return d||(y.hitSide=!0),y}function Fi(e,t,n,i){var r,s=e.doc,o=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*yn(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=hn(e,o,r);if(!l.outside)break;if(0>n?0>=r:r>=s.height){l.hitSide=!0;break}r+=5*n}return l}function Vi(t,n,i,r){e.defaults[t]=n,i&&(Ko[t]=r?function(e,t,n){n!=Jo&&i(e,t,n)}:i)}function Gi(e){for(var t,n,i,r,s=e.split(/-(?!$)/),e=s[s.length-1],o=0;o<s.length-1;o++){var a=s[o];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Wi(e){return"string"==typeof e?oa[e]:e}function zi(e,t,n,i,r){if(i&&i.shared)return Yi(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return On(e.cm,zi)(e,t,n,i,r);var s=new ma(e,r),o=Mo(t,n);if(i&&Ls(i,s,!1),o>0||0==o&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Hs("span",[s.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(hr(e,t.line,t,n,s)||t.line!=n.line&&hr(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ro=!0}s.addToHistory&&ls(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&s.collapsed&&!c.options.lineWrapping&&gr(e)==c.display.maxLine&&(a=!0),s.collapsed&&l!=t.line&&Zr(e,0),tr(e,new Xi(s,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),s.collapsed&&e.iter(t.line,n.line+1,function(t){wr(e,t)&&Zr(t,0)}),s.clearOnEnter&&ja(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(Io=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++da,s.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),s.collapsed)Ln(c,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var u=t.line;u<=n.line;u++)Nn(c,u,"text");s.atomic&&Ot(c.doc),As(c,"markerAdded",c,s)}return s}function Yi(e,t,n,i,r){i=Ls(i),i.shared=!1;var s=[zi(e,t,n,i,r)],o=s[0],a=i.widgetNode;return Yr(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),s.push(zi(e,ht(e,t),ht(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Os(s)}),new pa(s,o)}function Qi(e){return e.findMarks(_o(e.first,0),e.clipPos(_o(e.lastLine())),function(e){return e.parent})}function Ki(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),s=e.clipPos(r.from),o=e.clipPos(r.to);if(Mo(s,o)){var a=zi(e,s,o,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Ji(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Yr(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var s=n.markers[r];-1==Is(i,s.doc)&&(s.parent=null,n.markers.splice(r--,1))}}}function Xi(e,t,n){this.marker=e,this.from=t,this.to=n}function Zi(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function er(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function tr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nr(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);if(a||s.from==t&&"bookmark"==o.type&&(!n||!s.marker.insertLeft)){var l=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push(new Xi(o,s.from,l?null:s.to))}}return i}function ir(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var s=e[r],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=t:s.to>t);if(a||s.from==t&&"bookmark"==o.type&&(!n||s.marker.insertLeft)){var l=null==s.from||(o.inclusiveLeft?s.from<=t:s.from<t);
(i||(i=[])).push(new Xi(o,l?null:s.from-t,null==s.to?null:s.to-t))}}return i}function rr(e,t){if(t.full)return null;var n=yt(e,t.from.line)&&Kr(e,t.from.line).markedSpans,i=yt(e,t.to.line)&&Kr(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,s=t.to.ch,o=0==Mo(t.from,t.to),a=nr(n,r,o),l=ir(i,s,o),c=1==t.text.length,u=Os(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var m=a[d];if(null==m.to){var p=Zi(l,m.marker);p?c&&(m.to=null==p.to?null:p.to+u):m.to=r}}if(l)for(var d=0;d<l.length;++d){var m=l[d];if(null!=m.to&&(m.to+=u),null==m.from){var p=Zi(a,m.marker);p||(m.from=u,c&&(a||(a=[])).push(m))}else m.from+=u,c&&(a||(a=[])).push(m)}a&&(a=sr(a)),l&&l!=a&&(l=sr(l));var f=[a];if(!c){var v,h=t.text.length-2;if(h>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(v||(v=[])).push(new Xi(a[d].marker,null,null));for(var d=0;h>d;++d)f.push(v);f.push(l)}return f}function sr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function or(e,t){var n=fs(e,t),i=rr(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var s=n[r],o=i[r];if(s&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],c=0;c<s.length;++c)if(s[c].marker==l.marker)continue e;s.push(l)}else o&&(n[r]=o)}return n}function ar(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Is(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],s=0;s<i.length;++s)for(var o=i[s],a=o.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Mo(c.to,a.from)<0||Mo(c.from,a.to)>0)){var u=[l,1],d=Mo(c.from,a.from),m=Mo(c.to,a.to);(0>d||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(m>0||!o.inclusiveRight&&!m)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function lr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function cr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ur(e){return e.inclusiveLeft?-1:0}function dr(e){return e.inclusiveRight?1:0}function mr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),s=Mo(i.from,r.from)||ur(e)-ur(t);if(s)return-s;var o=Mo(i.to,r.to)||dr(e)-dr(t);return o?o:t.id-e.id}function pr(e,t){var n,i=Ro&&e.markedSpans;if(i)for(var r,s=0;s<i.length;++s)r=i[s],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||mr(n,r.marker)<0)&&(n=r.marker);return n}function fr(e){return pr(e,!0)}function vr(e){return pr(e,!1)}function hr(e,t,n,i,r){var s=Kr(e,t),o=Ro&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Mo(c.from,n)||ur(l.marker)-ur(r),d=Mo(c.to,i)||dr(l.marker)-dr(r);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(Mo(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(Mo(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function gr(e){for(var t;t=fr(e);)e=t.find(-1,!0).line;return e}function yr(e){for(var t,n;t=vr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function br(e,t){var n=Kr(e,t),i=gr(n);return n==i?t:es(i)}function Er(e,t){if(t>e.lastLine())return t;var n,i=Kr(e,t);if(!wr(e,i))return t;for(;n=vr(i);)i=n.find(1,!0).line;return es(i)+1}function wr(e,t){var n=Ro&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ar(e,t,i))return!0}}function Ar(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Ar(e,i.line,Zi(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,s=0;s<t.markedSpans.length;++s)if(r=t.markedSpans[s],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ar(e,t,r))return!0}function Sr(e,t,n){ns(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ni(e,null,n)}function Tr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ba(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Bs(t.display.measure,Hs("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function jr(e,t,n,i){var r=new fa(e,n,i),s=e.cm;return s&&r.noHScroll&&(s.display.alignWidgets=!0),Hi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,s&&!wr(e,t)){var i=ns(t)<e.scrollTop;Zr(t,t.height+Tr(r)),i&&Ni(s,null,r.height),s.curOp.forceUpdate=!0}return!0}),r}function Cr(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),lr(e),cr(e,n);var r=i?i(e):1;r!=e.height&&Zr(e,r)}function xr(e){e.parent=null,lr(e)}function kr(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Dr(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Or(t,n,i,r){for(var s=0;10>s;s++){r&&(r[0]=e.innerMode(t,i).mode);var o=t.token(n,i);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Ir(e,t,n,i){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:s||null,state:e?ia(o.mode,u):u}}var s,o=e.doc,a=o.mode;t=ht(o,t);var l,c=Kr(o,t.line),u=qt(e,t.line,n),d=new ua(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,s=Or(a,d,u),i&&l.push(r(!0));return i?l:r()}function Rr(e,t,n,i,r,s,o){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new ua(t,e.options.tabSize),m=e.options.addModeClass&&[null];for(""==t&&kr(Dr(n,i),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,o&&Lr(e,t,i,d.pos),d.pos=t.length,l=null):l=kr(Or(n,d,i,m),s),m){var p=m[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e4);r(f,u),c=f}}function _r(e,t,n,i){var r=[e.state.modeGen],s={};Rr(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},s,i);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,c=0;Rr(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var s=r[n+1];r[n+1]=(s?s+" ":"")+"cm-overlay "+t}},s)}return{styles:r,classes:s.bgClass||s.textClass?s:null}}function Mr(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=qt(e,es(t)),r=_r(e,t,t.text.length>e.options.maxHighlightLength?ia(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Lr(e,t,n,i){var r=e.doc.mode,s=new ua(t,e.options.tabSize);for(s.start=s.pos=i||0,""==t&&Dr(r,n);!s.eol();)Or(r,s,n),s.start=s.pos}function Nr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ga:ha;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function $r(e,t){var n=Hs("span",null,null,go?"padding-right: .1px":null),i={pre:Hs("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(vo||go)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var s,o=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Ur,Ks(e.display.measure)&&(s=is(o))&&(i.addToken=qr(i.addToken,s)),i.map=[];var a=t!=e.display.externalMeasured&&es(o);Fr(o,i,Mr(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=Gs(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=Gs(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qs(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return go&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),xa(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Gs(i.pre.className,i.textClass||"")),i}function Pr(e){var t=Hs("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ur(e,t,n,i,r,s,o){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Hr):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var m=l.exec(t),p=m?m.index-d:t.length-d;if(p){var f=document.createTextNode(a.slice(d,d+p));u.appendChild(vo&&9>ho?Hs("span",[f]):f),e.map.push(e.pos,e.pos+p,f),e.col+=p,e.pos+=p}if(!m)break;if(d+=p+1,"	"==m[0]){var v=e.cm.options.tabSize,h=v-e.col%v,f=u.appendChild(Hs("span",Ds(h),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","	"),e.col+=h}else if("\r"==m[0]||"\n"==m[0]){var f=u.appendChild(Hs("span","\r"==m[0]?"␍":"␤","cm-invalidchar"));f.setAttribute("cm-text",m[0]),e.col+=1}else{var f=e.cm.options.specialCharPlaceholder(m[0]);f.setAttribute("cm-text",m[0]),u.appendChild(vo&&9>ho?Hs("span",[f]):f),e.col+=1}e.map.push(e.pos,e.pos+1,f),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),vo&&9>ho&&(c=!0),e.pos+=t.length}if(n||i||r||c||o){var g=n||"";i&&(g+=i),r&&(g+=r);var y=Hs("span",[u],g,o);return s&&(y.title=s),e.content.appendChild(y)}e.content.appendChild(u)}}function Hr(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function qr(e,t){return function(n,i,r,s,o,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=0;d<t.length;d++){var m=t[d];if(m.to>c&&m.from<=c)break}if(m.to>=u)return e(n,i,r,s,o,a,l);e(n,i.slice(0,m.to-c),r,s,null,a,l),s=null,i=i.slice(m.to-c),c=m.to}}}function Br(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Fr(e,t,n){var i=e.markedSpans,r=e.text,s=0;if(i)for(var o,a,l,c,u,d,m,p=r.length,f=0,v=1,h="",g=0;;){if(g==f){l=c=u=d=a="",m=null,g=1/0;for(var y=[],b=0;b<i.length;++b){var E=i[b],w=E.marker;"bookmark"==w.type&&E.from==f&&w.widgetNode?y.push(w):E.from<=f&&(null==E.to||E.to>f||w.collapsed&&E.to==f&&E.from==f)?(null!=E.to&&E.to!=f&&g>E.to&&(g=E.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=w.css),w.startStyle&&E.from==f&&(u+=" "+w.startStyle),w.endStyle&&E.to==g&&(c+=" "+w.endStyle),w.title&&!d&&(d=w.title),w.collapsed&&(!m||mr(m.marker,w)<0)&&(m=E)):E.from>f&&g>E.from&&(g=E.from)}if(m&&(m.from||0)==f){if(Br(t,(null==m.to?p+1:m.to)-f,m.marker,null==m.from),null==m.to)return;m.to==f&&(m=!1)}if(!m&&y.length)for(var b=0;b<y.length;++b)Br(t,0,y[b])}if(f>=p)break;for(var A=Math.min(p,g);;){if(h){var S=f+h.length;if(!m){var T=S>A?h.slice(0,A-f):h;t.addToken(t,T,o?o+l:l,u,f+T.length==g?c:"",d,a)}if(S>=A){h=h.slice(A-f),f=A;break}f=S,u=""}h=r.slice(s,s=n[v++]),o=Nr(n[v++],t.cm.options)}}else for(var v=1;v<n.length;v+=2)t.addToken(t,r.slice(s,s=n[v]),Nr(n[v+1],t.cm.options))}function Vr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Os(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Gr(e,t,n,i){function r(e){return n?n[e]:null}function s(e,n,r){Cr(e,n,r,i),As(e,"change",e,t)}function o(e,t){for(var n=e,s=[];t>n;++n)s.push(new va(c[n],r(n),i));return s}var a=t.from,l=t.to,c=t.text,u=Kr(e,a.line),d=Kr(e,l.line),m=Os(c),p=r(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if(Vr(e,t)){var v=o(0,c.length-1);s(d,d.text,p),f&&e.remove(a.line,f),v.length&&e.insert(a.line,v)}else if(u==d)if(1==c.length)s(u,u.text.slice(0,a.ch)+m+u.text.slice(l.ch),p);else{var v=o(1,c.length-1);v.push(new va(m+u.text.slice(l.ch),p,i)),s(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,v)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,f);else{s(u,u.text.slice(0,a.ch)+c[0],r(0)),s(d,m+d.text.slice(l.ch),p);var v=o(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,v)}As(e,"change",e,t)}function Wr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function zr(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Yr(e,t,n){function i(e,r,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var l=s&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||m(e),e.options.mode=t.modeOption,Ln(e)}function Kr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],s=r.chunkSize();if(s>t){n=r;break}t-=s}return n.lines[t]}function Jr(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;r==n.line&&(s=s.slice(0,n.ch)),r==t.line&&(s=s.slice(t.ch)),i.push(s),++r}),i}function Xr(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Zr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function es(e){if(null==e.parent)return null;for(var t=e.parent,n=Is(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function ts(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],s=r.height;if(s>t){e=r;continue e}t-=s,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var o=e.lines[i],a=o.height;if(a>t)break;t-=a}return n+i}function ns(e){e=gr(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var s=n.parent;s;n=s,s=n.parent)for(var i=0;i<s.children.length;++i){var o=s.children[i];if(o==n)break;t+=o.height}return t}function is(e){var t=e.order;return null==t&&(t=e.order=tl(e.text)),t}function rs(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ss(e,t){var n={from:z(t.from),to:Yo(t),text:Jr(e,t.from,t.to)};return ms(e,n,t.from.line,t.to.line+1),Yr(e,function(e){ms(e,n,t.from.line,t.to.line+1)},!0),n}function os(e){for(;e.length;){var t=Os(e);if(!t.ranges)break;e.pop()}}function as(e,t){return t?(os(e.done),Os(e.done)):e.done.length&&!Os(e.done).ranges?Os(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Os(e.done)):void 0}function ls(e,t,n,i){var r=e.history;r.undone.length=0;var s,o=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(s=as(r,r.lastOp==i))){var a=Os(s.changes);0==Mo(t.from,t.to)&&0==Mo(t.from,a.to)?a.to=Yo(t):s.changes.push(ss(e,t))}else{var l=Os(r.done);for(l&&l.ranges||ds(e.sel,r.done),s={changes:[ss(e,t)],generation:r.generation},r.done.push(s);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=o,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||xa(e,"historyAdded")}function cs(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function us(e,t,n,i){var r=e.history,s=i&&i.origin;n==r.lastSelOp||s&&r.lastSelOrigin==s&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==s||cs(e,s,Os(r.done),t))?r.done[r.done.length-1]=t:ds(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=s,r.lastSelOp=n,i&&i.clearRedo!==!1&&os(r.undone)}function ds(e,t){var n=Os(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ms(e,t,n,i){var r=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function ps(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function fs(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(ps(n[i]));return r}function vs(e,t,n){for(var i=0,r=[];i<e.length;++i){var s=e[i];if(s.ranges)r.push(n?dt.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];r.push({changes:a});for(var l=0;l<o.length;++l){var c,u=o[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Is(t,Number(c[1]))>-1&&(Os(a)[d]=u[d],delete u[d])}}}return r}function hs(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function gs(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r],o=!0;if(s.ranges){s.copied||(s=e[r]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)hs(s.ranges[a].anchor,t,n,i),hs(s.ranges[a].head,t,n,i)}else{for(var a=0;a<s.changes.length;++a){var l=s.changes[a];if(n<l.from.line)l.from=_o(l.from.line+i,l.from.ch),l.to=_o(l.to.line+i,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function ys(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;gs(e.done,n,i,r),gs(e.undone,n,i,r)}function bs(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Es(e){return e.target||e.srcElement}function ws(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Co&&e.ctrlKey&&1==t&&(t=3),t}function As(e,t){function n(e){return function(){e.apply(null,s)}}var i=e._handlers&&e._handlers[t];if(i){var r,s=Array.prototype.slice.call(arguments,2);Ho?r=Ho.delayedCallbacks:ka?r=ka:(r=ka=[],setTimeout(Ss,0));for(var o=0;o<i.length;++o)r.push(n(i[o]))}}function Ss(){var e=ka;ka=null;for(var t=0;t<e.length;++t)e[t]()}function Ts(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),xa(e,n||t.type,e,t),bs(t)||t.codemirrorIgnore}function js(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Is(n,t[i])&&n.push(t[i])}function Cs(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function xs(e){e.prototype.on=function(e,t){ja(this,e,t)},e.prototype.off=function(e,t){Ca(this,e,t)}}function ks(){this.id=null}function Ds(e){for(;Na.length<=e;)Na.push(Os(Na)+" ");return Na[e]}function Os(e){return e[e.length-1]}function Is(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Rs(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function _s(){}function Ms(e,t){var n;return Object.create?n=Object.create(e):(_s.prototype=e,n=new _s),t&&Ls(t,n),n}function Ls(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Ns(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function $s(e,t){return t?t.source.indexOf("\\w")>-1&&Ha(e)?!0:t.test(e):Ha(e)}function Ps(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Us(e){return e.charCodeAt(0)>=768&&qa.test(e)}function Hs(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)r.appendChild(t[s]);return r}function qs(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Bs(e,t){return qs(e).appendChild(t)}function Fs(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Vs(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Gs(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Vs(n[i]).test(t)&&(t+=" "+n[i]);return t}function Ws(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function zs(){za||(Ys(),za=!0)}function Ys(){var e;ja(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ws(Vn)},100))}),ja(window,"blur",function(){Ws(gi)})}function Qs(e){if(null==Fa){var t=Hs("span","​");Bs(e,Hs("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Fa=t.offsetWidth<=1&&t.offsetHeight>2&&!(vo&&8>ho))}var n=Fa?Hs("span","​"):Hs("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ks(e){if(null!=Va)return Va;var t=Bs(e,document.createTextNode("AخA")),n=Pa(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Pa(t,1,2).getBoundingClientRect();return Va=i.right-n.right<3}function Js(e){if(null!=Xa)return Xa;var t=Bs(e,Hs("span","x")),n=t.getBoundingClientRect(),i=Pa(t,0,1).getBoundingClientRect();return Xa=Math.abs(n.left-i.left)>1}function Xs(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,s=0;s<e.length;++s){var o=e[s];(o.from<n&&o.to>t||t==n&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function Zs(e){return e.level%2?e.to:e.from}function eo(e){return e.level%2?e.from:e.to}function to(e){var t=is(e);return t?Zs(t[0]):0}function no(e){var t=is(e);return t?eo(Os(t)):e.text.length}function io(e,t){var n=Kr(e.doc,t),i=gr(n);i!=n&&(t=es(i));var r=is(i),s=r?r[0].level%2?no(i):to(i):0;return _o(t,s)}function ro(e,t){for(var n,i=Kr(e.doc,t);n=vr(i);)i=n.find(1,!0).line,t=null;var r=is(i),s=r?r[0].level%2?to(i):no(i):i.text.length;return _o(null==t?es(i):t,s)}function so(e,t){var n=io(e,t.line),i=Kr(e.doc,n.line),r=is(i);if(!r||0==r[0].level){var s=Math.max(0,i.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;return _o(n.line,o?0:s)}return n}function oo(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function ao(e,t){el=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return oo(e,r.level,e[n].level)?(r.from!=r.to&&(el=n),i):(r.from!=r.to&&(el=i),n);n=i}}return n}function lo(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&Us(e.text.charAt(t)));return t}function co(e,t,n,i){var r=is(e);if(!r)return uo(e,t,n,i);for(var s=ao(r,t),o=r[s],a=lo(e,t,o.level%2?-n:n,i);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return ao(r,a)==s?a:(o=r[s+=n],n>0==o.level%2?o.to:o.from);if(o=r[s+=n],!o)return null;a=n>0==o.level%2?lo(e,o.to,-1,i):lo(e,o.from,1,i)}}function uo(e,t,n,i){var r=t+n;if(i)for(;r>0&&Us(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var mo=/gecko\/\d/i.test(navigator.userAgent),po=/MSIE \d/.test(navigator.userAgent),fo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),vo=po||fo,ho=vo&&(po?document.documentMode||6:fo[1]),go=/WebKit\//.test(navigator.userAgent),yo=go&&/Qt\/\d+\.\d+/.test(navigator.userAgent),bo=/Chrome\//.test(navigator.userAgent),Eo=/Opera\//.test(navigator.userAgent),wo=/Apple Computer/.test(navigator.vendor),Ao=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),So=/PhantomJS/.test(navigator.userAgent),To=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),jo=To||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Co=To||/Mac/.test(navigator.platform),xo=/win/i.test(navigator.platform),ko=Eo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ko&&(ko=Number(ko[1])),ko&&ko>=15&&(Eo=!1,go=!0);var Do=Co&&(yo||Eo&&(null==ko||12.11>ko)),Oo=mo||vo&&ho>=9,Io=!1,Ro=!1;v.prototype=Ls({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Co&&!Ao?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){Es(e)!=t.vert&&Es(e)!=t.horiz&&On(t.cm,zn)(e)};ja(this.vert,"mousedown",n),ja(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},v.prototype),h.prototype=Ls({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},h.prototype),e.scrollbarModel={"native":v,"null":h},j.prototype.signal=function(e,t){Cs(e,t)&&this.events.push(arguments)},j.prototype.finish=function(){for(var e=0;e<this.events.length;e++)xa.apply(null,this.events[e])};var _o=e.Pos=function(e,t){return this instanceof _o?(this.line=e,void(this.ch=t)):new _o(e,t)},Mo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Lo=null;it.prototype=Ls({init:function(e){function t(e){if(i.somethingSelected())Lo=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,s.value=Lo.join("\n"),$a(s));else{if(!i.options.lineWiseCopyCut)return;var t=tt(i);Lo=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Ia):(n.prevInput="",s.value=t.text.join("\n"),$a(s))}"cut"==e.type&&(i.state.cutIncoming=!0)}var n=this,i=this.cm,r=this.wrapper=rt(),s=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),To&&(s.style.width="0px"),ja(s,"input",function(){vo&&ho>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),ja(s,"paste",function(e){return Z(e,i)?!0:(i.state.pasteIncoming=!0,void n.fastPoll())}),ja(s,"cut",t),ja(s,"copy",t),ja(e.scroller,"paste",function(t){Gn(e,t)||(i.state.pasteIncoming=!0,n.focus())}),ja(e.lineSpace,"selectstart",function(t){Gn(e,t)||Aa(t)}),ja(s,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ja(s,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Mt(e);if(e.options.moveInputWithCursor){var r=pn(e,n.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-s.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-s.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Bs(n.cursorDiv,e.cursors),Bs(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var s=r.sel.primary();t=Ja&&(s.to().line-s.from().line>100||(n=i.getSelection()).length>1e3);var o=t?"-":n||i.getSelection();this.textarea.value=o,i.state.focused&&$a(this.textarea),vo&&ho>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",vo&&ho>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!jo||Fs()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Ka(t)&&!n&&!this.composing||J(e)||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(vo&&ho>=9&&this.hasSelection===i||Co&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var s=0,o=Math.min(n.length,i.length);o>s&&n.charCodeAt(s)==i.charCodeAt(s);)++s;var a=this;return Dn(e,function(){X(e,i.slice(s),n.length-s,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){vo&&ho>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,i.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,s.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",o.style.cssText=u,vo&&9>ho&&s.scrollbars.setScrollTop(s.scroller.scrollTop=l),null!=o.selectionStart){(!vo||vo&&9>ho)&&t();var e=0,n=function(){s.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==i.prevInput?On(r,sa.selectAll)(r):e++<10?s.detectingSelectAll=setTimeout(n,500):s.input.reset()};s.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,s=r.display,o=i.textarea,a=Wn(r,e),l=s.scroller.scrollTop;if(a&&!Eo){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&On(r,xt)(r.doc,ft(a),Ia);var u=o.style.cssText;if(i.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(vo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",go)var d=window.scrollY;if(s.input.focus(),go&&window.scrollTo(null,d),s.input.reset(),r.somethingSelected()||(o.value=i.prevInput=" "),i.contextMenuPending=!0,s.selForContextMenu=r.doc.sel,clearTimeout(s.detectingSelectAll),vo&&ho>=9&&t(),Oo){Ta(e);var m=function(){Ca(window,"mouseup",m),setTimeout(n,20)};ja(window,"mouseup",m)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:_s,needsContentAttribute:!1},it.prototype),st.prototype=Ls({init:function(e){function t(e){if(i.somethingSelected())Lo=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=tt(i);Lo=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ia),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!To)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Lo.join("\n"));else{var n=rt(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Lo.join("\n");var s=document.activeElement;$a(r),setTimeout(function(){i.display.lineSpace.removeChild(n),s.focus()
},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;nt(r),ja(r,"paste",function(e){Z(e,i)}),ja(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),s=i.getLine(r.head.line),o=s.indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(n.composing.sel=ft(_o(r.head.line,o),_o(r.head.line,o+t.length)))}}),ja(r,"compositionupdate",function(e){n.composing.data=e.data}),ja(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),ja(r,"touchstart",function(){n.forceCompositionEnd()}),ja(r,"input",function(){n.composing||(J(i)||!n.pollContent())&&Dn(n.cm,function(){Ln(i)})}),ja(r,"copy",t),ja(r,"cut",t)},prepareSelection:function(){var e=Mt(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=lt(this.cm,e.anchorNode,e.anchorOffset),i=lt(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Mo(Q(n,i),t.from())||0!=Mo(Y(n,i),t.to())){var r=ot(this.cm,t.from()),s=ot(this.cm,t.to());if(r||s){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!s){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;s={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:o[0].measure.map[2],offset:0};try{var u=Pa(r.node,r.offset,s.offset,s.node)}catch(d){}u&&(e.removeAllRanges(),e.addRange(u),a&&null==e.anchorNode?e.addRange(a):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Bs(this.cm.display.cursorDiv,e.cursors),Bs(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ba(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Dn(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=lt(t,e.anchorNode,e.anchorOffset),i=lt(t,e.focusNode,e.focusOffset);n&&i&&Dn(t,function(){xt(t.doc,ft(n,i),Ia),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var s;if(i.line==t.viewFrom||0==(s=Pn(e,i.line)))var o=es(t.view[0].line),a=t.view[0].node;else var o=es(t.view[s].line),a=t.view[s-1].node.nextSibling;var l=Pn(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=es(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ut(e,a,u,o,c)),m=Jr(e.doc,_o(o,0),_o(c,Kr(e.doc,c).text.length));d.length>1&&m.length>1;)if(Os(d)==Os(m))d.pop(),m.pop(),c--;else{if(d[0]!=m[0])break;d.shift(),m.shift(),o++}for(var p=0,f=0,v=d[0],h=m[0],g=Math.min(v.length,h.length);g>p&&v.charCodeAt(p)==h.charCodeAt(p);)++p;for(var y=Os(d),b=Os(m),E=Math.min(y.length-(1==d.length?p:0),b.length-(1==m.length?p:0));E>f&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;d[d.length-1]=y.slice(0,y.length-f),d[0]=d[0].slice(p);var w=_o(o,p),A=_o(c,m.length?Os(m).length-f:0);return d.length>1||d[0]||Mo(w,A)?(Ii(e.doc,d,w,A,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){J(this.cm)?On(this.cm,Ln)(this.cm):e.data&&e.data!=e.startData&&On(this.cm,X)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),J(this.cm)||On(this.cm,X)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:_s,resetPosition:_s,needsContentAttribute:!0},st.prototype),e.inputStyles={textarea:it,contenteditable:st},dt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Mo(n.anchor,i.anchor)||0!=Mo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new mt(z(this.ranges[t].anchor),z(this.ranges[t].head));return new dt(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Mo(t,i.from())>=0&&Mo(e,i.to())<=0)return n}return-1}},mt.prototype={from:function(){return Q(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var No,$o,Po,Uo={left:0,right:0,top:0,bottom:0},Ho=null,qo=0,Bo=0,Fo=0,Vo=null;vo?Vo=-.53:mo?Vo=15:bo?Vo=-.7:wo&&(Vo=-1/3);var Go=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Go(e);return t.x*=Vo,t.y*=Vo,t};var Wo=new ks,zo=null,Yo=e.changeEnd=function(e){return e.text?_o(e.from.line+e.text.length-1,Os(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ko.hasOwnProperty(e)&&On(this,Ko[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:In(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Ln(this)}),removeOverlay:In(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Ln(this)}}),indentLine:In(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),yt(this.doc,e)&&Ui(this,e,t,n)}),indentSelection:In(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Ui(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&$i(this));else{var s=r.from(),o=r.to(),a=Math.max(n,s.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;n>l;++l)Ui(this,l,e);var c=this.doc.sel.ranges;0==s.ch&&t.length==c.length&&c[i].from().ch>0&&St(this.doc,i,new mt(s,c[i].to()),Ia)}}}),getTokenAt:function(e,t){return Ir(this,e,t)},getLineTokens:function(e,t){return Ir(this,_o(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,n=Mr(this,Kr(this.doc,e.line)),i=0,r=(n.length-1)/2,s=e.ch;if(0==s)t=n[2];else for(;;){var o=i+r>>1;if((o?n[2*o-1]:0)>=s)r=o;else{if(!(n[2*o+1]<s)){t=n[2*o+2];break}i=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!na.hasOwnProperty(t))return n;var i=na[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var s=0;s<r[t].length;s++){var o=i[r[t][s]];o&&n.push(o)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var s=0;s<i._global.length;s++){var a=i._global[s];a.pred(r,this)&&-1==Is(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=vt(n,null==e?n.first+n.size-1:e),qt(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?ht(this.doc,e):e?i.from():i.to(),pn(this,n,t||"page")},charCoords:function(e,t){return mn(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return e=dn(this,e,t||"page"),hn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=dn(this,{top:e,left:0},t||"page").top,ts(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Kr(this.doc,e)}else n=e;return un(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-ns(n):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return bn(this.display)},setGutterMarker:In(function(e,t,n){return Hi(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Ps(i)&&(e.gutterMarkers=null),!0})}),clearGutter:In(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Nn(t,i,"gutter"),Ps(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!yt(this.doc,e))return null;var t=e;if(e=Kr(this.doc,e),!e)return null}else{var t=es(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var s=this.display;e=pn(this,ht(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==i)o=e.top;else if("above"==i||"near"==i){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(a=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Mi(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:In(di),triggerOnKeyPress:In(fi),triggerOnKeyUp:pi,execCommand:function(e){return sa.hasOwnProperty(e)?sa[e].call(null,this):void 0},triggerElectric:In(function(e){et(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var s=0,o=ht(this.doc,e);t>s&&(o=Bi(this.doc,o,r,n,i),!o.hitSide);++s);return o},moveH:In(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Bi(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},_a)}),deleteH:In(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):qi(this,function(n){var r=Bi(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,s=i;0>t&&(r=-1,t=-t);for(var o=0,a=ht(this.doc,e);t>o;++o){var l=pn(this,a,"div");if(null==s?s=l.left:l.left=s,a=Fi(this,l,r,n),a.hitSide)break}return a},moveV:In(function(e,t){var n=this,i=this.doc,r=[],s=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(o){if(s)return 0>e?o.from():o.to();var a=pn(n,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),r.push(a.left);var l=Fi(n,a,e,t);return"page"==t&&o==i.sel.primary()&&Ni(n,null,mn(n,l,"div").top-a.top),l},_a),r.length)for(var o=0;o<i.sel.ranges.length;o++)i.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(e){var t=this.doc,n=Kr(t,e.line).text,i=e.ch,r=e.ch;if(n){var s=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var o=n.charAt(i),a=$s(o,s)?function(e){return $s(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!$s(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new mt(_o(e.line,i),_o(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Wa(this.display.cursorDiv,"CodeMirror-overwrite"):Ga(this.display.cursorDiv,"CodeMirror-overwrite"),xa(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Fs()},scrollTo:In(function(e,t){(null!=e||null!=t)&&Pi(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Gt(this)-this.display.barHeight,width:e.scrollWidth-Gt(this)-this.display.barWidth,clientHeight:zt(this),clientWidth:Wt(this)}},scrollIntoView:In(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:_o(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Pi(this),this.curOp.scrollToPos=e;else{var n=Li(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:In(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&on(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Nn(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,xa(i,"refresh",this)}),operation:function(e){return Dn(this,e)},refresh:In(function(){var e=this.display.cachedTextHeight;Ln(this),this.curOp.forceUpdate=!0,an(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-yn(this.display))>.5)&&o(this),xa(this,"refresh",this)}),swapDoc:In(function(e){var t=this.doc;return t.cm=null,Qr(this,e),an(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,As(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xs(e);var Qo=e.defaults={},Ko=e.optionHandlers={},Jo=e.Init={toString:function(){return"CodeMirror.Init"}};Vi("value","",function(e,t){e.setValue(t)},!0),Vi("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Vi("indentUnit",2,n,!0),Vi("indentWithTabs",!1),Vi("smartIndent",!0),Vi("tabSize",4,function(e){i(e),an(e),Ln(e)},!0),Vi("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var s=e.text.indexOf(t,r);if(-1==s)break;r=s+t.length,n.push(_o(i,s))}i++});for(var r=n.length-1;r>=0;r--)Ii(e.doc,t,n[r],_o(n[r].line,n[r].ch+t.length))}}),Vi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=e.Init&&t.refresh()}),Vi("specialCharPlaceholder",Pr,function(e){e.refresh()},!0),Vi("electricChars",!0),Vi("inputStyle",jo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Vi("rtlMoveVisually",!xo),Vi("wholeLineUpdateBefore",!0),Vi("theme","default",function(e){a(e),l(e)},!0),Vi("keyMap","default",function(t,n,i){var r=Wi(n),s=i!=e.Init&&Wi(i);s&&s.detach&&s.detach(t,r),r.attach&&r.attach(t,s||null)}),Vi("extraKeys",null),Vi("lineWrapping",!1,r,!0),Vi("gutters",[],function(e){p(e.options),l(e)},!0),Vi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?T(e.display)+"px":"0",e.refresh()},!0),Vi("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Vi("scrollbarStyle","native",function(e){g(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Vi("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Vi("firstLineNumber",1,l,!0),Vi("lineNumberFormatter",function(e){return e},l,!0),Vi("showCursorWhenSelecting",!1,_t,!0),Vi("resetSelectionOnContextMenu",!0),Vi("lineWiseCopyCut",!0),Vi("readOnly",!1,function(e,t){"nocursor"==t?(gi(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Vi("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Vi("dragDrop",!0,Fn),Vi("cursorBlinkRate",530),Vi("cursorScrollMargin",0),Vi("cursorHeight",1,_t,!0),Vi("singleCursorHeightPerLine",!0,_t,!0),Vi("workTime",100),Vi("workDelay",100),Vi("flattenSpans",!0,i,!0),Vi("addModeClass",!1,i,!0),Vi("pollInterval",100),Vi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Vi("historyEventDelay",1250),Vi("viewportMargin",10,function(e){e.refresh()},!0),Vi("maxHighlightLength",1e4,i,!0),Vi("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Vi("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Vi("autofocus",null);var Xo=e.modes={},Zo=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Xo[t]=n},e.defineMIME=function(e,t){Zo[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Zo.hasOwnProperty(t))t=Zo[t];else if(t&&"string"==typeof t.name&&Zo.hasOwnProperty(t.name)){var n=Zo[t.name];"string"==typeof n&&(n={name:n}),t=Ms(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=Xo[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(ea.hasOwnProperty(n.name)){var s=ea[n.name];for(var o in s)s.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=s[o])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)r[o]=n.modeProps[o];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ea=e.modeExtensions={};e.extendMode=function(e,t){var n=ea.hasOwnProperty(e)?ea[e]:ea[e]={};Ls(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ba.prototype[e]=t},e.defineOption=Vi;var ta=[];e.defineInitHook=function(e){ta.push(e)};var na=e.helpers={};e.registerHelper=function(t,n,i){na.hasOwnProperty(t)||(na[t]=e[t]={_global:[]}),na[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),na[t]._global.push({pred:i,val:r})};var ia=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},ra=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var sa=e.commands={selectAll:function(e){e.setSelection(_o(e.firstLine(),0),_o(e.lastLine()),Ia)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ia)},killLine:function(e){qi(e,function(t){if(t.empty()){var n=Kr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:_o(t.head.line+1,0)}:{from:t.head,to:_o(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){qi(e,function(t){return{from:_o(t.from().line,0),to:ht(e.doc,_o(t.to().line+1,0))}})},delLineLeft:function(e){qi(e,function(e){return{from:_o(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){qi(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){qi(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(_o(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(_o(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return io(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ro(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},_a)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},_a)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?so(e,t.head):i},_a)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var s=n[r].from(),o=Ma(e.getLine(s.line),s.ch,i);t.push(new Array(i-o%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Dn(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,s=Kr(e.doc,r.line).text;if(s)if(r.ch==s.length&&(r=new _o(r.line,r.ch-1)),r.ch>0)r=new _o(r.line,r.ch+1),e.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),_o(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=Kr(e.doc,r.line-1).text;o&&e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),_o(r.line-1,o.length-1),_o(r.line,1),"+transpose")}n.push(new mt(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){Dn(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0),$i(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},oa=e.keyMap={};oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},oa["default"]=Co?oa.macDefault:oa.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Rs(n.split(" "),Gi),s=0;s<r.length;s++){var o,a;s==r.length-1?(a=r.join(" "),o=i):(a=r.slice(0,s+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var aa=e.lookupKey=function(e,t,n,i){t=Wi(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return aa(e,t.fallthrough,n,i);for(var s=0;s<t.fallthrough.length;s++){var o=aa(e,t.fallthrough[s],n,i);if(o)return o}}},la=e.isModifierKey=function(e){var t="string"==typeof e?e:Za[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ca=e.keyName=function(e,t){if(Eo&&34==e.keyCode&&e["char"])return!1;var n=Za[e.keyCode],i=n;return null==i||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Do?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Do?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Ls(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=Fs();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(ja(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var s=t.form,o=s.submit;try{var a=s.submit=function(){i(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ca(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var ua=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ua.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ma(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ma(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ma(this.string,null,this.tabSize)-(this.lineStart?Ma(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var da=0,ma=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++da};xs(ma),ma.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&En(e),Cs(this,"clear")){var n=this.find();n&&As(this,"clear",n.from,n.to)}for(var i=null,r=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=Zi(o.markedSpans,this);e&&!this.collapsed?Nn(e,es(o),"text"):e&&(null!=a.to&&(r=es(o)),null!=a.from&&(i=es(o))),o.markedSpans=er(o.markedSpans,a),null==a.from&&this.collapsed&&!wr(this.doc,o)&&e&&Zr(o,yn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=gr(this.lines[s]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Ln(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ot(e.doc)),e&&As(e,"markerCleared",e,this),t&&An(e),this.parent&&this.parent.clear()}},ma.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var s=this.lines[r],o=Zi(s.markedSpans,this);
if(null!=o.from&&(n=_o(t?s:es(s),o.from),-1==e))return n;if(null!=o.to&&(i=_o(t?s:es(s),o.to),1==e))return i}return n&&{from:n,to:i}},ma.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Dn(n,function(){var i=e.line,r=es(e.line),s=Xt(n,r);if(s&&(sn(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!wr(t.doc,i)&&null!=t.height){var o=t.height;t.height=null;var a=Tr(t)-o;a&&Zr(i,i.height+a)}})},ma.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Is(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ma.prototype.detachLine=function(e){if(this.lines.splice(Is(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var da=0,pa=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};xs(pa),pa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();As(this,"clear")}},pa.prototype.find=function(e,t){return this.primary.find(e,t)};var fa=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};xs(fa),fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=es(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var s=Tr(this);Zr(n,Math.max(0,n.height-s)),e&&Dn(e,function(){Sr(e,n,-s),Nn(e,i,"widget")})}},fa.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Tr(this)-e;i&&(Zr(n,n.height+i),t&&Dn(t,function(){t.curOp.forceUpdate=!0,Sr(t,n,i)}))};var va=e.Line=function(e,t,n){this.text=e,cr(this,t),this.height=n?n(this):1};xs(va),va.prototype.lineNo=function(){return es(this)};var ha={},ga={};Wr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,xr(r),As(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},zr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var s=Math.min(t,r-e),o=i.height;if(i.removeInner(e,s),this.height-=o-i.height,r==s&&(this.children.splice(n--,1),i.parent=null),0==(t-=s))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Wr))){var a=[];this.collapse(a),this.children=[new Wr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(s>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var o=r.lines.splice(r.lines.length-25,25),a=new Wr(o);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new zr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Is(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new zr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(s>e){var o=Math.min(t,s-e);if(r.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=s}}};var ya=0,ba=e.Doc=function(e,t,n,i){if(!(this instanceof ba))return new ba(e,t,n,i);null==n&&(n=0),zr.call(this,[new Wr([new va("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=_o(n,0);this.sel=ft(r),this.history=new rs(null),this.id=++ya,this.modeOption=t,this.lineSep=i,"string"==typeof e&&(e=this.splitLines(e)),Gr(this,{from:r,to:r,text:e}),xt(this,ft(r),Ia)};ba.prototype=Ms(zr.prototype,{constructor:ba,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Xr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Rn(function(e){var t=_o(this.first,0),n=this.first+this.size-1;ji(this,{from:t,to:_o(n,Kr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),xt(this,ft(t))}),replaceRange:function(e,t,n,i){t=ht(this,t),n=n?ht(this,n):t,Ii(this,e,t,n,i)},getRange:function(e,t,n){var i=Jr(this,ht(this,e),ht(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return yt(this,e)?Kr(this,e):void 0},getLineNumber:function(e){return es(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Kr(this,e)),gr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rn(function(e,t,n){Tt(this,ht(this,"number"==typeof e?_o(e,t||0):e),null,n)}),setSelection:Rn(function(e,t,n){Tt(this,ht(this,e),ht(this,t||e),n)}),extendSelection:Rn(function(e,t,n){wt(this,ht(this,e),t&&ht(this,t),n)}),extendSelections:Rn(function(e,t){At(this,bt(this,e,t))}),extendSelectionsBy:Rn(function(e,t){At(this,Rs(this.sel.ranges,e),t)}),setSelections:Rn(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new mt(ht(this,e[i].anchor),ht(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),xt(this,pt(r,t),n)}}),addSelection:Rn(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new mt(ht(this,e),ht(this,t||e))),xt(this,pt(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Jr(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Jr(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Rn(function(e,t,n){for(var i=[],r=this.sel,s=0;s<r.ranges.length;s++){var o=r.ranges[s];i[s]={from:o.from(),to:o.to(),text:this.splitLines(e[s]),origin:n}}for(var a=t&&"end"!=t&&Si(this,i,t),s=i.length-1;s>=0;s--)ji(this,i[s]);a?Ct(this,a):this.cm&&$i(this.cm)}),undo:Rn(function(){xi(this,"undo")}),redo:Rn(function(){xi(this,"redo")}),undoSelection:Rn(function(){xi(this,"undo",!0)}),redoSelection:Rn(function(){xi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new rs(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vs(this.history.done),undone:vs(this.history.undone)}},setHistory:function(e){var t=this.history=new rs(this.history.maxGeneration);t.done=vs(e.done.slice(0),null,!0),t.undone=vs(e.undone.slice(0),null,!0)},addLineClass:Rn(function(e,t,n){return Hi(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Vs(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Rn(function(e,t,n){return Hi(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var s=r.match(Vs(n));if(!s)return!1;var o=s.index+s[0].length;e[i]=r.slice(0,s.index)+(s.index&&o!=r.length?" ":"")+r.slice(o)||null}return!0})}),addLineWidget:Rn(function(e,t,n){return jr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return zi(this,ht(this,e),ht(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ht(this,e),zi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ht(this,e);var t=[],n=Kr(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ht(this,e),t=ht(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),ht(this,_o(n,t))},indexFromPos:function(e){e=ht(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ba(Xr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new ba(Xr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ki(i,Qi(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Ji(Qi(this));break}}if(t.history==this.history){var r=[t.id];Yr(t,function(e){r.push(e.id)},!0),t.history=new rs(null),t.history.done=vs(this.history.done,r),t.history.undone=vs(this.history.undone,r)}},iterLinkedDocs:function(e){Yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Qa(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ba.prototype.eachLine=ba.prototype.iter;var Ea="iter insert remove copy getEditor constructor".split(" ");for(var wa in ba.prototype)ba.prototype.hasOwnProperty(wa)&&Is(Ea,wa)<0&&(e.prototype[wa]=function(e){return function(){return e.apply(this.doc,arguments)}}(ba.prototype[wa]));xs(ba);var Aa=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Sa=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ta=e.e_stop=function(e){Aa(e),Sa(e)},ja=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Ca=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},xa=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},ka=null,Da=30,Oa=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ia={scroll:!1},Ra={origin:"*mouse"},_a={origin:"+move"};ks.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ma=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var s=i||0,o=r||0;;){var a=e.indexOf("	",s);if(0>a||a>=t)return o+(t-s);o+=a-s,o+=n-o%n,s=a+1}},La=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var s=e.indexOf("	",i);-1==s&&(s=e.length);var o=s-i;if(s==e.length||r+o>=t)return i+Math.min(o,t-r);if(r+=s-i,r+=n-r%n,i=s+1,r>=t)return i}},Na=[""],$a=function(e){e.select()};To?$a=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:vo&&($a=function(e){try{e.select()}catch(t){}});var Pa,Ua=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ha=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ua.test(e))},qa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Pa=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ba=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};vo&&11>ho&&(Fs=function(){try{return document.activeElement}catch(e){return document.body}});var Fa,Va,Ga=e.rmClass=function(e,t){var n=e.className,i=Vs(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Wa=e.addClass=function(e,t){var n=e.className;Vs(t).test(n)||(e.className+=(n?" ":"")+t)},za=!1,Ya=function(){if(vo&&9>ho)return!1;var e=Hs("div");return"draggable"in e||"dragDrop"in e}(),Qa=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var s=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=s.indexOf("\r");-1!=o?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ka=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ja=function(){var e=Hs("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Xa=null,Za=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)Za[e+48]=Za[e+96]=String(e);for(var e=65;90>=e;e++)Za[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Za[e+111]=Za[e+63235]="F"+e}();var el,tl=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,d=[],m=0;u>m;++m)d.push(i=e(n.charCodeAt(m)));for(var m=0,p=c;u>m;++m){var i=d[m];"m"==i?d[m]=p:p=i}for(var m=0,f=c;u>m;++m){var i=d[m];"1"==i&&"r"==f?d[m]="n":o.test(i)&&(f=i,"r"==i&&(d[m]="R"))}for(var m=1,p=d[0];u-1>m;++m){var i=d[m];"+"==i&&"1"==p&&"1"==d[m+1]?d[m]="1":","!=i||p!=d[m+1]||"1"!=p&&"n"!=p||(d[m]=p),p=i}for(var m=0;u>m;++m){var i=d[m];if(","==i)d[m]="N";else if("%"==i){for(var v=m+1;u>v&&"%"==d[v];++v);for(var h=m&&"!"==d[m-1]||u>v&&"1"==d[v]?"1":"N",g=m;v>g;++g)d[g]=h;m=v-1}}for(var m=0,f=c;u>m;++m){var i=d[m];"L"==f&&"1"==i?d[m]="L":o.test(i)&&(f=i)}for(var m=0;u>m;++m)if(s.test(d[m])){for(var v=m+1;u>v&&s.test(d[v]);++v);for(var y="L"==(m?d[m-1]:c),b="L"==(u>v?d[v]:c),h=y||b?"L":"R",g=m;v>g;++g)d[g]=h;m=v-1}for(var E,w=[],m=0;u>m;)if(a.test(d[m])){var A=m;for(++m;u>m&&a.test(d[m]);++m);w.push(new t(0,A,m))}else{var S=m,T=w.length;for(++m;u>m&&"L"!=d[m];++m);for(var g=S;m>g;)if(l.test(d[g])){g>S&&w.splice(T,0,new t(1,S,g));var j=g;for(++g;m>g&&l.test(d[g]);++g);w.splice(T,0,new t(2,j,g)),S=g}else++g;m>S&&w.splice(T,0,new t(1,S,m))}return 1==w[0].level&&(E=n.match(/^\s+/))&&(w[0].from=E[0].length,w.unshift(new t(0,0,E[0].length))),1==Os(w).level&&(E=n.match(/\s+$/))&&(Os(w).to-=E[0].length,w.push(new t(0,u-E[0].length,u))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=Os(w).level&&w.push(new t(w[0].level,u,u)),w}}();return e.version="5.7.0",e})}),require.register("vendors/js/python.js",function(e,t,n){!function(i){"object"==typeof e&&"object"==typeof n?i(t("./codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],s=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],o={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None","async","await"]};e.registerHelper("hintWords","python",r.concat(s)),e.defineMode("python",function(l,c){function u(e,t){if(e.sol()&&"py"==n(t).type){var i=n(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?p(e,t,"py"):i>r&&f(e,t)&&(t.errorToken=!0),null}var s=d(e,t);return i>0&&f(e,t)&&(s+=" "+h),s}return d(e,t)}function d(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^\d+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var s=!1;if(e.match(/^0x[0-9a-f]+/i)&&(s=!0),e.match(/^0b[01]+/i)&&(s=!0),e.match(/^0o[0-7]+/i)&&(s=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),s=!0),e.match(/^0(?![\dx])/i)&&(s=!0),s)return e.eat(/L/i),"number"}return e.match(C)?(t.tokenize=m(e.current()),t.tokenize(e,t)):e.match(E)||e.match(b)?null:e.match(y)||e.match(w)?"operator":e.match(g)?null:e.match(x)||e.match(i)?"keyword":e.match(k)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(A)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),h)}function m(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return i}else{if(t.match(e))return r.tokenize=u,i;t.eat(/['"]/)}if(n){if(c.singleLineStringErrors)return h;r.tokenize=u}return i}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return t.isString=!0,t}function p(e,t,i){var r=0,s=null;if("py"==i)for(;"py"!=n(t).type;)t.scopes.pop();r=n(t).offset+("py"==i?l.indentUnit:S),"py"==i||e.match(/^(\s|#.*)*$/,!1)||(s=e.column()+1),t.scopes.push({offset:r,type:i,align:s})}function f(e,t){for(var i=e.indentation();n(t).offset>i;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=i}function v(e,t){var i=t.tokenize(e,t),r=e.current();if("."==r)return i=e.match(A,!1)?null:h,null==i&&"meta"==t.lastStyle&&(i="meta"),i;if("@"==r)return c.version&&3==parseInt(c.version,10)?e.match(A,!1)?"meta":"operator":e.match(A,!1)?"meta":h;"variable"!=i&&"builtin"!=i||"meta"!=t.lastStyle||(i="meta"),("pass"==r||"return"==r)&&(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=n(t).type||p(e,t,"py");var s=1==r.length?"[({".indexOf(r):-1;if(-1!=s&&p(e,t,"])}".slice(s,s+1)),s="])}".indexOf(r),-1!=s){if(n(t).type!=r)return h;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}var h="error",g=c.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),y=c.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),b=c.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),E=c.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(c.version&&3==parseInt(c.version,10))var w=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),A=c.identifiers||new RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*");else var w=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),A=c.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var S=c.hangingIndent||l.indentUnit,T=r,j=s;if(void 0!=c.extra_keywords&&(T=T.concat(c.extra_keywords)),void 0!=c.extra_builtins&&(j=j.concat(c.extra_builtins)),c.version&&3==parseInt(c.version,10)){T=T.concat(a.keywords),j=j.concat(a.builtins);var C=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{T=T.concat(o.keywords),j=j.concat(o.builtins);var C=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var x=t(T),k=t(j),D={startState:function(e){return{tokenize:u,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=v(e,t);t.lastStyle=i;var r=e.current();return r&&i&&(t.lastToken=r),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+h:i},indent:function(t,i){if(t.tokenize!=u)return t.tokenize.isString?e.Pass:0;var r=n(t),s=i&&i.charAt(0)==r.type;return null!=r.align?r.align-(s?1:0):s&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:r.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return D}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})})}),require.register("vendors/js/jwplayer.js",function(e,t,n){!function(t,i){"object"==typeof e&&"object"==typeof n?n.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof e?e.jwplayer=i():t.jwplayer=i()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonpjwplayer;window.webpackJsonpjwplayer=function(i,s){for(var o,a,l=0,c=[];l<i.length;l++)a=i[l],r[a]&&c.push.apply(c,r[a]),r[a]=0;for(o in s)e[o]=s[o];for(n&&n(i,s);c.length;)c.shift().call(null,t)};var i={},r={0:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var i=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=t.p+""+({1:"polyfills.promise",2:"polyfills.base64",3:"provider.youtube"}[e]||e)+".js",i.appendChild(s)}},t.m=e,t.c=i,t.p="",t(0)}([function(e,t,n){e.exports=n(38)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;i=[n(39),n(48),n(144)],r=function(e,t){return n.p=t.loadFrom(),e.selectPlayer}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(40),n(45),n(78),n(76),n(74),n(88)],r=function(e,t,n,i,r,s){function o(e){var s=e.getName().name;if(!t.find(r,t.matches({name:s}))){if(!t.isFunction(e.supports))throw{message:"Tried to register a provider with an invalid object"};r.unshift({name:s,supports:e.supports})}var o=function(){};o.prototype=n,e.prototype=new o,i[s]=e}var a=[],l=0,c=function(t){var n,i;return t?"string"==typeof t?(n=u(t),n||(i=document.getElementById(t))):"number"==typeof t?n=a[t]:t.nodeType&&(i=t,n=u(i.id)):n=a[0],n?n:i?d(new e(i,m)):{registerPlugin:s.registerPlugin}},u=function(e){for(var t=0;t<a.length;t++)if(a[t].id===e)return a[t];return null},d=function(e){return l++,e.uniqueId=l,a.push(e),e},m=function(e){for(var t=a.length;t--;)if(a[t].uniqueId===e.uniqueId){a.splice(t,1);break}},p={selectPlayer:c,registerProvider:o,availableProviders:r,registerPlugin:s.registerPlugin};return c.api=p,p}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(64),n(71),n(65),n(48),n(83),n(45),n(41),n(141),n(142),n(143),n(59)],r=function(e,t,n,i,r,s,o,a,l,c,u){function d(e){i.addClass(e,"jw-tab-focus")}function m(e){i.removeClass(e,"jw-tab-focus")}var p=function(p,f){var v,h=this,g=!1,y={};s.extend(this,n),this.utils=i,this._=s,this.Events=n,this.version=u,this.trigger=function(e,t){return t=s.isObject(t)?s.extend({},t):{},t.type=e,n.trigger.call(h,e,t)},this.on=function(e,t){if(s.isString(t))throw new TypeError("eval callbacks depricated");var r=function(){try{t.apply(this,arguments)}catch(n){i.log('There was an error calling back an event handler for "'+e+'". Error: '+n.message)}};return n.on.call(h,e,r)},this.dispatchEvent=this.trigger,this.removeEventListener=this.off.bind(this);var b=function(){v=new o(p),a(h,v),l(h,v),v.on(e.JWPLAYER_PLAYLIST_ITEM,function(){y={}}),v.on(e.JWPLAYER_MEDIA_META,function(e){s.extend(y,e.metadata)}),v.on(e.JWPLAYER_VIEW_TAB_FOCUS,function(e){e.hasFocus===!0?d(this.getContainer()):m(this.getContainer())}),v.on(e.JWPLAYER_READY,function(e){g=!0,E.tick("ready"),e.setupTime=E.between("setup","ready")}),v.on("all",h.trigger)};b(),c(this),this.id=p.id;var E=this._qoe=new r;E.tick("init");var w=function(){g=!1,y={},h.off(),v&&v.off(),v&&v.playerDestroy&&v.playerDestroy()};return this.getPlugin=function(e){return h.plugins&&h.plugins[e]},this.addPlugin=function(e,t){this.plugins=this.plugins||{},this.plugins[e]=t,this.onReady(t.addToPlayer),t.resize&&this.onResize(t.resizeHandler)},this.setup=function(e){return E.tick("setup"),w(),b(),i.foreach(e.events,function(e,t){var n=h[e];"function"==typeof n&&n.call(h,t)}),e.id=h.id,v.setup(e,this),h},this.qoe=function(){var t=v.getItemQoe(),n=E.between("setup","ready"),i=t.between(e.JWPLAYER_MEDIA_PLAY_ATTEMPT,e.JWPLAYER_MEDIA_FIRST_FRAME);return{setupTime:n,firstFrame:i,player:E.dump(),item:t.dump()}},this.getContainer=function(){return v.getContainer?v.getContainer():p},this.getMeta=this.getItemMeta=function(){return y},this.getPlaylistItem=function(e){if(!i.exists(e))return v._model.get("playlistItem");var t=h.getPlaylist();return t?t[e]:null},this.getRenderingMode=function(){return"html5"},this.load=function(e){var t=this.getPlugin("vast")||this.getPlugin("googima");return t&&t.destroy(),v.load(e),h},this.play=function(e){if(e===!0)return v.play(),h;if(e===!1)return v.pause(),h;switch(e=h.getState()){case t.PLAYING:case t.BUFFERING:v.pause();break;default:v.play()}return h},this.pause=function(e){return s.isBoolean(e)?this.play(!e):this.play()},this.createInstream=function(){return v.createInstream()},this.castToggle=function(){v&&v.castToggle&&v.castToggle()},this.playAd=this.pauseAd=i.noop,this.remove=function(){return f(h),h.trigger("remove"),w(),h},this};return p}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(66),n(101),n(68),n(45),n(86),n(97),n(72),n(100),n(42),n(48),n(102),n(65),n(70),n(71),n(64),n(139)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,m,p,f,v){function h(e){return function(){var t=Array.prototype.slice.call(arguments,0);this.eventsQueue.push([e,t])}}function g(e){return e===p.LOADING||e===p.STALLED?p.BUFFERING:e}var y=function(e){this.originalContainer=this.currentContainer=e,this.eventsQueue=[],i.extend(this,d),this._model=new o};return y.prototype={play:h("play"),pause:h("pause"),setVolume:h("setVolume"),setMute:h("setMute"),seek:h("seek"),stop:h("stop"),load:h("load"),playlistNext:h("playlistNext"),playlistPrev:h("playlistPrev"),playlistItem:h("playlistItem"),setFullscreen:h("setFullscreen"),setCurrentCaptions:h("setCurrentCaptions"),setCurrentQuality:h("setCurrentQuality"),setup:function(o,d){function v(){z.mediaModel.on("change:state",function(e,t){var n=g(t);
z.set("state",n)})}function h(){K=null,D(z.get("item")),z.on("change:state",m,this),z.on("change:castState",function(e,t){tt.trigger(f.JWPLAYER_CAST_SESSION,t)}),z.on("change:fullscreen",function(e,t){tt.trigger(f.JWPLAYER_FULLSCREEN,{fullscreen:t})}),z.on("itemReady",function(){tt.trigger(f.JWPLAYER_PLAYLIST_ITEM,{index:z.get("item"),item:z.get("playlistItem")})}),z.on("change:playlist",function(e,t){t.length&&tt.trigger(f.JWPLAYER_PLAYLIST_LOADED,{playlist:t})}),z.on("change:volume",function(e,t){tt.trigger(f.JWPLAYER_MEDIA_VOLUME,{volume:t})}),z.on("change:mute",function(e,t){tt.trigger(f.JWPLAYER_MEDIA_MUTE,{mute:t})}),z.on("change:controls",function(e,t){tt.trigger(f.JWPLAYER_CONTROLS,{controls:t})}),z.on("change:scrubbing",function(e,t){t?T():A()}),z.on("change:captionsList",function(e,t){tt.trigger(f.JWPLAYER_CAPTIONS_LIST,{tracks:t,track:B()})}),z.mediaController.on("all",tt.trigger.bind(tt)),Y.on("all",tt.trigger.bind(tt)),this.showView(Y.element()),window.addEventListener("beforeunload",function(){G()||S(!0)}),i.defer(y)}function y(){for(tt.trigger(f.JWPLAYER_READY,{setupTime:0}),tt.trigger(f.JWPLAYER_PLAYLIST_LOADED,{playlist:z.get("playlist")}),tt.trigger(f.JWPLAYER_PLAYLIST_ITEM,{index:z.get("item"),item:z.get("playlistItem")}),tt.trigger(f.JWPLAYER_CAPTIONS_LIST,{tracks:z.get("captionsList"),track:z.get("captionsIndex")}),z.get("autostart")&&A();tt.eventsQueue.length>0;){var e=tt.eventsQueue.shift(),t=e[0],n=e[1]||[];tt[t].apply(tt,n)}}function b(e){switch(z.get("state")===p.ERROR&&z.set("state",p.IDLE),S(!0),z.get("autostart")&&z.once("itemReady",A),typeof e){case"string":E(e);break;case"object":k(e),D(0);break;case"number":D(e)}}function E(e){var t=new l;t.on(f.JWPLAYER_PLAYLIST_LOADED,function(e){b(e.playlist)}),t.on(f.JWPLAYER_ERROR,function(e){e.message="Error loading playlist: "+e.message,this.triggerError(e)},this),t.load(e)}function w(){var e=tt._instreamAdapter&&tt._instreamAdapter.getState();return i.isString(e)?e:z.get("state")}function A(){var e;if(z.get("state")!==p.ERROR){var t=tt._instreamAdapter&&tt._instreamAdapter.getState();if(i.isString(t))return d.pauseAd(!1);if(z.get("state")===p.COMPLETE&&(S(!0),D(0)),!Z&&(Z=!0,tt.trigger(f.JWPLAYER_MEDIA_BEFOREPLAY,{}),Z=!1,X))return X=!1,void(J=null);if(j()){if(0===z.get("playlist").length)return!1;e=c.tryCatch(function(){z.loadVideo()})}else z.get("state")===p.PAUSED&&(e=c.tryCatch(function(){z.playVideo()}));return e instanceof c.Error?(tt.triggerError(e),J=null,!1):!0}}function S(e){z.off("itemReady",A);var t=!e;J=null;var n=c.tryCatch(function(){z.stopVideo()},tt);return n instanceof c.Error?(tt.triggerError(n),!1):(t&&(et=!0),Z&&(X=!0),!0)}function T(){J=null;var e=tt._instreamAdapter&&tt._instreamAdapter.getState();if(i.isString(e))return d.pauseAd(!0);switch(z.get("state")){case p.ERROR:return!1;case p.PLAYING:case p.BUFFERING:var t=c.tryCatch(function(){nt().pause()},this);if(t instanceof c.Error)return tt.triggerError(t),!1;break;default:Z&&(X=!0)}return!0}function j(){var e=z.get("state");return e===p.IDLE||e===p.COMPLETE||e===p.ERROR}function C(e){z.get("state")!==p.ERROR&&(z.get("scrubbing")||z.get("state")===p.PLAYING||A(!0),nt().seek(e))}function x(e){S(!0),D(e),A()}function k(e){var t=a(e);return t=a.filterPlaylist(t,z.getProviders(),z.get("androidhls"),z.get("drm"),z.get("preload")),z.set("playlist",t),0===t.length?void z.mediaController.trigger(f.JWPLAYER_ERROR,{message:"Error loading playlist: No playable sources found"}):void 0}function D(e){var t=z.get("playlist");e=(e+t.length)%t.length,z.set("item",e),z.set("playlistItem",t[e]),z.setActiveItem(t[e])}function O(){x(z.get("item")-1)}function I(){x(z.get("item")+1)}function R(){if(j()){if(et)return void(et=!1);J=R;var e=z.get("item");return e===z.get("playlist").length-1?void(z.get("repeat")?I():(z.set("state",p.COMPLETE),tt.trigger(f.JWPLAYER_PLAYLIST_COMPLETE,{}))):void I()}}function _(e){nt().setCurrentQuality(e)}function M(){return nt()?nt().getCurrentQuality():-1}function L(){return this._model?this._model.getConfiguration():void 0}function N(){if(this._model.mediaModel)return this._model.mediaModel.get("visualQuality");var e=$();if(e){var t=M(),n=e[t];if(n)return{level:i.extend({index:t},n),mode:"",reason:""}}return null}function $(){return nt()?nt().getQualityLevels():null}function P(e){nt().setCurrentAudioTrack(e)}function U(){return nt()?nt().getCurrentAudioTrack():-1}function H(){return nt()?nt().getAudioTracks():null}function q(e){z.setVideoSubtitleTrack(e),tt.trigger(f.JWPLAYER_CAPTIONS_CHANGED,{tracks:F(),track:e})}function B(){return Q.getCurrentIndex()}function F(){return Q.getCaptionsList()}function V(){var e=z.getVideo();if(e){var t=e.detachMedia();if(t instanceof HTMLVideoElement)return t}return null}function G(){var e=z.getVideo();return e?e.isCaster:!1}function W(e){var t=c.tryCatch(function(){z.getVideo().attachMedia(e)});return t instanceof c.Error?void c.log("Error calling _attachMedia",t):void("function"==typeof J&&J())}var z,Y,Q,K,J,X,Z=!1,et=!1,tt=this,nt=function(){return z.getVideo()},it=new e(o);z=this._model.setup(it),Y=this._view=new u(d,z),Q=new s(d,z),K=new r(d,z,Y,k),K.on(f.JWPLAYER_READY,h,this),K.on(f.JWPLAYER_SETUP_ERROR,this.setupError,this),z.mediaController.on(f.JWPLAYER_MEDIA_COMPLETE,function(){i.defer(R)}),z.mediaController.on(f.JWPLAYER_MEDIA_ERROR,this.triggerError,this),z.on("change:flashBlocked",function(e,t){t&&this.trigger(f.JWPLAYER_ERROR,{message:"Flash plugin is blocked"})},this),v(),z.on("change:mediaModel",v),this.play=A,this.pause=T,this.seek=C,this.stop=S,this.load=b,this.playlistNext=I,this.playlistPrev=O,this.playlistItem=x,this.setCurrentCaptions=q,this.setCurrentQuality=_,this.detachMedia=V,this.attachMedia=W,this.getCurrentQuality=M,this.getQualityLevels=$,this.setCurrentAudioTrack=P,this.getCurrentAudioTrack=U,this.getAudioTracks=H,this.getCurrentCaptions=B,this.getCaptionsList=F,this.getVisualQuality=N,this.getConfig=L,this.getState=w,this.setVolume=z.setVolume,this.setMute=z.setMute,this.getProvider=function(){return z.get("provider")},this.getWidth=function(){return z.get("containerWidth")},this.getHeight=function(){return z.get("containerHeight")},this.getContainer=function(){return this.currentContainer},this.resize=Y.resize,this.getSafeRegion=Y.getSafeRegion,this.setCues=Y.addCues,this.setFullscreen=function(e){i.isBoolean(e)||(e=!z.get("fullscreen")),z.set("fullscreen",e),this._instreamAdapter&&this._instreamAdapter._adModel.set("fullscreen",e)},this.addButton=function(e,t,n,r,s){var o={img:e,tooltip:t,callback:n,id:r,"class":s},a=z.get("dock");a=a?a.slice(0):[],a=i.reject(a,i.matches({id:o.id})),a.push(o),z.set("dock",a)},this.removeButton=function(e){var t=z.get("dock")||[];t=i.reject(t,i.matches({id:e})),z.set("dock",t)},this.checkBeforePlay=function(){return Z},this.getItemQoe=function(){return z._qoeItem},this.setControls=function(e){i.isBoolean(e)||(e=!z.get("controls")),z.set("controls",e);var t=z.getVideo();t&&t.setControls(e)},this.playerDestroy=function(){this.stop(),this.showView(this.originalContainer),Y&&Y.destroy(),z&&z.destroy(),K&&(K.destroy(),K=null)},this.isBeforePlay=this.checkBeforePlay,this.isBeforeComplete=function(){return z.getVideo().checkComplete()},this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new n(this,z,Y),this._instreamAdapter},this.skipAd=function(){this._instreamAdapter&&this._instreamAdapter.skipAd()},this.instreamDestroy=function(){tt._instreamAdapter&&tt._instreamAdapter.destroy()},t(d,this),K.start()},showView:function(e){(document.documentElement.contains(this.currentContainer)||(this.currentContainer=document.getElementById(this._model.get("id")),this.currentContainer))&&(this.currentContainer.parentElement&&this.currentContainer.parentElement.replaceChild(e,this.currentContainer),this.currentContainer=e)},triggerError:function(e){this._model.set("errorEvent",e),this._model.set("state",p.ERROR),this._model.once("change:state",function(){this._model.set("errorEvent",void 0)},this),this.trigger(f.JWPLAYER_ERROR,e)},setupError:function(e){var t=e.message,n=c.createElement(v(this._model.get("id"),this._model.get("skin"),t)),r=this._model.get("width"),s=this._model.get("height");c.style(n,{width:r.toString().indexOf("%")>0?r:r+"px",height:s.toString().indexOf("%")>0?s:s+"px"}),this.showView(n);var o=this;i.defer(function(){o.trigger(f.JWPLAYER_SETUP_ERROR,{message:t})})}},y}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(43),n(46),n(48),n(64),n(65),n(45)],r=function(e,t,n,i,r,s){var o=function(){function o(r){var s=n.tryCatch(function(){for(var n=r.responseXML.childNodes,s="",o=0;o<n.length&&(s=n[o],8===s.nodeType);o++);if("xml"===e.localName(s)&&(s=s.nextSibling),"rss"!==e.localName(s))return void l("Not a valid RSS feed");var a=t.parse(s);u.trigger(i.JWPLAYER_PLAYLIST_LOADED,{playlist:a})});s instanceof n.Error&&l()}function a(e){l(e.match(/invalid/i)?"Not a valid RSS feed":"")}function l(e){u.trigger(i.JWPLAYER_ERROR,{message:e?e:"Error loading file"})}var c,u=s.extend(this,r);this.load=function(e){c=n.ajax(e,o,a)},this.destroy=function(){this.off(),c=null}};return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(44)],r=function(e){return{localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(t){return t?t.textContent?e.trim(t.textContent):t.text?e.trim(t.text):"":""},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45)],r=function(e){function t(e){return e.indexOf("(format=m3u8-")>-1?"m3u8":!1}var n=function(e){return e.replace(/^\s+|\s+$/g,"")},i=function(e,t,n){for(e=""+e,n=n||"0";e.length<t;)e=n+e;return e},r=function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()===t.toLowerCase())return e.attributes[n].value.toString();return""},s=function(e){if(!e||"rtmp"===e.substr(0,4))return"";var n=t(e);return n?n:(e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0],e.lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0)},o=function(e){var t=parseInt(e/3600),n=parseInt(e/60)%60,r=e%60;return i(t,2)+":"+i(n,2)+":"+i(r.toFixed(3),6)},a=function(t){if(e.isNumber(t))return t;t=t.replace(",",".");var n=t.split(":"),i=0;return"s"===t.slice(-1)?i=parseFloat(t):"m"===t.slice(-1)?i=60*parseFloat(t):"h"===t.slice(-1)?i=3600*parseFloat(t):n.length>1?(i=parseFloat(n[n.length-1]),i+=60*parseFloat(n[n.length-2]),3===n.length&&(i+=3600*parseFloat(n[n.length-3]))):i=parseFloat(t),i},l=function(t,n){return e.map(t,function(e){return n+e})},c=function(t,n){return e.map(t,function(e){return e+n})};return{trim:n,pad:i,xmlAttribute:r,extension:s,hms:o,seconds:a,suffix:c,prefix:l}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e={},t=Array.prototype,n=Object.prototype,i=Function.prototype,r=t.slice,s=t.concat,o=n.toString,a=n.hasOwnProperty,l=t.map,c=t.forEach,u=t.filter,d=t.every,m=t.some,p=t.indexOf,f=Array.isArray,v=Object.keys,h=i.bind,g=function(e){return e instanceof g?e:this instanceof g?void 0:new g(e)},y=g.each=g.forEach=function(t,n,i){if(null==t)return t;if(c&&t.forEach===c)t.forEach(n,i);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(n.call(i,t[r],r,t)===e)return}else for(var o=g.keys(t),r=0,s=o.length;s>r;r++)if(n.call(i,t[o[r]],o[r],t)===e)return;return t};g.map=g.collect=function(e,t,n){var i=[];return null==e?i:l&&e.map===l?e.map(t,n):(y(e,function(e,r,s){i.push(t.call(n,e,r,s))}),i)},g.find=g.detect=function(e,t,n){var i;return b(e,function(e,r,s){return t.call(n,e,r,s)?(i=e,!0):void 0}),i},g.filter=g.select=function(e,t,n){var i=[];return null==e?i:u&&e.filter===u?e.filter(t,n):(y(e,function(e,r,s){t.call(n,e,r,s)&&i.push(e)}),i)},g.reject=function(e,t,n){return g.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},g.compact=function(e){return g.filter(e,g.identity)},g.every=g.all=function(t,n,i){n||(n=g.identity);var r=!0;return null==t?r:d&&t.every===d?t.every(n,i):(y(t,function(t,s,o){return(r=r&&n.call(i,t,s,o))?void 0:e}),!!r)};var b=g.some=g.any=function(t,n,i){n||(n=g.identity);var r=!1;return null==t?r:m&&t.some===m?t.some(n,i):(y(t,function(t,s,o){return r||(r=n.call(i,t,s,o))?e:void 0}),!!r)};g.size=function(e){return null==e?0:e.length===+e.length?e.length:g.keys(e).length},g.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},g.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}};var E=function(e){return null==e?g.identity:g.isFunction(e)?e:g.property(e)};g.sortedIndex=function(e,t,n,i){n=E(n);for(var r=n.call(i,t),s=0,o=e.length;o>s;){var a=s+o>>>1;n.call(i,e[a])<r?s=a+1:o=a}return s};var b=g.some=g.any=function(t,n,i){n||(n=g.identity);var r=!1;return null==t?r:m&&t.some===m?t.some(n,i):(y(t,function(t,s,o){return r||(r=n.call(i,t,s,o))?e:void 0}),!!r)};g.contains=g.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=g.values(e)),g.indexOf(e,t)>=0)},g.where=function(e,t){return g.filter(e,g.matches(t))},g.findWhere=function(e,t){return g.find(e,g.matches(t))},g.max=function(e,t,n){if(!t&&g.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return y(e,function(e,s,o){var a=t?t.call(n,e,s,o):e;a>r&&(i=e,r=a)}),i},g.difference=function(e){var n=s.apply(t,r.call(arguments,1));return g.filter(e,function(e){return!g.contains(n,e)})},g.without=function(e){return g.difference(e,r.call(arguments,1))},g.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=g.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(p&&e.indexOf===p)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1};var w=function(){};g.bind=function(e,t){var n,i;if(h&&e.bind===h)return h.apply(e,r.call(arguments,1));if(!g.isFunction(e))throw new TypeError;return n=r.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(r.call(arguments)));w.prototype=e.prototype;var s=new w;w.prototype=null;var o=e.apply(s,n.concat(r.call(arguments)));return Object(o)===o?o:s}},g.partial=function(e){var t=r.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,s=i.length;s>r;r++)i[r]===g&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},g.once=g.partial(g.before,2),g.memoize=function(e,t){var n={};return t||(t=g.identity),function(){var i=t.apply(this,arguments);return g.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},g.delay=function(e,t){var n=r.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},g.defer=function(e){return g.delay.apply(g,[e,1].concat(r.call(arguments,1)))},g.throttle=function(e,t,n){var i,r,s,o=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:g.now(),o=null,s=e.apply(i,r),i=r=null};return function(){var c=g.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(o),o=null,a=c,s=e.apply(i,r),i=r=null):o||n.trailing===!1||(o=setTimeout(l,u)),s}},g.keys=function(e){if(!g.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)g.has(e,n)&&t.push(n);return t},g.invert=function(e){for(var t={},n=g.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},g.defaults=function(e){return y(r.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},g.extend=function(e){return y(r.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},g.pick=function(e){var n={},i=s.apply(t,r.call(arguments,1));return y(i,function(t){t in e&&(n[t]=e[t])}),n},g.omit=function(e){var n={},i=s.apply(t,r.call(arguments,1));for(var o in e)g.contains(i,o)||(n[o]=e[o]);return n},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.isArray=f||function(e){return"[object Array]"==o.call(e)},g.isObject=function(e){return e===Object(e)},y(["Arguments","Function","String","Number","Date","RegExp"],function(e){g["is"+e]=function(t){return o.call(t)=="[object "+e+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return!(!e||!g.has(e,"callee"))}),g.isFunction=function(e){return"function"==typeof e},g.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&e!=+e},g.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==o.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,t){return a.call(e,t)},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.property=function(e){return function(t){return t[e]}},g.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},g.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},g.now=Date.now||function(){return(new Date).getTime()},g.result=function(e,t){if(null==e)return void 0;var n=e[t];return g.isFunction(n)?n.call(e):n};var A=0;return g.uniqueId=function(e){var t=++A+"";return e?e+t:t},g}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(44),n(43),n(47),n(60),n(61)],r=function(e,t,n,i,r){function s(t){for(var s={},a=0;a<t.childNodes.length;a++){var l=t.childNodes[a],u=c(l);if(u)switch(u.toLowerCase()){case"enclosure":s.file=e.xmlAttribute(l,"url");break;case"title":s.title=o(l);break;case"guid":s.mediaid=o(l);break;case"pubdate":s.date=o(l);break;case"description":s.description=o(l);break;case"link":s.link=o(l);break;case"category":s.tags?s.tags+=o(l):s.tags=o(l)}}return s=i(t,s),s=n(t,s),new r(s)}var o=t.textContent,a=t.getChildNode,l=t.numChildren,c=t.localName,u={};return u.parse=function(e){for(var t=[],n=0;n<l(e);n++){var i=a(e,n),r=c(i).toLowerCase();if("channel"===r)for(var o=0;o<l(i);o++){var u=a(i,o);"item"===c(u).toLowerCase()&&t.push(s(u))}}return t},u}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(43),n(44),n(48)],r=function(e,t,n){var i="jwplayer",r=function(r,s){for(var o=[],a=[],l=t.xmlAttribute,c="default",u="label",d="file",m="type",p=0;p<r.childNodes.length;p++){var f=r.childNodes[p];if(f.prefix===i){var v=e.localName(f);"source"===v?(delete s.sources,o.push({file:l(f,d),"default":l(f,c),label:l(f,u),type:l(f,m)})):"track"===v?(delete s.tracks,a.push({file:l(f,d),"default":l(f,c),kind:l(f,"kind"),label:l(f,u)})):(s[v]=n.serialize(e.textContent(f)),"file"===v&&s.sources&&delete s.sources)}s[d]||(s[d]=s.link)}if(o.length)for(s.sources=[],p=0;p<o.length;p++)o[p].file.length>0&&(o[p][c]="true"===o[p][c]?!0:!1,o[p].label.length||delete o[p].label,s.sources.push(o[p]));if(a.length)for(s.tracks=[],p=0;p<a.length;p++)a[p].file.length>0&&(a[p][c]="true"===a[p][c]?!0:!1,a[p].kind=a[p].kind.length?a[p].kind:"captions",a[p].label.length||delete a[p].label,s.tracks.push(a[p]));return s};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(44),n(45),n(52),n(53),n(55),n(49),n(56),n(50),n(57),n(51)],r=function(e,t,n,i,r,s,o,a,l,c){var u={};return u.log=function(){window.console&&("object"==typeof console.log?console.log(Array.prototype.slice.call(arguments,0)):console.log.apply(console,arguments))},u.between=function(e,t,n){return Math.max(Math.min(e,n),t)},u.foreach=function(e,t){var n,i;for(n in e)"function"===u.typeOf(e.hasOwnProperty)?e.hasOwnProperty(n)&&(i=e[n],t(n,i)):(i=e[n],t(n,i))},u.indexOf=t.indexOf,u.noop=function(){},u.seconds=e.seconds,u.prefix=e.prefix,u.suffix=e.suffix,t.extend(u,s,a,n,o,i,r,l,c),u}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(50),n(51)],r=function(e,t,n){function i(e){return/^(?:(?:https?|file)\:)?\/\//.test(e)}var r={};return r.getAbsolutePath=function(e,n){if(t.exists(n)||(n=document.location.href),t.exists(e)){if(i(e))return e;var r,s=n.substring(0,n.indexOf("://")+3),o=n.substring(s.length,n.indexOf("/",s.length+1));if(0===e.indexOf("/"))r=e.split("/");else{var a=n.split("?")[0];a=a.substring(s.length+o.length+1,a.lastIndexOf("/")),r=a.split("/").concat(e.split("/"))}for(var l=[],c=0;c<r.length;c++)r[c]&&t.exists(r[c])&&"."!==r[c]&&(".."===r[c]?l.pop():l.push(r[c]));return s+o+"/"+l.join("/")}},r.getScriptPath=e.memoize(function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var i=t[n].src;if(i&&i.indexOf(e)>=0)return i.substr(0,i.indexOf(e))}return""}),r.parseXML=function(e){var t=null;return n.tryCatch(function(){if(window.DOMParser){t=(new window.DOMParser).parseFromString(e,"text/xml");var n=t.childNodes;n&&n.length&&n[0].firstChild&&"parsererror"===n[0].firstChild.nodeName&&(t=null)}else t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)}),t},r.serialize=function(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e},r.parseDimension=function(e){return"string"==typeof e?""===e?0:e.lastIndexOf("%")>-1?e:parseInt(e.replace("px",""),10):e},r.timeFormat=function(e,t){if(0>=e&&!t)return"00:00";var n=0>e?"-":"";e=Math.abs(e);var i=Math.floor(e/3600),r=Math.floor((e-3600*i)/60),s=Math.floor(e%60);return n+(i?i+":":"")+(10>r?"0":"")+r+":"+(10>s?"0":"")+s},r.adaptiveType=function(e){if(-1!==e){var t=-120;if(t>=e)return"DVR";if(0>e||1/0===e)return"LIVE"}return"VOD"},r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(51)],r=function(e,t){var n={};return n.exists=function(e){switch(typeof e){case"string":return e.length>0;case"object":return null!==e;case"undefined":return!1}return!0},n.isHTTPS=function(){return 0===window.location.href.indexOf("https")},n.isRtmp=function(e,t){return 0===e.indexOf("rtmp")||"rtmp"===t},n.isYouTube=function(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},n.youTubeID=function(e){var n=t.tryCatch(function(){return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e).slice(1).join("").replace("?","")});return n instanceof t.Error?"":n},n.typeOf=function(t){if(null===t)return"null";var n=typeof t;return"object"===n&&e.isArray(t)?"array":n},n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e=function(e,n,i){if(n=n||this,i=i||[],window.jwplayer&&window.jwplayer.debug)return e.apply(n,i);try{return e.apply(n,i)}catch(r){return new t(e.name,r)}},t=function(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t};return{tryCatch:e,Error:t}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(45),n(51)],r=function(e,t){function n(e){return function(){return r(e)}}var i={},r=e.memoize(function(e){var t=navigator.userAgent.toLowerCase();return null!==t.match(e)}),s=i.isInt=function(e){return parseFloat(e)%1===0};i.isFlashSupported=function(){var e=i.flashVersion();return e&&e>=11.2},i.isFF=n(/firefox/i),i.isChrome=n(/chrome/i),i.isIPod=n(/iP(hone|od)/i),i.isIPad=n(/iPad/i),i.isSafari602=n(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);var o=i.isIETrident=function(e){return e?(e=parseFloat(e).toFixed(1),r(new RegExp("trident/.+rv:\\s*"+e,"i"))):r(/trident/i)},a=i.isMSIE=function(e){return e?(e=parseFloat(e).toFixed(1),r(new RegExp("msie\\s*"+e,"i"))):r(/msie/i)};i.isIE=function(e){return e?(e=parseFloat(e).toFixed(1),e>=11?o(e):a(e)):a()||o()},i.isSafari=function(){return r(/safari/i)&&!r(/chrome/i)&&!r(/chromium/i)&&!r(/android/i)};var l=i.isIOS=function(e){return r(e?new RegExp("iP(hone|ad|od).+\\sOS\\s"+e,"i"):/iP(hone|ad|od)/i)};i.isAndroidNative=function(e){return c(e,!0)};var c=i.isAndroid=function(e,t){return t&&r(/chrome\/[123456789]/i)&&!r(/chrome\/18/)?!1:e?(s(e)&&!/\./.test(e)&&(e=""+e+"."),r(new RegExp("Android\\s*"+e,"i"))):r(/Android/i)};return i.isMobile=function(){return l()||c()},i.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},i.flashVersion=function(){if(i.isAndroid())return 0;var e,n=navigator.plugins;if(n&&(e=n["Shockwave Flash"],e&&e.description))return parseFloat(e.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if("undefined"!=typeof window.ActiveXObject){var r=t.tryCatch(function(){return e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e?parseFloat(e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,".")):void 0});return r instanceof t.Error?0:r}return 0},i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(44),n(45),n(54)],r=function(e,t,n){var i={};return i.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},i.styleDimension=function(e){return e+(e.toString().indexOf("%")>0?"":"px")},i.classList=function(e){return e.classList?e.classList:e.className.split(" ")},i.hasClass=n.hasClass,i.addClass=function(n,i){var r=t.isString(n.className)?n.className.split(" "):[],s=t.isArray(i)?i:i.split(" ");t.each(s,function(e){t.contains(r,e)||r.push(e)}),n.className=e.trim(r.join(" "))},i.removeClass=function(n,i){var r=t.isString(n.className)?n.className.split(" "):[],s=t.isArray(i)?i:i.split(" ");n.className=e.trim(t.difference(r,s).join(" "))},i.toggleClass=function(e,n,r){var s=i.hasClass(e,n);r=t.isBoolean(r)?r:!s,r!==s&&(r?i.addClass(e,n):i.removeClass(e,n))},i.emptyElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},i.addStyleSheet=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},i.empty=function(e){if(e)for(;e.childElementCount>0;)e.removeChild(e.children[0])},i.bounds=function(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;if(e.getBoundingClientRect){var n=e.getBoundingClientRect(e),i=window.pageYOffset,r=window.pageXOffset;if(!(n.width||n.height||n.left||n.top))return t;t.left=n.left+r,t.right=n.right+r,t.top=n.top+i,t.bottom=n.bottom+i,t.width=n.right-n.left,t.height=n.bottom-n.top}else{t.width=0|e.offsetWidth,t.height=0|e.offsetHeight;do t.left+=0|e.offsetLeft,t.top+=0|e.offsetTop;while(e=e.offsetParent);t.right=t.left+t.width,t.bottom=t.top+t.height}return t},i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){return{hasClass:function(e,t){var n=" "+t+" ";return 1===e.nodeType&&(" "+e.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(n)>=0}}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(44)],r=function(e){function t(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}function n(t,n,i){if(""===n||void 0===n||null===n)return"";var r=i?" !important":"";return"string"==typeof n&&isNaN(n)?/png|gif|jpe?g/i.test(n)&&n.indexOf("url")<0?"url("+n+")":n+r:0===n||"z-index"===t||"opacity"===t?""+n+r:/color/i.test(t)?"#"+e.pad(n.toString(16).replace(/^0x/i,""),6)+r:Math.ceil(n)+"px"+r}var i,r={},s=function(e,t){i||(i=document.createElement("style"),i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i));var n=e+JSON.stringify(t).replace(/"/g,""),s=document.createTextNode(n);r[e]&&i.removeChild(r[e]),r[e]=s,i.appendChild(s)},o=function(e,i){if(void 0!==e&&null!==e){void 0===e.length&&(e=[e]);var r,s={};for(r in i)s[r]=n(r,i[r]);for(var o=0;o<e.length;o++){var a,l=e[o];if(void 0!==l&&null!==l)for(r in s)a=t(r),l.style[a]!==s[r]&&(l.style[a]=s[r])}}},a=function(e){for(var t in r)t.indexOf(e)>=0&&(i.removeChild(r[t]),delete r[t])},l=function(e,t){var n="transform",i={};t=t||"",i[n]=t,i["-webkit-"+n]=t,i["-ms-"+n]=t,i["-moz-"+n]=t,i["-o-"+n]=t,o(e,i)},c=function(e,t){var n="rgb";e?(e=String(e).replace("#",""),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2])):e="000000";var i=[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)];return void 0!==t&&100!==t&&(n+="a",i.push(t/100)),n+"("+i.join(",")+")"};return{css:s,style:o,clearCss:a,transform:l,hexToRgba:c}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(50),n(49),n(51)],r=function(e,t,n,i){function r(e){return e&&e.indexOf("://")>=0&&e.split("/")[2]!==window.location.href.split("/")[2]}function s(e,t,n){return function(){e("Error loading file",t,n)}}function o(e,t,n,i,r){return function(){if(4===e.readyState)switch(e.status){case 200:a(e,t,n,i,r)();break;case 404:i("File not found",t,e)}}}function a(t,i,r,s,o){return function(){var a,l;if(o)r(t);else{try{if(a=t.responseXML,a&&(l=a.firstChild,a.lastChild&&"parsererror"===a.lastChild.nodeName))return void(s&&s("Invalid XML",i,t))}catch(c){}if(a&&l)return r(t);var u=n.parseXML(t.responseText);if(!u||!u.firstChild)return void(s&&s(t.responseText?"Invalid XML":i,i,t));t=e.extend({},t,{responseXML:u}),r(t)}}}var l={};return l.ajax=function(e,n,l,c){var u,d=!1;if(e.indexOf("#")>0&&(e=e.replace(/#.*$/,"")),r(e)&&t.exists(window.XDomainRequest))u=new window.XDomainRequest,u.onload=a(u,e,n,l,c),u.ontimeout=u.onprogress=function(){},u.timeout=5e3;else{if(!t.exists(window.XMLHttpRequest))return l&&l("",e,u),u;u=new window.XMLHttpRequest,u.onreadystatechange=o(u,e,n,l,c)}u.overrideMimeType&&u.overrideMimeType("text/xml"),u.onerror=s(l,e,u);var m=i.tryCatch(function(){u.open("GET",e,!0)});return m instanceof i.Error&&(d=!0),setTimeout(function(){if(d)return void(l&&l(e,e,u));var t=i.tryCatch(function(){u.send()});t instanceof i.Error&&l&&l(e,e,u)},0),u},l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(58),n(45),n(50),n(49),n(59)],r=function(e,t,n,i,r){var s={};return s.repo=t.memoize(function(){var t=r.split("+")[0],i=e.repo+t+"/";return n.isHTTPS()?i.replace("http://","https://ssl."):i}),s.versionCheck=function(e){var t=("0"+e).split(/\W/),n=r.split(/\W/),i=parseFloat(t[0]),s=parseFloat(n[0]);return i>s?!1:i===s&&parseFloat("0"+t[1])>parseFloat(n[1])?!1:!0},s.loadFrom=function(){return i.getScriptPath("jwplayer.js")},s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){return{repo:"http://p.jwpcdn.com/player/v/",SkinsIncluded:["seven"],SkinsLoadable:["beelden","bekle","five","glow","roundster","six","stormtrooper","vapor"]}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){return"7.2.0-alpha.0+local.2015-10-14-14-57-19-905"}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(43),n(44),n(48)],r=function(e,t,n){var i=t.xmlAttribute,r=e.localName,s=e.textContent,o=e.numChildren,a="media",l=function(e,t){function c(e){var t={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return t[e]?t[e]:e}var u,d,m="tracks",p=[];for(d=0;d<o(e);d++)if(u=e.childNodes[d],u.prefix===a){if(!r(u))continue;switch(r(u).toLowerCase()){case"content":i(u,"duration")&&(t.duration=n.seconds(i(u,"duration"))),o(u)>0&&(t=l(u,t)),i(u,"url")&&(t.sources||(t.sources=[]),t.sources.push({file:i(u,"url"),type:i(u,"type"),width:i(u,"width"),label:i(u,"label")}));break;case"title":t.title=s(u);break;case"description":t.description=s(u);break;case"guid":t.mediaid=s(u);break;case"thumbnail":t.image||(t.image=i(u,"url"));break;case"player":break;case"group":l(u,t);break;case"subtitle":var f={};f.file=i(u,"url"),f.kind="captions",i(u,"lang").length>0&&(f.label=c(i(u,"lang"))),p.push(f)}}for(t.hasOwnProperty(m)||(t[m]=[]),d=0;d<p.length;d++)t[m].push(p[d]);return t};return l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(62),n(63)],r=function(e,t,n){var i={sources:[],tracks:[]},r=function(r){r=r||{},e.isArray(r.tracks)||delete r.tracks;var s=e.extend({},i,r);e.isObject(s.sources)&&!e.isArray(s.sources)&&(s.sources=[t(s.sources)]),e.isArray(s.sources)&&0!==s.sources.length||(s.sources=r.levels?r.levels:[t(r)]);for(var o=0;o<s.sources.length;o++){var a=s.sources[o];if(a){var l=a["default"];a["default"]=l?"true"===l.toString():!1,s.sources[o].label||(s.sources[o].label=o.toString()),s.sources[o]=t(s.sources[o])}}return s.sources=e.compact(s.sources),e.isArray(s.tracks)||(s.tracks=[]),e.isArray(s.captions)&&(s.tracks=s.tracks.concat(s.captions),delete s.captions),s.tracks=e.compact(e.map(s.tracks,n)),s
};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(44),n(45)],r=function(e,t,n){var i={"default":!1},r=function(r){if(r&&r.file){var s=n.extend({},i,r);s.file=t.trim(""+s.file);var o=/^[^\/]+\/(?:x-)?([^\/]+)$/;if(o.test(s.type)&&(s.type=s.type.replace(o,"$1")),!s.type)if(e.isYouTube(s.file))s.type="youtube";else if(e.isRtmp(s.file))s.type="rtmp";else{var a=t.extension(s.file);s.type=a}if(s.type)return"m3u8"===s.type&&(s.type="hls"),"smil"===s.type&&(s.type="rtmp"),"m4a"===s.type&&(s.type="aac"),n.each(s,function(e,t){""===e&&delete s[t]}),s}};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45)],r=function(e){var t={kind:"captions","default":!1},n=function(n){return n&&n.file?e.extend({},t,n):void 0};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e={DRAG:"drag",DRAG_START:"dragStart",DRAG_END:"dragEnd",CLICK:"click",DOUBLE_CLICK:"doubleClick",TAP:"tap",DOUBLE_TAP:"doubleTap",OVER:"over",OUT:"out"},t={COMPLETE:"complete",ERROR:"error",JWPLAYER_AD_CLICK:"adClick",JWPLAYER_AD_COMPANIONS:"adCompanions",JWPLAYER_AD_COMPLETE:"adComplete",JWPLAYER_AD_ERROR:"adError",JWPLAYER_AD_IMPRESSION:"adImpression",JWPLAYER_AD_META:"adMeta",JWPLAYER_AD_PAUSE:"adPause",JWPLAYER_AD_PLAY:"adPlay",JWPLAYER_AD_SKIPPED:"adSkipped",JWPLAYER_AD_TIME:"adTime",JWPLAYER_CAST_AD_CHANGED:"castAdChanged",JWPLAYER_MEDIA_COMPLETE:"complete",JWPLAYER_READY:"ready",JWPLAYER_MEDIA_SEEK:"seek",JWPLAYER_MEDIA_BEFOREPLAY:"beforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"beforeComplete",JWPLAYER_MEDIA_BUFFER_FULL:"bufferFull",JWPLAYER_DISPLAY_CLICK:"displayClick",JWPLAYER_PLAYLIST_COMPLETE:"playlistComplete",JWPLAYER_CAST_SESSION:"cast",JWPLAYER_MEDIA_ERROR:"mediaError",JWPLAYER_MEDIA_FIRST_FRAME:"firstFrame",JWPLAYER_MEDIA_PLAY_ATTEMPT:"playAttempt",JWPLAYER_MEDIA_LOADED:"loaded",JWPLAYER_MEDIA_SEEKED:"seeked",JWPLAYER_SETUP_ERROR:"setupError",JWPLAYER_ERROR:"error",JWPLAYER_PLAYER_STATE:"state",JWPLAYER_CAST_AVAILABLE:"castAvailable",JWPLAYER_MEDIA_BUFFER:"bufferChange",JWPLAYER_MEDIA_TIME:"time",JWPLAYER_MEDIA_TYPE:"mediaType",JWPLAYER_MEDIA_VOLUME:"volume",JWPLAYER_MEDIA_MUTE:"mute",JWPLAYER_MEDIA_META:"meta",JWPLAYER_MEDIA_LEVELS:"levels",JWPLAYER_MEDIA_LEVEL_CHANGED:"levelsChanged",JWPLAYER_CONTROLS:"controls",JWPLAYER_FULLSCREEN:"fullscreen",JWPLAYER_RESIZE:"resize",JWPLAYER_PLAYLIST_ITEM:"playlistItem",JWPLAYER_PLAYLIST_LOADED:"playlist",JWPLAYER_AUDIO_TRACKS:"audioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"audioTrackChanged",JWPLAYER_LOGO_CLICK:"logoClick",JWPLAYER_CAPTIONS_LIST:"captionsList",JWPLAYER_CAPTIONS_CHANGED:"captionsChanged",JWPLAYER_PROVIDER_CHANGED:"providerChanged",JWPLAYER_PROVIDER_FIRST_FRAME:"providerFirstFrame",JWPLAYER_USER_ACTION:"userAction",JWPLAYER_PROVIDER_CLICK:"providerClick",JWPLAYER_VIEW_TAB_FOCUS:"tabFocus",JWPLAYER_CONTROLBAR_DRAGGING:"scrubbing",JWPLAYER_INSTREAM_CLICK:"instreamClick"};return t.touchEvents=e,t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(45)],r=function(e){var t=[],n=t.slice,i={on:function(e,t,n){if(!s(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n}),this},once:function(t,n,i){if(!s(this,"once",t,[n,i])||!n)return this;var r=this,o=e.once(function(){r.off(t,o),n.apply(this,arguments)});return o._callback=n,this.on(t,o,i)},off:function(t,n,i){var r,o,a,l,c,u,d,m;if(!this._events||!s(this,"off",t,[n,i]))return this;if(!t&&!n&&!i)return this._events=void 0,this;for(l=t?[t]:e.keys(this._events),c=0,u=l.length;u>c;c++)if(t=l[c],a=this._events[t]){if(this._events[t]=r=[],n||i)for(d=0,m=a.length;m>d;d++)o=a[d],(n&&n!==o.callback&&n!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(e){if(!this._events)return this;var t=n.call(arguments,1);if(!s(this,"trigger",e,t))return this;var i=this._events[e],r=this._events.all;return i&&o(i,t,this),r&&o(r,arguments,this),this}},r=/\s+/,s=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var s in n)e[t].apply(e,[s,n[s]].concat(i));return!1}if(r.test(n)){for(var o=n.split(r),a=0,l=o.length;l>a;a++)e[t].apply(e,[o[a]].concat(i));return!1}return!0},o=function(e,t,n){var i,r=-1,s=e.length,o=t[0],a=t[1],l=t[2];switch(t.length){case 0:for(;++r<s;)(i=e[r]).callback.call(i.context||n);return;case 1:for(;++r<s;)(i=e[r]).callback.call(i.context||n,o);return;case 2:for(;++r<s;)(i=e[r]).callback.call(i.context||n,o,a);return;case 3:for(;++r<s;)(i=e[r]).callback.call(i.context||n,o,a,l);return;default:for(;++r<s;)(i=e[r]).callback.apply(i.context||n,t);return}};return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(67),n(45)],r=function(e,t,i){function r(t){i.each(t,function(n,i){t[i]=e.serialize(n)})}function s(e){return e.slice&&"px"===e.slice(-2)&&(e=e.slice(0,-2)),e}function o(t,n){if(-1===n.toString().indexOf("%"))return 0;if("string"!=typeof t||!e.exists(t))return 0;var i=t.indexOf(":");if(-1===i)return 0;var r=parseFloat(t.substr(0,i)),s=parseFloat(t.substr(i+1));return 0>=r||0>=s?0:s/r*100+"%"}var a={autostart:!1,controls:!0,cookies:!0,displaytitle:!0,displaydescription:!0,mobilecontrols:!1,repeat:!1,preload:"metadata",castAvailable:!1,skin:"seven",stretching:t.UNIFORM,mute:!1,volume:90,width:480,height:270},l=function(t){var l=i.extend({},(window.jwplayer||{}).defaults,t);r(l);var c=i.extend({},a,l);if("."===c.base&&(c.base=e.getScriptPath("jwplayer.js")),c.base=(c.base||e.loadFrom()).replace(/\/?$/,"/"),n.p=c.base,c.width=s(c.width),c.height=s(c.height),c.flashplayer=c.flashplayer||e.getScriptPath("jwplayer.js")+"jwplayer.flash.swf","http:"===window.location.protocol&&(c.flashplayer=c.flashplayer.replace("https","http")),c.aspectratio=o(c.aspectratio,c.width),i.isObject(c.skin)&&(c.skinUrl=c.skin.url,c.skinColorInactive=c.skin.inactive,c.skinColorActive=c.skin.active,c.skinColorBackground=c.skin.background,c.skin=i.isString(c.skin.name)?c.skin.name:a.skin),i.isString(c.skin)&&c.skin.indexOf(".xml")>0&&(console.log("JW Player does not support XML skins, please update your config"),c.skin=c.skin.replace(".xml","")),c.aspectratio||delete c.aspectratio,!c.playlist){var u=i.pick(c,["title","description","type","mediaid","image","file","sources","tracks","preload"]);c.playlist=[u]}return c};return l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(48),n(55)],r=function(e,t,n){var i={NONE:"none",FILL:"fill",UNIFORM:"uniform",EXACTFIT:"exactfit"},r=function(e,t,i,r,s){var o="";t=t||1,i=i||1,r=0|r,s=0|s,(1!==t||1!==i)&&(o="scale("+t+", "+i+")"),(r||s)&&(o&&(o+=" "),o+="translate("+r+"px, "+s+"px)"),n.transform(e,o)},s=r,o=function(r,o,a,l,c,u){if(!o)return!1;if(!(a&&l&&c&&u))return!1;r=r||i.UNIFORM;var d=2*Math.ceil(a/2)/c,m=2*Math.ceil(l/2)/u,p="video"===o.tagName.toLowerCase(),f=!1,v="jw-stretch-"+r.toLowerCase(),h=!1;switch(r.toLowerCase()){case i.FILL:d>m?m=d:d=m,f=!0;break;case i.NONE:d=m=1;case i.EXACTFIT:f=!0;break;case i.UNIFORM:default:d>m?(c*m/a>.95?(f=!0,v="jw-stretch-exactfit"):(c*=m,u*=m),h=!0):(u*d/l>.95?(f=!0,v="jw-stretch-exactfit"):(c*=d,u*=d),h=!1),f&&(d=2*Math.ceil(a/2)/c,m=2*Math.ceil(l/2)/u)}if(p){var g={left:"",right:"",width:"",height:""};if(f?(c>a&&(g.left=g.right=Math.ceil((a-c)/2)),u>l&&(g.top=g.bottom=Math.ceil((l-u)/2)),g.width=c,g.height=u,s(o,d,m,0,0)):(f=!1,n.transform(o)),t.isIOS(8)&&f===!1){var y={width:"auto",height:"auto"};r.toLowerCase()===i.UNIFORM&&(y[h===!1?"width":"height"]="100%"),e.extend(g,y)}n.style(o,g)}else o.className=o.className.replace(/\s*jw\-stretch\-(none|exactfit|uniform|fill)/g,"")+" "+v;return f};return{scale:r,stretching:i,stretch:o}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(69),n(85),n(64),n(71),n(48),n(65),n(45)],r=function(e,t,n,i,r,s,o){function a(n){var i=n.get("provider").name||"";return i.indexOf("flash")>=0?t:e}var l={skipoffset:null,tag:null},c=function(e,t,s){function c(e,t){t=t||{},E.tag&&!t.tag&&(t.tag=E.tag),this.trigger(e,t)}function u(e){y._adModel.set("duration",e.duration),y._adModel.set("position",e.position)}function d(e){if(m&&b+1<m.length){y._adModel.set("state","buffering"),t.set("skipButton",!1),b++;var i,r=m[b];p&&(i=p[b]),this.loadItem(r,i)}else e.type===n.JWPLAYER_MEDIA_COMPLETE&&(c.call(this,e.type,e),this.trigger(n.JWPLAYER_PLAYLIST_COMPLETE,{})),this.destroy()}var m,p,f,v,h,g=a(t),y=new g(e,t),b=0,E={},w=o.bind(function(e){e=e||{},e.hasControls=!!t.get("controls"),this.trigger(n.JWPLAYER_INSTREAM_CLICK,e),y&&y._adModel&&(y._adModel.get("state")===i.PAUSED?e.hasControls&&y.instreamPlay():y.instreamPause())},this),A=o.bind(function(){y&&y._adModel&&y._adModel.get("state")===i.PAUSED&&t.get("controls")&&(e.setFullscreen(),e.play())},this);this.type="instream",this.init=function(){f=t.getVideo(),v=t.get("position"),h=t.get("playlist")[t.get("item")],y.on("all",c,this),y.on(n.JWPLAYER_MEDIA_TIME,u,this),y.on(n.JWPLAYER_MEDIA_COMPLETE,d,this),y.init(),f.detachMedia(),t.mediaModel.set("state",i.BUFFERING),e.checkBeforePlay()||0===v&&!f.checkComplete()?(v=0,t.set("preInstreamState","instream-preroll")):f&&f.checkComplete()||t.get("state")===i.COMPLETE?t.set("preInstreamState","instream-postroll"):t.set("preInstreamState","instream-midroll");var o=t.get("state");return(o===i.PLAYING||o===i.BUFFERING)&&f.pause(),s.setupInstream(y._adModel),y._adModel.set("state",i.BUFFERING),s.clickHandler().setAlternateClickHandlers(r.noop,null),this.setText("Loading ad"),this},this.loadItem=function(e,i){return r.isAndroid(2.3)?void this.trigger({type:n.JWPLAYER_ERROR,message:"Error loading instream: Cannot play instream on Android 2.3"}):(o.isArray(e)&&(m=e,p=i,e=m[b],p&&(i=p[b])),this.trigger(n.JWPLAYER_PLAYLIST_ITEM,{index:b,item:e}),E=o.extend({},l,i),y.load(e),this.addClickHandler(),void(E.skipoffset&&(y._adModel.set("skipMessage",E.skipMessage),y._adModel.set("skipText",E.skipText),y._adModel.set("skipOffset",E.skipoffset),t.set("skipButton",!0))))},this.play=function(){y.instreamPlay()},this.pause=function(){y.instreamPause()},this.hide=function(){y.hide()},this.addClickHandler=function(){s.clickHandler().setAlternateClickHandlers(w,A),y.on(n.JWPLAYER_MEDIA_META,this.metaHandler,this)},this.skipAd=function(e){var t=n.JWPLAYER_AD_SKIPPED;this.trigger(t,e),d.call(this,{type:t})},this.metaHandler=function(e){e.width&&e.height&&s.resizeMedia()},this.destroy=function(){if(this.off(),t.set("skipButton",!1),y){s.clickHandler()&&s.clickHandler().revertAlternateClickHandlers(),y.instreamDestroy(),s.destroyInstream(),y=null,e.attachMedia();var n=t.get("preInstreamState");switch(n){case"instream-preroll":case"instream-midroll":var i=o.extend({},h);i.starttime=v,t.loadVideo(i),f.play();break;case"instream-postroll":case"instream-idle":f.stop()}}},this.getState=function(){return y&&y._adModel?y._adModel.get("state"):!1},this.setText=function(e){s.setAltText(e?e:"")},this.hide=function(){s.useExternalControls()}};return o.extend(c.prototype,s),c}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(65),n(70),n(64),n(71),n(72)],r=function(e,t,n,i,r,s){var o=function(o,a){function l(){var t=m.getVideo();if(p!==t){if(p=t,!t)return;t.off(),t.on("all",function(t,n){n=e.extend({},n,{type:t}),this.trigger(t,n)},f),t.on(i.JWPLAYER_MEDIA_BUFFER_FULL,d),t.on(i.JWPLAYER_PLAYER_STATE,c),t.attachMedia(),t.mute(a.get("mute")),t.volume(a.get("volume")),m.on("change:state",n,f)}}function c(e){switch(e.newstate){case r.PLAYING:m.set("state",e.newstate);break;case r.PAUSED:m.set("state",e.newstate)}}function u(e){a.trigger(e.type,e),f.trigger(i.JWPLAYER_FULLSCREEN,{fullscreen:e.jwstate})}function d(){m.getVideo().play()}var m,p,f=e.extend(this,t);return o.on(i.JWPLAYER_FULLSCREEN,function(e){this.trigger(i.JWPLAYER_FULLSCREEN,e)},f),this.init=function(){m=(new s).setup({id:a.get("id"),volume:a.get("volume"),fullscreen:a.get("fullscreen"),mute:a.get("mute")}),m.on("fullscreenchange",u),this._adModel=m},f.load=function(e){m.set("item",0),m.set("playlistItem",e),m.setActiveItem(e),l(),m.off(i.JWPLAYER_ERROR),m.on(i.JWPLAYER_ERROR,function(e){this.trigger(i.JWPLAYER_ERROR,e)},f),m.loadVideo(e)},this.instreamDestroy=function(){m&&(m.off(),this.off(),p&&(p.detachMedia(),p.off(),p.destroy()),m=null,o.off(null,null,this),o=null)},f.instreamPlay=function(){m.getVideo()&&m.getVideo().play(!0)},f.instreamPause=function(){m.getVideo()&&m.getVideo().pause(!0)},f};return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(71)],r=function(e){function t(t){return t===e.COMPLETE||t===e.ERROR?e.IDLE:t}return function(e,n,i){if(n=t(n),i=t(i),n!==i){var r=n.replace(/(?:ing|d)$/,""),s={type:r,newstate:n,oldstate:i,reason:e.mediaModel.get("state")};this.trigger(r,s)}}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){return{BUFFERING:"buffering",IDLE:"idle",COMPLETE:"complete",PAUSED:"paused",PLAYING:"playing",ERROR:"error",LOADING:"loading",STALLED:"stalled"}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(48),n(73),n(81),n(82),n(45),n(65),n(84),n(64),n(71)],r=function(e,t,n,i,r,s,o,a,l){var c=function(){function o(e,t){switch(e){case"flashBlocked":return void this.set("flashBlocked",!0);case"flashUnblocked":return void this.set("flashBlocked",!1);case"volume":case"mute":return void this.set(e,t[e]);case a.JWPLAYER_MEDIA_TYPE:this.mediaModel.set("mediaType",t.mediaType);break;case a.JWPLAYER_PLAYER_STATE:return void this.mediaModel.set("state",t.newstate);case a.JWPLAYER_MEDIA_BUFFER:this.set("buffer",t.bufferPercent);case a.JWPLAYER_MEDIA_META:var n=t.duration;r.isNumber(n)&&(this.mediaModel.set("duration",n),this.set("duration",n));break;case a.JWPLAYER_MEDIA_BUFFER_FULL:this.mediaModel.get("playAttempt")?this.playVideo():this.mediaModel.on("change:playAttempt",function(){this.playVideo()},this);break;case a.JWPLAYER_MEDIA_TIME:this.mediaModel.set("position",t.position),this.mediaModel.set("duration",t.duration),this.set("position",t.position),this.set("duration",t.duration);break;case a.JWPLAYER_PROVIDER_CHANGED:this.set("provider",d.getName());break;case a.JWPLAYER_MEDIA_LEVELS:this.setQualityLevel(t.currentQuality,t.levels),this.mediaModel.set("levels",t.levels);break;case a.JWPLAYER_MEDIA_LEVEL_CHANGED:this.setQualityLevel(t.currentQuality,t.levels);break;case a.JWPLAYER_AUDIO_TRACKS:this.setCurrentAudioTrack(t.currentTrack,t.tracks),this.mediaModel.set("audioTracks",t.tracks);break;case a.JWPLAYER_AUDIO_TRACK_CHANGED:this.setCurrentAudioTrack(t.currentTrack,t.tracks);break;case"visualQuality":var i=r.extend({},t);this.mediaModel.set("visualQuality",i)}var s=r.extend({},t,{type:e});this.mediaController.trigger(e,s)}var c,d,m=this,p={},f=e.noop;this.mediaController=r.extend({},s),this.mediaModel=new u,i.model(this),this.set("mediaModel",this.mediaModel),this.setup=function(t){return t.cookies&&(n.model(this),p=n.getAllItems()),r.extend(this.attributes,t,p,{item:0,state:l.IDLE,flashBlocked:!1,fullscreen:!1,compactUI:!1,scrubbing:!1,duration:0,position:0,buffer:0}),e.isMobile()&&this.set("autostart",!1),this.updateProviders(),this},this.getConfiguration=function(){return r.omit(this.clone(),["mediaModel"])},this.updateProviders=function(){c=new t(this.getConfiguration())},this.setQualityLevel=function(e,t){e>-1&&t.length>1&&"youtube"!==d.getName().name&&this.mediaModel.set("currentLevel",parseInt(e))},this.setCurrentAudioTrack=function(e,t){e>-1&&t.length>1&&this.mediaModel.set("currentAudioTrack",parseInt(e))},this.onMediaContainer=function(){var e=this.get("mediaContainer");f.setContainer(e)},this.changeVideoProvider=function(e){this.off("change:mediaContainer",this.onMediaContainer),d&&(d.off(null,null,this),d.getContainer()&&d.remove()),f=new e(m.get("id"),m.getConfiguration());var t=this.get("mediaContainer");t?f.setContainer(t):this.once("change:mediaContainer",this.onMediaContainer),this.set("provider",f.getName()),d=f,d.volume(m.get("volume")),d.mute(m.get("mute")),d.on("all",o,this)},this.destroy=function(){d&&(d.off(null,null,this),d.destroy())},this.getVideo=function(){return d},this.setFullscreen=function(e){e=!!e,e!==m.get("fullscreen")&&m.set("fullscreen",e)},this.chooseProvider=function(e){return c.choose(e).provider},this.setActiveItem=function(e){this.mediaModel.off(),this.mediaModel=new u,this.set("mediaModel",this.mediaModel);var t=e&&e.sources&&e.sources[0];if(void 0!==t){var n=this.chooseProvider(t);if(!n)throw new Error("No suitable provider found");f instanceof n||m.changeVideoProvider(n),f.init&&f.init(e),this.trigger("itemReady",e)}},this.getProviders=function(){return c},this.resetProvider=function(){f=null},this.setVolume=function(e){e=Math.round(e),m.set("volume",e),d&&d.volume(e);var t=0===e;t!==m.get("mute")&&m.setMute(t)},this.setMute=function(t){if(e.exists(t)||(t=!m.get("mute")),m.set("mute",t),d&&d.mute(t),!t){var n=Math.max(10,m.get("volume"));this.setVolume(n)}},this.loadVideo=function(e){if(this.mediaModel.set("playAttempt",!0),this.mediaController.trigger(a.JWPLAYER_MEDIA_PLAY_ATTEMPT),!e){var t=this.get("item");e=this.get("playlist")[t]}this.set("position",e.starttime||0),this.set("duration",e.duration||0),d.load(e)},this.stopVideo=function(){d&&d.stop()},this.playVideo=function(){d.play()},this.setVideoSubtitleTrack=function(e){this.set("captionsIndex",e),d.setSubtitlesTrack&&d.setSubtitlesTrack(e)}},u=c.MediaModel=function(){this.set("state",l.IDLE)};return r.extend(c.prototype,o),r.extend(u.prototype,o),c}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(74),n(76),n(45)],r=function(e,t,n){function i(t){this.providers=e.slice(),this.config=t||{},"flash"===this.config.primary&&s(this.providers,"html5","flash")}function r(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n;return-1}function s(e,t,n){var i=r(e,t),s=r(e,n),o=e[i];e[i]=e[s],e[s]=o}return n.extend(i.prototype,{providerSupports:function(e,t){return e.supports(t)},choose:function(e){e=n.isObject(e)?e:{};for(var i=this.providers.length,r=0;i>r;r++){var s=this.providers[r];if(this.providerSupports(s,e)){var o=i-r-1;return{priority:o,name:s.name,type:e.type,provider:t[s.name]}}}return null}}),i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(45),n(75)],r=function(e,t,n){function i(t){if("hls"===t.type)if(t.androidhls!==!1){var n=e.isAndroidNative;if(n(2)||n(3)||n("4.0"))return!1;if(e.isAndroid())return!0}else if(e.isAndroid())return!1;return null}var r=[{name:"youtube",supports:function(t){return e.isYouTube(t.file,t.type)}},{name:"html5",supports:function(t){var r={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=t.file,o=t.type,a=i(t);if(null!==a)return a;if(e.isRtmp(s,o))return!1;if(!r[o])return!1;if(n.canPlayType){var l=n.canPlayType(r[o]);return!!l}return!1}},{name:"flash",supports:function(n){var i={flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",mpeg:"sound",smil:"rtmp"},r=t.keys(i);if(!e.isFlashSupported())return!1;var s=n.file,o=n.type;return e.isRtmp(s,o)?!0:t.contains(r,o)}}];return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){return document.createElement("video")}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(77),n(79)],r=function(e,t){var n={html5:e,flash:t};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(55),n(48),n(67),n(45),n(64),n(71),n(78),n(65)],r=function(e,t,n,i,r,s,o,a){function l(e,n){t.foreach(e,function(e,t){n.addEventListener(e,t,!1)})}function c(e,n){t.foreach(e,function(e,t){n.removeEventListener(e,t,!1)})}function u(e){if("hls"===e.type)if(e.androidhls!==!1){var n=t.isAndroidNative;if(n(2)||n(3)||n("4.0"))return!1;if(t.isAndroid())return!0}else if(t.isAndroid())return!1;return null}function d(o,d){function E(e){tt.trigger("click",e)}function w(){at&&(T(F(),X,pt.duration),C(pt.duration))}function A(){at&&T(F(),X,J)}function S(){at&&(it=!0,m(st),tt.state===s.STALLED?tt.setState(s.PLAYING):tt.state===s.PLAYING&&(st=setTimeout(B,p)),C(pt.duration),j(pt.currentTime),T(F(),X,J),tt.state===s.PLAYING&&tt.trigger(r.JWPLAYER_MEDIA_TIME,{position:X,duration:J}))}function T(e,t,n){(e!==ot||n!==J)&&(ot=e,tt.trigger(r.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100*e,position:t,duration:n}))}function j(e){X=e}function C(e){J=e,rt>0&&J>rt&&tt.seek(rt)}function x(){tt.trigger(r.JWPLAYER_MEDIA_META,{duration:pt.duration,height:pt.videoHeight,width:pt.videoWidth}),C(pt.duration)}function k(){at&&(it=!0,O())}function D(){at&&(pt.muted&&(pt.muted=!1,pt.muted=!0),x())}function O(){Z||(Z=!0,tt.trigger(r.JWPLAYER_MEDIA_BUFFER_FULL))}function I(){at&&(tt.setState(s.PLAYING),tt.trigger(r.JWPLAYER_PROVIDER_FIRST_FRAME,{}))}function R(){at&&(ct||pt.paused||pt.ended||tt.state!==s.LOADING&&tt.state!==s.ERROR&&(tt.seeking||tt.setState(s.STALLED)))}function _(){at&&(t.log("Error playing media: %o %s",pt.error,pt.src||K.file),tt.trigger(r.JWPLAYER_MEDIA_ERROR,{message:"Error loading media: File could not be played"}))}function M(e){var n;return"array"===t.typeOf(e)&&e.length>0&&(n=i.map(e,function(e,t){return{label:e.label||t}})),n}function L(e){et=e,lt=N(e);var t=M(e);t&&tt.trigger(r.JWPLAYER_MEDIA_LEVELS,{levels:t,currentQuality:lt})}function N(e){var t=Math.max(0,lt),n=d.qualityLabel;if(e)for(var i=0;i<e.length;i++)if(e[i]["default"]&&(t=i),n&&e[i].label===n)return i;return t}function $(){return v||h}function P(e,n){K=et[lt],rt=0,m(st);var i=pt.src!==K.file;i||$()?(J=n,U(),pt.load()):(0===e&&(rt=-1,tt.seek(e)),x(),pt.play()),X=pt.currentTime,v&&O(),t.isIOS()&&tt.getFullScreen()&&(pt.controls=!0),e>0&&tt.seek(e)}function U(){it=!1,Z=!1,ct=u(K),pt.src=K.file,pt.setAttribute("preload",K.preload||"metadata")}function H(){tt.seeking=!1,tt.trigger(r.JWPLAYER_MEDIA_SEEKED)}function q(){tt.trigger("volume",{volume:Math.round(100*pt.volume)}),tt.trigger("mute",{mute:pt.muted})}function B(){at&&pt.currentTime===X&&R()}function F(){var e=pt.buffered,n=pt.duration;return!e||0===e.length||0>=n||1/0===n?0:t.between(e.end(e.length-1)/n,0,1)}function V(){if(at&&tt.state!==s.IDLE&&tt.state!==s.COMPLETE){if(m(st),lt=-1,ut=!0,tt.trigger(r.JWPLAYER_MEDIA_BEFORECOMPLETE),!at)return;G()}}function G(){m(st),tt.setState(s.COMPLETE),ut=!1,tt.trigger(r.JWPLAYER_MEDIA_COMPLETE)}function W(e){dt=!0,Y(e),t.isIOS()&&(pt.controls=!1)}function z(e){dt=!1,Y(e),t.isIOS()&&(pt.controls=!1,pt.paused&&tt.setState(s.PAUSED))}function Y(e){tt.trigger("fullscreenchange",{target:e.target,jwstate:dt})}this.state=s.IDLE,this.seeking=!1,i.extend(this,a),this.trigger=function(e,t){return at?a.trigger.call(this,e,t):void 0};var Q,K,J,X,Z,et,tt=this,nt={click:E,durationchange:w,ended:V,error:_,loadedmetadata:D,canplay:k,playing:I,progress:A,seeked:H,timeupdate:S,volumechange:q,webkitbeginfullscreen:W,webkitendfullscreen:z},it=!1,rt=0,st=-1,ot=-1,at=!0,lt=-1,ct=null,ut=!1,dt=!1,mt=document.getElementById(o),pt=mt?mt.querySelector("video"):void 0;pt=pt||document.createElement("video"),pt.className="jw-video jw-reset",l(nt,pt),y||(pt.controls=!0,pt.controls=!1),pt.setAttribute("x-webkit-airplay","allow"),pt.setAttribute("webkit-playsinline",""),this.stop=function(){at&&(m(st),pt.removeAttribute("src"),f||pt.load(),lt=-1,this.setState(s.IDLE))},this.destroy=function(){c(nt,pt),this.remove(),this.off()},this.init=function(e){at&&(et=e.sources,lt=N(e.sources),this.sendMediaType(e.sources),K=et[lt],X=e.starttime||0,J=e.duration||0,U(e))},this.load=function(e){at&&(L(e.sources),this.sendMediaType(e.sources),v||tt.setState(s.LOADING),P(e.starttime||0,e.duration||0))},this.play=function(){return tt.seeking?(tt.setState(s.LOADING),void tt.once(r.JWPLAYER_MEDIA_SEEKED,tt.play)):void pt.play()},this.pause=function(){m(st),pt.pause(),this.setState(s.PAUSED)},this.seek=function(e){if(at)if(0===rt&&this.trigger(r.JWPLAYER_MEDIA_SEEK,{position:pt.currentTime,offset:e}),it){rt=0;var n=t.tryCatch(function(){tt.seeking=!0,pt.currentTime=e});n instanceof t.Error&&(rt=e)}else rt=e},this.volume=function(e){e=t.between(e/100,0,1),pt.volume=e},this.mute=function(e){pt.muted=!!e},this.checkComplete=function(){return ut},this.detachMedia=function(){return m(st),at=!1,pt},this.attachMedia=function(e){at=!0,e||(it=!1),pt.loop=!1,ut&&G()},this.setContainer=function(e){Q=e,e.appendChild(pt)},this.getContainer=function(){return Q},this.remove=function(){pt&&(pt.removeAttribute("src"),f||pt.load()),m(st),lt=-1,Q===pt.parentNode&&Q.removeChild(pt)},this.setVisibility=function(t){t=!!t,t||g?e.style(Q,{visibility:"visible",opacity:1}):e.style(Q,{visibility:"",opacity:0})},this.resize=function(e,t,i){return n.stretch(i,pt,e,t,pt.videoWidth,pt.videoHeight)},this.setFullscreen=function(e){if(e=!!e){var n=t.tryCatch(function(){var e=pt.webkitEnterFullscreen||pt.webkitEnterFullScreen;e&&e.apply(pt)});return n instanceof t.Error?!1:tt.getFullScreen()}var i=pt.webkitExitFullscreen||pt.webkitExitFullScreen;return i&&i.apply(pt),e},tt.getFullScreen=function(){return dt||!!pt.webkitDisplayingFullscreen},this.setCurrentQuality=function(e){if(lt!==e&&(e=parseInt(e,10),e>=0&&et&&et.length>e)){lt=e,this.trigger(r.JWPLAYER_MEDIA_LEVEL_CHANGED,{currentQuality:e,levels:M(et)});var t=pt.currentTime||0,n=pt.duration;0>=n&&(n=J),tt.setState(s.LOADING),P(t,n||0)}},this.getCurrentQuality=function(){return lt},this.getQualityLevels=function(){return M(et)},this.getName=function(){return{name:b}}}var m=window.clearTimeout,p=256,f=t.isMSIE(),v=t.isMobile(),h=t.isSafari(),g=t.isAndroidNative(),y=t.isIOS(7),b="html5",E=function(){};return E.prototype=o,d.prototype=new E,d}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(64),n(71),n(45)],r=function(e,t,n,i){var r=e.noop,s=i.constant(!1),o={supports:s,play:r,load:r,stop:r,volume:r,mute:r,seek:r,resize:r,remove:r,destroy:r,setVisibility:r,setFullscreen:s,getFullscreen:r,getContainer:r,setContainer:s,getName:r,getQualityLevels:r,getCurrentQuality:r,setCurrentQuality:r,getAudioTracks:r,getCurrentAudioTrack:r,setCurrentAudioTrack:r,checkComplete:r,setControls:r,attachMedia:r,detachMedia:r,setState:function(e){var i=this.state||n.IDLE;this.state=e,e!==i&&this.trigger(t.JWPLAYER_PLAYER_STATE,{newstate:e})},sendMediaType:function(e){var n=e[0].type,i="oga"===n||"aac"===n||"mp3"===n||"mpeg"===n||"vorbis"===n;this.trigger(t.JWPLAYER_MEDIA_TYPE,{mediaType:i?"audio":"video"})}};return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(45),n(64),n(71),n(80),n(78),n(65)],r=function(e,t,n,i,r,s,o){function a(e){return e+"_swf_"+c++}function l(l,c){function u(e){if(x)for(var t=0;t<e.length;t++){var n=e[t];if(n.bitrate){var i=Math.round(n.bitrate/1024);n.label=d(i)}}}function d(e){var t=x[e];if(!t){for(var n=1/0,i=x.bitrates.length;i--;){var r=Math.abs(x.bitrates[i]-e);if(r>n)break;n=r}t=x.labels[x.bitrates[i+1]],x[e]=t}return t}function m(){var e=c.hlslabels;if(!e)return null;var t={},n=[];for(var i in e){var r=parseFloat(i);if(!isNaN(r)){var s=Math.round(r);t[s]=e[i],n.push(s)}}return 0===n.length?null:(n.sort(function(e,t){return e-t}),{labels:t,bitrates:n})}var p,f,v,h=null,g=-1,y=!1,b=-1,E=null,w=-1,A=null,S=!0,T=!1,j=function(){return f&&f.__ready},C=function(){f&&f.triggerFlash.apply(f,arguments)},x=m();t.extend(this,o,{init:function(e){"none"===e.preload||c.autostart||(h=e)},load:function(e){h=e,y=!1,this.setState(i.LOADING),C("load",e),this.sendMediaType(e.sources)},play:function(){C("play")},pause:function(){C("pause"),this.setState(i.PAUSED)},stop:function(){C("stop"),b=-1,h=null,this.setState(i.IDLE)},seek:function(e){C("seek",e)},volume:function(e){if(t.isNumber(e)){var n=Math.min(Math.max(0,e),100);j()&&C("volume",n)}},mute:function(e){j()&&C("mute",e)},setState:function(){return s.setState.apply(this,arguments)},checkComplete:function(){return y},attachMedia:function(){S=!0,y&&(this.setState(i.COMPLETE),this.trigger(n.JWPLAYER_MEDIA_COMPLETE),y=!1)},detachMedia:function(){return S=!1,null},getSwfObject:function(e){var t=e.getElementsByTagName("object")[0];return t?(t.off(null,null,this),t):r.embed(c.flashplayer,e,a(l),c.wmode)},getContainer:function(){return p},setContainer:function(r){function s(e){clearTimeout(g),"resume"===e.state?o.trigger.call(a,"flashUnblocked"):g=setTimeout(function(){o.trigger.call(a,"flashBlocked")},250)}if(p!==r){p=r,f=this.getSwfObject(r);var a=this;g=setTimeout(function(){o.trigger.call(a,"flashBlocked")},2e3),f.once("embedded",function(){clearTimeout(g),o.trigger.call(a,"flashUnblocked")},this),f.once("ready",function(){f.once("pluginsLoaded",function(){f.queueCommands=!1,C("setupCommandQueue",f.__commandQueue),f.__commandQueue=[]});var e=t.extend({},c),i=f.triggerFlash("setup",e);i===f?f.__ready=!0:this.trigger(n.JWPLAYER_MEDIA_ERROR,i),h&&C("init",h)},this);var l=[n.JWPLAYER_MEDIA_META,n.JWPLAYER_MEDIA_ERROR,"subtitlesTracks","subtitlesTrackChanged","subtitlesTrackData"],d=[n.JWPLAYER_MEDIA_BUFFER,n.JWPLAYER_MEDIA_TIME],m=[n.JWPLAYER_MEDIA_BUFFER_FULL];f.on(n.JWPLAYER_MEDIA_LEVELS,function(e){u(e.levels),b=e.currentQuality,E=e.levels,this.trigger(e.type,e)},this),f.on(n.JWPLAYER_MEDIA_LEVEL_CHANGED,function(e){u(e.levels),b=e.currentQuality,E=e.levels,this.trigger(e.type,e)},this),f.on(n.JWPLAYER_AUDIO_TRACKS,function(e){w=e.currentTrack,A=e.tracks,this.trigger(e.type,e)},this),f.on(n.JWPLAYER_AUDIO_TRACK_CHANGED,function(e){w=e.currentTrack,A=e.tracks,this.trigger(e.type,e)},this),f.on(n.JWPLAYER_PLAYER_STATE,function(e){var t=e.newstate;t!==i.IDLE&&this.setState(t)},this),f.on(d.join(" "),function(e){"Infinity"===e.duration&&(e.duration=1/0),this.trigger(e.type,e)},this),f.on(l.join(" "),function(e){this.trigger(e.type,e)},this),f.on(m.join(" "),function(e){this.trigger(e.type)},this),f.on(n.JWPLAYER_MEDIA_BEFORECOMPLETE,function(e){y=!0,this.trigger(e.type),S===!0&&(y=!1)},this),f.on(n.JWPLAYER_MEDIA_COMPLETE,function(e){y||(this.setState(i.COMPLETE),this.trigger(e.type))},this),f.on(n.JWPLAYER_MEDIA_SEEK,function(e){this.trigger(n.JWPLAYER_MEDIA_SEEK,e)},this),f.on("visualQuality",function(e){e.reason=e.reason||"api",this.trigger("visualQuality",e),this.trigger(n.JWPLAYER_PROVIDER_FIRST_FRAME,{})},this),f.on(n.JWPLAYER_PROVIDER_CHANGED,function(e){v=e.message,this.trigger(n.JWPLAYER_PROVIDER_CHANGED,e)},this),f.on(n.JWPLAYER_ERROR,function(t){e.log("Error playing media: %o %s",t.code,t.message,t),this.trigger(n.JWPLAYER_MEDIA_ERROR,t)},this),e.isChrome()&&f.on("throttle",s,this)}},remove:function(){b=-1,E=null,r.remove(f)},setVisibility:function(e){e=!!e,p.style.opacity=e?1:0},resize:function(e,t,n){n&&C("stretch",n)},setControls:function(e){C("setControls",e)},setFullscreen:function(e){T=e,C("fullscreen",e)},getFullScreen:function(){return T},setCurrentQuality:function(e){C("setCurrentQuality",e)},getCurrentQuality:function(){return b},setSubtitlesTrack:function(e){C("setSubtitlesTrack",e)},getName:function(){return v?{name:"flash_"+v}:{name:"flash"}},getQualityLevels:function(){return E||h.sources},getAudioTracks:function(){return A},getCurrentAudioTrack:function(){return w},setCurrentAudioTrack:function(e){C("setCurrentAudioTrack",e)},destroy:function(){this.remove(),f&&(f.off(),f=null),p=null,h=null,this.off()}}),this.trigger=function(e,t){return S?o.trigger.call(this,e,t):void 0}}var c=0,u=function(){};return u.prototype=s,l.prototype=new u,l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(65),n(45)],r=function(e,t,n){function i(e,t,n){var i=document.createElement("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function r(r,s,a,l){var c;if(l=l||"opaque",e.isMSIE()){var u=document.createElement("div");s.appendChild(u),u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+a+'" name="'+a+'" tabindex="0"><param name="movie" value="'+r+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="'+l+'"><param name="bgcolor" value="'+o+'"><param name="menu" value="false"></object>';
for(var d=s.getElementsByTagName("object"),m=d.length;m--;)d[m].id===a&&(c=d[m])}else c=document.createElement("object"),c.setAttribute("type","application/x-shockwave-flash"),c.setAttribute("data",r),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("bgcolor",o),c.setAttribute("id",a),c.setAttribute("name",a),i(c,"allowfullscreen","true"),i(c,"allowscriptaccess","always"),i(c,"wmode",l),i(c,"menu","false"),s.appendChild(c,s);return c.className="jw-swf jw-reset",c.style.display="block",c.style.position="absolute",c.style.left=0,c.style.right=0,c.style.top=0,c.style.bottom=0,n.extend(c,t),c.queueCommands=!0,c.triggerFlash=function(t){var n=this;if("setup"!==t&&n.queueCommands||!n.__externalCall){for(var i=n.__commandQueue,r=i.length;r--;)i[r][0]===t&&i.splice(r,1);return i.push(Array.prototype.slice.call(arguments)),n}var s=Array.prototype.slice.call(arguments,1),o=e.tryCatch(function(){if(s.length){var e=JSON.stringify(s);n.__externalCall(t,e)}else n.__externalCall(t)});return o instanceof e.Error&&(console.error(t,o),"setup"===t)?(o.name="Failed to setup flash",o):n},c.__commandQueue=[],c}function s(e){e&&e.parentNode&&(e.style.display="none",e.parentNode.removeChild(e))}var o="#000000";return{embed:r,remove:s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(48)],r=function(e,t){function n(){for(var e={},n=document.cookie.split("; "),i=0;i<n.length;i++){var r=n[i].split("=");if("jwplayer."===r[0].substr(0,9)){var s=r[0].substr(9);e[s]=t.serialize(r[1])}}return e}function i(e){return n()[e]}function r(e,t){document.cookie="jwplayer."+e+"="+t+"; path=/"}function s(e){r(e,"; expires=Thu, 01 Jan 1970 00:00:01 GMT")}function o(){var t=n();e.each(t,function(e,t){s(t)})}function a(t){e.each(l,function(e){t.on("change:"+e,function(t,n){r(e,n)})})}var l=["volume","mute","captionLabel","qualityLabel"];return{model:a,getAllItems:n,getItem:i,setItem:r,removeItem:s,clear:o}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(83),n(64),n(45)],r=function(e,t,n){function i(e){e.mediaController.off(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,e._onPlayAttempt),e.mediaController.off(t.JWPLAYER_PROVIDER_FIRST_FRAME,e._triggerFirstFrame),e.mediaController.off(t.JWPLAYER_MEDIA_TIME,e._onTime)}function r(e){i(e),e._triggerFirstFrame=n.once(function(){var n=e._qoeItem;n.tick(t.JWPLAYER_MEDIA_FIRST_FRAME);var r=n.between(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,t.JWPLAYER_MEDIA_FIRST_FRAME);e.mediaController.trigger(t.JWPLAYER_MEDIA_FIRST_FRAME,{loadTime:r}),i(e)}),e._onTime=o(e._triggerFirstFrame),e._onPlayAttempt=function(){e._qoeItem.tick(t.JWPLAYER_MEDIA_PLAY_ATTEMPT)},e.mediaController.once(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,e._onPlayAttempt),e.mediaController.once(t.JWPLAYER_PROVIDER_FIRST_FRAME,e._triggerFirstFrame),e.mediaController.on(t.JWPLAYER_MEDIA_TIME,e._onTime)}function s(n){function i(n,i,s){n._qoeItem&&s&&n._qoeItem.end(s.get("state")),n._qoeItem=new e,n._qoeItem.tick(t.JWPLAYER_PLAYLIST_ITEM),n._qoeItem.start(i.get("state")),r(n),i.on("change:state",function(e,t,i){n._qoeItem.end(i),n._qoeItem.start(t)})}n.on("change:mediaModel",i)}var o=function(e){var t=Number.MIN_VALUE;return function(n){n.position>t&&e(),t=n.position}};return{model:s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45)],r=function(e){var t=function(){var t={},n={},i={},r={};return{start:function(n){t[n]=e.now(),i[n]=i[n]+1||1},end:function(i){if(t[i]){var r=e.now()-t[i];n[i]=n[i]+r||r}},dump:function(){return{counts:i,sums:n,events:r}},tick:function(t,n){r[t]=n||e.now()},between:function(e,t){return r[t]&&r[e]?r[t]-r[e]:-1}}};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(65)],r=function(e,t){var n=e.extend({get:function(e){return this.attributes=this.attributes||{},this.attributes[e]},set:function(e,t){if(this.attributes=this.attributes||{},this.attributes[e]!==t){var n=this.attributes[e];this.attributes[e]=t,this.trigger("change:"+e,this,t,n)}},clone:function(){return e.clone(this.attributes)}},t);return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(65),n(72),n(70),n(64),n(71),n(45)],r=function(e,t,n,i,r,s){var o=function(e,i){this.model=i,this._adModel=(new t).setup({id:i.get("id"),volume:i.get("volume"),fullscreen:i.get("fullscreen"),mute:i.get("mute")}),this._adModel.on("change:state",n,this);var r=e.getContainer();this.swf=r.querySelector("object")};return o.prototype=s.extend({init:function(){this.swf.on("instream:state",function(e){switch(e.newstate){case r.PLAYING:this._adModel.set("state",e.newstate);break;case r.PAUSED:this._adModel.set("state",e.newstate)}},this).on("instream:time",function(e){this._adModel.set("position",e.position),this._adModel.set("duration",e.duration),this.trigger(i.JWPLAYER_MEDIA_TIME,e)},this).on("instream:complete",function(e){this.trigger(i.JWPLAYER_MEDIA_COMPLETE,e)},this).on("instream:error",function(e){this.trigger(i.JWPLAYER_MEDIA_ERROR,e)},this),this.swf.triggerFlash("instream:init")},instreamDestroy:function(){this._adModel&&(this.off(),this.swf.off(null,null,this),this.swf.triggerFlash("instream:destroy"),this.swf=null,this._adModel.off(),this._adModel=null,this.model=null)},load:function(e){this.swf.triggerFlash("instream:load",e)},instreamPlay:function(){this.swf.triggerFlash("instream:play")},instreamPause:function(){this.swf.triggerFlash("instream:pause")}},e),o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(87),n(65),n(45),n(64)],r=function(e,t,n,i){var r=function(t,r,s,o){function a(){m("Setup Timeout Error","Setup took longer than "+h+" seconds to complete.")}function l(){n.each(v,function(e){e.complete!==!0&&e.running!==!0&&null!==t&&u(e.depends)&&(e.running=!0,c(e))})}function c(e){var n=function(t){t=t||{},d(e,t)};e.method(n,r,t,s,o)}function u(e){return n.all(e,function(e){return v[e].complete})}function d(e,t){"error"===t.type?m(t.msg,t.reason):"complete"===t.type?(clearTimeout(p),f.trigger(i.JWPLAYER_READY)):(e.complete=!0,l())}function m(e,t){clearTimeout(p),f.trigger(i.JWPLAYER_SETUP_ERROR,{message:e+": "+t}),f.destroy()}var p,f=this,v=e.getQueue(),h=20;this.start=function(){p=setTimeout(a,1e3*h),l()},this.destroy=function(){clearTimeout(p),this.off(),v.length=0,t=null,r=null,s=null}};return r.prototype=t,r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(88),n(42),n(91),n(58),n(45),n(48),n(64)],r=function(e,t,i,r,s,o,a){function l(){var e={LOAD_POLYFILLS:{method:c,depends:[]},LOAD_PLUGINS:{method:u,depends:["LOAD_POLYFILLS"]},INIT_PLUGINS:{method:d,depends:["LOAD_PLUGINS","SETUP_VIEW"]},LOAD_YOUTUBE:{method:b,depends:["FILTER_PLAYLIST"]},LOAD_SKIN:{method:y,depends:["LOAD_POLYFILLS"]},LOAD_PLAYLIST:{method:p,depends:["LOAD_POLYFILLS"]},FILTER_PLAYLIST:{method:f,depends:["LOAD_PLAYLIST"]},SETUP_VIEW:{method:E,depends:["LOAD_SKIN"]},SEND_READY:{method:w,depends:["INIT_PLUGINS","LOAD_YOUTUBE","SETUP_VIEW"]}};return e}function c(e){function t(){i===r&&e()}var i=0,r=0;window.Promise||(i++,n.e(1,function(){n(94),r++,t()})),window.btoa&&window.atob||(i++,n.e(2,function(){n(95),r++,t()})),t()}function u(t,n){S=e.loadPlugins(n.get("id"),n.get("plugins")),S.on(a.COMPLETE,t),S.on(a.ERROR,s.partial(m,t)),S.load()}function d(e,t,n){S.setupPlugins(n,t),e()}function m(e,t){A(e,"Could not load plugin",t.message)}function p(e,n){var i=n.get("playlist");s.isString(i)?(T=new t,T.on(a.JWPLAYER_PLAYLIST_LOADED,function(t){n.set("playlist",t.playlist),e()}),T.on(a.JWPLAYER_ERROR,s.partial(v,e)),T.load(i)):e()}function f(e,t,n,i,r){var o=t.get("playlist");return r(o),o=t.get("playlist"),s.isArray(o)&&0!==o.length?void e():void v(e,"Playlist type not supported")}function v(e,t){t&&t.message?A(e,"Error loading playlist",t.message):A(e,"Error loading player","No playable sources found")}function h(e,t){return s.contains(r.SkinsLoadable,e)?t+"skins/"+e+".css":void 0}function g(e){for(var t=document.styleSheets,n=0,i=t.length;i>n;n++)if(t[n].href===e)return!0;return!1}function y(e,t){var n=t.get("skin"),o=t.get("skinUrl");if(s.contains(r.SkinsIncluded,n))return void e();if(o||(o=h(n,t.get("base"))),s.isString(o)&&!g(o)){t.set("skin-loading",!0);var l=!0,c=new i(o,l);c.addEventListener(a.COMPLETE,function(){t.set("skin-loading",!1)}),c.addEventListener(a.ERROR,function(){t.set("skin","seven"),t.set("skin-loading",!1)}),c.load()}s.defer(function(){e()})}function b(e,t){var i=t.get("playlist"),r=s.some(i,function(e){return o.isYouTube(e.file,e.type)});r?n.e(3,function(){var t=n(96);t.register(window.jwplayer),e()}):e()}function E(e,t,n,i){i.setup(),e()}function w(e){e({type:"complete"})}function A(e,t,n){e({type:"error",msg:t,reason:n})}var S,T;return{getQueue:l,error:A}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(89),n(92),n(93),n(90)],r=function(e,t,n,i){var r={},s={},o=function(n,i){return s[n]=new e(new t(r),i),s[n]},a=function(e,t,s,o){var a=i.getPluginName(e);r[a]||(r[a]=new n(e)),r[a].registerPlugin(e,t,s,o)};return{loadPlugins:o,registerPlugin:a}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(90),n(48),n(64),n(65),n(45),n(91)],r=function(e,t,n,i,r,s){function o(e,t,n){return function(){var i=e.getContainer().getElementsByClassName("jw-overlays")[0];i&&(i.appendChild(n),n.left=i.style.left,n.top=i.style.top,t.displayArea=i)}}function a(e){function t(){var t=e.displayArea;t&&e.resize(t.clientWidth,t.clientHeight)}return function(){t(),setTimeout(t,400)}}var l=function(l,c){function u(){h||(h=!0,v=s.loaderstatus.COMPLETE,f.trigger(n.COMPLETE))}function d(){if(!y&&(c&&0!==r.keys(c).length||u(),!h)){var i=l.getPlugins();p=r.after(g,u),r.each(c,function(r,o){var a=e.getPluginName(o),l=i[a],c=l.getJS(),u=l.getTarget(),d=l.getStatus();d!==s.loaderstatus.LOADING&&d!==s.loaderstatus.NEW&&(c&&!t.versionCheck(u)&&f.trigger(n.ERROR,{message:"Incompatible player version"}),p())})}}function m(e){if(!y){var i="File not found";e.url&&t.log(i,e.url),this.off(),this.trigger(n.ERROR,{message:i}),d()}}var p,f=r.extend(this,i),v=s.loaderstatus.NEW,h=!1,g=r.size(c),y=!1;this.setupPlugins=function(n,i){var s=[],c=l.getPlugins(),u=i.get("plugins");r.each(u,function(i,l){var d=e.getPluginName(l),m=c[d],p=m.getFlashPath(),f=m.getJS(),v=m.getURL();if(p){var h=r.extend({name:d,swf:p,pluginmode:m.getPluginmode()},i);s.push(h)}var g=t.tryCatch(function(){if(f&&u[v]){var e=document.createElement("div");e.id=n.id+"_"+d,e.className="jw-plugin jw-reset";var t=r.extend({},u[v]),i=m.getNewInstance(n,t,e);i.addToPlayer=o(n,i,e),i.resizeHandler=a(i),n.addPlugin(d,i,e)}});g instanceof t.Error&&t.log("ERROR: Failed to load "+d+".")}),i.set("flashPlugins",s)},this.load=function(){if(t.exists(c)&&"object"!==t.typeOf(c))return void d();v=s.loaderstatus.LOADING,r.each(c,function(e,i){if(t.exists(i)){var r=l.addPlugin(i);r.on(n.COMPLETE,d),r.on(n.ERROR,m)}});var e=l.getPlugins();r.each(e,function(e){e.load()}),d()},this.destroy=function(){y=!0,this.off()},this.getStatus=function(){return v}};return l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(44)],r=function(e){var t={},n=t.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};return t.getPluginPathType=function(t){if("string"==typeof t){t=t.split("?")[0];var i=t.indexOf("://");if(i>0)return n.ABSOLUTE;var r=t.indexOf("/"),s=e.extension(t);return!(0>i&&0>r)||s&&isNaN(s)?n.RELATIVE:n.CDN}},t.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},t.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(64),n(65),n(45)],r=function(e,t,n){var i={},r={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},s=function(s,o){function a(t){u=r.ERROR,c.trigger(e.ERROR,t)}function l(t){u=r.COMPLETE,c.trigger(e.COMPLETE,t)}var c=n.extend(this,t),u=r.NEW;this.addEventListener=this.on,this.removeEventListener=this.off,this.makeStyleLink=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},this.makeScriptTag=function(e){var t=document.createElement("script");return t.src=e,t},this.makeTag=o?this.makeStyleLink:this.makeScriptTag,this.load=function(){if(u===r.NEW){var t=i[s];if(t&&(u=t.getStatus(),2>u))return t.on(e.ERROR,a),void t.on(e.COMPLETE,l);var n=document.getElementsByTagName("head")[0]||document.documentElement,c=this.makeTag(s),d=!1;c.onload=c.onreadystatechange=function(e){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,l(e),c.onload=c.onreadystatechange=null,n&&c.parentNode&&!o&&n.removeChild(c))},c.onerror=a,n.insertBefore(c,n.firstChild),u=r.LOADING,i[s]=this}},this.getStatus=function(){return u}};return s.loaderstatus=r,s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(90),n(93)],r=function(e,t){var n=function(n){this.addPlugin=function(i){var r=e.getPluginName(i);return n[r]||(n[r]=new t(i)),n[r]},this.getPlugins=function(){return n}};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(90),n(64),n(65),n(91),n(45)],r=function(e,t,n,i,r,s){var o={FLASH:0,JAVASCRIPT:1,HYBRID:2},a=function(a){function l(){switch(t.getPluginPathType(a)){case t.pluginPathType.ABSOLUTE:return a;case t.pluginPathType.RELATIVE:return e.getAbsolutePath(a,window.location.href)}}function c(){s.defer(function(){h=r.loaderstatus.COMPLETE,v.trigger(n.COMPLETE)})}function u(){h=r.loaderstatus.ERROR,v.trigger(n.ERROR,{url:a})}var d,m,p,f,v=s.extend(this,i),h=r.loaderstatus.NEW;this.load=function(){if(h===r.loaderstatus.NEW){if(a.lastIndexOf(".swf")>0)return d=a,h=r.loaderstatus.COMPLETE,void v.trigger(n.COMPLETE);if(t.getPluginPathType(a)===t.pluginPathType.CDN)return h=r.loaderstatus.COMPLETE,void v.trigger(n.COMPLETE);h=r.loaderstatus.LOADING;var e=new r(l());e.on(n.COMPLETE,c),e.on(n.ERROR,u),e.load()}},this.registerPlugin=function(e,t,i,s){f&&(clearTimeout(f),f=void 0),p=t,i&&s?(d=s,m=i):"string"==typeof i?d=i:"function"==typeof i?m=i:i||s||(d=e),h=r.loaderstatus.COMPLETE,v.trigger(n.COMPLETE)},this.getStatus=function(){return h},this.getPluginName=function(){return t.getPluginName(a)},this.getFlashPath=function(){if(d)switch(t.getPluginPathType(d)){case t.pluginPathType.ABSOLUTE:return d;case t.pluginPathType.RELATIVE:return a.lastIndexOf(".swf")>0?e.getAbsolutePath(d,window.location.href):e.getAbsolutePath(d,l())}return null},this.getJS=function(){return m},this.getTarget=function(){return p},this.getPluginmode=function(){return void 0!==typeof d&&void 0!==typeof m?o.HYBRID:void 0!==typeof d?o.FLASH:void 0!==typeof m?o.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,n){return new m(e,t,n)},this.getURL=function(){return a}};return a}.apply(t,i),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){var i,r;i=[n(43),n(98),n(99),n(48)],r=function(e,t,n,i){var r=function(r,s){function o(e){i.log("CAPTIONS("+e+")")}function a(e,t){h=[],g={},y={},b=0;var n,i,r,s=t.tracks;for(r=0;r<s.length;r++)n=s[r],i=n.kind.toLowerCase(),("captions"===i||"subtitles"===i)&&(n.file?(c(n),u(n)):n.data&&c(n));var o=f();this.setCaptionsList(o),v()}function l(e,t){return 0===t?void p(e,null):void p(e,h[t-1])}function c(e){"number"!=typeof e.id&&(e.id=e.name||e.file||"cc"+h.length),e.data=e.data||[],e.label||(e.label="Unknown CC",b++,b>1&&(e.label+=" ("+b+")")),h.push(e),g[e.id]=e}function u(e){i.ajax(e.file,function(t){d(t,e)},m,!0)}function d(r,s){var a,l=r.responseXML?r.responseXML.firstChild:null;if(l)for("xml"===e.localName(l)&&(l=l.nextSibling);l.nodeType===l.COMMENT_NODE;)l=l.nextSibling;a=i.tryCatch(l&&"tt"===e.localName(l)?function(){s.data=n(r.responseXML)}:function(){s.data=t(r.responseText)}),a instanceof i.Error&&o(a.message+": "+s.file)}function m(e){o(e)}function p(e,t){e.set("captionsTrack",t),t?e.set("captionLabel",t.label):e.set("captionLabel","Off")}function f(){for(var e=[{id:"off",label:"Off"}],t=0;t<h.length;t++)e.push({id:h[t].id,label:h[t].label});return e}function v(){for(var e=0,t=s.get("captionLabel"),n=0;n<h.length;n++){var i=h[n];if(t&&t===i.label){e=n+1;break}i["default"]||i.defaulttrack?e=n+1:i.autoselect}s.set("captionsIndex",e)}s.on("change:playlistItem",a,this),s.on("change:captionsIndex",l,this),s.mediaController.on("subtitlesTracks",function(e){if(e.tracks.length){s.mediaController.off("meta"),h=[],g={},y={},b=0;for(var t=e.tracks||[],n=0;n<t.length;n++){var i=t[n];i.id=i.name,i.label=i.name||i.language,c(i)}var r=f();this.setCaptionsList(r),v()}},this),s.mediaController.on("subtitlesTrackData",function(e){var t=g[e.name];if(t){t.source=e.source;for(var n=e.captions||[],i=!1,r=0;r<n.length;r++){var s=n[r],o=e.name+"_"+s.begin+"_"+s.end;y[o]||(y[o]=s,t.data.push(s),i=!0)}i&&t.data.sort(function(e,t){return e.begin-t.begin})}},this),s.mediaController.on("meta",function(e){var t=e.metadata;if(t&&"textdata"===t.type){var n=g[t.trackid];if(!n){n={kind:"captions",id:t.trackid,data:[]},c(n);var i=f();this.setCaptionsList(i)}var r=e.position||s.get("position"),o=""+Math.round(10*r)+"_"+t.text,a=y[o];a||(a={begin:r,text:t.text},y[o]=a,n.data.push(a))}},this);var h=[],g={},y={},b=0;this.getCurrentIndex=function(){return s.get("captionsIndex")},this.getCaptionsList=function(){return s.get("captionsList")},this.setCurrentIndex=function(e){r.setCurrentCaptions(e)},this.setCaptionsList=function(e){s.set("captionsList",e)}};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(44)],r=function(e,t){function n(e){var t={},n=e.split("\r\n");1===n.length&&(n=e.split("\n"));var r=1;if(n[0].indexOf(" --> ")>0&&(r=0),n.length>r+1&&n[r+1]){var s=n[r],o=s.indexOf(" --> ");o>0&&(t.begin=i(s.substr(0,o)),t.end=i(s.substr(o+5)),t.text=n.slice(r+1).join("<br/>"))}return t}var i=e.seconds;return function(e){var i=[];e=t.trim(e);var r=e.split("\r\n\r\n");1===r.length&&(r=e.split("\n\n"));for(var s=0;s<r.length;s++)if("WEBVTT"!==r[s]){var o=n(r[s]);o.text&&i.push(o)}if(!i.length)throw new Error("Invalid SRT file");return i}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(44)],r=function(e){function t(e){e||n()}function n(){throw new Error("Invalid DFXP file")}var i=e.seconds;return function(r){t(r);var s=[],o=r.getElementsByTagName("p");t(o),o.length||(o=r.getElementsByTagName("tt:p"),o.length||(o=r.getElementsByTagName("tts:p")));for(var a=0;a<o.length;a++){var l=o[a],c=l.innerHTML||l.textContent||l.text||"",u=e.trim(c).replace(/>\s+</g,"><").replace(/tts?:/g,"");if(u){var d=l.getAttribute("begin"),m=l.getAttribute("dur"),p=l.getAttribute("end"),f={begin:i(d),text:u};p?f.end=i(p):m&&(f.end=f.begin+i(m)),s.push(f)}}return s.length||n(),s}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(61),n(62),n(45),n(73)],r=function(e,t,n,i){function r(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t.choose(i);if(r)return i.type}return null}var s=function(t){return t=n.isArray(t)?t:[t],n.compact(n.map(t,e))};s.filterPlaylist=function(e,t,i,r,s){var a=[];return n.each(e,function(e){e=n.extend({},e),e.sources=o(e.sources,t,i,e.drm||r,e.preload||s),e.sources.length&&(e.file=e.sources[0].file,(e.preload||s)&&(e.preload=e.preload||s),a.push(e))}),a};var o=function(e,s,o,a,l){s&&s.choose||(s=new i({primary:s?"flash":null})),e=n.compact(n.map(e,function(e){return n.isObject(e)?(o&&(e.androidhls=o),(e.drm||a)&&(e.drm=e.drm||a),(e.preload||l)&&(e.preload=e.preload||l),t(e)):void 0}));var c=r(e,s);return n.where(e,{type:c})};return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){return function(e,t){e.getPlaylistIndex=e.getItem;var n={jwPlay:t.play,jwPause:t.pause,jwSetMute:t.setMute,jwLoad:t.load,jwPlaylistItem:t.item,jwGetAudioTracks:t.getAudioTracks,jwDetachMedia:t.detachMedia,jwAttachMedia:t.attachMedia,jwAddEventListener:t.on,jwRemoveEventListener:t.off,jwStop:t.stop,jwSeek:t.seek,jwSetVolume:t.setVolume,jwPlaylistNext:t.next,jwPlaylistPrev:t.prev,jwSetFullscreen:t.setFullscreen,jwGetQualityLevels:t.getQualityLevels,jwGetCurrentQuality:t.getCurrentQuality,jwSetCurrentQuality:t.setCurrentQuality,jwSetCurrentAudioTrack:t.setCurrentAudioTrack,jwGetCurrentAudioTrack:t.getCurrentAudioTrack,jwGetCaptionsList:t.getCaptionsList,jwGetCurrentCaptions:t.getCurrentCaptions,jwSetCurrentCaptions:t.setCurrentCaptions,jwSetCues:t.setCues};e.callInternal=function(e){console.log("You are using the deprecated callInternal method for "+e);var i=Array.prototype.slice.call(arguments,1);n[e].apply(t,i)}}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(48),n(64),n(65),n(71),n(114),n(115),n(116),n(118),n(103),n(120),n(134),n(135),n(137),n(45),n(138)],r=function(e,t,n,i,r,s,o,a,l,c,u,d,m,p,f){var v=e.style,h=e.bounds,g=e.isMobile(),y=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],b=function(b,E){function w(t){var n=e.between(E.get("position")+t,0,E.get("duration"));b.seek(n)}function A(t){var n=e.between(E.get("volume")+t,0,100);b.setVolume(n)}function S(e){return e.ctrlKey||e.metaKey?!1:E.get("controls")?!0:!1}function T(e){if(!S(e))return!0;switch(It||Z(),e.keyCode){case 27:b.setFullscreen(!1);break;case 13:case 32:b.play();break;case 37:It||w(-5);break;case 39:It||w(5);break;case 38:A(10);break;case 40:A(-10);break;case 77:b.setMute();break;case 70:b.setFullscreen();break;default:if(e.keyCode>=48&&e.keyCode<=59){var t=e.keyCode-48,n=t/10*E.get("duration");b.seek(n)}}return/13|32|37|38|39|40/.test(e.keyCode)?(e.preventDefault(),!1):void 0}function j(){Lt=!0,Nt.trigger(t.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!1})}function C(){var e=!Lt;Lt=!1,e&&Nt.trigger(t.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!0}),It||Z()}function x(){Lt=!1,Nt.trigger(t.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!1})}function k(){var e=h(at),n=Math.round(e.width),i=Math.round(e.height);return document.body.contains(at)?n&&i&&(n!==dt||i!==mt)&&(dt=n,mt=i,clearTimeout(_t),_t=setTimeout(Y,50),E.set("containerWidth",n),E.set("containerHeight",i),Nt.trigger(t.JWPLAYER_RESIZE,{width:n,height:i})):(window.removeEventListener("resize",k),g&&window.removeEventListener("orientationchange",k)),e}function D(t,n){n=n||!1,e.toggleClass(at,"jw-flag-casting",n)}function O(t,n){e.toggleClass(at,"jw-flag-cast-available",n),e.toggleClass(lt,"jw-flag-cast-available",n)}function I(t,n,i){i&&e.removeClass(at,"jw-stretch-"+i),e.addClass(at,"jw-stretch-"+n)}function R(t,n){e.toggleClass(at,"jw-flag-compact-player",n)}function _(e){e&&!g&&(e.element().addEventListener("mousemove",N,!1),e.element().addEventListener("mouseout",$,!1))}function M(){E.get("state")!==i.IDLE&&E.get("state")!==i.COMPLETE&&E.get("state")!==i.PAUSED||!E.get("controls")||b.play(),Rt?X():Z()}function L(e){e.link?(b.pause(!0),b.setFullscreen(!1),window.open(e.link,e.linktarget)):b.play()}function N(){clearTimeout(kt)}function $(){Z()}function P(e){Nt.trigger(e.type,e)}function U(t,n){n?(St&&St.destroy(),e.addClass(at,"jw-flag-flash-blocked")):(St&&St.setup(E,at,at),e.removeClass(at,"jw-flag-flash-blocked"))}function H(){E.get("controls")&&b.setFullscreen()}function q(){ht=new s(E,ct),ht.on("click",function(){P({type:t.JWPLAYER_DISPLAY_CLICK}),E.get("controls")&&b.play()}),ht.on("tap",function(){P({type:t.JWPLAYER_DISPLAY_CLICK}),M()}),ht.on("doubleClick",H);var n=new o(E);n.on("click",function(){P({type:t.JWPLAYER_DISPLAY_CLICK}),b.play()}),n.on("tap",function(){P({type:t.JWPLAYER_DISPLAY_CLICK}),M()}),lt.appendChild(n.element()),yt=new a(E),bt=new l(E),bt.on(t.JWPLAYER_LOGO_CLICK,L);var i=document.createElement("div");i.className="jw-controls-right jw-reset",E.get("logo")&&i.appendChild(bt.element()),i.appendChild(yt.element()),lt.appendChild(i),wt=new r(E),wt.setup(E.get("captions")),lt.parentNode.insertBefore(wt.element(),Et.element());var u=E.get("height");g&&("string"==typeof u||u>=1.5*Ot)?e.addClass(at,"jw-flag-touch"):(St=new d,St.setup(E,at,at)),ft=new c(b,E),ft.on(t.JWPLAYER_USER_ACTION,Z),E.on("change:scrubbing",F),E.on("change:compactUI",R),lt.appendChild(ft.element()),at.onfocusin=C,at.onfocusout=x,at.addEventListener("focus",C),at.addEventListener("blur",x),at.addEventListener("keydown",T),at.onmousedown=j}function B(t){return t.get("state")===i.PAUSED?void t.once("change:state",B):void(t.get("scrubbing")===!1&&e.removeClass(at,"jw-flag-dragging"))}function F(t,n){t.off("change:state",B),n?e.addClass(at,"jw-flag-dragging"):B(t)}function V(t,n,i){var r,s=at.className;i=!!i,i&&(s=s.replace(/\s*aspectMode/,""),at.className!==s&&(at.className=s),e.style(at,{display:"block"},i)),e.exists(t)&&e.exists(n)&&(E.set("width",t),E.set("height",n)),r={width:t},e.hasClass(at,"jw-flag-aspect-mode")||(r.height=n),v(at,r,!0),bt&&bt.offset(ft&&bt.position().indexOf("bottom")>=0?ft.element().clientHeight:0),G(n),Y(t,n)}function G(t){if(At=W(t),ft&&!At){var n=It?pt:E;ot(n,n.get("state"))}e.toggleClass(at,"jw-flag-audio-player",At)}function W(e){if(E.get("aspectratio"))return!1;if(p.isString(e)&&e.indexOf("%")>-1)return!1;var t=p.isNumber(e)?e:E.get("containerHeight");return z(t)}function z(e){return e&&Ot*(g?1.75:1)>=e}function Y(t,n){if(!t||isNaN(Number(t))){if(!ct)return;t=ct.clientWidth}if(!n||isNaN(Number(n))){if(!ct)return;n=ct.clientHeight}e.isMSIE(9)&&document.all&&!window.atob&&(t=n="100%");var i=E.getVideo();if(i){var r=i.resize(t,n,E.get("stretching"));r&&(clearTimeout(_t),_t=setTimeout(Y,250)),wt.resize(),ft.checkCompactMode(t)}}function Q(){if(Mt){var e=document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!(!e||e.id!==E.get("id"))}return It?pt.getVideo().getFullScreen():E.getVideo().getFullScreen()}function K(e){var t=E.get("fullscreen"),n=void 0!==e.jwstate?e.jwstate:Q();t!==n&&E.set("fullscreen",n),clearTimeout(_t),_t=setTimeout(Y,200)}function J(t,n){e.removeClass(t,"jw-flag-fullscreen"),n?(e.addClass(t,"jw-flag-fullscreen"),v(document.body,{"overflow-y":"hidden"}),Z()):v(document.body,{"overflow-y":""}),Y()}function X(){Rt=!1,clearTimeout(kt),ft.hideComponents(),e.addClass(at,"jw-flag-user-inactive")}function Z(){Rt||(e.removeClass(at,"jw-flag-user-inactive"),ft.checkCompactMode(ct.clientWidth)),Rt=!0,clearTimeout(kt),kt=setTimeout(X,Dt)}function et(){b.setFullscreen(!1)}function tt(){gt&&gt.setState(E.get("state")),nt(E,E.mediaModel.get("mediaType")),E.mediaModel.on("change:mediaType",nt,this)}function nt(t,n){var i="audio"===n;e.toggleClass(at,"jw-flag-media-audio",i)}function it(t,n){var i="LIVE"===e.adaptiveType(n);e.toggleClass(at,"jw-flag-live",i),Nt.setAltText(i?"Live Broadcast":"")}function rt(){var e=E.get("errorEvent");e.name?Et.updateText(e.name,e.message):Et.updateText(e.message,"")}function st(){var e=E.getVideo();return e?e.isCaster:!1}function ot(t,n){if(e.removeClass(at,"jw-state-"+Tt),e.addClass(at,"jw-state-"+n),Tt=n,st())return void e.addClass(ct,"jw-media-show");switch(n){case i.PLAYING:Y();break;case i.PAUSED:Z();break;case i.ERROR:rt()}}var at,lt,ct,ut,dt,mt,pt,ft,vt,ht,gt,yt,bt,Et,wt,At,St,Tt,jt,Ct,xt,kt=-1,Dt=g?4e3:2e3,Ot=40,It=!1,Rt=!1,_t=-1,Mt=!1,Lt=!1,Nt=p.extend(this,n);this.model=E,this.api=b,at=e.createElement(f({id:E.get("id")}));var $t=E.get("width"),Pt=E.get("height");v(at,{width:$t.toString().indexOf("%")>0?$t:$t+"px",height:Pt.toString().indexOf("%")>0?Pt:Pt+"px"}),Ct=at.requestFullscreen||at.webkitRequestFullscreen||at.webkitRequestFullScreen||at.mozRequestFullScreen||at.msRequestFullscreen,xt=document.exitFullscreen||document.webkitExitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,Mt=Ct&&xt,this.onChangeSkin=function(t,n,i){i&&e.removeClass(at,"jw-skin-"+i),n&&e.addClass(at,"jw-skin-"+n)},this.handleColorOverrides=function(){function t(t,i,r){if(r){t=e.prefix(t,"#"+n+" ");var s={};s[i]=r,e.css(t.join(", "),s)}}var n=E.get("id"),i=E.get("skinColorActive"),r=E.get("skinColorInactive"),s=E.get("skinColorBackground");t([".jw-toggle",".jw-button-color:hover"],"color",i),t([".jw-active-option",".jw-progress",".jw-playlist-container .jw-option.jw-active-option",".jw-playlist-container .jw-option:hover"],"background",i),t([".jw-text",".jw-option",".jw-button-color",".jw-toggle.jw-off",".jw-tooltip-title",".jw-skip .jw-skip-icon",".jw-playlist-container .jw-icon"],"color",r),t([".jw-cue",".jw-knob"],"background",r),t([".jw-playlist-container .jw-option"],"border-bottom-color",r),t([".jw-background-color",".jw-tooltip-title",".jw-playlist",".jw-playlist-container .jw-option"],"background",s),t([".jw-playlist-container ::-webkit-scrollbar"],"border-color",s)},this.setup=function(){this.handleColorOverrides(),E.get("skin-loading")===!0&&(e.addClass(at,"jw-flag-skin-loading"),E.once("change:skin-loading",function(){e.removeClass(at,"jw-flag-skin-loading")})),this.onChangeSkin(E,E.get("skin"),""),E.on("change:skin",this.onChangeSkin,this),ct=at.getElementsByClassName("jw-media")[0],lt=at.getElementsByClassName("jw-controls")[0],ut=at.getElementsByClassName("jw-aspect")[0];var n=at.getElementsByClassName("jw-preview")[0];vt=new u(E),vt.setup(n);var r=at.getElementsByClassName("jw-title")[0];Et=new m(E),Et.setup(r),q(),Z(),E.set("mediaContainer",ct),E.mediaController.on("fullscreenchange",K);for(var s=y.length;s--;)document.addEventListener(y[s],K,!1);window.removeEventListener("resize",k),window.addEventListener("resize",k,!1),g&&(window.removeEventListener("orientationchange",k),window.addEventListener("orientationchange",k,!1)),E.on("change:controls",Ut),Ut(E,E.get("controls")),E.on("change:state",ot),E.on("change:duration",it,this),E.on("change:flashBlocked",U),U(E,E.get("flashBlocked")),b.onPlaylistComplete(et),b.onPlaylistItem(tt),E.on("change:castAvailable",O),O(E,E.get("castAvailable")),E.on("change:castActive",D),D(E,E.get("castActive")),E.get("stretching")&&I(E,E.get("stretching")),E.on("change:stretching",I),ot(E,i.IDLE),E.on("change:fullscreen",Ht),g||(ht.element().addEventListener("mouseout",Z,!1),ht.element().addEventListener("mousemove",Z,!1)),_(ft),_(bt),E.get("aspectratio")&&(e.addClass(at,"jw-flag-aspect-mode"),e.style(ut,{"padding-top":E.get("aspectratio")})),b.on(t.JWPLAYER_READY,function(){k(),V(E.get("width"),E.get("height"))})};var Ut=function(t,n){if(n){var i=It?pt.get("state"):E.get("state");ot(t,i)}n?e.removeClass(at,"jw-flag-controls-disabled"):e.addClass(at,"jw-flag-controls-disabled")},Ht=function(t,n){var i=E.getVideo();Mt?(n?Ct.apply(at):xt.apply(document),J(at,n)):e.isIE()?J(at,n):(pt&&pt.getVideo()&&pt.getVideo().setFullscreen(n),i.setFullscreen(n)),i&&0===i.getName().name.indexOf("flash")&&i.setFullscreen(n)};this.resize=function(e,t){var n=!0;V(e,t,n),k()},this.resizeMedia=Y,this.reset=function(){document.contains(at)&&at.parentNode.replaceChild(jt,at),e.emptyElement(at)},this.setupInstream=function(t){this.instreamModel=pt=t,pt.on("change:controls",Ut,this),pt.on("change:state",ot,this),It=!0,e.addClass(at,"jw-flag-ads"),Z()},this.setAltText=function(e){ft.setAltText(e)},this.useExternalControls=function(){e.addClass(at,"jw-flag-ads-hide-controls")},this.destroyInstream=function(){if(It=!1,pt&&(pt.off(null,null,this),pt=null),this.setAltText(""),e.removeClass(at,"jw-flag-ads"),e.removeClass(at,"jw-flag-ads-hide-controls"),E.getVideo){var t=E.getVideo();t.setContainer(ct)}it(E,E.get("duration")),ht.revertAlternateClickHandlers()},this.addCues=function(e){ft&&ft.addCues(e)},this.clickHandler=function(){return ht},this.controlsContainer=function(){return lt},this.getContainer=this.element=function(){return at},this.getSafeRegion=function(t){var n={x:0,y:0,width:E.get("containerWidth")||0,height:E.get("containerHeight")||0},i=E.get("dock");return i&&i.length&&E.get("controls")&&(n.y=yt.element().clientHeight,n.height-=n.y),t=t||!e.exists(t),t&&E.get("controls")&&(n.height-=ft.element().clientHeight),n},this.destroy=function(){window.removeEventListener("resize",k),window.removeEventListener("orientationchange",k);for(var t=y.length;t--;)document.removeEventListener(y[t],K,!1);E.mediaController&&E.mediaController.off("fullscreenchange",K),at.removeEventListener("keydown",T,!1),St&&St.destroy(),gt&&(E.off("change:state",gt.statusDelegate),gt.destroy(),gt=null),lt&&(ht.element().removeEventListener("mousemove",Z),ht.element().removeEventListener("mouseout",Z)),It&&this.destroyInstream(),e.clearCss("#"+E.get("id"))
}};return b}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(104),n(48),n(64),n(45),n(65),n(105)],r=function(e,t,n,i,r,s){var o=t.style,a={linktarget:"_blank",margin:8,hide:!1,position:"top-right"},l=function(l){function c(){p=i.extend({},a,v),p.hide="true"===p.hide.toString(),u()}function u(){if(m=t.createElement(s({file:p.file})),p.file){if(p.hide&&t.addClass(m,"jw-hide"),p.position!==a.position||p.margin!==a.margin){var n=/(\w+)-(\w+)/.exec(p.position),i={top:"auto",right:"auto",bottom:"auto",left:"auto"};3===n.length&&(i[n[1]]=p.margin,i[n[2]]=p.margin,o(m,i))}var r=new e(m);r.on("click tap",d)}}function d(e){t.exists(e)&&e.stopPropagation&&e.stopPropagation(),f.trigger(n.JWPLAYER_LOGO_CLICK,{link:p.link,linktarget:p.linktarget})}var m,p,f=this,v=i.extend({},l.get("logo"));return i.extend(this,r),this.element=function(){return m},this.offset=function(e){o(m,{marginBottom:e})},this.position=function(){return p.position},this.margin=function(){return parseInt(p.margin,10)},c(),this};return l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(65),n(64),n(45),n(48)],r=function(e,t,n,i){function r(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]}function s(e){var t=e||window.event;return e instanceof MouseEvent?"which"in t?3===t.which:"button"in t?2===t.button:!1:!1}function o(e,t,n){var i;return i=t instanceof MouseEvent||!t.touches&&!t.changedTouches?t:t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0],{type:e,target:t.target,currentTarget:n,pageX:i.pageX,pageY:i.pageY}}function a(e){(e instanceof MouseEvent||e instanceof window.TouchEvent)&&(e.preventManipulation&&e.preventManipulation(),e.cancelable&&e.preventDefault&&e.preventDefault())}var l=!n.isUndefined(window.PointerEvent),c=!l&&i.isMobile(),u=!l&&!c,d=function(e,i){function c(e){(u||l&&"touch"!==e.pointerType)&&v(t.touchEvents.OVER,e)}function d(n){(u||l&&"touch"!==n.pointerType&&!e.contains(document.elementFromPoint(n.x,n.y)))&&v(t.touchEvents.OUT,n)}function m(t){h=t.target,E=r(t,"X"),w=r(t,"Y"),s(t)||(l?t.isPrimary&&(i.preventScrolling&&(g=t.pointerId,e.setPointerCapture(g)),e.addEventListener("pointermove",p),e.addEventListener("pointerup",f),e.addEventListener("pointercancel",f)):u&&(document.addEventListener("mousemove",p),document.addEventListener("mouseup",f)),h.addEventListener("touchmove",p),h.addEventListener("touchend",f),h.addEventListener("touchcancel",f))}function p(e){var n=t.touchEvents,s=6;if(b)v(n.DRAG,e);else{var o=r(e,"X"),l=r(e,"Y"),c=o-E,u=l-w;c*c+u*u>s*s&&(v(n.DRAG_START,e),b=!0,v(n.DRAG,e))}i.preventScrolling&&a(e)}function f(n){var r=t.touchEvents;l?(i.preventScrolling&&e.releasePointerCapture(g),e.removeEventListener("pointermove",p),e.removeEventListener("pointercancel",f),e.removeEventListener("pointerup",f)):u&&(document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)),h.removeEventListener("touchmove",p),h.removeEventListener("touchcancel",f),h.removeEventListener("touchend",f),b?v(r.DRAG_END,n):i.directSelect&&n.target!==e||(l&&n instanceof window.PointerEvent?"touch"===n.pointerType?v(r.TAP,n):v(r.CLICK,n):u?v(r.CLICK,n):(v(r.TAP,n),a(n))),h=null,b=!1}function v(e,r){var s;if(i.enableDoubleTap&&(e===t.touchEvents.CLICK||e===t.touchEvents.TAP))if(n.now()-A<S){var a=e===t.touchEvents.CLICK?t.touchEvents.DOUBLE_CLICK:t.touchEvents.DOUBLE_TAP;s=o(a,r,y),T.trigger(a,s),A=0}else A=n.now();s=o(e,r,y),T.trigger(e,s)}var h,g,y=e,b=!1,E=0,w=0,A=0,S=300;i=i||{},l?(e.addEventListener("pointerdown",m),i.useHover&&(e.addEventListener("pointerover",c),e.addEventListener("pointerout",d))):u&&(e.addEventListener("mousedown",m),i.useHover&&(e.addEventListener("mouseover",c),e.addEventListener("mouseout",d))),e.addEventListener("touchstart",m);var T=this;return this.triggerEvent=v,this.destroy=function(){e.removeEventListener("touchstart",m),e.removeEventListener("mousedown",m),h&&(h.removeEventListener("touchmove",p),h.removeEventListener("touchcancel",f),h.removeEventListener("touchend",f)),l&&(i.preventScrolling&&e.releasePointerCapture(g),e.removeEventListener("pointerdown",m),e.removeEventListener("pointermove",p),e.removeEventListener("pointercancel",f),e.removeEventListener("pointerup",f)),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)},this};return n.extend(d.prototype,e),d}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({1:function(e,t,n,i){var r;return'src="'+this.escapeExpression((r=null!=(r=t.file||(null!=e?e.file:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"file",hash:{},data:i}):r))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<div class="jw-logo jw-reset">\n    <img class="jw-logo-image" '+(null!=(r=t["if"].call(e,null!=e?e.file:e,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+">\n</div>"},useData:!0})},function(e,t,n){e.exports=n(107)["default"]},function(e,t,n){"use strict";function i(){var e=new o.HandlebarsEnvironment;return m.extend(e,o),e.SafeString=l["default"],e.Exception=u["default"],e.Utils=m,e.escapeExpression=m.escapeExpression,e.VM=f,e.template=function(t){return f.template(t,e)},e}var r=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var s=n(108),o=r(s),a=n(111),l=r(a),c=n(110),u=r(c),d=n(109),m=r(d),p=n(112),f=r(p),v=n(113),h=r(v),g=i();g.create=i,h["default"](g),g["default"]=g,t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(f(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=s(n.data);o.contextPath=l.appendContextPath(n.data.contextPath,n.name),n={data:o}}return r(t,n)}),e.registerHelper("each",function(e,t){function n(t,n,r){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!r,d&&(c.contextPath=d+t)),a+=i(e[t],{data:c,blockParams:l.blockParams([e[t],t],[d+t,null])})}if(!t)throw new u["default"]("Must pass iterator to #each");var i=t.fn,r=t.inverse,o=0,a="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=l.appendContextPath(t.data.contextPath,t.ids[0])+"."),v(e)&&(e=e.call(this)),t.data&&(c=s(t.data)),e&&"object"==typeof e)if(f(e))for(var m=e.length;m>o;o++)n(o,o,o===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(p&&n(p,o-1),p=h,o++);p&&n(p,o-1,!0)}return 0===o&&(a=r(this)),a}),e.registerHelper("if",function(e,t){return v(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||l.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){v(e)&&(e=e.call(this));var n=t.fn;if(l.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=s(t.data);i.contextPath=l.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function s(e){var t=l.extend({},e);return t._parent=e,t}var o=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0,t.HandlebarsEnvironment=i,t.createFrame=s;var a=n(109),l=o(a),c=n(110),u=o(c),d="3.0.1";t.VERSION=d;var m=6;t.COMPILER_REVISION=m;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};t.REVISION_CHANGES=p;var f=l.isArray,v=l.isFunction,h=l.toString,g="[object Object]";i.prototype={constructor:i,logger:y,log:b,registerHelper:function(e,t){if(h.call(e)===g){if(t)throw new u["default"]("Arg not supported with multiple helpers");l.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(h.call(e)===g)l.extend(this.partials,e);else{if("undefined"==typeof t)throw new u["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var y={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&y.level<=e){var n=y.methodMap[e];(console[n]||console.log).call(console,t)}}};t.logger=y;var b=y.log;t.log=b},function(e,t){"use strict";function n(e){return c[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(u,n):e}function o(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function a(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=s,t.isEmpty=o,t.blockParams=a,t.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,d=/[&<>"'`]/,m=Object.prototype.toString;t.toString=m;var p=function(e){return"function"==typeof e};p(/x/)&&(t.isFunction=p=function(e){return"function"==typeof e&&"[object Function]"===m.call(e)});var p;t.isFunction=p;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===m.call(e):!1};t.isArray=f},function(e,t){"use strict";function n(e,t){var r=t&&t.loc,s=void 0,o=void 0;r&&(s=r.start.line,o=r.start.column,e+=" - "+s+":"+o);for(var a=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=s,this.column=o)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(n>t){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[t];throw new f["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new f["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,r){r.hash&&(i=m.extend({},i,r.hash)),n=t.VM.resolvePartial.call(this,n,i,r);var s=t.VM.invokePartial.call(this,n,i,r);if(null==s&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),s=r.partials[r.name](i,r)),null!=s){if(r.indent){for(var o=s.split("\n"),a=0,l=o.length;l>a&&(o[a]||a+1!==l);a++)o[a]=r.indent+o[a];s=o.join("\n")}return s}throw new f["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){var n=void 0===arguments[1]?{}:arguments[1],s=n.data;i._setup(n),!n.partial&&e.useData&&(s=c(t,s));var o=void 0,a=e.useBlockParams?[]:void 0;return e.useDepths&&(o=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,s,a,o)}if(!t)throw new f["default"]("No environment passed to template");if(!e||!e.main)throw new f["default"]("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new f["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:m.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],a=this.fn(e);return t||r||i||n?o=s(this,e,a,t,n,i,r):o||(o=this.programs[e]=s(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=m.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},i._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new f["default"]("must pass block params");if(e.useDepths&&!o)throw new f["default"]("must pass parent depths");return s(r,t,e[t],n,0,i,o)},i}function s(e,t,n,i,r,s,o){function a(t){var r=void 0===arguments[1]?{}:arguments[1];return n.call(e,t,e.helpers,e.partials,r.data||i,s&&[r.blockParams].concat(s),o&&[t].concat(o))}return a.program=t,a.depth=o?o.length:0,a.blockParams=r||0,a}function o(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e}function a(e,t,n){if(n.partial=!0,void 0===e)throw new f["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}var u=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=s,t.resolvePartial=o,t.invokePartial=a,t.noop=l;var d=n(109),m=u(d),p=n(110),f=u(p),v=n(108)},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=i)}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,n){var i,r;i=[n(48),n(55),n(71),n(45)],r=function(e,t,n,i){var r=t.style,s={back:!0,fontSize:15,fontFamily:"Arial,sans-serif",fontOpacity:100,color:"#FFF",backgroundColor:"#000",backgroundOpacity:100,edgeStyle:null,windowColor:"#FFF",windowOpacity:0,preprocessor:i.identity},o=function(o){function a(t){t=t||"";var n="jw-captions-window jw-reset";t?(y.innerHTML=t,g.className=n+" jw-captions-window-active"):(g.className=n,e.empty(y))}function l(e){v=e,u(p,v)}function c(e,t){var n=e.source,r=t.metadata;return n?r&&i.isNumber(r[n])?r[n]:!1:t.position}function u(e,t){if(e&&e.data&&t){var n=c(e,t);if(n!==!1){var i=e.data;if(!(f>=0&&d(i,f,n))){for(var r=-1,s=0;s<i.length;s++)if(d(i,s,n)){r=s;break}-1===r?a(""):r!==f&&(f=r,a(b.preprocessor(i[f].text)))}}}}function d(e,t,n){return e[t].begin<=n&&(!e[t].end||e[t].end>=n)&&(t===e.length-1||e[t+1].begin>=n)}function m(e,n,i){var r=t.hexToRgba("#000000",i);"dropshadow"===e?n.textShadow="0 2px 1px "+r:"raised"===e?n.textShadow="0 0 5px "+r+", 0 1px 5px "+r+", 0 2px 5px "+r:"depressed"===e?n.textShadow="0 -2px 1px "+r:"uniform"===e&&(n.textShadow="-2px 0 1px "+r+",2px 0 1px "+r+",0 -2px 1px "+r+",0 2px 1px "+r+",-1px 1px 1px "+r+",1px 1px 1px "+r+",1px -1px 1px "+r+",1px 1px 1px "+r)}var p,f,v,h,g,y,b={};h=document.createElement("div"),h.className="jw-captions jw-reset",this.show=function(){h.className="jw-captions jw-captions-enabled jw-reset"},this.hide=function(){h.className="jw-captions jw-reset"},this.populate=function(e){return f=-1,p=e,e?void u(e,v):void a("")},this.resize=function(){var e=h.clientWidth,t=Math.pow(e/400,.6);if(t){var n=b.fontSize*t;r(h,{fontSize:Math.round(n)+"px"})}},this.setup=function(e){if(g=document.createElement("div"),y=document.createElement("span"),g.className="jw-captions-window jw-reset",y.className="jw-captions-text jw-reset",b=i.extend({},s,e),e){var n=b.fontOpacity,a=b.windowOpacity,l=b.edgeStyle,c=b.backgroundColor,u={},d={color:t.hexToRgba(b.color,n),fontFamily:b.fontFamily,fontStyle:b.fontStyle,fontWeight:b.fontWeight,textDecoration:b.textDecoration};a&&(u.backgroundColor=t.hexToRgba(b.windowColor,a)),m(l,d,n),b.back?d.backgroundColor=t.hexToRgba(c,b.backgroundOpacity):null===l&&m("uniform",d),r(g,u),r(y,d)}g.appendChild(y),h.appendChild(g),this.populate(o.get("captionsTrack"))},this.element=function(){return h},o.on("change:playlistItem",function(){v=null,f=-1,a("")},this),o.on("change:captionsTrack",function(e,t){this.populate(t)},this),o.mediaController.on("seek",function(){f=-1},this),o.mediaController.on("time seek",l,this),o.mediaController.on("subtitlesTrackData",function(){u(p,v)},this),o.on("change:state",function(e,t){switch(t){case n.IDLE:case n.ERROR:case n.COMPLETE:this.hide();break;default:this.show()}},this)};return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(104),n(64),n(65),n(45)],r=function(e,t,n,i){var r=function(r,s){function o(e){return r.get("flashBlocked")?void 0:c?void c(e):void m.trigger(e.type===t.touchEvents.CLICK?"click":"tap")}function a(){return u?void u():void m.trigger("doubleClick")}var l,c,u;i.extend(this,n),l=s,this.element=function(){return l};var d=new e(l,{enableDoubleTap:!0});d.on("click tap",o),d.on("doubleClick doubleTap",a),this.clickHandler=o;var m=this;this.setAlternateClickHandlers=function(e,t){c=e,u=t||null},this.revertAlternateClickHandlers=function(){c=null,u=null}};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(65),n(104),n(117),n(45)],r=function(e,t,n,i,r){var s=function(s){r.extend(this,t),this.model=s,this.el=e.createElement(i({}));var o=this;this.iconUI=new n(this.el).on("click tap",function(e){o.trigger(e.type)})};return r.extend(s.prototype,{element:function(){return this.el}}),s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="jw-display-icon-container jw-background-color jw-reset">\n    <div class="jw-icon jw-icon-display jw-button-color jw-reset"></div>\n</div>\n'},useData:!0})},function(e,t,n){var i,r;i=[n(119),n(48),n(45),n(104)],r=function(e,t,n,i){var r=function(e){this.model=e,this.setup(),this.model.on("change:dock",this.render,this)};return n.extend(r.prototype,{setup:function(){var n=this.model.get("dock"),r=this.click.bind(this),s=e(n);this.el=t.createElement(s),new i(this.el).on("click tap",r)},getDockButton:function(e){return t.hasClass(e.target,"jw-dock-button")?e.target:t.hasClass(e.target,"jw-dock-text")?e.target.parentElement.parentElement:e.target.parentElement},click:function(e){var t=this.getDockButton(e),i=t.getAttribute("button"),r=this.model.get("dock"),s=n.findWhere(r,{id:i});s&&s.callback&&s.callback(e)},render:function(){var n=this.model.get("dock"),i=e(n),r=t.createElement(i);this.el.innerHTML=r.innerHTML},element:function(){return this.el}}),r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({1:function(e,t,n,i){var r,s;return'    <div class="jw-dock-button jw-background-color '+(null!=(r=t["if"].call(e,null!=e?e["class"]:e,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?r:"")+' jw-reset" button="'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"id",hash:{},data:i}):s))+'">\n        <div class="jw-icon jw-dock-image jw-reset" '+(null!=(r=t["if"].call(e,null!=e?e.img:e,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?r:"")+'></div>\n        <div class="jw-arrow jw-reset"></div>\n'+(null!=(r=t["if"].call(e,null!=e?e.tooltip:e,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?r:"")+"    </div>\n"},2:function(e,t,n,i){var r;return this.escapeExpression((r=null!=(r=t["class"]||(null!=e?e["class"]:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"class",hash:{},data:i}):r))},4:function(e,t,n,i){var r;return"style='background-image: url(\""+this.escapeExpression((r=null!=(r=t.img||(null!=e?e.img:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"img",hash:{},data:i}):r))+"\")'"},6:function(e,t,n,i){var r;return'        <div class="jw-overlay jw-background-color jw-reset">\n            <span class="jw-text jw-dock-text jw-reset">'+this.escapeExpression((r=null!=(r=t.tooltip||(null!=e?e.tooltip:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"tooltip",hash:{},data:i}):r))+"</span>\n        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<div class="jw-dock jw-reset">\n'+(null!=(r=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"</div>"},useData:!0})},function(e,t,n){var i,r;i=[n(48),n(45),n(65),n(104),n(122),n(121),n(128),n(130),n(132),n(133)],r=function(e,t,n,i,r,s,o,a,l,c){function u(e,t){var n=document.createElement("div");return n.className="jw-icon jw-icon-inline jw-button-color jw-reset "+e,n.style.display="none",t&&new i(n).on("click tap",function(){t()}),{element:function(){return n},toggle:function(e){e?this.show():this.hide()},show:function(){n.style.display=""},hide:function(){n.style.display="none"}}}function d(e){var t=document.createElement("span");return t.className="jw-text jw-reset "+e,t}function m(e){var t=new o(e);return t}function p(e,n){var i=document.createElement("div");return i.className="jw-group jw-controlbar-"+e+"-group jw-reset",t.each(n,function(e){e.element&&(e=e.element()),i.appendChild(e)}),i}function f(t,n){this._api=t,this._model=n,this._isMobile=e.isMobile(),this._compactModeMaxSize=400,this._maxCompactWidth=-1,this.setup()}return t.extend(f.prototype,n,{setup:function(){this.build(),this.initialize()},build:function(){var e,n,i,o,f=new s(this._model,this._api),v=new c("jw-icon-more");this._model.get("visualplaylist")!==!1&&(e=new a("jw-icon-playlist")),this._isMobile||(o=u("jw-icon-volume",this._api.setMute),n=new r("jw-slider-volume","horizontal"),i=new l(this._model,"jw-icon-volume")),this.elements={alt:d("jw-text-alt"),play:u("jw-icon-playback",this._api.play),prev:u("jw-icon-prev",this._api.playlistPrev),next:u("jw-icon-next",this._api.playlistNext),playlist:e,elapsed:d("jw-text-elapsed"),time:f,duration:d("jw-text-duration"),drawer:v,hd:m("jw-icon-hd"),cc:m("jw-icon-cc"),audiotracks:m("jw-icon-audio-tracks"),mute:o,volume:n,volumetooltip:i,cast:u("jw-icon-cast jw-off",this._api.castToggle),fullscreen:u("jw-icon-fullscreen",this._api.setFullscreen)},this.layout={left:[this.elements.play,this.elements.prev,this.elements.playlist,this.elements.next,this.elements.elapsed],center:[this.elements.time,this.elements.alt],right:[this.elements.duration,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.drawer,this.elements.mute,this.elements.cast,this.elements.volume,this.elements.volumetooltip,this.elements.fullscreen],drawer:[this.elements.hd,this.elements.cc,this.elements.audiotracks]},this.menus=t.compact([this.elements.playlist,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.volumetooltip]),this.layout.left=t.compact(this.layout.left),this.layout.center=t.compact(this.layout.center),this.layout.right=t.compact(this.layout.right),this.layout.drawer=t.compact(this.layout.drawer),this.el=document.createElement("div"),this.el.className="jw-controlbar jw-background-color jw-reset",this.elements.left=p("left",this.layout.left),this.elements.center=p("center",this.layout.center),this.elements.right=p("right",this.layout.right),this.el.appendChild(this.elements.left),this.el.appendChild(this.elements.center),this.el.appendChild(this.elements.right)},initialize:function(){this.elements.play.show(),this.elements.fullscreen.show(),this.elements.mute&&this.elements.mute.show(),this.onVolume(this._model,this._model.get("volume")),this.onPlaylist(this._model,this._model.get("playlist")),this.onPlaylistItem(this._model,this._model.get("playlistItem")),this.onMediaModel(this._model,this._model.get("mediaModel")),this.onCastAvailable(this._model,this._model.get("castAvailable")),this.onCaptionsList(this._model,this._model.get("captionsList")),this._model.on("change:volume",this.onVolume,this),this._model.on("change:mute",this.onMute,this),this._model.on("change:playlist",this.onPlaylist,this),this._model.on("change:playlistItem",this.onPlaylistItem,this),this._model.on("change:mediaModel",this.onMediaModel,this),this._model.on("change:castAvailable",this.onCastAvailable,this),this._model.on("change:duration",this.onDuration,this),this._model.on("change:position",this.onElapsed,this),this._model.on("change:fullscreen",this.onFullscreen,this),this._model.on("change:captionsList",this.onCaptionsList,this),this._model.on("change:captionsIndex",this.onCaptionsIndex,this),this._model.on("change:compactUI",this.onCompactUI,this),this.elements.volume&&this.elements.volume.on("update",function(e){var t=e.percentage;this._api.setVolume(t)},this),this.elements.volumetooltip&&(this.elements.volumetooltip.on("update",function(e){var t=e.percentage;this._api.setVolume(t)},this),this.elements.volumetooltip.on("toggleValue",function(){this._api.setMute()},this)),this.elements.playlist&&this.elements.playlist.on("select",function(e){this._model.once("itemReady",function(){this._api.play()},this),this._api.load(e)},this),this.elements.hd.on("select",function(e){this._model.getVideo().setCurrentQuality(e)},this),this.elements.hd.on("toggleValue",function(){this._model.getVideo().setCurrentQuality(0===this._model.getVideo().getCurrentQuality()?1:0)},this),this.elements.cc.on("select",function(e){this._api.setCurrentCaptions(e)},this),this.elements.cc.on("toggleValue",function(){var e=this._model.get("captionsIndex");this._api.setCurrentCaptions(e?0:1)},this),this.elements.audiotracks.on("select",function(e){this._model.getVideo().setCurrentAudioTrack(e)},this),new i(this.elements.duration).on("click tap",function(){"DVR"===e.adaptiveType(this._model.get("duration"))&&this._api.seek(-.1)},this),new i(this.el).on("click tap drag",function(){this.trigger("userAction")},this),this.elements.drawer.on("open-drawer close-drawer",function(t,n){e.toggleClass(this.el,"jw-drawer-expanded",n.isOpen),n.isOpen||this.closeMenus()},this),t.each(this.menus,function(e){e.on("open-tooltip",this.closeMenus,this)},this)},onCaptionsList:function(e,t){var n=e.get("captionsIndex");this.elements.cc.setup(t,n),this.clearCompactMode()},onCaptionsIndex:function(e,t){this.elements.cc.selectItem(t)},onPlaylist:function(e,t){var n=t.length>1;this.elements.next.toggle(n),this.elements.prev.toggle(n),this.elements.playlist&&this.elements.playlist.setup(t,e.get("item"))},onPlaylistItem:function(e){this.elements.time.updateBuffer(0),this.elements.time.render(0),this.elements.duration.innerHTML="00:00",this.elements.elapsed.innerHTML="00:00",this.clearCompactMode();var t=e.get("item");this.elements.playlist&&this.elements.playlist.selectItem(t),this.elements.audiotracks.setup()},onMediaModel:function(n,i){i.on("change:levels",function(e,t){this.elements.hd.setup(t,e.get("currentLevel")),this.clearCompactMode()},this),i.on("change:currentLevel",function(e,t){this.elements.hd.selectItem(t)},this),i.on("change:audioTracks",function(e,n){var i=t.map(n,function(e){return{label:e.name}});this.elements.audiotracks.setup(i,e.get("currentAudioTrack"),{toggle:!1}),this.clearCompactMode()},this),i.on("change:currentAudioTrack",function(e,t){this.elements.audiotracks.selectItem(t)},this),i.on("change:state",function(t,n){"complete"===n&&(this.elements.drawer.closeTooltip(),e.removeClass(this.el,"jw-drawer-expanded"))},this)},onVolume:function(e,t){this.renderVolume(e.get("mute"),t)},onMute:function(e,t){this.renderVolume(t,e.get("volume"))},renderVolume:function(t,n){this.elements.mute&&e.toggleClass(this.elements.mute.element(),"jw-off",t),this.elements.volume&&this.elements.volume.render(t?0:n),this.elements.volumetooltip&&(this.elements.volumetooltip.volumeSlider.render(t?0:n),e.toggleClass(this.elements.volumetooltip.element(),"jw-off",t))},onCastAvailable:function(e,t){this.elements.cast.toggle(t),this.clearCompactMode()},onElapsed:function(t,n){var i,r=t.get("duration");i="DVR"===e.adaptiveType(r)?"-"+e.timeFormat(-r):e.timeFormat(n),this.elements.elapsed.innerHTML=i},onDuration:function(t,n){var i;"DVR"===e.adaptiveType(n)?(i="Live",this.clearCompactMode()):i=e.timeFormat(n),this.elements.duration.innerHTML=i},onFullscreen:function(t,n){e.toggleClass(this.elements.fullscreen.element(),"jw-off",n)},element:function(){return this.el},getVisibleBounds:function(){var t,n=this.el,i=getComputedStyle?getComputedStyle(n):n.currentStyle;return"table"===i.display?e.bounds(n):(n.style.visibility="hidden",n.style.display="table",t=e.bounds(n),n.style.visibility=n.style.display="",t)},setAltText:function(e){this.elements.alt.innerHTML=e},addCues:function(e){this.elements.time&&(t.each(e,function(e){this.elements.time.addCue(e)},this),this.elements.time.drawCues())},closeMenus:function(e){t.each(this.menus,function(t){e&&e.target===t.el||t.closeTooltip(e)})},hideComponents:function(){this.closeMenus(),this.elements.drawer.closeTooltip(),e.removeClass(this.el,"jw-drawer-expanded")},clearCompactMode:function(){this._maxCompactWidth=-1,this._model.set("compactUI",!1)},setCompactModeBounds:function(){if(this.element().offsetWidth>0){var t=this.elements.left.offsetWidth+this.elements.right.offsetWidth;if("LIVE"===e.adaptiveType(this._model.get("duration")))this._maxCompactWidth=t+this.elements.alt.offsetWidth;else{var n=t+(this.elements.center.offsetWidth-this.elements.time.el.offsetWidth),i=.25;this._maxCompactWidth=n/(1-i)}}},checkCompactMode:function(e){-1===this._maxCompactWidth&&this.setCompactModeBounds(),-1!==this._maxCompactWidth&&(this._model.get("compactUI")?e>this._compactModeMaxSize&&e>this._maxCompactWidth&&this._model.set("compactUI",!1):(e<=this._compactModeMaxSize||e<=this._maxCompactWidth)&&this._model.set("compactUI",!0))},onCompactUI:function(n,i){e.removeClass(this.el,"jw-drawer-expanded"),this.elements.drawer.setup(this.layout.drawer,i),(!i||this.elements.drawer.activeContents.length<2)&&t.each(this.layout.drawer,function(e){this.elements.right.insertBefore(e.el,this.elements.drawer.el)},this)}}),f}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(122),n(48),n(125),n(126),n(127)],r=function(e,t,n,i,r,s){var o=i.extend({setup:function(){this.text=document.createElement("span"),this.text.className="jw-text jw-reset",this.img=document.createElement("div"),this.img.className="jw-reset";var e=document.createElement("div");e.className="jw-time-tip jw-background-color jw-reset",e.appendChild(this.img),e.appendChild(this.text),n.removeClass(this.el,"jw-hidden"),this.addContent(e)},image:function(e){n.style(this.img,e)},update:function(e){this.text.innerHTML=e}}),a=t.extend({constructor:function(n,i){this._model=n,this._api=i,this.timeTip=new o("jw-tooltip-time"),this.timeTip.setup(),this.seekThrottled=e.throttle(this.performSeek,400),this._model.on("change:playlistItem",this.onPlaylistItem,this).on("change:position",this.onPosition,this).on("change:duration",this.onDuration,this).on("change:buffer",this.onBuffer,this),t.call(this,"jw-slider-time","horizontal")},setup:function(){t.prototype.setup.apply(this,arguments),this._model.get("playlistItem")&&this.onPlaylistItem(this._model,this._model.get("playlistItem")),this.elementRail.appendChild(this.timeTip.element()),this.elementRail.addEventListener("mousemove",this.showTimeTooltip.bind(this),!1),this.elementRail.addEventListener("mouseout",this.hideTimeTooltip.bind(this),!1)},update:function(n){this.seekTo=this.activeCue&&e.isNumber(this.activeCue.pct)?this.activeCue.pct:n,this.seekThrottled(),t.prototype.update.apply(this,arguments)},dragStart:function(){this._model.set("scrubbing",!0),t.prototype.dragStart.apply(this,arguments)},dragEnd:function(){t.prototype.dragEnd.apply(this,arguments),this._model.set("scrubbing",!1)},onSeeked:function(){this._model.get("scrubbing")&&this.performSeek()
},onBuffer:function(e,t){this.updateBuffer(t)},onPosition:function(e,t){this.updateTime(t,e.get("duration"))},onDuration:function(e,t){this.updateTime(e.get("position"),t)},updateTime:function(e,t){var i=0;if(t){var r=n.adaptiveType(t);"DVR"===r?i=(t-e)/t*100:"VOD"===r&&(i=e/t*100)}this.render(i)},onPlaylistItem:function(t,n){this.reset(),t.mediaModel.on("seeked",this.onSeeked,this);var i=n.tracks;e.each(i,function(e){e&&e.kind&&"thumbnails"===e.kind.toLowerCase()?this.loadThumbnails(e.file):e&&e.kind&&"chapters"===e.kind.toLowerCase()&&this.loadChapters(e.file)},this)},performSeek:function(){var e,t=this._model.get("duration"),i=n.adaptiveType(t);"LIVE"===i||0===t?this._api.play():"DVR"===i?(e=(1-this.seekTo/100)*t,this._api.seek(Math.min(e,-.25))):(e=this.seekTo/100*t,this._api.seek(Math.min(e,t-.25)))},showTimeTooltip:function(e){var t=this._model.get("duration");if(0!==t){var i=n.bounds(this.elementRail),r=e.pageX?e.pageX-i.left:e.x;r=n.between(r,0,i.width);var s=r/i.width,o=t*s;0>t&&(o=t-o);var a;if(this.activeCue)a=this.activeCue.text;else{var l=!0;a=n.timeFormat(o,l),0>t&&Math.abs(o)<1&&(a="Live")}this.timeTip.update(a),this.showThumbnail(o),n.addClass(this.timeTip.el,"jw-open"),this.timeTip.el.style.left=100*s+"%"}},hideTimeTooltip:function(){n.removeClass(this.timeTip.el,"jw-open")},reset:function(){this.resetChapters(),this.resetThumbnails()}});return e.extend(a.prototype,r,s),a}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(123),n(104),n(124),n(48)],r=function(e,t,n,i){var r=e.extend({constructor:function(e,t){this.className=e+" jw-background-color jw-reset",this.orientation=t,this.dragStartListener=this.dragStart.bind(this),this.dragMoveListener=this.dragMove.bind(this),this.dragEndListener=this.dragEnd.bind(this),this.tapListener=this.tap.bind(this),this.setup()},setup:function(){var e={"default":this["default"],className:this.className,orientation:"jw-slider-"+this.orientation};this.el=i.createElement(n(e)),this.elementRail=this.el.getElementsByClassName("jw-slider-container")[0],this.elementBuffer=this.el.getElementsByClassName("jw-buffer")[0],this.elementProgress=this.el.getElementsByClassName("jw-progress")[0],this.elementThumb=this.el.getElementsByClassName("jw-knob")[0],this.userInteract=new t(this.element(),{preventScrolling:!0}),this.userInteract.on("dragStart",this.dragStartListener),this.userInteract.on("drag",this.dragMoveListener),this.userInteract.on("dragEnd",this.dragEndListener),this.userInteract.on("tap click",this.tapListener)},dragStart:function(){this.trigger("dragStart"),this.railBounds=i.bounds(this.elementRail)},dragEnd:function(e){this.dragMove(e),this.trigger("dragEnd")},dragMove:function(e){var t,n,r=this.railBounds=this.railBounds?this.railBounds:i.bounds(this.elementRail);return"horizontal"===this.orientation?(t=e.pageX,n=t<r.left?0:t>r.right?100:100*i.between((t-r.left)/r.width,0,1)):(t=e.pageY,n=t>=r.bottom?0:t<=r.top?100:100*i.between((r.height-(t-r.top))/r.height,0,1)),this.render(n),this.update(n),!1},tap:function(e){this.railBounds=i.bounds(this.elementRail),this.dragMove(e)},update:function(e){this.trigger("update",{percentage:e})},render:function(e){e=Math.max(0,Math.min(e,100)),"horizontal"===this.orientation?(this.elementThumb.style.left=e+"%",this.elementProgress.style.width=e+"%"):(this.elementThumb.style.bottom=e+"%",this.elementProgress.style.height=e+"%")},updateBuffer:function(e){this.elementBuffer.style.width=e+"%"},element:function(){return this.el}});return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(65),n(45)],r=function(e,t){function n(){}var i=function(e,n){var i,r=this;i=e&&t.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},t.extend(i,r,n);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&t.extend(i.prototype,e),i.__super__=r.prototype,i};return n.extend=i,t.extend(n.prototype,e),n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,s=t.helperMissing,o="function",a=this.escapeExpression;return'<div class="'+a((r=null!=(r=t.className||(null!=e?e.className:e))?r:s,typeof r===o?r.call(e,{name:"className",hash:{},data:i}):r))+" "+a((r=null!=(r=t.orientation||(null!=e?e.orientation:e))?r:s,typeof r===o?r.call(e,{name:"orientation",hash:{},data:i}):r))+' jw-reset">\n    <div class="jw-slider-container jw-reset">\n        <div class="jw-rail jw-reset"></div>\n        <div class="jw-buffer jw-reset"></div>\n        <div class="jw-progress jw-reset"></div>\n        <div class="jw-knob jw-reset"></div>\n    </div>\n</div>'},useData:!0})},function(e,t,n){var i,r;i=[n(123),n(48)],r=function(e,t){var n=e.extend({constructor:function(e){this.el=document.createElement("div"),this.el.className="jw-icon jw-icon-tooltip "+e+" jw-button-color jw-reset jw-hidden",this.container=document.createElement("div"),this.container.className="jw-overlay jw-reset",this.openClass="jw-open",this.componentType="tooltip",this.el.appendChild(this.container)},addContent:function(e){this.content&&this.removeContent(),this.content=e,this.container.appendChild(e)},removeContent:function(){this.content&&(this.container.removeChild(this.content),this.content=null)},hasContent:function(){return!!this.content},element:function(){return this.el},openTooltip:function(e){this.trigger("open-"+this.componentType,e,{isOpen:!0}),this.isOpen=!0,t.toggleClass(this.el,this.openClass,this.isOpen)},closeTooltip:function(e){this.trigger("close-"+this.componentType,e,{isOpen:!1}),this.isOpen=!1,t.toggleClass(this.el,this.openClass,this.isOpen)},toggleOpenState:function(e){this.isOpen?this.closeTooltip(e):this.openTooltip(e)}});return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(48),n(98)],r=function(e,t,n){function i(e,t){this.time=e,this.text=t,this.el=document.createElement("div"),this.el.className="jw-cue jw-reset"}e.extend(i.prototype,{align:function(e){this.pct="%"===this.time.toString().slice(-1)?this.time:this.time/e*100,this.el.style.left=this.pct+"%"}});var r={loadChapters:function(e){t.ajax(e,this.chaptersLoaded.bind(this),this.chaptersFailed,!0)},chaptersLoaded:function(t){var i=n(t.responseText);e.isArray(i)&&(e.each(i,this.addCue,this),this.drawCues())},chaptersFailed:function(){},addCue:function(e){this.cues.push(new i(e.begin,e.text))},drawCues:function(){var t=this._model.mediaModel.get("duration");if(!t||0>=t)return void this._model.mediaModel.once("change:duration",this.drawCues,this);var n=this;e.each(this.cues,function(e){e.align(t),e.el.addEventListener("mouseover",function(){n.activeCue=e}),e.el.addEventListener("mouseout",function(){n.activeCue=null}),n.elementRail.appendChild(e.el)})},resetChapters:function(){e.each(this.cues,function(e){e.el.parentNode&&e.el.parentNode.removeChild(e.el)},this),this.cues=[]}};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(48),n(98)],r=function(e,t,n){function i(e){this.begin=e.begin,this.end=e.end,this.img=e.text}var r={loadThumbnails:function(e){e&&(this.vttPath=e.split("?")[0].split("/").slice(0,-1).join("/"),this.individualImage=null,t.ajax(e,this.thumbnailsLoaded.bind(this),this.thumbnailsFailed.bind(this),!0))},thumbnailsLoaded:function(t){var r=n(t.responseText);e.isArray(r)&&(e.each(r,function(e){this.thumbnails.push(new i(e))},this),this.drawCues())},thumbnailsFailed:function(){},chooseThumbnail:function(t){var n=e.sortedIndex(this.thumbnails,{end:t},e.property("end"));n>=this.thumbnails.length&&(n=this.thumbnails.length-1);var i=this.thumbnails[n].img;return i.indexOf("://")<0&&(i=this.vttPath?this.vttPath+"/"+i:i),i},loadThumbnail:function(t){var n=this.chooseThumbnail(t),i={display:"block",margin:"0 auto",backgroundPosition:"0 0"},r=n.indexOf("#xywh");if(r>0)try{var s=/(.+)\#xywh=(\d+),(\d+),(\d+),(\d+)/.exec(n);n=s[1],i.backgroundPosition=-1*s[2]+"px "+-1*s[3]+"px",i.width=s[4],i.height=s[5]}catch(o){return}else this.individualImage||(this.individualImage=new Image,this.individualImage.onload=e.bind(function(){this.individualImage.onload=null,this.timeTip.image({width:this.individualImage.width,height:this.individualImage.height})},this),this.individualImage.src=n);return i.backgroundImage='url("'+n+'")',i},showThumbnail:function(e){this.thumbnails.length<1||this.timeTip.image(this.loadThumbnail(e))},resetThumbnails:function(){this.timeTip.image({backgroundImage:"",width:0,height:0}),this.thumbnails=[]}};return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(125),n(48),n(45),n(104),n(129)],r=function(e,t,n,i,r){var s=e.extend({setup:function(e,s,o){this.iconUI||(this.iconUI=new i(this.el,{useHover:!0,directSelect:!0}),this.toggleValueListener=this.toggleValue.bind(this),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.select.bind(this)),this.reset(),e=n.isArray(e)?e:[],t.toggleClass(this.el,"jw-hidden",e.length<2);var a=e.length>2||2===e.length&&o&&o.toggle===!1,l=!a&&2===e.length;if(t.toggleClass(this.el,"jw-toggle",l),t.toggleClass(this.el,"jw-button-color",!l),this.isActive=a||l,a){t.removeClass(this.el,"jw-off"),this.iconUI.on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener);var c=r(e),u=t.createElement(c);this.addContent(u),this.contentUI=new i(this.content).on("click tap",this.selectListener)}else l&&this.iconUI.on("click tap",this.toggleValueListener);this.selectItem(s)},toggleValue:function(){this.trigger("toggleValue")},select:function(e){if(e.target.parentElement===this.content){var i=t.classList(e.target),r=n.find(i,function(e){return 0===e.indexOf("jw-item")});r&&(this.trigger("select",parseInt(r.split("-")[2])),this.closeTooltipListener())}},selectItem:function(e){if(this.content)for(var n=0;n<this.content.children.length;n++)t.toggleClass(this.content.children[n],"jw-active-option",e===n);else t.toggleClass(this.el,"jw-off",0===e)},reset:function(){t.addClass(this.el,"jw-off"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({1:function(e,t,n,i){var r,s=this.escapeExpression;return"        <li class='jw-text jw-option jw-item-"+s((r=null!=(r=t.index||i&&i.index)?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"index",hash:{},data:i}):r))+" jw-reset'>"+s(this.lambda(null!=e?e.label:e,e))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<ul class="jw-menu jw-background-color jw-reset">\n'+(null!=(r=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"</ul>"},useData:!0})},function(e,t,n){var i,r;i=[n(48),n(45),n(125),n(104),n(131)],r=function(e,t,n,i,r){var s=n.extend({setup:function(n,r){if(this.iconUI||(this.iconUI=new i(this.el,{useHover:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.onSelect.bind(this)),this.reset(),n=t.isArray(n)?n:[],e.toggleClass(this.el,"jw-hidden",n.length<2),n.length>=2){this.iconUI=new i(this.el,{useHover:!0}).on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener);var s=this.menuTemplate(n,r),o=e.createElement(s);this.addContent(o),this.contentUI=new i(this.content),this.contentUI.on("click tap",this.selectListener)}this.originalList=n},menuTemplate:function(e,n){var i=t.map(e,function(e,t){return{active:t===n,label:t+1+".",title:e.title}});return r(i)},onSelect:function(n){var i=n.target;if("UL"!==i.tagName){"LI"!==i.tagName&&(i=i.parentElement);var r=e.classList(i),s=t.find(r,function(e){return 0===e.indexOf("jw-item")});s&&(this.trigger("select",parseInt(s.split("-")[2])),this.closeTooltip())}},selectItem:function(e){this.setup(this.originalList,e)},reset:function(){this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({1:function(e,t,n,i){var r;return null!=(r=t["if"].call(e,null!=e?e.active:e,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.program(4,i,0),data:i}))?r:""},2:function(e,t,n,i){var r,s=this.escapeExpression;return"                <li class='jw-option jw-text jw-active-option jw-item-"+s((r=null!=(r=t.index||i&&i.index)?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"index",hash:{},data:i}):r))+' jw-reset\'>\n                    <span class="jw-label jw-reset"><span class="jw-icon jw-icon-play jw-reset"></span></span>\n                    <span class="jw-name jw-reset">'+s(this.lambda(null!=e?e.title:e,e))+"</span>\n                </li>\n"},4:function(e,t,n,i){var r,s=this.escapeExpression,o=this.lambda;return"                <li class='jw-option jw-text jw-item-"+s((r=null!=(r=t.index||i&&i.index)?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"index",hash:{},data:i}):r))+' jw-reset\'>\n                    <span class="jw-label jw-reset">'+s(o(null!=e?e.label:e,e))+'</span>\n                    <span class="jw-name jw-reset">'+s(o(null!=e?e.title:e,e))+"</span>\n                </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<div class="jw-menu jw-playlist-container jw-background-color jw-reset">\n\n    <div class="jw-tooltip-title jw-reset">\n        <span class="jw-icon jw-icon-inline jw-icon-playlist jw-reset"></span>\n        <span class="jw-text jw-reset">PLAYLIST</span>\n    </div>\n\n    <ul class="jw-playlist jw-reset">\n'+(null!=(r=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"    </ul>\n</div>"},useData:!0})},function(e,t,n){var i,r;i=[n(125),n(122),n(104),n(48)],r=function(e,t,n,i){var r=e.extend({constructor:function(r,s){this._model=r,e.call(this,s),this.volumeSlider=new t("jw-slider-volume jw-volume-tip","vertical"),this.addContent(this.volumeSlider.element()),this.volumeSlider.on("update",function(e){this.trigger("update",e)},this),i.removeClass(this.el,"jw-hidden"),new n(this.el,{useHover:!0,directSelect:!0}).on("click",this.toggleValue,this).on("tap",this.toggleOpenState,this).on("over",this.openTooltip,this).on("out",this.closeTooltip,this),this._model.on("change:volume",this.onVolume,this)},toggleValue:function(){this.trigger("toggleValue")}});return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(125),n(48),n(45),n(104)],r=function(e,t,n,i){var r=e.extend({constructor:function(t){e.call(this,t),this.container.className="jw-overlay-horizontal jw-reset",this.openClass="jw-open-drawer",this.componentType="drawer"},setup:function(e,r){this.iconUI||(this.iconUI=new i(this.el,{useHover:!0,directSelect:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this)),this.reset(),e=n.isArray(e)?e:[],this.activeContents=n.filter(e,function(e){return e.isActive}),t.toggleClass(this.el,"jw-hidden",!r||this.activeContents.length<2),r&&this.activeContents.length>1&&(t.removeClass(this.el,"jw-off"),this.iconUI.on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener),n.each(e,function(e){this.container.appendChild(e.el)},this))},reset:function(){t.addClass(this.el,"jw-off"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45)],r=function(e){var t=function(e){this.model=e,this.model.on("change:playlistItem",this.loadImage,this)};return e.extend(t.prototype,{setup:function(e){this.el=e,this.model.get("playlistItem")&&this.loadImage(this.model,this.model.get("playlistItem"))},loadImage:function(t,n){var i=n.image;e.isString(i)?(i=encodeURI(i),this.el.style.backgroundImage='url("'+i+'")'):this.el.style.backgroundImage=""},element:function(){return this.el}}),t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(136),n(45),n(104),n(59)],r=function(e,t,n,i,r){var s=function(){};return n.extend(s.prototype,{buildArray:function(){var t=r.split("+"),n=t[0],i={items:[{title:"Powered by JW Player "+n,featured:!0,showLogo:!0,link:"//jwplayer.com/learn-more/?m=h&e=o&v="+r}]},s=n.indexOf("-")>0,o=t[1];if(s&&o){var a=o.split(".");i.items.push({title:"build: ("+a[0]+"."+a[1]+")",link:"#"})}var l=this.model.get("provider").name;if(l.indexOf("flash")>=0){var c="Flash Version "+e.flashVersion();i.items.push({title:c,link:"http://www.adobe.com/software/flash/about/"})}return i},buildMenu:function(){var n=this.buildArray();return e.createElement(t(n))},updateHtml:function(){this.el.innerHTML=this.buildMenu().innerHTML},rightClick:function(e){return this.lazySetup(),this.mouseOverContext?!1:(this.hideMenu(),this.showMenu(e),!1)},getOffset:function(e){for(var t=e.target,n=e.offsetX||e.layerX,i=e.offsetY||e.layerY;t!==this.playerElement;)n+=t.offsetLeft,i+=t.offsetTop,t=t.parentNode;return{x:n,y:i}},showMenu:function(t){var n=this.getOffset(t);return this.el.style.left=n.x+"px",this.el.style.top=n.y+"px",e.addClass(this.playerElement,"jw-flag-rightclick-open"),e.addClass(this.el,"jw-open"),!1},hideMenu:function(){this.mouseOverContext||(e.removeClass(this.playerElement,"jw-flag-rightclick-open"),e.removeClass(this.el,"jw-open"))},lazySetup:function(){this.el||(this.el=this.buildMenu(),this.layer.appendChild(this.el),this.playerUI=new i(this.playerElement).on("click tap",this.hideMenu,this),this.documentUI=new i(document).on("click tap",this.hideMenu,this),this.model.on("change:provider",this.updateHtml,this),this.elementUI=new i(this.el,{useHover:!0}).on("over",function(){this.mouseOverContext=!0},this).on("out",function(){this.mouseOverContext=!1},this))},setup:function(e,t,n){this.playerElement=t,this.model=e,this.mouseOverContext=!1,this.layer=n,t.oncontextmenu=this.rightClick.bind(this)},destroy:function(){this.el&&(this.hideMenu(),this.elementUI.off(),this.playerUI.off(),this.documentUI.off(),this.el=null),this.playerElement&&(this.playerElement.oncontextmenu=null,this.playerElement=null),this.model&&(this.model.off("change:provider",this.updateHtml),this.model=null)}}),s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({1:function(e,t,n,i){var r,s,o=t.helperMissing,a="function",l=this.escapeExpression;return'        <li class="jw-reset'+(null!=(r=t["if"].call(e,null!=e?e.featured:e,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?r:"")+'">\n            <a href="'+l((s=null!=(s=t.link||(null!=e?e.link:e))?s:o,typeof s===a?s.call(e,{name:"link",hash:{},data:i}):s))+'" class="jw-reset" target="_top">\n'+(null!=(r=t["if"].call(e,null!=e?e.showLogo:e,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?r:"")+"                "+l((s=null!=(s=t.title||(null!=e?e.title:e))?s:o,typeof s===a?s.call(e,{name:"title",hash:{},data:i}):s))+"\n            </a>\n        </li>\n"},2:function(){return" jw-featured"},4:function(){return'                <span class="jw-icon jw-rightclick-logo jw-reset"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<div class="jw-rightclick jw-reset">\n    <ul class="jw-reset">\n'+(null!=(r=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"    </ul>\n</div>"},useData:!0})},function(e,t,n){var i,r;i=[n(45)],r=function(e){var t=function(e){this.model=e,this.model.on("change:playlistItem",this.playlistItem,this)};return e.extend(t.prototype,{hide:function(){this.el.style.display="none"},show:function(){this.el.style.display=""},setup:function(e){this.el=e;var t=this.el.getElementsByTagName("div");this.title=t[0],this.description=t[1],this.model.get("playlistItem")&&this.playlistItem(this.model,this.model.get("playlistItem"))},playlistItem:function(e,t){if(e.get("displaytitle")||e.get("displaydescription")){var n="",i="";t.title&&e.get("displaytitle")&&(n=t.title),t.description&&e.get("displaydescription")&&(i=t.description),this.updateText(n,i)}else this.hide()},updateText:function(e,t){this.title.innerHTML=e,this.description.innerHTML=t,this.title.firstChild||this.description.firstChild?this.show():this.hide()},element:function(){return this.el}}),t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<div id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" class="jwplayer jw-reset" tabindex="0">\n    <div class="jw-aspect jw-reset"></div>\n    <div class="jw-media jw-reset"></div>\n    <div class="jw-preview jw-reset"></div>\n    <div class="jw-title jw-reset">\n        <div class="jw-title-primary jw-reset"></div>\n        <div class="jw-title-secondary jw-reset"></div>\n    </div>\n    <div class="jw-overlays jw-reset"></div>\n    <div class="jw-controls jw-reset"></div>\n</div>'},useData:!0})},function(e,t,n){var i,r;i=[n(140)],r=function(e){function t(t,n,i,r){return e({id:t,skin:n,title:i,body:r})}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(106);e.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,s=t.helperMissing,o="function",a=this.escapeExpression;return'<div id="'+a((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'"class="jw-skin-'+a((r=null!=(r=t.skin||(null!=e?e.skin:e))?r:s,typeof r===o?r.call(e,{name:"skin",hash:{},data:i}):r))+' jw-error jw-reset">\n    <div class="jw-title jw-reset">\n        <div class="jw-title-primary jw-reset">'+a((r=null!=(r=t.title||(null!=e?e.title:e))?r:s,typeof r===o?r.call(e,{name:"title",hash:{},data:i}):r))+'</div>\n        <div class="jw-title-secondary jw-reset">'+a((r=null!=(r=t.body||(null!=e?e.body:e))?r:s,typeof r===o?r.call(e,{name:"body",hash:{},data:i}):r))+'</div>\n    </div>\n\n    <div class="jw-icon-container jw-reset">\n        <div class="jw-display-icon-container jw-background-color jw-reset">\n            <div class="jw-icon jw-icon-display jw-reset"></div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var i,r;i=[n(88),n(45)],r=function(e,t){return function(n,i){var r=["seek","skipAd","stop","playlistNext","playlistPrev","playlistItem","resize","addButton","removeButton","registerPlugin","attachMedia"];t.each(r,function(e){n[e]=function(){return i[e].apply(i,arguments),n}}),n.registerPlugin=e.registerPlugin}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45)],r=function(e){return function(t,n){var i=["buffer","controls","position","duration","fullscreen","volume","mute","item","stretching","playlist"];e.each(i,function(e){var i=e.slice(0,1).toUpperCase()+e.slice(1);t["get"+i]=function(){return n._model.get(e)}});var r=["getAudioTracks","getCaptionsList","getWidth","getHeight","getCurrentAudioTrack","setCurrentAudioTrack","getCurrentCaptions","setCurrentCaptions","getCurrentQuality","setCurrentQuality","getQualityLevels","getVisualQuality","getConfig","getState","getSafeRegion","isBeforeComplete","isBeforePlay","getProvider","detachMedia"],s=["setControls","setFullscreen","setVolume","setMute","setCues"];e.each(r,function(e){t[e]=function(){return n[e]?n[e].apply(n,arguments):null}}),e.each(s,function(e){t[e]=function(){return n[e].apply(n,arguments),t}})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(45),n(64)],r=function(e,t){return function(n){var i={onBufferChange:t.JWPLAYER_MEDIA_BUFFER,onBufferFull:t.JWPLAYER_MEDIA_BUFFER_FULL,onError:t.JWPLAYER_ERROR,onSetupError:t.JWPLAYER_SETUP_ERROR,onFullscreen:t.JWPLAYER_FULLSCREEN,onMeta:t.JWPLAYER_MEDIA_META,onMute:t.JWPLAYER_MEDIA_MUTE,onPlaylist:t.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:t.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:t.JWPLAYER_PLAYLIST_COMPLETE,onReady:t.JWPLAYER_READY,onResize:t.JWPLAYER_RESIZE,onComplete:t.JWPLAYER_MEDIA_COMPLETE,onSeek:t.JWPLAYER_MEDIA_SEEK,onTime:t.JWPLAYER_MEDIA_TIME,onVolume:t.JWPLAYER_MEDIA_VOLUME,onBeforePlay:t.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:t.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:t.JWPLAYER_DISPLAY_CLICK,onControls:t.JWPLAYER_CONTROLS,onQualityLevels:t.JWPLAYER_MEDIA_LEVELS,onQualityChange:t.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:t.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:t.JWPLAYER_CAPTIONS_CHANGED,onAdError:t.JWPLAYER_AD_ERROR,onAdClick:t.JWPLAYER_AD_CLICK,onAdImpression:t.JWPLAYER_AD_IMPRESSION,onAdTime:t.JWPLAYER_AD_TIME,onAdComplete:t.JWPLAYER_AD_COMPLETE,onAdCompanions:t.JWPLAYER_AD_COMPANIONS,onAdSkipped:t.JWPLAYER_AD_SKIPPED,onAdPlay:t.JWPLAYER_AD_PLAY,onAdPause:t.JWPLAYER_AD_PAUSE,onAdMeta:t.JWPLAYER_AD_META,onCast:t.JWPLAYER_CAST_SESSION,onAudioTrackChange:t.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:t.JWPLAYER_AUDIO_TRACKS},r={onBuffer:"buffer",onPause:"pause",onPlay:"play",onIdle:"idle"};e.each(r,function(t,i){n[i]=e.partial(n.on,t,e)}),e.each(i,function(t,i){n[i]=e.partial(n.on,t,e)})}}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(145);"string"==typeof i&&(i=[[e.id,i,""]]);n(149)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}@font-face{font-family:'jw-icons';src:url("+n(147)+") format('woff'),url("+n(148)+') format(\'truetype\');font-weight:normal;font-style:normal}.jw-icon-inline,.jw-icon-tooltip,.jw-icon-display,.jw-controlbar .jw-menu .jw-option:before{font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}.jw-icon-audio-tracks:before{content:"\\E600"}.jw-icon-buffer:before{content:"\\E601"}.jw-icon-cast:before{content:"\\E603"}.jw-icon-cast.jw-off:before{content:"\\E602"}.jw-icon-cc:before{content:"\\E605"}.jw-icon-cue:before{content:"\\E606"}.jw-icon-menu-bullet:before{content:"\\E606"}.jw-icon-error:before{content:"\\E607"}.jw-icon-fullscreen:before{content:"\\E608"}.jw-icon-fullscreen.jw-off:before{content:"\\E613"}.jw-icon-hd:before{content:"\\E60A"}.jw-watermark:before,.jw-rightclick-logo:before{content:"\\E60B"}.jw-icon-next:before{content:"\\E60C"}.jw-icon-pause:before{content:"\\E60D"}.jw-icon-play:before{content:"\\E60E"}.jw-icon-prev:before{content:"\\E60F"}.jw-icon-replay:before{content:"\\E610"}.jw-icon-volume:before{content:"\\E612"}.jw-icon-volume.jw-off:before{content:"\\E611"}.jw-icon-more:before{content:"\\E614"}.jw-icon-close:before{content:"\\E615"}.jw-icon-playlist:before{content:"\\E616"}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer:focus,.jwplayer .jw-swf{outline:none}.jwplayer:hover .jw-display-icon-container{background-color:#333;background:#333;background-size:#333}.jw-media,.jw-preview,.jw-overlays,.jw-controls{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-overlays{cursor:auto}.jw-media.jw-media-show{visibility:visible;opacity:1}.jw-media video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jw-media video::-webkit-media-controls-start-playback-button{display:none}.jw-controls.jw-controls-disabled{display:none}.jw-controls .jw-controls-right{position:absolute;top:0;right:0}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:normal;color:white;text-align:center;font-variant:normal;font-stretch:normal}.jw-plugin{position:absolute;bottom:2.5em}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto;left:0;right:0;bottom:0;display:block}.jw-cast-screen{width:100%;height:100%}.jw-instream{position:absolute;top:0;right:0;bottom:0;left:0;display:none}.jw-icon-playback:before{content:"\\E60E"}.jw-tab-focus:focus{outline:solid 2px #0b7ef4}.jw-preview,.jw-captions,.jw-title,.jw-overlays,.jw-controls{pointer-events:none}.jw-overlays>div,.jw-media,.jw-controlbar,.jw-dock,.jw-logo,.jw-skip,.jw-display-icon-container{pointer-events:all}.jw-click{position:absolute;width:100%;height:100%}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview,.jw-stretch-uniform .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-display-icon-container{position:relative;top:50%;display:table;height:3.5em;width:3.5em;margin:-1.75em auto 0;cursor:pointer}.jw-display-icon-container .jw-icon-display{position:relative;display:table-cell;text-align:center;vertical-align:middle !important;background-position:50% 50%;background-repeat:no-repeat;font-size:2em}.jw-flag-audio-player .jw-display-icon-container,.jw-flag-dragging .jw-display-icon-container{display:none}.jw-icon{font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}.jw-controlbar{display:table;position:absolute;right:0;left:0;bottom:0;height:2em;padding:0 .25em}.jw-controlbar .jw-hidden{display:none}.jw-controlbar.jw-drawer-expanded .jw-controlbar-left-group,.jw-controlbar.jw-drawer-expanded .jw-controlbar-center-group{opacity:0}.jw-background-color{background-color:#414040}.jw-group{display:table-cell}.jw-controlbar-center-group{width:100%;padding:0 .25em}.jw-controlbar-center-group .jw-slider-time,.jw-controlbar-center-group .jw-text-alt{padding:0}.jw-controlbar-center-group .jw-text-alt{display:none}.jw-controlbar-left-group,.jw-controlbar-right-group{white-space:nowrap}.jw-knob:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-icon-display:hover,.jw-option:before:hover{color:#eee}.jw-icon-inline,.jw-icon-tooltip,.jw-slider-horizontal,.jw-text-elapsed,.jw-text-duration{display:inline-block;height:2em;position:relative;line-height:2em;vertical-align:middle;cursor:pointer}.jw-icon-inline,.jw-icon-tooltip{min-width:1.25em;text-align:center}.jw-icon-playback{min-width:2.25em}.jw-icon-volume{min-width:1.75em;text-align:left}.jw-time-tip{line-height:1em;pointer-events:none}.jw-icon-inline:after,.jw-icon-tooltip:after{width:100%;height:100%;font-size:1em}.jw-icon-cast{display:none}.jw-slider-volume.jw-slider-horizontal,.jw-icon-inline.jw-icon-volume{display:none}.jw-dock{margin:.75em;display:block;opacity:1;clear:right}.jw-dock:after{content:\'\';clear:both;display:block}.jw-dock-button{cursor:pointer;float:right;position:relative;width:2.5em;height:2.5em;margin:.5em}.jw-dock-button .jw-arrow{display:none;position:absolute;bottom:-0.2em;width:.5em;height:.2em;left:50%;margin-left:-0.25em}.jw-dock-button .jw-overlay{display:none;position:absolute;top:2.5em;right:0;margin-top:.25em;padding:.5em;white-space:nowrap}.jw-dock-button:hover .jw-overlay,.jw-dock-button:hover .jw-arrow{display:block}.jw-dock-image{width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;opacity:.75}.jw-title{display:none;position:absolute;top:0;width:100%;font-size:.875em;height:8em;background:-webkit-linear-gradient(top, #000 0, #000 18%, rgba(0,0,0,0) 100%);background:linear-gradient(to bottom, #000 0, #000 18%, rgba(0,0,0,0) 100%)}.jw-title-primary,.jw-title-secondary{padding:.75em 1.5em;min-height:2.5em;width:75%;color:white;white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.jw-title-primary{font-weight:bold}.jw-title-secondary{margin-top:-0.5em}.jw-slider-container{display:inline-block;height:1em;position:relative;-ms-touch-action:none;touch-action:none}.jw-rail,.jw-buffer,.jw-progress{position:absolute;cursor:pointer}.jw-progress{background-color:#fff}.jw-rail{background-color:#aaa}.jw-buffer{background-color:#202020}.jw-cue,.jw-knob{position:absolute;cursor:pointer}.jw-cue{background-color:#fff;width:.1em;height:.4em}.jw-knob{background-color:#aaa;width:.4em;height:.4em}.jw-slider-horizontal{width:4em;height:1em}.jw-slider-horizontal.jw-slider-volume{margin-right:5px}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{width:100%;height:.4em}.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-buffer{width:0}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-slider-container{width:100%}.jw-slider-horizontal .jw-knob{left:0;margin-left:-0.325em}.jw-slider-vertical{width:.75em;height:4em;bottom:0;position:absolute;padding:1em}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{bottom:0;height:100%}.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-buffer{height:0}.jw-slider-vertical .jw-slider-container,.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-progress{bottom:0;width:.75em;height:100%;left:0;right:0;margin:0 auto}.jw-slider-vertical .jw-slider-container{height:4em;position:relative}.jw-slider-vertical .jw-knob{bottom:0;left:0;right:0;margin:0 auto}.jw-slider-time{right:0;left:0;width:100%}.jw-tooltip-time{position:absolute}.jw-slider-volume .jw-buffer{display:none}.jw-captions{position:absolute;display:none;margin:0 auto;width:100%;left:0;bottom:3em;right:0;max-width:90%;text-align:center}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:white;background-color:black;word-wrap:break-word;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none;line-height:1.3em;padding:.1em .8em}.jw-rightclick{display:none;position:absolute;white-space:nowrap}.jw-rightclick.jw-open{display:block}.jw-rightclick ul{list-style:none;font-weight:bold;border-radius:.15em;margin:0;border:1px solid #444;padding-left:0}.jw-rightclick .jw-rightclick-logo{font-size:2em;color:#ff0147;vertical-align:middle;padding-right:.3em;margin-right:.3em;border-right:1px solid #444}.jw-rightclick li{background-color:#000;border-bottom:1px solid #444}.jw-rightclick a{color:#fff;text-decoration:none;padding:1em;display:block;font-size:.6875em}.jw-rightclick li:last-child{border-bottom:none}.jw-rightclick li:hover{background-color:#1a1a1a;cursor:pointer}.jw-rightclick .jw-featured{background-color:#252525;vertical-align:middle}.jw-rightclick .jw-featured a{color:#777}.jw-logo{float:right;padding:.75em;cursor:pointer;pointer-events:all}.jw-logo .jw-flag-audio-player{display:none}.jw-watermark{position:absolute;top:50%;left:0;right:0;bottom:0;text-align:center;font-size:14em;color:#eee;opacity:.33;pointer-events:none}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;visibility:visible}.jw-icon-tooltip.jw-hidden{display:none}.jw-overlay-horizontal{display:none}.jw-icon-tooltip.jw-open-drawer:before{display:none}.jw-icon-tooltip.jw-open-drawer .jw-overlay-horizontal{opacity:1;display:inline-block;vertical-align:top}.jw-overlay:before{position:absolute;top:0;bottom:0;left:-50%;width:100%;background-color:rgba(0,0,0,0);content:" "}.jw-time-tip,.jw-volume-tip,.jw-menu{position:relative;left:-50%;border:solid 1px #000;margin:0}.jw-volume-tip{width:100%;height:100%;display:block}.jw-time-tip{text-align:center;font-family:inherit;color:#aaa;bottom:1em;border:solid 4px #000}.jw-time-tip .jw-text{line-height:1em}.jw-controlbar .jw-overlay{margin:0;position:absolute;bottom:2em;left:50%;opacity:0;visibility:hidden}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;color:#aaa;padding:0 .5em;font-size:.8em}.jw-controlbar .jw-option:hover,.jw-controlbar .jw-option:before:hover{color:#eee}.jw-controlbar .jw-option:before{padding-right:.125em}.jw-playlist-container ::-webkit-scrollbar-track{background-color:#333;border-radius:10px}.jw-playlist-container ::-webkit-scrollbar{width:5px;border:10px solid black;border-bottom:0;border-top:0}.jw-playlist-container ::-webkit-scrollbar-thumb{background-color:white;border-radius:5px}.jw-tooltip-title{border-bottom:1px solid #444;text-align:left;padding-left:.7em}.jw-playlist{max-height:11em;min-height:4.5em;overflow-x:hidden;overflow-y:scroll;width:calc(100% - 4px)}.jw-playlist .jw-option{height:3em;margin-right:5px;color:white;padding-left:1em;font-size:.8em}.jw-playlist .jw-label,.jw-playlist .jw-name{display:inline-block;line-height:3em;text-align:left;overflow:hidden;white-space:nowrap}.jw-playlist .jw-label{width:1em}.jw-playlist .jw-name{width:11em}.jw-skip{cursor:default;position:absolute;float:right;display:inline-block;right:.75em;bottom:3em}.jw-skip.jw-skippable{cursor:pointer}.jw-skip.jw-hidden{visibility:hidden}.jw-skip .jw-skip-icon{display:none;margin-left:-0.75em}.jw-skip .jw-skip-icon:before{content:"\\E60C"}.jw-skip .jw-text,.jw-skip .jw-skip-icon{color:#aaa;vertical-align:middle;line-height:1.5em;font-size:.7em}.jw-skip.jw-skippable:hover{cursor:pointer}.jw-skip.jw-skippable:hover .jw-text,.jw-skip.jw-skippable:hover .jw-skip-icon{color:#eee}.jw-skip.jw-skippable .jw-skip-icon{display:inline;margin:0}.jwplayer.jw-state-playing.jw-flag-casting .jw-display-icon-container,.jwplayer.jw-state-paused.jw-flag-casting .jw-display-icon-container{display:table}.jwplayer.jw-flag-casting .jw-display-icon-container{border-radius:0;top:8em;padding:2em 5em;border:1px solid white}.jwplayer.jw-flag-casting .jw-display-icon-container .jw-icon{font-size:3em}.jw-cast{position:absolute;width:100%;height:100%;background-repeat:no-repeat;background-size:auto;background-position:50% 50%}.jw-cast-label{position:absolute;left:10px;right:10px;bottom:50%;margin-bottom:100px;text-align:center}.jw-cast-name{color:#ccc}.jw-state-idle .jw-preview{display:block}.jw-state-idle .jw-icon-display:before{content:"\\E60E"}.jw-state-idle .jw-controlbar{display:none}.jw-state-idle .jw-captions{display:none}.jw-state-idle .jw-title{display:block}.jwplayer.jw-state-playing .jw-display-icon-container{display:none}.jwplayer.jw-state-playing .jw-display-icon-container .jw-icon-display:before{content:"\\E60D"}.jwplayer.jw-state-playing .jw-icon-playback:before{content:"\\E60D"}.jwplayer.jw-state-paused .jw-display-icon-container{display:none}.jwplayer.jw-state-paused .jw-display-icon-container .jw-icon-display:before{content:"\\E60E"}.jwplayer.jw-state-paused .jw-icon-playback:before{content:"\\E60E"}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display:before{content:"\\E601"}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-buffering .jw-icon-playback:before{content:"\\E60D"}.jwplayer.jw-state-complete .jw-preview{display:block}.jwplayer.jw-state-complete .jw-display-icon-container .jw-icon-display:before{content:"\\E610"}.jwplayer.jw-state-complete .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-complete .jw-icon-playback:before{content:"\\E60E"}.jwplayer.jw-state-complete .jw-captions{display:none}body .jw-error .jw-title,.jwplayer.jw-state-error .jw-title{display:block}body .jw-error .jw-title .jw-title-primary,.jwplayer.jw-state-error .jw-title .jw-title-primary{white-space:normal}body .jw-error .jw-preview,.jwplayer.jw-state-error .jw-preview{display:block}body .jw-error .jw-controlbar,.jwplayer.jw-state-error .jw-controlbar{display:none}body .jw-error .jw-captions,.jwplayer.jw-state-error .jw-captions{display:none}body .jw-error:hover .jw-display-icon-container,.jwplayer.jw-state-error:hover .jw-display-icon-container{cursor:default;color:#fff;background:#000}body .jw-error .jw-icon-display,.jwplayer.jw-state-error .jw-icon-display{cursor:default;font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}body .jw-error .jw-icon-display:before,.jwplayer.jw-state-error .jw-icon-display:before{content:"\\E607"}body .jw-error .jw-icon-display:hover,.jwplayer.jw-state-error .jw-icon-display:hover{color:#fff}body .jw-error{font-size:16px;background-color:#000;color:#eee;width:100%;height:100%;display:table;opacity:1;position:relative}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jwplayer.jw-flag-cast-available .jw-controlbar{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast{display:inline-block}.jwplayer.jw-flag-skin-loading .jw-captions,.jwplayer.jw-flag-skin-loading .jw-controls,.jwplayer.jw-flag-skin-loading .jw-title{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}.jwplayer.jw-flag-fullscreen.jw-flag-user-inactive{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:inline}.jw-flag-user-inactive.jw-state-playing .jw-controlbar,.jw-flag-user-inactive.jw-state-playing .jw-dock{display:none}.jw-flag-user-inactive.jw-state-playing .jw-logo.jw-hide{display:none}.jw-flag-user-inactive.jw-state-playing .jw-plugin,.jw-flag-user-inactive.jw-state-playing .jw-captions{bottom:.5em}.jw-flag-audio-player{background-color:transparent}.jw-flag-audio-player .jw-media{visibility:hidden}.jw-flag-audio-player .jw-controlbar{display:table;bottom:0;margin:0;width:100%;min-width:100%;opacity:1}.jw-flag-audio-player .jw-controlbar .jw-icon-fullscreen{display:none}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip{display:none}.jw-flag-audio-player .jw-controlbar .jw-slider-volume.jw-slider-horizontal,.jw-flag-audio-player .jw-controlbar .jw-icon-inline.jw-icon-volume{display:inline-block}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-audio-player .jw-controlbar{display:table;left:0}.jwplayer.jw-flag-audio-player .jw-controlbar{height:auto}.jwplayer.jw-flag-audio-player .jw-preview{display:none}.jwplayer.jw-flag-media-audio .jw-controlbar{display:table}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-preview,.jwplayer.jw-flag-ads .jw-dock{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-text,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-horizontal{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-fullscreen{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:inline}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume.jw-slider-horizontal,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline.jw-icon-volume{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-ads .jw-logo{display:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none !important}.jwplayer.jw-flag-ads.jw-flag-touch .jw-controlbar{display:table}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}.jw-flag-controls-disabled .jw-controls{display:none}.jw-flag-controls-disabled .jw-media{cursor:auto}body .jwplayer.jw-flag-flash-blocked .jw-controls{display:none}body .jwplayer.jw-flag-flash-blocked .jw-title{display:none}body .jwplayer.jw-flag-flash-blocked .jw-overlays{display:none}body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch .jw-controlbar,.jw-flag-touch .jw-skip,.jw-flag-touch .jw-plugin{font-size:1.5em}.jw-flag-touch .jw-captions{bottom:4.25em}.jw-flag-touch .jw-icon-tooltip.jw-open-drawer:before{display:inline}.jw-flag-touch .jw-icon-tooltip.jw-open-drawer:before{content:"\\E615"}.jw-flag-touch .jw-display-icon-container{pointer-events:none}.jw-flag-touch.jw-state-paused .jw-display-icon-container{display:table}.jw-flag-compact-player .jw-icon-playlist,.jw-flag-compact-player .jw-icon-next,.jw-flag-compact-player .jw-icon-prev,.jw-flag-compact-player .jw-text-elapsed,.jw-flag-compact-player .jw-text-duration{display:none}.jw-skin-seven .jw-background-color{background:#000}.jw-skin-seven .jw-controlbar{border-top:#333 1px solid;height:2.5em}.jw-skin-seven .jw-group{vertical-align:middle}.jw-skin-seven .jw-playlist{background-color:rgba(0,0,0,0.5)}.jw-skin-seven .jw-playlist-container{left:-43%;background-color:rgba(0,0,0,0.5)}.jw-skin-seven .jw-playlist-container .jw-option{border-bottom:1px solid #444}.jw-skin-seven .jw-playlist-container .jw-option:hover,.jw-skin-seven .jw-playlist-container .jw-option.jw-active-option{background-color:black}.jw-skin-seven .jw-playlist-container .jw-option:hover .jw-label{color:#FF0046}.jw-skin-seven .jw-playlist-container .jw-icon-playlist{margin-left:0}.jw-skin-seven .jw-playlist-container .jw-label .jw-icon-play{color:#FF0046}.jw-skin-seven .jw-playlist-container .jw-label .jw-icon-play:before{padding-left:0}.jw-skin-seven .jw-tooltip-title{background-color:#000;color:#fff}.jw-skin-seven .jw-text{color:#fff}.jw-skin-seven .jw-button-color{color:#fff}.jw-skin-seven .jw-button-color:hover{color:#FF0046}.jw-skin-seven .jw-toggle{color:#FF0046}.jw-skin-seven .jw-toggle.jw-off{color:#fff}.jw-skin-seven .jw-controlbar .jw-icon:before,.jw-skin-seven .jw-text-elapsed,.jw-skin-seven .jw-text-duration{padding:0 .7em}.jw-skin-seven .jw-controlbar .jw-icon-prev:before{padding-right:.25em}.jw-skin-seven .jw-controlbar .jw-icon-playlist:before{padding:0 .45em}.jw-skin-seven .jw-controlbar .jw-icon-next:before{padding-left:.25em}.jw-skin-seven .jw-icon-prev,.jw-skin-seven .jw-icon-next{font-size:.7em}.jw-skin-seven .jw-icon-prev:before{border-left:1px solid #666}.jw-skin-seven .jw-icon-next:before{border-right:1px solid #666}.jw-skin-seven .jw-icon-display{color:#fff}.jw-skin-seven .jw-icon-display:before{padding-left:0}.jw-skin-seven .jw-display-icon-container{border-radius:50%;border:1px solid #333}.jw-skin-seven .jw-rail{background-color:#384154;box-shadow:none}.jw-skin-seven .jw-buffer{background-color:#666F82}.jw-skin-seven .jw-progress{background:#FF0046}.jw-skin-seven .jw-knob{width:.6em;height:.6em;background-color:#fff;box-shadow:0 0 0 1px #000;border-radius:1em}.jw-skin-seven .jw-slider-horizontal .jw-slider-container{height:.95em}.jw-skin-seven .jw-slider-horizontal .jw-rail,.jw-skin-seven .jw-slider-horizontal .jw-buffer,.jw-skin-seven .jw-slider-horizontal .jw-progress{height:.2em;border-radius:0}.jw-skin-seven .jw-slider-horizontal .jw-knob{top:-0.2em}.jw-skin-seven .jw-slider-horizontal .jw-cue{top:-0.05em;width:.3em;height:.3em;background-color:#fff;border-radius:50%}.jw-skin-seven .jw-slider-vertical .jw-rail,.jw-skin-seven .jw-slider-vertical .jw-buffer,.jw-skin-seven .jw-slider-vertical .jw-progress{width:.2em}.jw-skin-seven .jw-volume-tip{width:100%;left:-45%;padding-bottom:.7em}.jw-skin-seven .jw-text-duration{color:#666F82}.jw-skin-seven .jw-controlbar-right-group .jw-icon-tooltip:before,.jw-skin-seven .jw-controlbar-right-group .jw-icon-inline:before{border-left:1px solid #666}.jw-skin-seven .jw-controlbar-right-group .jw-icon-inline:first-child:before{border:none}.jw-skin-seven .jw-dock .jw-dock-button{border-radius:50%;border:1px solid #333}.jw-skin-seven .jw-dock .jw-overlay{border-radius:2.5em}.jw-skin-seven .jw-icon-tooltip .jw-active-option{background-color:#FF0046;color:#fff}.jw-skin-seven .jw-icon-volume{min-width:2.6em}.jw-skin-seven .jw-time-tip,.jw-skin-seven .jw-menu,.jw-skin-seven .jw-volume-tip,.jw-skin-seven .jw-skip{border:1px solid #333}.jw-skin-seven .jw-time-tip{padding:.2em;bottom:1.3em}.jw-skin-seven .jw-menu,.jw-skin-seven .jw-volume-tip{bottom:.24em}.jw-skin-seven .jw-skip{padding:.4em;border-radius:1.75em}.jw-skin-seven .jw-skip .jw-text,.jw-skin-seven .jw-skip .jw-icon-inline{color:#fff;line-height:1.75em}.jw-skin-seven .jw-skip.jw-skippable:hover .jw-text,.jw-skin-seven .jw-skip.jw-skippable:hover .jw-icon-inline{color:#FF0046}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon:before,.jw-skin-seven.jw-flag-touch .jw-text-elapsed,.jw-skin-seven.jw-flag-touch .jw-text-duration{padding:0 .35em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-prev:before{padding:0 .125em 0 .7em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-next:before{padding:0 .7em 0 .125em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-playlist:before{padding:0 .225em}',""])
},function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];e.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e){e.exports="data:application/font-woff;base64,d09GRgABAAAAABQ4AAsAAAAAE+wAAQABAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxID2WNtYXAAAAFoAAAAVAAAAFQaVsydZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAD3AAAA9wKJaoQ2hlYWQAABE0AAAANgAAADYIhqKNaGhlYQAAEWwAAAAkAAAAJAmCBdxobXR4AAARkAAAAGwAAABscmAHPWxvY2EAABH8AAAAOAAAADg2EDnwbWF4cAAAEjQAAAAgAAAAIAAiANFuYW1lAAASVAAAAcIAAAHCwZOZtHBvc3QAABQYAAAAIAAAACAAAwAAAAMEmQGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5hYDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOYW//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABABgAAAFoAOAADoAPwBEAEkAACUVIi4CNTQ2Ny4BNTQ+AjMyHgIVFAYHHgEVFA4CIxEyFhc+ATU0LgIjIg4CFRQWFz4BMxExARUhNSEXFSE1IRcVITUhAUAuUj0jCgoKCkZ6o11do3pGCgoKCiM9Ui4qSh4BAjpmiE1NiGY6AQIeSioCVQIL/fWWAXX+i0oBK/7VHh4jPVIuGS4VH0MiXaN6RkZ6o10iQx8VLhkuUj0jAcAdGQ0bDk2IZjo6ZohNDhsNGR3+XgNilZXglZXglZUAAAABAEAAAAPAA4AAIQAAExQeAjMyPgI1MxQOAiMiLgI1ND4CMxUiDgIVMYs6ZohNTYhmOktGeqNdXaN6RkZ6o11NiGY6AcBNiGY6OmaITV2jekZGeqNdXaN6Rks6ZohNAAAEAEAAAATAA4AADgAcACoAMQAAJS4BJyERIREuAScRIREhByMuAyc1HgMXMSsBLgMnNR4DFzErATUeARcxAn8DBQQCDPxGCysLBDz9v1NaCERrjE9irINTCLVbByc6Sio9a1I1CLaBL0YMQgsoCgLB/ukDCgIBSPzCQk6HaEIIWAhQgKdgKUg5JgdYBzRRZzx9C0QuAAAAAAUAQAAABMADgAAOABkAJwA1ADwAACUuASchESERLgEnESERIQE1IREhLgMnMQEjLgMnNR4DFzErAS4DJzUeAxcxKwE1HgEXMQKAAgYFAg38QAwqCgRA/cD+gANA/iAYRVlsPgEtWghFa4xPYq2DUgmzWgcnO0oqPGpSNgm6gDBEDEAMKAwCwP7tAggDAUb8wAHQ8P3APWdUQRf98E2IaEIHWghQgKhgKUg4JgdaCDVRZzt9DEMuAAAEAEAAAAXAA4AABAAJAGcAxQAANxEhESEBIREhEQU+ATc+ATMyFhceARceARceARcjLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3Mw4BBw4BBw4BBw4BIyImJy4BJy4BJy4BNTQ2Nz4BNzEhPgE3PgEzMhYXHgEXHgEXHgEXIy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNzMOAQcOAQcOAQcOASMiJicuAScuAScuATU0Njc+ATcxQAWA+oAFNvsUBOz8Iw4hExQsGBIhEA8cDQwUCAgLAlsBBQUECgYHDggIEAkQGgsLEgcHCgMDAwMDAwoHBxILCxoQFiEMDA8DWgIJBwgTDQwcERAkFBgsFBMhDg0VBwcHBwcHFQ0Bug0hFBMsGREhEBAcDAwVCAgKAloCBQQECwYGDggIEQgQGwsLEgcHCgMDAwMDAwoHBxILCxsQFSIMDA4DWwIJCAcUDAwdEBEkExksExQhDQ4UBwcICAcHFA4AA4D8gAM1/RYC6tcQGAgJCQUFBQ8KChgPDiETCQ4HBwwFBQgDAwIGBgYRCgoYDQ0cDg0aDQ0XCgoRBgYGDQ0OIhYUJBEQHAsLEgYGBgkICRcPDyQUFCwXGC0VFCQPEBgICQkFBQUPCgoYDw4hEwkOBwcMBQUIAwMCBgYGEQoKGA0NHA4NGg0NFwoKEQYGBg0NDiIWFCQREBwLCxIGBgYJCAkXDw8kFBQsFxgtFRQkDwAAAAADAEAAAAXAA4AAEABvAM4AACUhIiY1ETQ2MyEyFhURFAYjAT4BNz4BNz4BMzIWFx4BFx4BFx4BFzMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATc+ATc+ATcjDgEHDgEjIiYnLgEnLgEnLgE1NDY3OQEhPgE3PgE3PgEzMhYXHgEXHgEXHgEXMy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNz4BNz4BNyMOAQcOASMiJicuAScuAScuATU0Njc5AQUs+6g9V1c9BFg9V1c9/JoDCgcGEgsLGxAJEAgIDgYHCgQEBgFaAgoICBQNDBwQDyESGCwUEyEODRUHBwcHBwcVDQ4hExQrGRQkEBAdDAwUCAcJAloDDwwMIhUQGwsLEgYHCgMEAwMEAbkDCgcHEgsLGxAIEQgHDwYGCwQEBQFbAgoICBUMDBwQECERGSwTFCENDhQHBwgIBwcUDg0hFBMsGRMkERAdDAwUBwgJAlsDDgwNIRUQGwsLEgcHCgMDAwMDAFc+AlY+V1c+/ao+VwH0DRgKCxAGBgYCAwMIBQUMBwcOCRMhDg8YCgoOBgUFCQkIGBAPJBQVLRgXLBQUJA8PFwkICQYGBhILCxwQESQUFiIODQ0GBgYRCgoXDQ0aDg4bDQ0YCgsQBgYGAgMDCAUFDAcHDgkTIQ4PGAoKDgYFBQkJCBgQDyQUFS0YFywUFCQPDxcJCAkGBgYSCwscEBEkFBYiDg0NBgYGEQoKFw0NGg4OGw0AAAABAOAAoAMgAuAAFAAAARQOAiMiLgI1ND4CMzIeAhUDIC1OaTw8aU4tLU5pPDxpTi0BwDxpTi0tTmk8PGlOLS1OaTwAAAMAQAAQBEADkAADABAAHwAANwkBISUyNjU0JiMiBhUUFjMTNCYjIgYVERQWMzI2NRFAAgACAPwAAgAOFRUODhUVDiMVDg4VFQ4OFRADgPyAcBYQDxgWERAWAeYPGBYR/tcPGBYRASkAAgBAAAADwAOAAAcADwAANxEXNxcHFyEBIREnByc3J0CAsI2wgP5zAfMBjYCwjbCAAAGNgLCNsIADgP5zgLCNsIAAAAAFAEAAAAXAA4AABAAJABYAMwBPAAA3ESERIQEhESERATM1MxEjNSMVIxEzFSUeARceARceARUUBgcOAQcOAQcOASsBETMeARcxBxEzMjY3PgE3PgE3PgE1NCYnLgEnLgEnLgErAUAFgPqABTb7FATs/FS2YGC2ZGQCXBQeDg8UBwcJBgcHEwwMIRMTLBuwsBYqE6BHCRcJChIIBw0FBQUEAwINBwcTDAwgETcAA4D8gAM2/RcC6f7Arf5AwMABwK2dBxQODyIWFTAbGC4TFiIPDhgKCQcBwAIHB0P+5gQDAg0HBxcMDCETER0PDhgKCQ8EBQUABAA9AAAFwAOAABAAHQA7AFkAACUhIiY1ETQ2MyEyFhURFAYjASMVIzUjETM1MxUzEQUuAScuAScuASsBETMyNjc+ATc+ATc+ATUuASc5AQcOAQcOASsBETMyFhceARceARceARUUBgcOAQc5AQUq+6k+WFg+BFc+WFg+/bNgs2Rks2ABsAcXDA4fExMnFrCwGywTEx4PDBMHBwYCCAl3CBIKCRQMRzcTHgwMEwcHCwQDBAUFBQ0HAFg+AlQ+WFg+/aw+WAKdra3+QMDAAcB9FiIODxQHBwb+QAkHCRgPDiUTFiwYHTAW4ggNAgMEAR8EBQUPCgoYDw4fERMfDwwXBwAAAAABAEMABgOgA3oAjwAAExQiNScwJic0JicuAQcOARUcARUeARceATc+ATc+ATE2MhUwFAcUFhceARceATMyNjc+ATc+ATc+AzE2MhUwDgIVFBYXHgEXFjY3PgE3PgE3PgE3PgM3PAE1NCYnJgYHDgMxBiI1MDwCNTQmJyYGBw4BBw4DMQYiNTAmJy4BJyYGBw4BMRWQBgQIBAgCBQ4KBwkDFgcHIQ8QDwcHNgUEAwMHBQsJChcMBQ0FBwsHDBMICR8cFQUFAwQDCAUHFRERJBEMEwgJEgUOGQwGMjgvBAkHDBYEAz1IPAQFLyQRIhEQFgoGIiUcBQUEAgMYKCcmCgcsAboFBQwYDwUKBwUEAgMNBwcLBxRrDhENBwggDxOTCgqdMBM1EQwTCAcFBAIFCgcPIw4UQ0IxCgpTc3glEyMREBgIBwEKBxUKESUQJ00mE6/JrA8FBgIHDQMECAkGla2PCQk1VGYxNTsHAgUKChwQC2BqVQoKehYfTwUDRx8TkAMAAAAAAgBGAAAENgOAAAQACAAAJREzESMJAhEDxnBw/IADgPyAAAOA/IADgP5A/kADgAAAAgCAAAADgAOAAAQACQAAJREhESEBIREhEQKAAQD/AP4AAQD/AAADgPyAA4D8gAOAAAAAAAEAgAAABAADgAADAAAJAREBBAD8gAOAAcD+QAOA/kAAAgBKAAAEOgOAAAQACAAANxEjETMJAhG6cHADgPyAA4AAA4D8gAOA/kD+QAOAAAAAAQBDACADQwOgACkAAAEeARUUDgIjIi4CNTQ+AjM1DQE1Ig4CFRQeAjMyPgI1NCYnNwMNGhw8aYxPT4xoPT1ojE8BQP7APGlOLS1OaTw8aU4tFhNTAmMrYzVPjGg9PWiMT0+MaD2ArbOALU5pPDxpTi0tTmk8KUsfMAAAAAEAQABmAiADEwAGAAATETMlESUjQM0BE/7tzQEzARPN/VPNAAQAQAAABJADgAAXACsAOgBBAAAlJz4DNTQuAic3HgMVFA4CBzEvAT4BNTQmJzceAxUOAwcxJz4BNTQmJzceARUUBgcnBREzJRElIwPaKiY+KxcXKz4mKipDMBkZMEMqpCk5REQ5KSE0JBQBFCQzIcMiKCgiKiYwMCYq/c3NARP+7c0AIyheaXI8PHFpXikjK2ZyfEFBfHJmK4MjNZFUVJE1Ix5IUFgvL1lRRx2zFkgpK0YVIxxcNDVZHykDARPN/VPNAAACAEAAAAPDA4AABwAPAAABFyERFzcXBwEHJzcnIREnAypw/qlwl3mZ/iaWepZwAVdtAnNwAVdwlnqT/iOWepZw/qpsAAMAQAETBcACYAAMABkAJgAAARQGIyImNTQ2MzIWFSEUBiMiJjU0NjMyFhUhFAYjIiY1NDYzMhYVAY1iRUVhYUVFYgIWYUVFYmJFRWECHWFFRWJiRUVhAbpFYmJFRWFhRUViYkVFYWFFRWJiRUVhYUUAAAAAAQBmACYDmgNaACAAAAEXFhQHBiIvAQcGIicmND8BJyY0NzYyHwE3NjIXFhQPAQKj9yQkJGMd9vYkYx0kJPf3JCQkYx329iRjHSQk9wHA9iRjHSQk9/ckJCRjHfb2JGMdJCT39yQkJGMd9gAABgBEAAQDvAN8AAQACQAOABMAGAAdAAABIRUhNREhFSE1ESEVITUBMxUjNREzFSM1ETMVIzUBpwIV/esCFf3rAhX96/6dsrKysrKyA3xZWf6dWVn+nVlZAsaysv6dsrL+nbKyAAEAAAABGZqh06s/Xw889QALBAAAAAAA0dQiKwAAAADR1CIrAAAAAAXAA6AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABgAAAAAABcAAAQAAAAAAAAAAAAAAAAAAABsEAAAAAAAAAAAAAAACAAAABgAAYAQAAEAFAABABQAAQAYAAEAGAABABAAA4ASAAEAEAABABgAAQAYAAD0D4ABDBIAARgQAAIAEAACABIAASgOAAEMEwABABMAAQAQAAEAGAABABAAAZgQAAEQAAAAAAAoAFAAeAIgAuAEEAWAChgOyA9QECAQqBKQFJgXoBgAGGgYqBkIGgAaSBvQHFgdQB4YHuAABAAAAGwDPAAYAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADAAAAAEAAAAAAAIABwCNAAEAAAAAAAMADABFAAEAAAAAAAQADACiAAEAAAAAAAUACwAkAAEAAAAAAAYADABpAAEAAAAAAAoAGgDGAAMAAQQJAAEAGAAMAAMAAQQJAAIADgCUAAMAAQQJAAMAGABRAAMAAQQJAAQAGACuAAMAAQQJAAUAFgAvAAMAAQQJAAYAGAB1AAMAAQQJAAoANADganctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzVmVyc2lvbiAxLjEAVgBlAHIAcwBpAG8AbgAgADEALgAxanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},function(e){e.exports="data:application/octet-stream;base64,AAEAAAALAIAAAwAwT1MvMg8SA9kAAAC8AAAAYGNtYXAaVsydAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZiiWqEMAAAF4AAAPcGhlYWQIhqKNAAAQ6AAAADZoaGVhCYIF3AAAESAAAAAkaG10eHJgBz0AABFEAAAAbGxvY2E2EDnwAAARsAAAADhtYXhwACIA0QAAEegAAAAgbmFtZcGTmbQAABIIAAABwnBvc3QAAwAAAAATzAAAACAAAwSZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmFgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg5hb//f//AAAAAAAg5gD//f//AAH/4xoEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAGAAAAWgA4AAOgA/AEQASQAAJRUiLgI1NDY3LgE1ND4CMzIeAhUUBgceARUUDgIjETIWFz4BNTQuAiMiDgIVFBYXPgEzETEBFSE1IRcVITUhFxUhNSEBQC5SPSMKCgoKRnqjXV2jekYKCgoKIz1SLipKHgECOmaITU2IZjoBAh5KKgJVAgv99ZYBdf6LSgEr/tUeHiM9Ui4ZLhUfQyJdo3pGRnqjXSJDHxUuGS5SPSMBwB0ZDRsOTYhmOjpmiE0OGw0ZHf5eA2KVleCVleCVlQAAAAEAQAAAA8ADgAAhAAATFB4CMzI+AjUzFA4CIyIuAjU0PgIzFSIOAhUxizpmiE1NiGY6S0Z6o11do3pGRnqjXU2IZjoBwE2IZjo6ZohNXaN6RkZ6o11do3pGSzpmiE0AAAQAQAAABMADgAAOABwAKgAxAAAlLgEnIREhES4BJxEhESEHIy4DJzUeAxcxKwEuAyc1HgMXMSsBNR4BFzECfwMFBAIM/EYLKwsEPP2/U1oIRGuMT2Ksg1MItVsHJzpKKj1rUjUItoEvRgxCCygKAsH+6QMKAgFI/MJCTodoQghYCFCAp2ApSDkmB1gHNFFnPH0LRC4AAAAABQBAAAAEwAOAAA4AGQAnADUAPAAAJS4BJyERIREuAScRIREhATUhESEuAycxASMuAyc1HgMXMSsBLgMnNR4DFzErATUeARcxAoACBgUCDfxADCoKBED9wP6AA0D+IBhFWWw+AS1aCEVrjE9irYNSCbNaByc7Sio8alI2CbqAMEQMQAwoDALA/u0CCAMBRvzAAdDw/cA9Z1RBF/3wTYhoQgdaCFCAqGApSDgmB1oINVFnO30MQy4AAAQAQAAABcADgAAEAAkAZwDFAAA3ESERIQEhESERBT4BNz4BMzIWFx4BFx4BFx4BFyMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATczDgEHDgEHDgEHDgEjIiYnLgEnLgEnLgE1NDY3PgE3MSE+ATc+ATMyFhceARceARceARcjLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3Mw4BBw4BBw4BBw4BIyImJy4BJy4BJy4BNTQ2Nz4BNzFABYD6gAU2+xQE7PwjDiETFCwYEiEQDxwNDBQICAsCWwEFBQQKBgcOCAgQCRAaCwsSBwcKAwMDAwMDCgcHEgsLGhAWIQwMDwNaAgkHCBMNDBwRECQUGCwUEyEODRUHBwcHBwcVDQG6DSEUEywZESEQEBwMDBUICAoCWgIFBAQLBgYOCAgRCBAbCwsSBwcKAwMDAwMDCgcHEgsLGxAVIgwMDgNbAgkIBxQMDB0QESQTGSwTFCENDhQHBwgIBwcUDgADgPyAAzX9FgLq1xAYCAkJBQUFDwoKGA8OIRMJDgcHDAUFCAMDAgYGBhEKChgNDRwODRoNDRcKChEGBgYNDQ4iFhQkERAcCwsSBgYGCQgJFw8PJBQULBcYLRUUJA8QGAgJCQUFBQ8KChgPDiETCQ4HBwwFBQgDAwIGBgYRCgoYDQ0cDg0aDQ0XCgoRBgYGDQ0OIhYUJBEQHAsLEgYGBgkICRcPDyQUFCwXGC0VFCQPAAAAAAMAQAAABcADgAAQAG8AzgAAJSEiJjURNDYzITIWFREUBiMBPgE3PgE3PgEzMhYXHgEXHgEXHgEXMy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNz4BNz4BNyMOAQcOASMiJicuAScuAScuATU0Njc5ASE+ATc+ATc+ATMyFhceARceARceARczLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3PgE3PgE3Iw4BBw4BIyImJy4BJy4BJy4BNTQ2NzkBBSz7qD1XVz0EWD1XVz38mgMKBwYSCwsbEAkQCAgOBgcKBAQGAVoCCggIFA0MHBAPIRIYLBQTIQ4NFQcHBwcHBxUNDiETFCsZFCQQEB0MDBQIBwkCWgMPDAwiFRAbCwsSBgcKAwQDAwQBuQMKBwcSCwsbEAgRCAcPBgYLBAQFAVsCCggIFQwMHBAQIREZLBMUIQ0OFAcHCAgHBxQODSEUEywZEyQREB0MDBQHCAkCWwMODA0hFRAbCwsSBwcKAwMDAwMAVz4CVj5XVz79qj5XAfQNGAoLEAYGBgIDAwgFBQwHBw4JEyEODxgKCg4GBQUJCQgYEA8kFBUtGBcsFBQkDw8XCQgJBgYGEgsLHBARJBQWIg4NDQYGBhEKChcNDRoODhsNDRgKCxAGBgYCAwMIBQUMBwcOCRMhDg8YCgoOBgUFCQkIGBAPJBQVLRgXLBQUJA8PFwkICQYGBhILCxwQESQUFiIODQ0GBgYRCgoXDQ0aDg4bDQAAAAEA4ACgAyAC4AAUAAABFA4CIyIuAjU0PgIzMh4CFQMgLU5pPDxpTi0tTmk8PGlOLQHAPGlOLS1OaTw8aU4tLU5pPAAAAwBAABAEQAOQAAMAEAAfAAA3CQEhJTI2NTQmIyIGFRQWMxM0JiMiBhURFBYzMjY1EUACAAIA/AACAA4VFQ4OFRUOIxUODhUVDg4VEAOA/IBwFhAPGBYREBYB5g8YFhH+1w8YFhEBKQACAEAAAAPAA4AABwAPAAA3ERc3FwcXIQEhEScHJzcnQICwjbCA/nMB8wGNgLCNsIAAAY2AsI2wgAOA/nOAsI2wgAAAAAUAQAAABcADgAAEAAkAFgAzAE8AADcRIREhASERIREBMzUzESM1IxUjETMVJR4BFx4BFx4BFRQGBw4BBw4BBw4BKwERMx4BFzEHETMyNjc+ATc+ATc+ATU0JicuAScuAScuASsBQAWA+oAFNvsUBOz8VLZgYLZkZAJcFB4ODxQHBwkGBwcTDAwhExMsG7CwFioToEcJFwkKEggHDQUFBQQDAg0HBxMMDCARNwADgPyAAzb9FwLp/sCt/kDAwAHArZ0HFA4PIhYVMBsYLhMWIg8OGAoJBwHAAgcHQ/7mBAMCDQcHFwwMIRMRHQ8OGAoJDwQFBQAEAD0AAAXAA4AAEAAdADsAWQAAJSEiJjURNDYzITIWFREUBiMBIxUjNSMRMzUzFTMRBS4BJy4BJy4BKwERMzI2Nz4BNz4BNz4BNS4BJzkBBw4BBw4BKwERMzIWFx4BFx4BFx4BFRQGBw4BBzkBBSr7qT5YWD4EVz5YWD79s2CzZGSzYAGwBxcMDh8TEycWsLAbLBMTHg8MEwcHBgIICXcIEgoJFAxHNxMeDAwTBwcLBAMEBQUFDQcAWD4CVD5YWD79rD5YAp2trf5AwMABwH0WIg4PFAcHBv5ACQcJGA8OJRMWLBgdMBbiCA0CAwQBHwQFBQ8KChgPDh8REx8PDBcHAAAAAAEAQwAGA6ADegCPAAATFCI1JzAmJzQmJy4BBw4BFRwBFR4BFx4BNz4BNz4BMTYyFTAUBxQWFx4BFx4BMzI2Nz4BNz4BNz4DMTYyFTAOAhUUFhceARcWNjc+ATc+ATc+ATc+Azc8ATU0JicmBgcOAzEGIjUwPAI1NCYnJgYHDgEHDgMxBiI1MCYnLgEnJgYHDgExFZAGBAgECAIFDgoHCQMWBwchDxAPBwc2BQQDAwcFCwkKFwwFDQUHCwcMEwgJHxwVBQUDBAMIBQcVEREkEQwTCAkSBQ4ZDAYyOC8ECQcMFgQDPUg8BAUvJBEiERAWCgYiJRwFBQQCAxgoJyYKBywBugUFDBgPBQoHBQQCAw0HBwsHFGsOEQ0HCCAPE5MKCp0wEzURDBMIBwUEAgUKBw8jDhRDQjEKClNzeCUTIxEQGAgHAQoHFQoRJRAnTSYTr8msDwUGAgcNAwQICQaVrY8JCTVUZjE1OwcCBQoKHBALYGpVCgp6Fh9PBQNHHxOQAwAAAAACAEYAAAQ2A4AABAAIAAAlETMRIwkCEQPGcHD8gAOA/IAAA4D8gAOA/kD+QAOAAAACAIAAAAOAA4AABAAJAAAlESERIQEhESERAoABAP8A/gABAP8AAAOA/IADgPyAA4AAAAAAAQCAAAAEAAOAAAMAAAkBEQEEAPyAA4ABwP5AA4D+QAACAEoAAAQ6A4AABAAIAAA3ESMRMwkCEbpwcAOA/IADgAADgPyAA4D+QP5AA4AAAAABAEMAIANDA6AAKQAAAR4BFRQOAiMiLgI1ND4CMzUNATUiDgIVFB4CMzI+AjU0Jic3Aw0aHDxpjE9PjGg9PWiMTwFA/sA8aU4tLU5pPDxpTi0WE1MCYytjNU+MaD09aIxPT4xoPYCts4AtTmk8PGlOLS1OaTwpSx8wAAAAAQBAAGYCIAMTAAYAABMRMyURJSNAzQET/u3NATMBE839U80ABABAAAAEkAOAABcAKwA6AEEAACUnPgM1NC4CJzceAxUUDgIHMS8BPgE1NCYnNx4DFQ4DBzEnPgE1NCYnNx4BFRQGBycFETMlESUjA9oqJj4rFxcrPiYqKkMwGRkwQyqkKTlERDkpITQkFAEUJDMhwyIoKCIqJjAwJir9zc0BE/7tzQAjKF5pcjw8cWleKSMrZnJ8QUF8cmYrgyM1kVRUkTUjHkhQWC8vWVFHHbMWSCkrRhUjHFw0NVkfKQMBE839U80AAAIAQAAAA8MDgAAHAA8AAAEXIREXNxcHAQcnNychEScDKnD+qXCXeZn+JpZ6lnABV20Cc3ABV3CWepP+I5Z6lnD+qmwAAwBAARMFwAJgAAwAGQAmAAABFAYjIiY1NDYzMhYVIRQGIyImNTQ2MzIWFSEUBiMiJjU0NjMyFhUBjWJFRWFhRUViAhZhRUViYkVFYQIdYUVFYmJFRWEBukViYkVFYWFFRWJiRUVhYUVFYmJFRWFhRQAAAAABAGYAJgOaA1oAIAAAARcWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BAqP3JCQkYx329iRjHSQk9/ckJCRjHfb2JGMdJCT3AcD2JGMdJCT39yQkJGMd9vYkYx0kJPf3JCQkYx32AAAGAEQABAO8A3wABAAJAA4AEwAYAB0AAAEhFSE1ESEVITURIRUhNQEzFSM1ETMVIzURMxUjNQGnAhX96wIV/esCFf3r/p2ysrKysrIDfFlZ/p1ZWf6dWVkCxrKy/p2ysv6dsrIAAQAAAAEZmqHTqz9fDzz1AAsEAAAAAADR1CIrAAAAANHUIisAAAAABcADoAAAAAgAAgAAAAAAAAABAAADwP/AAAAGAAAAAAAFwAABAAAAAAAAAAAAAAAAAAAAGwQAAAAAAAAAAAAAAAIAAAAGAABgBAAAQAUAAEAFAABABgAAQAYAAEAEAADgBIAAQAQAAEAGAABABgAAPQPgAEMEgABGBAAAgAQAAIAEgABKA4AAQwTAAEAEwABABAAAQAYAAEAEAABmBAAARAAAAAAACgAUAB4AiAC4AQQBYAKGA7ID1AQIBCoEpAUmBegGAAYaBioGQgaABpIG9AcWB1AHhge4AAEAAAAbAM8ABgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAMAAAAAQAAAAAAAgAHAI0AAQAAAAAAAwAMAEUAAQAAAAAABAAMAKIAAQAAAAAABQALACQAAQAAAAAABgAMAGkAAQAAAAAACgAaAMYAAwABBAkAAQAYAAwAAwABBAkAAgAOAJQAAwABBAkAAwAYAFEAAwABBAkABAAYAK4AAwABBAkABQAWAC8AAwABBAkABgAYAHUAAwABBAkACgA0AOBqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNWZXJzaW9uIDEuMQBWAGUAcgBzAGkAbwBuACAAMQAuADFqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=c[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(s(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(s(i.parts[o],t));c[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],s=r[0],o=r[1],a=r[2],l=r[3],c={css:o,media:a,sourceMap:l};n[s]?n[s].parts.push(c):t.push(n[s]={id:s,parts:[c]})}return t}function i(){var e=document.createElement("style"),t=m();return e.type="text/css",t.appendChild(e),e}function r(){var e=document.createElement("link"),t=m();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var n,s,c;if(t.singleton){var u=f++;n=p||(p=i()),s=o.bind(null,n,u,!1),c=o.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=r(),s=l.bind(null,n),c=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),s=a.bind(null,n),c=function(){n.parentNode.removeChild(n)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else c()}}function o(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function a(e,t){{var n=t.css,i=t.media;t.sourceMap}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function l(e,t){var n=t.css,i=(t.media,t.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var c={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=u(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,f=0;e.exports=function(e,i){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");i=i||{},"undefined"==typeof i.singleton&&(i.singleton=d());var r=n(e);return t(r,i),function(e){for(var s=[],o=0;o<r.length;o++){var a=r[o],l=c[a.id];l.refs--,s.push(l)}if(e){var u=n(e);t(u,i)}for(var o=0;o<s.length;o++){var l=s[o];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}])})}),require.register("vendors/js/angular/angular.js",function(){!function(e,t,n){"use strict";function i(e){return function(){var t,n,i=arguments[0],r="["+(e?e+":":"")+i+"] ",s=arguments[1],o=arguments,a=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=r+s.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<o.length?(t=o[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?B(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.28/"+(e?e+"/":"")+i,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(a(arguments[n]));return new Error(t)}}function r(e){if(null==e||j(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:E(e)||Ii(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function s(e,t,n){var i;if(e)if(S(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i);else if(Ii(e)||r(e))for(i=0;i<e.length;i++)t.call(n,e[i],i);else if(e.forEach&&e.forEach!==s)e.forEach(t,n);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i);return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function a(e,t,n){for(var i=o(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function l(e){return function(t,n){e(n,t)}}function c(){for(var e,t=Oi.length;t;){if(t--,e=Oi[t].charCodeAt(0),57==e)return Oi[t]="A",Oi.join("");if(90!=e)return Oi[t]=String.fromCharCode(e+1),Oi.join("");Oi[t]="0"}return Oi.unshift("0"),Oi.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return s(arguments,function(t){t!==e&&s(t,function(t,n){e[n]=t})}),u(e,t),e}function m(e){return parseInt(e,10)}function p(e,t){return d(new(d(function(){},{prototype:e})),t)}function f(){}function v(e){return e}function h(e){return function(){return e}}function g(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!=e&&"object"==typeof e}function E(e){return"string"==typeof e}function w(e){return"number"==typeof e}function A(e){return"[object Date]"===xi.call(e)}function S(e){return"function"==typeof e}function T(e){return"[object RegExp]"===xi.call(e)}function j(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function C(e){return e&&e.$evalAsync&&e.$watch}function x(e){return"[object File]"===xi.call(e)}function k(e){return"[object Blob]"===xi.call(e)}function D(e){return e&&S(e.then)}function O(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function I(e,t,n){var i=[];return s(e,function(e,r,s){i.push(t.call(n,e,r,s))}),i}function R(e,t){return-1!=_(e,t)}function _(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function M(e,t){var n=_(e,t);return n>=0&&e.splice(n,1),t}function L(e,t,n,i){if(j(e)||C(e))throw ki("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw ki("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],b(e)){var r=_(n,e);if(-1!==r)return i[r];n.push(e),i.push(t)}var o;if(Ii(e)){t.length=0;for(var a=0;a<e.length;a++)o=L(e[a],null,n,i),b(e[a])&&(n.push(e[a]),i.push(o)),t.push(o)}else{var l=t.$$hashKey;Ii(t)?t.length=0:s(t,function(e,n){delete t[n]});for(var c in e)o=L(e[c],null,n,i),b(e[c])&&(n.push(e[c]),i.push(o)),t[c]=o;u(t,l)}}else t=e,e&&(Ii(e)?t=L(e,[],n,i):A(e)?t=new Date(e.getTime()):T(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(t=L(e,{},n,i)));return t}function N(e,t){if(Ii(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)!hi.call(e,i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function $(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,s,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Ii(e)){if(A(e))return A(t)?isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime():!1;if(T(e)&&T(t))return e.toString()==t.toString();if(C(e)||C(t)||j(e)||j(t)||Ii(t))return!1;s={};for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!$(e[r],t[r]))return!1;s[r]=!0}for(r in t)if(!s.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!S(t[r]))return!1;return!0}if(!Ii(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!$(e[r],t[r]))return!1;return!0}}return!1}function P(e,t,n){return e.concat(ji.call(t,n))}function U(e,t){return ji.call(e,t||0)}function H(e,t){var n=arguments.length>2?U(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(ji.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)?r=n:j(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":C(i)&&(r="$SCOPE"),r}function B(e,t){return"undefined"==typeof e?n:JSON.stringify(e,q,t?"  ":null)}function F(e){return E(e)?JSON.parse(e):e}function V(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=vi(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function G(e){e=wi(e).clone();try{e.empty()}catch(t){}var n=3,i=wi("<div>").append(e).html();try{return e[0].nodeType===n?vi(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+vi(t)})}catch(t){return vi(i)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function z(e){var t,n,i={};return s((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=W(t[0]),y(n))){var r=y(t[1])?W(t[1]):!0;hi.call(i,n)?Ii(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function Y(e){var t=[];return s(e,function(e,n){Ii(e)?s(e,function(e){t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}):t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function Q(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function J(e,n){function i(e){e&&a.push(e)}var r,o,a=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;s(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(s(e.querySelectorAll("."+n),i),s(e.querySelectorAll("."+n+"\\:"),i),s(e.querySelectorAll("["+n+"]"),i))}),s(a,function(e){if(!r){var t=" "+e.className+" ",n=c.exec(t);n?(r=e,o=(n[2]||"").replace(/\s+/g,",")):s(e.attributes,function(t){!r&&l[t.name]&&(r=e,o=t.value)})}}),r&&n(r,o?[o]:[])}function X(n,i){var r=function(){if(n=wi(n),n.injector()){var e=n[0]===t?"document":G(n);throw ki("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.unshift("ng");var r=_t(i);return r.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?r():(e.name=e.name.replace(o,""),void(Di.resumeBootstrap=function(e){s(e,function(e){i.push(e)}),r()}))}function Z(e,t){return t=t||"_",e.replace(Mi,function(e,n){return(n?t:"")+e.toLowerCase()})}function et(){Ai=e.jQuery,Ai&&Ai.fn.on?(wi=Ai,d(Ai.fn,{scope:Yi.scope,isolateScope:Yi.isolateScope,controller:Yi.controller,injector:Yi.injector,inheritedData:Yi.inheritedData}),ut("remove",!0,!0,!1),ut("empty",!1,!1,!1),ut("html",!1,!1,!0)):wi=ft,Di.element=wi}function tt(e,t,n){if(!e)throw ki("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function nt(e,t,n){return n&&Ii(e)&&(e=e[e.length-1]),tt(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function it(e,t){if("hasOwnProperty"===e)throw ki("badname","hasOwnProperty is not a valid {0} name",t)}function rt(e,t,n){if(!t)return e;for(var i,r=t.split("."),s=e,o=r.length,a=0;o>a;a++)i=r[a],e&&(e=(s=e)[i]);return!n&&S(e)?H(s,e):e}function st(e){var t=e[0],n=e[e.length-1];if(t===n)return wi(t);var i=t,r=[i];do{if(i=i.nextSibling,!i)break;r.push(i)}while(i!==n);return wi(r)}function ot(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),s=t(e,"angular",Object);return s.$$minErr=s.$$minErr||i,t(s,"module",function(){var e={};return function(i,s,o){var a=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return a(i,"module"),s&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),l}}if(!s)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],a=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:r,requires:s,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:a,run:function(e){return r.push(e),this}};return o&&a(o),l})}})}function at(t){d(t,{bootstrap:X,copy:L,extend:d,equals:$,element:wi,forEach:s,injector:_t,noop:f,bind:H,toJson:B,fromJson:F,identity:v,isUndefined:g,isDefined:y,isString:E,isFunction:S,isObject:b,isNumber:w,isElement:O,isArray:Ii,version:Li,isDate:A,lowercase:vi,uppercase:gi,callbacks:{counter:0},$$minErr:i,$$csp:_i}),Si=ot(e);try{Si("ngLocale")}catch(n){Si("ngLocale",[]).provider("$locale",nn)}Si("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:In}),e.provider("$compile",Ht).directive({a:Rr,input:Fr,textarea:Fr,form:Nr,script:js,select:ks,style:Os,option:Ds,ngBind:ts,ngBindHtml:is,ngBindTemplate:ns,ngClass:rs,ngClassEven:os,ngClassOdd:ss,ngCloak:as,ngController:ls,ngForm:$r,ngHide:bs,ngIf:ds,ngInclude:ms,ngInit:fs,ngNonBindable:vs,ngPluralize:hs,ngRepeat:gs,ngShow:ys,ngStyle:Es,ngSwitch:ws,ngSwitchWhen:As,ngSwitchDefault:Ss,ngOptions:xs,ngTransclude:Ts,ngModel:Qr,ngList:Xr,ngChange:Kr,required:Jr,ngRequired:Jr,ngValue:es}).directive({ngInclude:ps}).directive(_r).directive(cs),e.provider({$anchorScroll:Mt,$animate:ir,$browser:$t,$cacheFactory:Pt,$controller:Ft,$document:Vt,$exceptionHandler:Gt,$filter:Bn,$interpolate:en,$interval:tn,$http:Kt,$httpBackend:Xt,$location:hn,$log:gn,$parse:Cn,$rootScope:On,$q:xn,$sce:Nn,$sceDelegate:Ln,$sniffer:$n,$templateCache:Ut,$timeout:Pn,$window:qn,$$rAF:Dn,$$asyncCallback:Lt})}])}function lt(){return++$i}function ct(e){return e.replace(Hi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(qi,"Moz$1")}function ut(e,t,n,i){function r(e){var r,o,a,l,c,u,d,m=n&&e?[this.filter(e)]:[this],p=t;if(!i||null!=e)for(;m.length;)for(r=m.shift(),o=0,a=r.length;a>o;o++)for(l=wi(r[o]),p?l.triggerHandler("$destroy"):p=!p,c=0,u=(d=l.children()).length;u>c;c++)m.push(Ai(d[c]));return s.apply(this,arguments)}var s=Ai.fn[e];s=s.$original||s,r.$original=s,Ai.fn[e]=r}function dt(e){return!Vi.test(e)}function mt(e,t){var n,i,r,s,o,a,l=t.createDocumentFragment(),c=[];if(dt(e))c.push(t.createTextNode(e));else{for(n=l.appendChild(t.createElement("div")),i=(Gi.exec(e)||["",""])[1].toLowerCase(),r=zi[i]||zi._default,n.innerHTML="<div>&#160;</div>"+r[1]+e.replace(Wi,"<$1></$2>")+r[2],n.removeChild(n.firstChild),s=r[0];s--;)n=n.lastChild;for(o=0,a=n.childNodes.length;a>o;++o)c.push(n.childNodes[o]);n=l.firstChild,n.textContent=""}return l.textContent="",l.innerHTML="",c}function pt(e,n){n=n||t;var i;return(i=Fi.exec(e))?[n.createElement(i[1])]:mt(e,n)}function ft(e){if(e instanceof ft)return e;if(E(e)&&(e=Ri(e)),!(this instanceof ft)){if(E(e)&&"<"!=e.charAt(0))throw Bi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ft(e)}if(E(e)){Tt(this,pt(e));var n=wi(t.createDocumentFragment());n.append(this)}else Tt(this,e)}function vt(e){return e.cloneNode(!0)}function ht(e){yt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)ht(n[t])}function gt(e,t,n,i){if(y(i))throw Bi("offargs","jqLite#off() does not support the `selector` argument");var r=bt(e,"events"),o=bt(e,"handle");o&&(g(t)?s(r,function(t,n){Ui(e,n,t),delete r[n]}):s(t.split(" "),function(t){g(n)?(Ui(e,t,r[t]),delete r[t]):M(r[t]||[],n)}))}function yt(e,t){var i=e.ng339,r=Ni[i];if(r){if(t)return void delete Ni[i].data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),gt(e)),delete Ni[i],e.ng339=n}}function bt(e,t,n){var i=e.ng339,r=Ni[i||-1];return y(n)?(r||(e.ng339=i=lt(),r=Ni[i]={}),void(r[t]=n)):r&&r[t]}function Et(e,t,n){var i=bt(e,"data"),r=y(n),s=!r&&y(t),o=s&&!b(t);if(i||o||bt(e,"data",i={}),r)i[t]=n;else{if(!s)return i;if(o)return i&&i[t];d(i,t)}}function wt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function At(e,t){t&&e.setAttribute&&s(t.split(" "),function(t){e.setAttribute("class",Ri((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ri(t)+" "," ")))})}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(t.split(" "),function(e){e=Ri(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ri(n))}}function Tt(e,t){if(t){t=t.nodeName||!y(t.length)||j(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function jt(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,i){9==e.nodeType&&(e=e.documentElement);for(var r=Ii(t)?t:[t];e;){for(var s=0,o=r.length;o>s;s++)if((i=wi.data(e,r[s]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function xt(e){for(var t=0,n=e.childNodes;t<n.length;t++)ht(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function kt(e,t){var n=Qi[t.toLowerCase()];return n&&Ki[e.nodeName]&&n}function Dt(e,n){var i=function(i,r){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),g(i.defaultPrevented)){var o=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,o.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||i.returnValue===!1};var a=N(n[r||i.type]||[]);s(a,function(t){t.call(e,i)}),8>=Ei?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function Ot(e,t){var i,r=typeof e;return"function"==r||"object"==r&&null!==e?"function"==typeof(i=e.$$hashKey)?i=e.$$hashKey():i===n&&(i=e.$$hashKey=(t||c)()):i=e,r+":"+i}function It(e,t){if(t){var n=0;
this.nextUid=function(){return++n}}s(e,this.put,this)}function Rt(e){var t,n,i,r;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(er,""),i=n.match(Ji),s(i[1].split(Xi),function(e){e.replace(Zi,function(e,n,i){t.push(i)})})),e.$inject=t):Ii(e)?(r=e.length-1,nt(e[r],"fn"),t=e.slice(0,r)):nt(e,"fn",!0),t}function _t(e){function t(e){return function(t,n){return b(t)?void s(t,l(e)):e(t,n)}}function n(e,t){if(it(e,"service"),(S(t)||Ii(t))&&(t=w.instantiate(t)),!t.$get)throw tr("pget","Provider '{0}' must define $get factory method.",e);return y[e+p]=t}function i(e,t){return n(e,{$get:t})}function r(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function o(e,t){return i(e,h(t))}function a(e,t){it(e,"constant"),y[e]=t,A[e]=t}function c(e,t){var n=w.get(e+p),i=n.$get;n.$get=function(){var e=T.invoke(i,n);return T.invoke(t,null,{$delegate:e})}}function u(e){var t,n,i,r,o=[];return s(e,function(e){if(!g.get(e)){g.put(e,!0);try{if(E(e))for(t=Si(e),o=o.concat(u(t.requires)).concat(t._runBlocks),n=t._invokeQueue,i=0,r=n.length;r>i;i++){var s=n[i],a=w.get(s[0]);a[s[1]].apply(a,s[2])}else S(e)?o.push(w.invoke(e)):Ii(e)?o.push(w.invoke(e)):nt(e,"module")}catch(l){throw Ii(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),tr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),o}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===m)throw tr("cdep","Circular dependency found: {0}",n+" <- "+v.join(" <- "));return e[n]}try{return v.unshift(n),e[n]=m,e[n]=t(n)}catch(i){throw e[n]===m&&delete e[n],i}finally{v.shift()}}function i(e,t,i){var r,s,o,a=[],l=Rt(e);for(s=0,r=l.length;r>s;s++){if(o=l[s],"string"!=typeof o)throw tr("itkn","Incorrect injection token! Expected service name as string, got {0}",o);a.push(i&&i.hasOwnProperty(o)?i[o]:n(o))}return Ii(e)&&(e=e[r]),e.apply(t,a)}function r(e,t){var n,r,s=function(){};return s.prototype=(Ii(e)?e[e.length-1]:e).prototype,n=new s,r=i(e,n,t),b(r)||S(r)?r:n}return{invoke:i,instantiate:r,get:n,annotate:Rt,has:function(t){return y.hasOwnProperty(t+p)||e.hasOwnProperty(t)}}}var m={},p="Provider",v=[],g=new It([],!0),y={$provide:{provider:t(n),factory:t(i),service:t(r),value:t(o),constant:t(a),decorator:c}},w=y.$injector=d(y,function(){throw tr("unpr","Unknown provider: {0}",v.join(" <- "))}),A={},T=A.$injector=d(A,function(e){var t=w.get(e+p);return T.invoke(t.$get,t)});return s(u(e),function(e){T.invoke(e||f)}),T}function Mt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return s(e,function(e){t||"a"!==vi(e.nodeName)||(t=e)}),t}function o(){var e,i=n.hash();i?(e=a.getElementById(i))?e.scrollIntoView():(e=r(a.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(o)}),o}]}function Lt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Nt(e,t,i,r){function o(e){try{e.apply(null,U(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){i.error(t)}}}function a(e,t){!function n(){s(A,function(e){e()}),w=t(n,e)}()}function l(){S!=c.url()&&(S=c.url(),s(C,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,m=e.history,p=e.setTimeout,v=e.clearTimeout,h={};c.isMock=!1;var y=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(e){s(A,function(e){e()}),0===y?e():b.push(e)};var w,A=[];c.addPollFn=function(e){return g(w)&&a(100,p),A.push(e),e};var S=d.href,T=t.find("base"),j=null;c.url=function(t,n){if(d!==e.location&&(d=e.location),m!==e.history&&(m=e.history),t){if(S==t)return;var i=S&&ln(S)===ln(t);return S=t,!i&&r.history?n?m.replaceState(null,"",t):(m.pushState(null,"",t),T.attr("href",T.attr("href"))):(i||(j=t),n?d.replace(t):d.href=t),c}return j||d.href.replace(/%27/g,"'")};var C=[],x=!1;c.onUrlChange=function(t){return x||(r.history&&wi(e).on("popstate",l),r.hashchange?wi(e).on("hashchange",l):c.addPollFn(l),x=!0),C.push(t),t},c.$$checkUrlChange=l,c.baseHref=function(){var e=T.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var k={},D="",O=c.baseHref();c.cookies=function(e,t){var r,s,o,a,l;if(!e){if(u.cookie!==D)for(D=u.cookie,s=D.split("; "),k={},a=0;a<s.length;a++)o=s[a],l=o.indexOf("="),l>0&&(e=unescape(o.substring(0,l)),k[e]===n&&(k[e]=unescape(o.substring(l+1))));return k}t===n?u.cookie=escape(e)+"=;path="+O+";expires=Thu, 01 Jan 1970 00:00:00 GMT":E(t)&&(r=(u.cookie=escape(e)+"="+escape(t)+";path="+O).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return y++,n=p(function(){delete h[n],o(e)},t||0),h[n]=!0,n},c.defer.cancel=function(e){return h[e]?(delete h[e],v(e),o(f),!0):!1}}function $t(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Nt(e,i,t,n)}]}function Pt(){this.$get=function(){function e(e,n){function r(e){e!=m&&(p?p==e&&(p=e.n):p=e,s(e.n,e.p),s(e,m),m=e,m.n=null)}function s(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,a=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},m=null,p=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});r(n)}if(!g(t))return e in l||o++,l[e]=t,o>c&&this.remove(p.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==m&&(m=t.p),t==p&&(p=t.n),s(t.n,t.p),delete u[e]}delete l[e],o--},removeAll:function(){l={},o=0,u={},m=p=null},destroy:function(){l=null,a=null,u=null,delete t[e]},info:function(){return d({},a,{size:o})}}}var t={};return e.info=function(){var e={};return s(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ut(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ht(e,i){var r={},o="Directive",a=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,c=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function m(t,n){return it(t,"directive"),E(t)?(tt(n,"directiveFactory"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var i=[];return s(r[t],function(r,s){try{var o=e.invoke(r);S(o)?o={compile:h(o)}:!o.compile&&o.link&&(o.compile=h(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",i.push(o)}catch(a){n(a)}}),i}])),r[t].push(n)):s(t,l(m)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,l,m,f,h,g,y,w,A,T,j){function C(e,t,n,i,r){e instanceof wi||(e=wi(e)),s(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=wi(t).wrap("<span></span>").parent()[0])});var o=k(e,t,e,n,i,r);return x(e,"ng-scope"),function(t,n,i,r){tt(t,"scope");var a=n?Yi.clone.call(e):e;s(i,function(e,t){a.data("$"+t+"Controller",e)});for(var l=0,c=a.length;c>l;l++){var u=a[l],d=u.nodeType;(1===d||9===d)&&a.eq(l).data("$scope",t)}return n&&n(a,t),o&&o(t,a,a,r),a}}function x(e,t){try{e.addClass(t)}catch(n){}}function k(e,t,i,r,s,o){function a(e,i,r,s){var o,a,l,c,u,d,m,p,v=i.length,h=new Array(v);for(u=0;v>u;u++)h[u]=i[u];for(u=0,m=0,d=f.length;d>u;m++)l=h[m],o=f[u++],a=f[u++],o?(o.scope?(c=e.$new(),wi.data(l,"$scope",c)):c=e,p=o.transcludeOnThisElement?D(e,o.transclude,s):!o.templateOnThisElement&&s?s:!s&&t?D(e,t):null,o(a,c,l,r,p)):a&&a(e,l.childNodes,n,s)}for(var l,c,u,d,m,p,f=[],v=0;v<e.length;v++)l=new Q,c=O(e[v],[],l,0===v?r:n,s),u=c.length?_(c,e[v],l,t,i,null,[],[],o):null,u&&u.scope&&x(l.$$element,"ng-scope"),m=u&&u.terminal||!(d=e[v].childNodes)||!d.length?null:k(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),f.push(u,m),p=p||u||m,o=null;return p?a:null}function D(e,t,n){var i=function(i,r,s){var o=!1;i||(i=e.$new(),i.$$transcluded=!0,o=!0);var a=t(i,r,s,n);return o&&a.on("$destroy",function(){i.$destroy()}),a};return i}function O(e,t,n,i,r){var s,o,l=e.nodeType,u=n.$attr;switch(l){case 1:L(t,qt(Ti(e).toLowerCase()),"E",i,r);for(var d,m,p,f,v,h,g=e.attributes,y=0,b=g&&g.length;b>y;y++){var w=!1,A=!1;if(d=g[y],!Ei||Ei>=8||d.specified){m=d.name,v=Ri(d.value),f=qt(m),(h=et.test(f))&&(m=Z(f.substr(6),"-"));var S=f.replace(/(Start|End)$/,"");f===S+"Start"&&(w=m,A=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),p=qt(m.toLowerCase()),u[p]=m,(h||!n.hasOwnProperty(p))&&(n[p]=v,kt(e,p)&&(n[p]=!0)),W(e,t,v,p),L(t,p,"A",i,r,w,A)}}if(o=e.className,E(o)&&""!==o)for(;s=c.exec(o);)p=qt(s[2]),L(t,p,"C",i,r)&&(n[p]=Ri(s[3])),o=o.substr(s.index+s[0].length);break;case 3:F(t,e.nodeValue);break;case 8:try{s=a.exec(e.nodeValue),s&&(p=qt(s[1]),L(t,p,"M",i,r)&&(n[p]=Ri(s[2])))}catch(T){}}return t.sort(q),t}function I(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw rr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return wi(i)}function R(e,t,n){return function(i,r,s,o,a){return r=I(r[0],t,n),e(i,r,s,o,a)}}function _(e,r,o,a,c,u,d,m,p){function f(e,t,n,i){e&&(n&&(e=R(e,n,i)),e.require=A.require,e.directiveName=T,(q===A||A.$$isolateScope)&&(e=Y(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=R(t,n,i)),t.require=A.require,t.directiveName=T,(q===A||A.$$isolateScope)&&(t=Y(t,{isolateScope:!0})),m.push(t))}function v(e,t,n,i){var r,o="data",a=!1;if(E(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(o="inheritedData"),a=a||"?"==r;if(r=null,i&&"data"===o&&(r=i[t]),r=r||n[o]("$"+t+"Controller"),!r&&!a)throw rr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r}return Ii(t)&&(r=[],s(t,function(t){r.push(v(e,t,n,i))})),r}function y(e,t,a,c,u){function p(e,t){var i;return arguments.length<2&&(t=e,e=n),J&&(i=j),u(e,t,i)}var f,y,b,E,w,A,S,T,j={};if(f=r===a?o:N(o,new Q(wi(a),o.$attr)),y=f.$$element,q){var C=/^\s*([@=&])(\??)\s*(\w*)\s*$/;S=t.$new(!0),!F||F!==q&&F!==q.$$originalDirective?y.data("$isolateScopeNoTemplate",S):y.data("$isolateScope",S),x(y,"ng-isolate-scope"),s(q.scope,function(e,n){var r,s,o,a,l=e.match(C)||[],c=l[3]||n,u="?"==l[2],d=l[1];switch(S.$$isolateBindings[n]=d+c,d){case"@":f.$observe(c,function(e){S[n]=e}),f.$$observers[c].$$scope=t,f[c]&&(S[n]=i(f[c])(t));break;case"=":if(u&&!f[c])return;s=h(f[c]),a=s.literal?$:function(e,t){return e===t||e!==e&&t!==t},o=s.assign||function(){throw r=S[n]=s(t),rr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",f[c],q.name)},r=S[n]=s(t),S.$watch(function(){var e=s(t);return a(e,S[n])||(a(e,r)?o(t,e=S[n]):S[n]=e),r=e},null,s.literal);break;case"&":s=h(f[c]),S[n]=function(e){return s(t,e)};break;default:throw rr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",q.name,n,e)}})}for(T=u&&p,L&&s(L,function(e){var n,i={$scope:e===q||e.$$isolateScope?S:t,$element:y,$attrs:f,$transclude:T};A=e.controller,"@"==A&&(A=f[e.name]),n=g(A,i),j[e.name]=n,J||y.data("$"+e.name+"Controller",n),e.controllerAs&&(i.$scope[e.controllerAs]=n)}),b=0,E=d.length;E>b;b++)try{w=d[b],w(w.isolateScope?S:t,y,f,w.require&&v(w.directiveName,w.require,y,j),T)}catch(k){l(k,G(y))}var D=t;for(q&&(q.template||null===q.templateUrl)&&(D=S),e&&e(D,a.childNodes,n,u),b=m.length-1;b>=0;b--)try{w=m[b],w(w.isolateScope?S:t,y,f,w.require&&v(w.directiveName,w.require,y,j),T)}catch(k){l(k,G(y))}}p=p||{};for(var w,A,T,j,k,D,_=-Number.MAX_VALUE,L=p.controllerDirectives,q=p.newIsolateScopeDirective,F=p.templateDirective,V=p.nonTlbTranscludeDirective,W=!1,K=!1,J=p.hasElementTranscludeDirective,Z=o.$$element=wi(r),et=u,tt=a,nt=0,it=e.length;it>nt;nt++){A=e[nt];var rt=A.$$start,st=A.$$end;if(rt&&(Z=I(r,rt,st)),j=n,_>A.priority)break;if((D=A.scope)&&(w=w||A,A.templateUrl||(B("new/isolated scope",q,A,Z),b(D)&&(q=A))),T=A.name,!A.templateUrl&&A.controller&&(D=A.controller,L=L||{},B("'"+T+"' controller",L[T],A,Z),L[T]=A),(D=A.transclude)&&(W=!0,A.$$tlb||(B("transclusion",V,A,Z),V=A),"element"==D?(J=!0,_=A.priority,j=Z,Z=o.$$element=wi(t.createComment(" "+T+": "+o[T]+" ")),r=Z[0],z(c,U(j),r),tt=C(j,a,_,et&&et.name,{nonTlbTranscludeDirective:V})):(j=wi(vt(r)).contents(),Z.empty(),tt=C(j,a))),A.template)if(K=!0,B("template",F,A,Z),F=A,D=S(A.template)?A.template(Z,o):A.template,D=X(D),A.replace){if(et=A,j=dt(D)?[]:wi(Ri(D)),r=j[0],1!=j.length||1!==r.nodeType)throw rr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",T,"");z(c,Z,r);var ot={$attr:{}},at=O(r,[],ot),lt=e.splice(nt+1,e.length-(nt+1));q&&M(at),e=e.concat(at).concat(lt),P(o,ot),it=e.length}else Z.html(D);if(A.templateUrl)K=!0,B("template",F,A,Z),F=A,A.replace&&(et=A),y=H(e.splice(nt,e.length-nt),Z,o,c,W&&tt,d,m,{controllerDirectives:L,newIsolateScopeDirective:q,templateDirective:F,nonTlbTranscludeDirective:V}),it=e.length;else if(A.compile)try{k=A.compile(Z,o,tt),S(k)?f(null,k,rt,st):k&&f(k.pre,k.post,rt,st)}catch(ct){l(ct,G(Z))}A.terminal&&(y.terminal=!0,_=Math.max(_,A.priority))}return y.scope=w&&w.scope===!0,y.transcludeOnThisElement=W,y.templateOnThisElement=K,y.transclude=tt,p.hasElementTranscludeDirective=J,y}function M(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function L(t,i,s,a,c,u,d){if(i===c)return null;var m=null;if(r.hasOwnProperty(i))for(var f,v=e.get(i+o),h=0,g=v.length;g>h;h++)try{f=v[h],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(s)&&(u&&(f=p(f,{$$start:u,$$end:d})),t.push(f),m=f)}catch(y){l(y)}return m}function P(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;s(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),s(t,function(t,s){"class"==s?(x(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==s?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==s.charAt(0)||e.hasOwnProperty(s)||(e[s]=t,i[s]=n[s])})}function H(e,t,n,i,r,o,a,l){var c,u,p=[],v=t[0],h=e.shift(),g=d({},h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),y=S(h.templateUrl)?h.templateUrl(t,n):h.templateUrl;return t.empty(),m.get(A.getTrustedResourceUrl(y),{cache:f}).success(function(d){var m,f,E,w;if(d=X(d),h.replace){if(E=dt(d)?[]:wi(Ri(d)),m=E[0],1!=E.length||1!==m.nodeType)throw rr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,y);f={$attr:{}},z(i,t,m);var A=O(m,[],f);b(h.scope)&&M(A),e=A.concat(e),P(n,f)}else m=v,t.html(d);for(e.unshift(g),c=_(e,m,n,r,t,h,o,a,l),s(i,function(e,n){e==m&&(i[n]=t[0])}),u=k(t[0].childNodes,r);p.length;){var S=p.shift(),T=p.shift(),j=p.shift(),C=p.shift(),I=t[0];if(T!==v){var R=T.className;l.hasElementTranscludeDirective&&h.replace||(I=vt(m)),z(j,wi(T),I),x(wi(I),R)}w=c.transcludeOnThisElement?D(S,c.transclude,C):C,c(u,S,I,i,w)}p=null}).error(function(e,t,n,i){throw rr("tpload","Failed to load template: {0}",i.url)}),function(e,t,n,i,r){var s=r;p?(p.push(t),p.push(n),p.push(i),p.push(s)):(c.transcludeOnThisElement&&(s=D(t,c.transclude,r)),c(u,t,n,i,s))}}function q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function B(e,t,n,i){if(t)throw rr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,G(i))}function F(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=t.length;return i&&x(e.parent(),"ng-binding"),function(e,t){var r=t.parent(),s=r.data("$binding")||[];s.push(n),r.data("$binding",s),i||x(r,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function V(e,t){if("srcdoc"==t)return A.HTML;var n=Ti(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?A.RESOURCE_URL:void 0}function W(e,t,n,r){var s=i(n,!0);if(s){if("multiple"===r&&"SELECT"===Ti(e))throw rr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",G(e));t.push({priority:100,compile:function(){return{pre:function(t,n,o){var a=o.$$observers||(o.$$observers={});if(u.test(r))throw rr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");s=i(o[r],!0,V(e,r)),s&&(o[r]=s(t),(a[r]||(a[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(s,function(e,t){"class"===r&&e!=t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function z(e,n,i){var r,s,o=n[0],a=n.length,l=o.parentNode;if(e)for(r=0,s=e.length;s>r;r++)if(e[r]==o){e[r++]=i;for(var c=r,u=c+a-1,d=e.length;d>c;c++,u++)d>u?e[c]=e[u]:delete e[c];e.length-=a-1;break}l&&l.replaceChild(i,o);var m=t.createDocumentFragment();m.appendChild(o),i[wi.expando]=o[wi.expando];for(var p=1,f=n.length;f>p;p++){var v=n[p];wi(v).remove(),m.appendChild(v),delete n[p]}n[0]=i,n.length=1}function Y(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var Q=function(e,t){this.$$element=e,this.$attr=t||{}};Q.prototype={$normalize:qt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Bt(e,t),i=Bt(t,e);0===n.length?T.removeClass(this.$$element,i):0===i.length?T.addClass(this.$$element,n):T.setClass(this.$$element,n,i)},$set:function(e,t,i,r){var o,a=kt(this.$$element[0],e);a&&(this.$$element.prop(e,t),r=a),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=Z(e,"-"))),o=Ti(this.$$element),("A"===o&&"href"===e||"IMG"===o&&"src"===e)&&(this[e]=t=j(t,"src"===e)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(r):this.$$element.attr(r,t));var c=this.$$observers;c&&s(c[e],function(e){try{e(t)}catch(n){l(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||t(n[e])}),t}};var K=i.startSymbol(),J=i.endSymbol(),X="{{"==K||"}}"==J?v:function(e){return e.replace(/\{\{/g,K).replace(/}}/g,J)},et=/^ngAttr[A-Z]/;return C}]}function qt(e){return ct(e.replace(sr,""))}function Bt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var s=0;s<i.length;s++){for(var o=i[s],a=0;a<r.length;a++)if(o==r[a])continue e;n+=(n.length>0?" ":"")+o}return n}function Ft(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){it(t,"controller"),b(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,r){return function(s,o){var a,l,c,u;if(E(s)&&(l=s.match(t),c=l[1],u=l[3],s=e.hasOwnProperty(c)?e[c]:rt(o.$scope,c,!0)||rt(r,c,!0),nt(s,c,!0)),a=n.instantiate(s,o),u){if(!o||"object"!=typeof o.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",c||s.name,u);o.$scope[u]=a}return a}}]}function Vt(){this.$get=["$window",function(e){return wi(e.document)}]}function Gt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Wt(e){var t,n,i,r={};return e?(s(e.split("\n"),function(e){i=e.indexOf(":"),t=vi(Ri(e.substr(0,i))),n=Ri(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function zt(e){var t=b(e)?e:n;return function(n){return t||(t=Wt(e)),n?t[vi(n)]||null:t}}function Yt(e,t,n){return S(n)?n(e,t):(s(n,function(n){e=n(e,t)}),e)}function Qt(e){return e>=200&&300>e}function Kt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,r={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){return E(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=F(n))),n}],transformRequest:[function(e){return!b(e)||x(e)||k(e)?e:B(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(r),put:N(r),patch:N(r)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,r,u,m){function p(e){function t(e){var t=d({},e,{data:Yt(e.data,e.headers,r.transformResponse)});return Qt(e.status)?t:u.reject(t)}function i(e){function t(e){var t;s(e,function(n,i){S(n)&&(t=n(),null!=t?e[i]=t:delete e[i])})}var n,i,r,a=o.headers,l=d({},e.headers);a=d({},a.common,a[vi(e.method)]);e:for(n in a){i=vi(n);for(r in l)if(vi(r)===i)continue e;l[n]=a[n]}return t(l),l}var r={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},a=i(e);d(r,e),r.headers=a,r.method=gi(r.method);var l=function(e){a=e.headers;var n=Yt(e.data,zt(a),e.transformRequest);return g(n)&&s(a,function(e,t){"content-type"===vi(t)&&delete a[t]}),g(e.withCredentials)&&!g(o.withCredentials)&&(e.withCredentials=o.withCredentials),h(e,n,a).then(t,t)},c=[l,n],m=u.when(r);for(s(j,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var p=c.shift(),f=c.shift();m=m.then(p,f)}return m.success=function(e){return m.then(function(t){e(t.data,t.status,t.headers,r)}),m},m.error=function(e){return m.then(null,function(t){e(t.data,t.status,t.headers,r)}),m},m}function f(){s(arguments,function(e){p[e]=function(t,n){return p(d(n||{},{method:e,url:t}))}})}function v(){s(arguments,function(e){p[e]=function(t,n,i){return p(d(i||{},{method:e,url:t,data:n}))}})}function h(i,s,a){function l(e,t,n,i){m&&(Qt(e)?m.put(E,[e,t,Wt(n),i]):m.remove(E)),c(t,e,n,i),r.$$phase||r.$apply()}function c(e,t,n,r){t=Math.max(t,0),(Qt(t)?v.resolve:v.reject)({data:e,status:t,headers:zt(n),config:i,statusText:r})}function d(){var e=_(p.pendingRequests,i);-1!==e&&p.pendingRequests.splice(e,1)}var m,f,v=u.defer(),h=v.promise,E=w(i.url,i.params);if(p.pendingRequests.push(i),h.then(d,d),!i.cache&&!o.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(m=b(i.cache)?i.cache:b(o.cache)?o.cache:T),m)if(f=m.get(E),y(f)){if(D(f))return f.then(d,d),f;Ii(f)?c(f[1],f[0],N(f[2]),f[3]):c(f,200,{},"OK")}else m.put(E,h);if(g(f)){var A=Hn(i.url)?t.cookies()[i.xsrfCookieName||o.xsrfCookieName]:n;A&&(a[i.xsrfHeaderName||o.xsrfHeaderName]=A),e(i.method,E,s,l,a,i.timeout,i.withCredentials,i.responseType)}return h}function w(e,t){if(!t)return e;var n=[];return a(t,function(e,t){null===e||g(e)||(Ii(e)||(e=[e]),s(e,function(e){b(e)&&(e=A(e)?e.toISOString():B(e)),n.push(K(t)+"="+K(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var T=i("$http"),j=[];return s(l,function(e){j.unshift(E(e)?m.get(e):m.invoke(e))}),s(c,function(e,t){var n=E(e)?m.get(e):m.invoke(e);j.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),p.pendingRequests=[],f("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=o,p}]}function Jt(t){if(8>=Ei&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Xt(){this.$get=["$browser","$window","$document",function(e,t,n){return Zt(e,Jt,e.defer,t.angular.callbacks,n[0])}]}function Zt(e,t,n,i,r){function o(e,t,n){var s=r.createElement("script"),o=null;return s.type="text/javascript",s.src=e,s.async=!0,o=function(e){Ui(s,"load",o),Ui(s,"error",o),r.body.removeChild(s),s=null;var a=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},Pi(s,"load",o),Pi(s,"error",o),8>=Ei&&(s.onreadystatechange=function(){E(s.readyState)&&/loaded|complete/.test(s.readyState)&&(s.onreadystatechange=null,o({type:"load"}))}),r.body.appendChild(s),o}var a=-1;return function(r,l,c,u,d,m,p,v){function h(){b=a,w&&w(),A&&A.abort()}function g(t,i,r,s,o){T&&n.cancel(T),w=A=null,0===i&&(i=r?200:"file"==Un(l).protocol?404:0),i=1223===i?204:i,o=o||"",t(i,r,s,o),e.$$completeOutstandingRequest(f)}var b;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==vi(r)){var E="_"+(i.counter++).toString(36);i[E]=function(e){i[E].data=e,i[E].called=!0};var w=o(l.replace("JSON_CALLBACK","angular.callbacks."+E),E,function(e,t){g(u,e,i[E].data,"",t),i[E]=f})}else{var A=t(r);if(A.open(r,l,!0),s(d,function(e,t){y(e)&&A.setRequestHeader(t,e)}),A.onreadystatechange=function(){if(A&&4==A.readyState){var e=null,t=null,n="";b!==a&&(e=A.getAllResponseHeaders(),t="response"in A?A.response:A.responseText),b===a&&10>Ei||(n=A.statusText),g(u,b||A.status,t,e,n)}},p&&(A.withCredentials=!0),v)try{A.responseType=v}catch(S){if("json"!==v)throw S}A.send(c||null)}if(m>0)var T=n(h,m);else D(m)&&m.then(h)}}function en(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function s(s,l,c){for(var u,d,m,p,f=0,v=[],h=s.length,g=!1,y=[];h>f;)-1!=(u=s.indexOf(e,f))&&-1!=(d=s.indexOf(t,u+o))?(f!=u&&v.push(s.substring(f,u)),v.push(m=n(p=s.substring(u+o,d))),m.exp=p,f=d+a,g=!0):(f!=h&&v.push(s.substring(f)),f=h);if((h=v.length)||(v.push(""),h=1),c&&v.length>1)throw or("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",s);return!l||g?(y.length=h,m=function(e){try{for(var t,n=0,o=h;o>n;n++){if("function"==typeof(t=v[n]))if(t=t(e),t=c?r.getTrusted(c,t):r.valueOf(t),null==t)t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=B(t)}y[n]=t}return y.join("")}catch(a){var l=or("interr","Can't interpolate: {0}\n{1}",s,a.toString());i(l)}},m.exp=s,m.parts=v,m):void 0}var o=e.length,a=t.length;return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function tn(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,s,o,a){var l=t.setInterval,c=t.clearInterval,u=n.defer(),d=u.promise,m=0,p=y(a)&&!a;return o=y(o)?o:0,d.then(null,null,i),d.$$intervalId=l(function(){u.notify(m++),o>0&&m>=o&&(u.resolve(m),c(d.$$intervalId),delete r[d.$$intervalId]),p||e.$apply()},s),r[d.$$intervalId]=u,d}var r={};return i.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},i}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function rn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Q(t[n]);return t.join("/")}function sn(e,t,n){var i=Un(e,n);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=m(i.port)||lr[i.protocol]||null}function on(e,t,n){var i="/"!==e.charAt(0);i&&(e="/"+e);var r=Un(e,n);t.$$path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function an(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function ln(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function cn(e){return e.substr(0,ln(e).lastIndexOf("/")+1)}function un(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function dn(e,t){this.$$html5=!0,t=t||"";var i=cn(e);sn(e,this,e),this.$$parse=function(t){var n=an(i,t);if(!E(n))throw cr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);on(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),t=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=rn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r){var s,o,a;return(s=an(e,r))!==n?(o=s,a=(s=an(t,s))!==n?i+(an("/",s)||s):e+o):(s=an(i,r))!==n?a=i+s:i==r+"/"&&(a=i),a&&this.$$parse(a),!!a}}function mn(e,t){var n=cn(e);sn(e,this,e),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var s=an(e,i)||an(n,i),o="#"==s.charAt(0)?an(t,s):this.$$html5?s:"";if(!E(o))throw cr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',i,t);on(o,this,e),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=Y(this.$$search),i=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return ln(e)==ln(t)?(this.$$parse(t),!0):!1}}function pn(e,t){this.$$html5=!0,mn.apply(this,arguments);var n=cn(e);this.$$parseLinkUrl=function(i){var r,s;return e==ln(i)?r=i:(s=an(n,i))?r=e+t+s:n===i+"/"&&(r=n),r&&this.$$parse(r),!!r},this.$$compose=function(){var n=Y(this.$$search),i=this.$$hash?"#"+Q(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function fn(e){return function(){return this[e]}}function vn(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function hn(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,s,o){function a(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d=r.baseHref(),m=r.url();n?(u=un(m)+(d||"/"),c=s.history?dn:pn):(u=ln(m),c=mn),l=new c(u,"#"+t),l.$$parseLinkUrl(m,m);var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=wi(t.target);"a"!==vi(n[0].nodeName);)if(n[0]===o[0]||!(n=n.parent())[0])return;var s=n.prop("href"),a=n.attr("href")||n.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Un(s.animVal).href),p.test(s)||!s||n.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,a)&&(t.preventDefault(),l.absUrl()!=r.url()&&(i.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=m&&r.url(l.absUrl(),!0),r.onUrlChange(function(e){l.absUrl()!=e&&(i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),i.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),r.url(t)):a(t)}),i.$$phase||i.$digest())});var f=0;return i.$watch(function(){var e=r.url(),t=l.$$replace;return f&&e==l.absUrl()||(f++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(r.url(l.absUrl(),t),a(e))})),l.$$replace=!1,f}),l}]}function gn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||f,o=!1;try{o=!!r.apply}catch(a){}return o?function(){var e=[];
return s(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function yn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw dr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function bn(e,t){if(e){if(e.constructor===e)throw dr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw dr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw dr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw dr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function En(e,t){if(e){if(e.constructor===e)throw dr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===pr||e===fr||vr&&e===vr)throw dr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function wn(e,t,i,r,s){bn(e,r),s=s||{};for(var o,a=t.split("."),l=0;a.length>1;l++){o=yn(a.shift(),r);var c=bn(e[o],r);c||(c={},e[o]=c),e=c,e.then&&s.unwrapPromises&&(ur(r),"$$v"in e||!function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return o=yn(a.shift(),r),bn(e[o],r),e[o]=i,i}function An(e){return"constructor"==e}function Sn(e,t,i,r,s,o,a){yn(e,o),yn(t,o),yn(i,o),yn(r,o),yn(s,o);var l=function(e){return bn(e,o)},c=a.expensiveChecks,u=c||An(e)?l:v,d=c||An(t)?l:v,m=c||An(i)?l:v,p=c||An(r)?l:v,f=c||An(s)?l:v;return a.unwrapPromises?function(a,l){var c,v=l&&l.hasOwnProperty(e)?l:a;return null==v?v:(v=u(v[e]),v&&v.then&&(ur(o),"$$v"in v||(c=v,c.$$v=n,c.then(function(e){c.$$v=u(e)})),v=u(v.$$v)),t?null==v?n:(v=d(v[t]),v&&v.then&&(ur(o),"$$v"in v||(c=v,c.$$v=n,c.then(function(e){c.$$v=d(e)})),v=d(v.$$v)),i?null==v?n:(v=m(v[i]),v&&v.then&&(ur(o),"$$v"in v||(c=v,c.$$v=n,c.then(function(e){c.$$v=m(e)})),v=m(v.$$v)),r?null==v?n:(v=p(v[r]),v&&v.then&&(ur(o),"$$v"in v||(c=v,c.$$v=n,c.then(function(e){c.$$v=p(e)})),v=p(v.$$v)),s?null==v?n:(v=f(v[s]),v&&v.then&&(ur(o),"$$v"in v||(c=v,c.$$v=n,c.then(function(e){c.$$v=f(e)})),v=f(v.$$v)),v):v):v):v):v)}:function(o,a){var l=a&&a.hasOwnProperty(e)?a:o;return null==l?l:(l=u(l[e]),t?null==l?n:(l=d(l[t]),i?null==l?n:(l=m(l[i]),r?null==l?n:(l=p(l[r]),s?null==l?n:l=f(l[s]):l):l):l):l)}}function Tn(e,t){return function(n,i){return e(n,i,ur,bn,t)}}function jn(e,t,i){var r=t.expensiveChecks,o=r?wr:Er;if(o.hasOwnProperty(e))return o[e];var a,l=e.split("."),c=l.length;if(t.csp)a=6>c?Sn(l[0],l[1],l[2],l[3],l[4],i,t):function(e,r){var s,o=0;do s=Sn(l[o++],l[o++],l[o++],l[o++],l[o++],i,t)(e,r),r=n,e=s;while(c>o);return s};else{var u="var p;\n";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=r;s(l,function(e,n){yn(e,i);var s=(n?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+'["'+e+'"]',o=r||An(e);o&&(s="eso("+s+", fe)",d=!0),u+="if(s == null) return undefined;\ns="+s+";\n",t.unwrapPromises&&(u+='if (s && s.then) {\n pw("'+i.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(o?"eso(v)":"v")+";});\n}\n s="+(o?"eso(s.$$v)":"s.$$v")+"\n}\n")}),u+="return s;";var m=new Function("s","l","pw","eso","fe",u);m.toString=h(u),(d||t.unwrapPromises)&&(m=Tn(m,i)),a=m}return"hasOwnProperty"!==e&&(o[e]=a),a}function Cn(){var e={},t={},n={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(e){return y(e)?(n.unwrapPromises=!!e,this):n.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(n.logPromiseWarnings=e,this):n.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(i,r,s){n.csp=r.csp;var o={csp:n.csp,unwrapPromises:n.unwrapPromises,logPromiseWarnings:n.logPromiseWarnings,expensiveChecks:!0};return ur=function(e){n.logPromiseWarnings&&!mr.hasOwnProperty(e)&&(mr[e]=!0,s.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r,s){var a;switch(typeof r){case"string":var l=s?t:e;if(l.hasOwnProperty(r))return l[r];var c=s?o:n,u=new yr(c),d=new br(u,i,c);return a=d.parse(r),"hasOwnProperty"!==r&&(l[r]=a),a;case"function":return r;default:return f}}}]}function xn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return kn(function(t){e.$evalAsync(t)},t)}]}function kn(e,t){function i(e){return e}function r(e){return c(e)}function o(e){var t=a(),n=0,i=Ii(e)?[]:{};return s(e,function(e,r){n++,l(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var a=function(){var s,o,c=[];return o={resolve:function(t){if(c){var i=c;c=n,s=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],s.then(e[0],e[1],e[2])})}},reject:function(e){o.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,i=0,r=n.length;r>i;i++)e=n[i],e[2](t)})}},promise:{then:function(e,n,o){var l=a(),u=function(n){try{l.resolve((S(e)?e:i)(n))}catch(r){l.reject(r),t(r)}},d=function(e){try{l.resolve((S(n)?n:r)(e))}catch(i){l.reject(i),t(i)}},m=function(e){try{l.notify((S(o)?o:i)(e))}catch(n){t(n)}};return c?c.push([u,d,m]):s.then(u,d,m),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=a();return t?n.resolve(e):n.reject(e),n.promise}function n(n,r){var s=null;try{s=(e||i)()}catch(o){return t(o,!1)}return D(s)?s.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return D(t)?t:{then:function(n){var i=a();return e(function(){i.resolve(n(t))}),i.promise}}},c=function(e){var t=a();return t.reject(e),t.promise},u=function(n){return{then:function(i,s){var o=a();return e(function(){try{o.resolve((S(s)?s:r)(n))}catch(e){o.reject(e),t(e)}}),o.promise}}},d=function(n,s,o,u){var d,m=a(),p=function(e){try{return(S(s)?s:i)(e)}catch(n){return t(n),c(n)}},f=function(e){try{return(S(o)?o:r)(e)}catch(n){return t(n),c(n)}},v=function(e){try{return(S(u)?u:i)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){d||(d=!0,m.resolve(l(e).then(p,f,v)))},function(e){d||(d=!0,m.resolve(f(e)))},function(e){d||m.notify(v(e))})}),m.promise};return{defer:a,reject:c,when:d,all:o}}function Dn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,s=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return s.supported=r,s}]}function On(){var e=10,t=i("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,o,a,l){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(g.$$phase)throw t("inprog","{0} already in progress",g.$$phase);g.$$phase=e}function m(){g.$$phase=null}function p(e,t){var n=a(e);return nt(n,t),n}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function h(){}u.prototype={constructor:u,$new:function(e){var t;return e?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t["this"]=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,i){var r=this,s=p(e,"watch"),o=r.$$watchers,a={fn:t,last:h,get:s,exp:e,eq:!!i};if(n=null,!S(t)){var l=p(t||f,"listener");a.fn=function(e,t,n){l(n)}}if("string"==typeof e&&s.constant){var c=a.fn;a.fn=function(e,t,n){c.call(this,e,t,n),M(o,a)}}return o||(o=r.$$watchers=[]),o.unshift(a),function(){M(o,a),n=null}},$watchCollection:function(e,t){function n(){s=m(c);var e,t,n;if(b(s))if(r(s)){o!==p&&(o=p,h=o.length=0,d++),e=s.length,h!==e&&(d++,o.length=h=e);for(var i=0;e>i;i++)n=o[i]!==o[i]&&s[i]!==s[i],n||o[i]===s[i]||(d++,o[i]=s[i])}else{o!==f&&(o=f={},h=0,d++),e=0;for(t in s)s.hasOwnProperty(t)&&(e++,o.hasOwnProperty(t)?(n=o[t]!==o[t]&&s[t]!==s[t],n||o[t]===s[t]||(d++,o[t]=s[t])):(h++,o[t]=s[t],d++));if(h>e){d++;for(t in o)o.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(h--,delete o[t])}}else o!==s&&(o=s,d++);return d}function i(){if(v?(v=!1,t(s,s,c)):t(s,l,c),u)if(b(s))if(r(s)){l=new Array(s.length);for(var e=0;e<s.length;e++)l[e]=s[e]}else{l={};for(var n in s)hi.call(s,n)&&(l[n]=s[n])}else l=s}var s,o,l,c=this,u=t.length>1,d=0,m=a(e),p=[],f={},v=!0,h=0;return this.$watch(n,i)},$digest:function(){var i,r,s,a,c,u,p,f,v,g,y,b=this.$$asyncQueue,E=this.$$postDigestQueue,w=e,A=this,T=[];d("$digest"),l.$$checkUrlChange(),n=null;do{for(u=!1,f=A;b.length;){try{y=b.shift(),y.scope.$eval(y.expression)}catch(j){m(),o(j)}n=null}e:do{if(a=f.$$watchers)for(c=a.length;c--;)try{if(i=a[c])if((r=i.get(f))===(s=i.last)||(i.eq?$(r,s):"number"==typeof r&&"number"==typeof s&&isNaN(r)&&isNaN(s))){if(i===n){u=!1;break e}}else u=!0,n=i,i.last=i.eq?L(r,null):r,i.fn(r,s===h?r:s,f),5>w&&(v=4-w,T[v]||(T[v]=[]),g=S(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,g+="; newVal: "+B(r)+"; oldVal: "+B(s),T[v].push(g))}catch(j){m(),o(j)}if(!(p=f.$$childHead||f!==A&&f.$$nextSibling))for(;f!==A&&!(p=f.$$nextSibling);)f=f.$parent}while(f=p);if((u||b.length)&&!w--)throw m(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,B(T))}while(u||b.length);for(m();E.length;)try{E.shift()()}catch(j){o(j)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==g&&(s(this.$$listenerCount,H(null,v,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=f,this.$on=this.$watch=function(){return f})}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e){g.$$phase||g.$$asyncQueue.length||l.defer(function(){g.$$asyncQueue.length&&g.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){o(t)}finally{m();try{g.$digest()}catch(t){throw o(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=_(n,t);-1!==i&&(n[i]=null,v(r,1,e))}},$emit:function(e){var t,n,i,r=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=P([l],arguments,1);do{for(t=s.$$listeners[e]||r,l.currentScope=s,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){o(u)}else t.splice(n,1),n--,i--;if(a)return l;s=s.$parent}while(s);return l},$broadcast:function(e){for(var t,n,i,r=this,s=r,a=r,l={name:e,targetScope:r,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=P([l],arguments,1);s=a;){for(l.currentScope=s,t=s.$$listeners[e]||[],n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){o(u)}else t.splice(n,1),n--,i--;if(!(a=s.$$listenerCount[e]&&s.$$childHead||s!==r&&s.$$nextSibling))for(;s!==r&&!(a=s.$$nextSibling);)s=s.$parent}return l}};var g=new u;return g}]}function In(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,s=i?t:e;return Ei&&!(Ei>=8)||(r=Un(n).href,""===r||r.match(s))?n:"unsafe:"+r}}}function Rn(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function _n(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw Ar("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Rn(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Ar("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Mn(e){var t=[];return y(e)&&s(e,function(e){t.push(_n(e))}),t}function Ln(){this.SCE_CONTEXTS=Sr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Mn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Mn(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?Hn(t):!!e.exec(t.href)}function s(n){var i,s,o=Un(n.toString()),a=!1;for(i=0,s=e.length;s>i;i++)if(r(e[i],o)){a=!0;break}if(a)for(i=0,s=t.length;s>i;i++)if(r(t[i],o)){a=!1;break}return a}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var i=m.hasOwnProperty(e)?m[e]:null;if(!i)throw Ar("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Ar("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===n||""===t)return t;var i=m.hasOwnProperty(e)?m[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Sr.RESOURCE_URL){if(s(t))return t;throw Ar("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Sr.HTML)return u(t);throw Ar("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(){throw Ar("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(u=i.get("$sanitize"));var d=o(),m={};return m[Sr.HTML]=o(d),m[Sr.CSS]=o(d),m[Sr.URL]=o(d),m[Sr.JS]=o(d),m[Sr.RESOURCE_URL]=o(m[Sr.URL]),{trustAs:a,getTrusted:c,valueOf:l}}]}function Nn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,i){if(e&&n.msie&&n.msieDocumentMode<8)throw Ar("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=N(Sr);r.isEnabled=function(){return e},r.trustAs=i.trustAs,r.getTrusted=i.getTrusted,r.valueOf=i.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=v),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:function(t,n){return r.getTrusted(e,i(t,n))}};var o=r.parseAs,a=r.getTrusted,l=r.trustAs;return s(Sr,function(e,t){var n=vi(t);r[ct("parse_as_"+n)]=function(t){return o(e,t)},r[ct("get_trusted_"+n)]=function(t){return a(e,t)},r[ct("trust_as_"+n)]=function(t){return l(e,t)}}),r}]}function $n(){this.$get=["$window","$document",function(e,t){var n,i,r={},s=m((/android (\d+)/.exec(vi((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},l=a.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=a.body&&a.body.style,d=!1,p=!1;if(u){for(var f in u)if(i=c.exec(f)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),p=!!("animation"in u||n+"Animation"in u),!s||d&&p||(d=E(a.body.style.webkitTransition),p=E(a.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>s||o),hashchange:"onhashchange"in e&&(!l||l>7),hasEvent:function(e){if("input"==e&&9==Ei)return!1;if(g(r[e])){var t=a.createElement("div");r[e]="on"+e in t}return r[e]},csp:_i(),vendorPrefix:n,transitions:d,animations:p,android:s,msie:Ei,msieDocumentMode:l}}]}function Pn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function r(r,o,a){var l,c=n.defer(),u=c.promise,d=y(a)&&!a;return l=t.defer(function(){try{c.resolve(r())}catch(t){c.reject(t),i(t)}finally{delete s[u.$$timeoutId]}d||e.$apply()},o),u.$$timeoutId=l,s[l]=c,u}var s={};return r.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},r}]}function Un(e){var t=e;return Ei&&(Tr.setAttribute("href",t),t=Tr.href),Tr.setAttribute("href",t),{href:Tr.href,protocol:Tr.protocol?Tr.protocol.replace(/:$/,""):"",host:Tr.host,search:Tr.search?Tr.search.replace(/^\?/,""):"",hash:Tr.hash?Tr.hash.replace(/^#/,""):"",hostname:Tr.hostname,port:Tr.port,pathname:"/"===Tr.pathname.charAt(0)?Tr.pathname:"/"+Tr.pathname}}function Hn(e){var t=E(e)?Un(e):e;return t.protocol===jr.protocol&&t.host===jr.host}function qn(){this.$get=h(e)}function Bn(e){function t(i,r){if(b(i)){var o={};return s(i,function(e,n){o[n]=t(n,e)}),o}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Vn),t("date",Xn),t("filter",Fn),t("json",Zn),t("limitTo",ei),t("lowercase",Or),t("number",Gn),t("orderBy",ti),t("uppercase",Ir)}function Fn(){return function(e,t,n){if(!Ii(e))return e;var i=typeof n,r=[];r.check=function(e){for(var t=0;t<r.length;t++)if(!r[t](e))return!1;return!0},"function"!==i&&(n="boolean"===i&&n?function(e,t){return Di.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var i in e)if("$"!==i.charAt(0)&&hi.call(e,i)&&n(e[i],t[i]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var s=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!s(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var i in e)if("$"!==i.charAt(0)&&s(e[i],t))return!0}return!1;case"array":for(var r=0;r<e.length;r++)if(s(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)!function(e){"undefined"!=typeof t[e]&&r.push(function(n){return s("$"==e?n:n&&n[e],t[e])})}(o);break;case"function":r.push(t);break;default:return e}for(var a=[],l=0;l<e.length;l++){var c=e[l];r.check(c)&&a.push(c)}return a}}function Vn(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),Wn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Wn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Wn(e,t,n,i,r){if(null==e||!isFinite(e)||b(e))return"";var s=0>e;e=Math.abs(e);var o=e+"",a="",l=[],c=!1;if(-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?(o="0",e=0):(a=o,c=!0)}if(c)r>0&&e>-1&&1>e&&(a=e.toFixed(r));else{var d=(o.split(Cr)[1]||"").length;g(r)&&(r=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r),0===e&&(s=!1);var m=(""+e).split(Cr),p=m[0];m=m[1]||"";var f,v=0,h=t.lgSize,y=t.gSize;if(p.length>=h+y)for(v=p.length-h,f=0;v>f;f++)(v-f)%y===0&&0!==f&&(a+=n),a+=p.charAt(f);for(f=v;f<p.length;f++)(p.length-f)%h===0&&0!==f&&(a+=n),a+=p.charAt(f);for(;m.length<r;)m+="0";r&&"0"!==r&&(a+=i+m.substr(0,r))}return l.push(s?t.negPre:t.posPre),l.push(a),l.push(s?t.negSuf:t.posSuf),l.join("")}function zn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Yn(e,t,n,i){return n=n||0,function(r){var s=r["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&-12==n&&(s=12),zn(s,t,i)}}function Qn(e,t){return function(n,i){var r=n["get"+e](),s=gi(t?"SHORT"+e:e);return i[s][r]}}function Kn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=zn(Math[t>0?"floor":"ceil"](t/60),2)+zn(Math.abs(t%60),2)}function Jn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Xn(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,s=0,o=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=m(t[9]+t[10]),s=m(t[9]+t[11])),o.call(i,m(t[1]),m(t[2])-1,m(t[3]));var l=m(t[4]||0)-r,c=m(t[5]||0)-s,u=m(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(i,l,c,u,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var r,o,a="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,E(n)&&(n=Dr.test(n)?m(n):t(n)),w(n)&&(n=new Date(n)),!A(n))return n;for(;i;)o=kr.exec(i),o?(l=P(l,o,1),i=l.pop()):(l.push(i),i=null);return s(l,function(t){r=xr[t],a+=r?r(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Zn(){return function(e){return B(e,!0)}}function ei(){return function(e,t){if(!Ii(e)&&!E(e))return e;if(t=1/0===Math.abs(Number(t))?Number(t):m(t),E(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,i,r=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)r.push(e[n]);return r}}function ti(e){return function(t,n,i){function s(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function o(e,t){return V(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,i=typeof t;return n==i?(A(e)&&A(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}return r(t)?(n=Ii(n)?n:[n],0===n.length&&(n=["+"]),n=I(n,function(t){var n=!1,i=t||v;if(E(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(function(e,t){return a(e,t)},n);if(i=e(t),i.constant){var r=i();return o(function(e,t){return a(e[r],t[r])},n)}}return o(function(e,t){return a(i(e),i(t))},n)}),ji.call(t).sort(o(s,i))):t}}function ni(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",h(e)}function ii(e,t,n,i){function r(t,n){n=n?"-"+Z(n,"-"):"",i.setClass(e,(t?Vr:Gr)+n,(t?Gr:Vr)+n)}var o=this,a=e.parent().controller("form")||Mr,l=0,c=o.$error={},u=[];o.$name=t.name||t.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,a.$addControl(o),e.addClass(Wr),r(!0),o.$addControl=function(e){it(e.$name,"input"),u.push(e),e.$name&&(o[e.$name]=e)},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],s(c,function(t,n){o.$setValidity(n,!0,e)}),M(u,e)},o.$setValidity=function(e,t,n){var i=c[e];if(t)i&&(M(i,n),i.length||(l--,l||(r(t),o.$valid=!0,o.$invalid=!1),c[e]=!1,r(!0,e),a.$setValidity(e,!0,o)));else{if(l||r(t),i){if(R(i,n))return}else c[e]=i=[],l++,r(!1,e),a.$setValidity(e,!1,o);i.push(n),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){i.removeClass(e,Wr),i.addClass(e,zr),o.$dirty=!0,o.$pristine=!1,a.$setDirty()},o.$setPristine=function(){i.removeClass(e,zr),i.addClass(e,Wr),o.$dirty=!1,o.$pristine=!0,s(u,function(e){e.$setPristine()})}}function ri(e,t,i,r){return e.$setValidity(t,i),i?r:n}function si(e,t){var n,i;if(t)for(n=0;n<t.length;++n)if(i=t[n],e[i])return!0;return!1}function oi(e,t,n,i,r){if(b(r)){e.$$hasNativeValidators=!0;var s=function(s){return e.$error[t]||si(r,i)||!si(r,n)?s:void e.$setValidity(t,!1)};e.$parsers.push(s)}}function ai(e,t,n,r,s,o){var a=t.prop(fi),l=t[0].placeholder,c={},u=vi(t[0].type);if(r.$$validityState=a,!s.android){var d=!1;t.on("compositionstart",function(){d=!0}),t.on("compositionend",function(){d=!1,p()})}var p=function(i){if(!d){var s=t.val();if(Ei&&"input"===(i||c).type&&t[0].placeholder!==l)return void(l=t[0].placeholder);"password"!==u&&V(n.ngTrim||"T")&&(s=Ri(s));var o=a&&r.$$hasNativeValidators;(r.$viewValue!==s||""===s&&o)&&(e.$root.$$phase?r.$setViewValue(s):e.$apply(function(){r.$setViewValue(s)}))}};if(s.hasEvent("input"))t.on("input",p);else{var f,v=function(){f||(f=o.defer(function(){p(),f=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||v()}),s.hasEvent("paste")&&t.on("paste cut",v)}t.on("change",p),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)};var h,g,y=n.ngPattern;if(y){var b=function(e,t){return ri(r,"pattern",r.$isEmpty(t)||e.test(t),t)};g=y.match(/^\/(.*)\/([gim]*)$/),g?(y=new RegExp(g[1],g[2]),h=function(e){return b(y,e)}):h=function(n){var r=e.$eval(y);if(!r||!r.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,r,G(t));return b(r,n)},r.$formatters.push(h),r.$parsers.push(h)}if(n.ngMinlength){var E=m(n.ngMinlength),w=function(e){return ri(r,"minlength",r.$isEmpty(e)||e.length>=E,e)};r.$parsers.push(w),r.$formatters.push(w)}if(n.ngMaxlength){var A=m(n.ngMaxlength),S=function(e){return ri(r,"maxlength",r.$isEmpty(e)||e.length<=A,e)};r.$parsers.push(S),r.$formatters.push(S)}}function li(e,t,i,r,s,o){if(ai(e,t,i,r,s,o),r.$parsers.push(function(e){var t=r.$isEmpty(e);return t||Hr.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),n)}),oi(r,"number",Br,null,r.$$validityState),r.$formatters.push(function(e){return r.$isEmpty(e)?"":""+e}),i.min){var a=function(e){var t=parseFloat(i.min);return ri(r,"min",r.$isEmpty(e)||e>=t,e)};r.$parsers.push(a),r.$formatters.push(a)}if(i.max){var l=function(e){var t=parseFloat(i.max);return ri(r,"max",r.$isEmpty(e)||t>=e,e)};r.$parsers.push(l),r.$formatters.push(l)}r.$formatters.push(function(e){return ri(r,"number",r.$isEmpty(e)||w(e),e)})}function ci(e,t,n,i,r,s){ai(e,t,n,i,r,s);var o=function(e){return ri(i,"url",i.$isEmpty(e)||Pr.test(e),e)};i.$formatters.push(o),i.$parsers.push(o)}function ui(e,t,n,i,r,s){ai(e,t,n,i,r,s);var o=function(e){return ri(i,"email",i.$isEmpty(e)||Ur.test(e),e)};i.$formatters.push(o),i.$parsers.push(o)}function di(e,t,n,i){g(n.name)&&t.attr("name",c()),t.on("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function mi(e,t,n,i){var r=n.ngTrueValue,s=n.ngFalseValue;E(r)||(r=!0),E(s)||(s=!1),t.on("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e!==r},i.$formatters.push(function(e){return e===r}),i.$parsers.push(function(e){return e?r:s})}function pi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],s=0;s<t.length;s++)if(r==t[s])continue e;n.push(r)}return n}function r(e){if(Ii(e))return e;if(E(e))return e.split(" ");if(b(e)){var t=[];return s(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,a,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=a.data("$classCounts")||{},i=[];return s(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function m(e,t){var r=i(t,e),s=i(e,t);s=d(s,-1),r=d(r,1),0===r.length?n.removeClass(a,s):0===s.length?n.addClass(a,r):n.setClass(a,r,s)}function p(e){if(t===!0||o.$index%2===t){var n=r(e||[]);if(f){if(!$(e,f)){var i=r(f);m(i,n)}}else c(n)}f=N(e)}var f;o.$watch(l[e],p,!0),l.$observe("class",function(){p(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,i){var s=1&n;if(s!==(1&i)){var a=r(o.$eval(l[e]));s===t?c(a):u(a)}})}}}]}var fi="validity",vi=function(e){return E(e)?e.toLowerCase():e},hi=Object.prototype.hasOwnProperty,gi=function(e){return E(e)?e.toUpperCase():e},yi=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},bi=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(vi=yi,gi=bi);var Ei,wi,Ai,Si,Ti,ji=[].slice,Ci=[].push,xi=Object.prototype.toString,ki=i("ng"),Di=e.angular||(e.angular={}),Oi=["0","0","0"];Ei=m((/msie (\d+)/.exec(vi(navigator.userAgent))||[])[1]),isNaN(Ei)&&(Ei=m((/trident\/.*; rv:(\d+)/.exec(vi(navigator.userAgent))||[])[1])),f.$inject=[],v.$inject=[];var Ii=function(){return S(Array.isArray)?Array.isArray:function(e){return"[object Array]"===xi.call(e)}}(),Ri=function(){return String.prototype.trim?function(e){return E(e)?e.trim():e}:function(e){return E(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();Ti=9>Ei?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?gi(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var _i=function(){if(y(_i.isActive_))return _i.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return _i.isActive_=e},Mi=/[A-Z]/g,Li={full:"1.2.28",major:1,minor:2,dot:28,codeName:"finnish-disembarkation"};ft.expando="ng339";var Ni=ft.cache={},$i=1,Pi=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Ui=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Hi=(ft._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),qi=/^moz([A-Z])/,Bi=i("jqLite"),Fi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Vi=/<|&#?\w+;/,Gi=/<([\w:]+)/,Wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zi.optgroup=zi.option,zi.tbody=zi.tfoot=zi.colgroup=zi.caption=zi.thead,zi.th=zi.td;var Yi=ft.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ft(e).on("load",i))},toString:function(){var e=[];return s(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return wi(e>=0?this[e]:this[this.length+e])},length:0,push:Ci,sort:[].sort,splice:[].splice},Qi={};s("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Qi[vi(e)]=e});var Ki={};s("input,select,option,textarea,button,form,details".split(","),function(e){Ki[gi(e)]=!0}),s({data:Et,removeData:yt},function(e,t){ft[t]=e}),s({data:Et,inheritedData:Ct,scope:function(e){return wi.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return wi.data(e,"$isolateScope")||wi.data(e,"$isolateScopeNoTemplate")},controller:jt,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:wt,css:function(e,t,i){if(t=ct(t),!y(i)){var r;
return 8>=Ei&&(r=e.currentStyle&&e.currentStyle[t],""===r&&(r="auto")),r=r||e.style[t],8>=Ei&&(r=""===r?n:r),r}e.style[t]=i},attr:function(e,t,i){var r=vi(t);if(Qi[r]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?n:s}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,n){var i=t[e.nodeType];return g(n)?i?e[i]:"":void(e[i]=n)}var t=[];return 9>Ei?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(g(t)){if("SELECT"===Ti(e)&&e.multiple){var n=[];return s(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)ht(i[n]);e.innerHTML=t},empty:xt},function(e,t){ft.prototype[t]=function(t,i){var r,s,o=this.length;if(e!==xt&&(2==e.length&&e!==wt&&e!==jt?t:i)===n){if(b(t)){for(r=0;o>r;r++)if(e===Et)e(this[r],t);else for(s in t)e(this[r],s,t[s]);return this}for(var a=e.$dv,l=a===n?Math.min(o,1):o,c=0;l>c;c++){var u=e(this[c],t,i);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,i);return this}}),s({removeData:yt,dealoc:ht,on:function Is(e,n,i,r){if(y(r))throw Bi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var o=bt(e,"events"),a=bt(e,"handle");o||bt(e,"events",o={}),a||bt(e,"handle",a=Dt(e,o)),s(n.split(" "),function(n){var r=o[n];if(!r){if("mouseenter"==n||"mouseleave"==n){var s=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};Is(e,l[n],function(e){var t=this,i=e.relatedTarget;(!i||i!==t&&!s(t,i))&&a(e,n)})}else Pi(e,n,a),o[n]=[];r=o[n]}r.push(i)})},off:gt,one:function(e,t,n){e=wi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ht(e),s(new ft(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return s(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){s(new ft(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;s(new ft(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=wi(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ht(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;s(new ft(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:St,removeClass:At,toggleClass:function(e,t,n){t&&s(t.split(" "),function(t){var i=n;g(i)&&(i=!wt(e,t)),(i?St:At)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:vt,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,l=(bt(e,"events")||{})[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:f,type:a,target:e},t.type&&(i=d(i,t)),r=N(l),o=n?[i].concat(n):[i],s(r,function(t){t.apply(e,o)}))}},function(e,t){ft.prototype[t]=function(t,n,i){for(var r,s=0;s<this.length;s++)g(r)?(r=e(this[s],t,n,i),y(r)&&(r=wi(r))):Tt(r,e(this[s],t,n,i));return y(r)?r:this},ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off}),It.prototype={put:function(e,t){this[Ot(e,this.nextUid)]=t},get:function(e){return this[Ot(e,this.nextUid)]},remove:function(e){var t=this[e=Ot(e,this.nextUid)];return delete this[e],t}};var Ji=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Xi=/,/,Zi=/^\s*(_?)(\S+?)\1\s*$/,er=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,tr=i("$injector"),nr=i("$animate"),ir=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw nr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,i,r){i?i.after(e):(t&&t[0]||(t=i.parent()),t.append(e)),n(r)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,i){this.enter(e,t,n,i)},addClass:function(e,t,i){t=E(t)?t:Ii(t)?t.join(" "):"",s(e,function(e){St(e,t)}),n(i)},removeClass:function(e,t,i){t=E(t)?t:Ii(t)?t.join(" "):"",s(e,function(e){At(e,t)}),n(i)},setClass:function(e,t,i,r){s(e,function(e){St(e,t),At(e,i)}),n(r)},enabled:f}}]}],rr=i("$compile");Ht.$inject=["$provide","$$sanitizeUriProvider"];var sr=/^(x[\:\-_]|data[\:\-_])/i,or=i("$interpolate"),ar=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,lr={http:80,https:443,ftp:21},cr=i("$location");pn.prototype=mn.prototype=dn.prototype={$$html5:!1,$$replace:!1,absUrl:fn("$$absUrl"),url:function(e){if(g(e))return this.$$url;var t=ar.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:vn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||w(e))e=e.toString(),this.$$search=z(e);else{if(!b(e))throw cr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");s(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:vn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};var ur,dr=i("$parse"),mr={},pr=Function.prototype.call,fr=Function.prototype.apply,vr=Function.prototype.bind,hr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:f,"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":f,"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},gr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},yr=function(e){this.options=e};yr.prototype={constructor:yr,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),i=t+this.peek(2),r=hr[this.ch],s=hr[t],o=hr[i];o?(this.tokens.push({index:this.index,text:i,fn:o}),this.index+=3):s?(this.tokens.push({index:this.index,text:t,fn:s}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw dr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=vi(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,i,r=this,s="",o=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(e=this.index),s+=i,this.index++;if(e)for(t=this.index;t<this.text.length;){if(i=this.text.charAt(t),"("===i){n=s.substr(e-o+1),s=s.substr(0,e-o),this.index=t;break}if(!this.isWhitespace(i))break;t++}var a={index:o,text:s};if(hr.hasOwnProperty(s))a.fn=hr[s],a.literal=!0,a.constant=!0;else{var l=jn(s,this.options,this.text);a.fn=d(function(e,t){return l(e,t)},{assign:function(e,t){return wn(e,s,t,r.text,r.options)}})}this.tokens.push(a),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(i+=s,r){if("u"===s){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var a=gr[s];n+=a||s}r=!1}else if("\\"===s)r=!0;else{if(s===e)return this.index++,void this.tokens.push({index:t,text:i,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=s}this.index++}this.throwError("Unterminated quote",t)}};var br=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};br.ZERO=d(function(){return 0},{constant:!0}),br.prototype={constructor:br,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,i;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,i),i=null):"["===n.text?(i=e,e=this.objectIndex(e)):"."===n.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw dr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw dr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){if(this.tokens.length>0){var r=this.tokens[0],s=r.text;if(s===e||s===t||s===n||s===i||!e&&!t&&!n&&!i)return r}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,i){return e(n,i,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(i,r){return e(i,r)?t(i,r):n(i,r)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(i,r){return t(i,r,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0;r<e.length;r++){var s=e[r];s&&(i=s(t,n))}return i}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var i=function(e,i,r){for(var s=[r],o=0;o<n.length;o++)s.push(n[o](e,i));return t.apply(e,s)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,i){return n.assign(t,e(t,i),i)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(br.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,i=jn(n,this.options,this.text);return d(function(t,n,r){return i(r||e(t,n))},{assign:function(i,r,s){var o=e(i,s);return o||e.assign(i,o={}),wn(o,n,r,t.text,t.options)}})},objectIndex:function(e){var t=this,i=this.expression();return this.consume("]"),d(function(r,s){var o,a,l=e(r,s),c=i(r,s);return yn(c,t.text),l?(o=bn(l[c],t.text),o&&o.then&&t.options.unwrapPromises&&(a=o,"$$v"in o||(a.$$v=n,a.then(function(e){a.$$v=e})),o=o.$$v),o):n},{assign:function(n,r,s){var o=yn(i(n,s),t.text),a=bn(e(n,s),t.text);return a||e.assign(n,a={}),a[o]=r}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var i=this;return function(r,s){for(var o=[],a=t?t(r,s):r,l=0;l<n.length;l++)o.push(bn(n[l](r,s),i.text));var c=e(r,s,a)||f;bn(a,i.text),En(c,i.text);var u=c.apply?c.apply(a,o):c(o[0],o[1],o[2],o[3],o[4]);return bn(u,i.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var i=[],r=0;r<e.length;r++)i.push(e[r](t,n));return i},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),i=n.string||n.text;this.consume(":");var r=this.expression();e.push({key:i,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var i={},r=0;r<e.length;r++){var s=e[r];i[s.key]=s.value(t,n)}return i},{literal:!0,constant:t})}};var Er={},wr={},Ar=i("$sce"),Sr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Tr=t.createElement("a"),jr=Un(e.location.href,!0);Bn.$inject=["$provide"],Vn.$inject=["$locale"],Gn.$inject=["$locale"];var Cr=".",xr={yyyy:Yn("FullYear",4),yy:Yn("FullYear",2,0,!0),y:Yn("FullYear",1),MMMM:Qn("Month"),MMM:Qn("Month",!0),MM:Yn("Month",2,1),M:Yn("Month",1,1),dd:Yn("Date",2),d:Yn("Date",1),HH:Yn("Hours",2),H:Yn("Hours",1),hh:Yn("Hours",2,-12),h:Yn("Hours",1,-12),mm:Yn("Minutes",2),m:Yn("Minutes",1),ss:Yn("Seconds",2),s:Yn("Seconds",1),sss:Yn("Milliseconds",3),EEEE:Qn("Day"),EEE:Qn("Day",!0),a:Jn,Z:Kn},kr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Dr=/^\-?\d+$/;Xn.$inject=["$locale"];var Or=h(vi),Ir=h(gi);ti.$inject=["$parse"];var Rr=h({restrict:"E",compile:function(e,n){return 8>=Ei&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===xi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),_r={};s(Qi,function(e,t){if("multiple"!=e){var n=qt("ng-"+t);_r[n]=function(){return{priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),s(["src","srcset","href"],function(e){var t=qt("ng-"+e);_r[t]=function(){return{priority:99,link:function(n,i,r){var s=e,o=e;"href"===e&&"[object SVGAnimatedString]"===xi.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",s=null),r.$observe(t,function(t){return t?(r.$set(o,t),void(Ei&&s&&i.prop(s,r[o]))):void("href"===e&&r.$set(o,null))})}}}});var Mr={$addControl:f,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f};ii.$inject=["$element","$attrs","$scope","$animate"];var Lr=function(e){return["$timeout",function(t){var i={name:"form",restrict:e?"EAC":"E",controller:ii,compile:function(){return{pre:function(e,i,r,s){if(!r.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Pi(i[0],"submit",o),i.on("$destroy",function(){t(function(){Ui(i[0],"submit",o)},0,!1)})}var a=i.parent().controller("form"),l=r.name||r.ngForm;l&&wn(e,l,s,l),a&&i.on("$destroy",function(){a.$removeControl(s),l&&wn(e,l,n,l),d(s,Mr)})}}}};return i}]},Nr=Lr(),$r=Lr(!0),Pr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ur=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Hr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qr={text:ai,number:li,url:ci,email:ui,radio:di,checkbox:mi,hidden:f,button:f,submit:f,reset:f,file:f},Br=["badInput"],Fr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,r,s){s&&(qr[vi(r.type)]||qr.text)(n,i,r,s,t,e)}}}],Vr="ng-valid",Gr="ng-invalid",Wr="ng-pristine",zr="ng-dirty",Yr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,r,o,a){function l(e,t){t=t?"-"+Z(t,"-"):"",a.removeClass(r,(e?Gr:Vr)+t),a.addClass(r,(e?Vr:Gr)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=o(n.ngModel),u=c.assign;if(!u)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,G(r));this.$render=f,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!==e};var d=r.inheritedData("$formController")||Mr,m=0,p=this.$error={};r.addClass(Wr),l(!0),this.$setValidity=function(e,t){p[e]!==!t&&(t?(p[e]&&m--,m||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,m++),p[e]=!t,l(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,a.removeClass(r,zr),a.addClass(r,Wr)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,a.removeClass(r,Wr),a.addClass(r,zr),d.$setDirty()),s(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),s(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var v=this;e.$watch(function(){var t=c(e);if(v.$modelValue!==t){var n=v.$formatters,i=n.length;for(v.$modelValue=t;i--;)t=n[i](t);v.$viewValue!==t&&(v.$viewValue=t,v.$render())}return t})}],Qr=function(){return{require:["ngModel","^?form"],controller:Yr,link:function(e,t,n,i){var r=i[0],s=i[1]||Mr;s.$addControl(r),e.$on("$destroy",function(){s.$removeControl(r)})}}},Kr=h({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Jr=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var r=function(e){return n.required&&i.$isEmpty(e)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),e)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},Xr=function(){return{require:"ngModel",link:function(e,t,i,r){var o=/\/(.*)\//.exec(i.ngList),a=o&&new RegExp(o[1])||i.ngList||",",l=function(e){if(!g(e)){var t=[];return e&&s(e.split(a),function(e){e&&t.push(Ri(e))}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return Ii(e)?e.join(", "):n}),r.$isEmpty=function(e){return!e||!e.length}}}},Zr=/^(true|false|\d+)$/,es=function(){return{priority:100,compile:function(e,t){return Zr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},ts=ni({compile:function(e){return e.addClass("ng-binding"),function(e,t,i){t.data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}}}),ns=["$interpolate",function(e){return function(t,n,i){var r=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",r),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],is=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,i,r){function s(){return(o(n)||"").toString()}i.data("$binding",r.ngBindHtml);var o=t(r.ngBindHtml);n.$watch(s,function(){i.html(e.getTrustedHtml(o(n))||"")})}}}}],rs=pi("",!0),ss=pi("Odd",0),os=pi("Even",1),as=ni({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ls=[function(){return{scope:!0,controller:"@",priority:500}}],cs={},us={blur:!0,focus:!0};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=qt("ng-"+e);cs[t]=["$parse","$rootScope",function(n,i){return{compile:function(r,s){var o=n(s[t],!0);return function(t,n){n.on(e,function(n){var r=function(){o(t,{$event:n})};us[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var ds=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,s,o){var a,l,c;n.$watch(r.ngIf,function(s){V(s)?l||(l=n.$new(),o(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=st(a.clone),e.leave(c,function(){c=null}),a=null))})}}}],ms=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,i,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Di.noop,compile:function(s,o){var a=o.ngInclude||o.src,l=o.onload||"",c=o.autoscroll;return function(s,o,u,d,m){var p,f,v,h=0,g=function(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),v&&(i.leave(v,function(){f=null}),f=v,v=null)};s.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!y(c)||c&&!s.$eval(c)||n()},u=++h;r?(e.get(r,{cache:t}).success(function(e){if(u===h){var t=s.$new();d.template=e;var n=m(t,function(e){g(),i.enter(e,null,o,a)});p=t,v=n,p.$emit("$includeContentLoaded"),s.$eval(l)}}).error(function(){u===h&&g()}),s.$emit("$includeContentRequested")):(g(),d.template=null)})}}}}],ps=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,i,r){n.html(r.template),e(n.contents())(t)}}}],fs=ni({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),vs=ni({terminal:!0,priority:1e3}),hs=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,r,o){var a=o.count,l=o.$attr.when&&r.attr(o.$attr.when),c=o.offset||0,u=i.$eval(l)||{},d={},m=t.startSymbol(),p=t.endSymbol(),f=/^when(Minus)?(.+)$/;s(o,function(e,t){f.test(t)&&(u[vi(t.replace("when","").replace("Minus","-"))]=r.attr(o.$attr[t]))}),s(u,function(e,i){d[i]=t(e.replace(n,m+a+"-"+c+p))}),i.$watch(function(){var t=parseFloat(i.$eval(a));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](i,r,!0))},function(e){r.text(e)})}}}],gs=["$parse","$animate",function(e,n){function o(e){return e.clone[0]}function a(e){return e.clone[e.clone.length-1]}var l="$$NG_REMOVED",c=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,u,d,m,p){var f,v,h,g,y,b,E,w,A,S=d.ngRepeat,T=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),j={$id:Ot};if(!T)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",S);if(b=T[1],E=T[2],f=T[3],f?(v=e(f),h=function(e,t,n){return A&&(j[A]=e),j[w]=t,j.$index=n,v(i,j)}):(g=function(e,t){return Ot(t)},y=function(e){return e}),T=b.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!T)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",b);w=T[3]||T[1],A=T[2];var C={};i.$watchCollection(E,function(e){var d,m,f,v,b,E,T,j,x,k,D,O,I=u[0],R={},_=[];if(r(e))k=e,x=h||g;else{x=h||y,k=[];for(E in e)e.hasOwnProperty(E)&&"$"!=E.charAt(0)&&k.push(E);k.sort()}for(v=k.length,m=_.length=k.length,d=0;m>d;d++)if(E=e===k?d:k[d],T=e[E],j=x(E,T,d),it(j,"`track by` id"),C.hasOwnProperty(j))D=C[j],delete C[j],R[j]=D,_[d]=D;else{if(R.hasOwnProperty(j))throw s(_,function(e){e&&e.scope&&(C[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",S,j,B(T));_[d]={id:j},R[j]=!1}for(E in C)C.hasOwnProperty(E)&&(D=C[E],O=st(D.clone),n.leave(O),s(O,function(e){e[l]=!0}),D.scope.$destroy());for(d=0,m=k.length;m>d;d++){if(E=e===k?d:k[d],T=e[E],D=_[d],_[d-1]&&(I=a(_[d-1])),D.scope){b=D.scope,f=I;do f=f.nextSibling;while(f&&f[l]);o(D)!=f&&n.move(st(D.clone),null,wi(I)),I=a(D)}else b=i.$new();b[w]=T,A&&(b[A]=E),b.$index=d,b.$first=0===d,b.$last=d===v-1,b.$middle=!(b.$first||b.$last),b.$odd=!(b.$even=0===(1&d)),D.scope||p(b,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+S+" "),n.enter(e,null,wi(I)),I=e,D.scope=b,D.clone=e,R[D.id]=D})}C=R})}}}],ys=["$animate",function(e){return function(t,n,i){t.$watch(i.ngShow,function(t){e[V(t)?"removeClass":"addClass"](n,"ng-hide")})}}],bs=["$animate",function(e){return function(t,n,i){t.$watch(i.ngHide,function(t){e[V(t)?"addClass":"removeClass"](n,"ng-hide")})}}],Es=ni(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&s(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ws=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,i,r){var o=i.ngSwitch||i.on,a=[],l=[],c=[],u=[];t.$watch(o,function(n){var o,d;for(o=0,d=c.length;d>o;++o)c[o].remove();for(c.length=0,o=0,d=u.length;d>o;++o){var m=l[o];u[o].$destroy(),c[o]=m,e.leave(m,function(){c.splice(o,1)})}l.length=0,u.length=0,(a=r.cases["!"+n]||r.cases["?"])&&(t.$eval(i.change),s(a,function(n){var i=t.$new();u.push(i),n.transclude(i,function(t){var i=n.element;l.push(t),e.enter(t,i.parent(),i)})}))})}}}],As=ni({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Ss=ni({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Ts=ni({link:function(e,t,n,r,s){if(!s)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",G(t));s(function(e){t.empty(),t.append(e)})}}),js=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Cs=i("ngOptions"),xs=h({terminal:!0}),ks=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,s=this,o={},l=a;s.databound=n.ngModel,s.init=function(e,t,n){l=e,i=t,r=n},s.addOption=function(t){it(t,'"option value"'),o[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},s.removeOption=function(e){this.hasOption(e)&&(delete o[e],l.$viewValue==e&&this.renderUnknownOption(e))},s.renderUnknownOption=function(t){var n="? "+Ot(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},s.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){s.renderUnknownOption=f})}],link:function(a,l,c,u){function d(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(T.parent()&&T.remove(),t.val(e),""===e&&f.prop("selected",!0)):g(e)&&f?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){T.parent()&&T.remove(),n.$setViewValue(t.val())})})}function m(e,t,n){var i;n.$render=function(){var e=new It(n.$viewValue);s(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){$(i,n.$viewValue)||(i=N(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];s(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,s,a){function l(){var e=!1;if(b){var n=a.$modelValue;if(j&&Ii(n)){e=new It([]);for(var i={},r=0;r<n.length;r++)i[m]=n[r],e.put(j(t,i),n[r])}else e=new It(n)}return e}function c(){var e,n,i,r,c,u,E,T,x,k,D,O,I,R,_,M={"":[]},L=[""],N=a.$modelValue,$=g(t)||[],P=p?o($):$,U={},H=l();for(D=0;x=P.length,x>D;D++){if(E=D,p){if(E=P[D],"$"===E.charAt(0))continue;U[p]=E}if(U[m]=$[E],e=f(t,U)||"",(n=M[e])||(n=M[e]=[],L.push(e)),b)O=y(H.remove(j?j(t,U):h(t,U)));else{if(j){var q={};q[m]=N,O=j(t,q)===j(t,U)}else O=N===h(t,U);H=H||O}_=d(t,U),_=y(_)?_:"",n.push({id:j?j(t,U):p?P[D]:D,label:_,selected:O})}for(b||(w||null===N?M[""].unshift({id:"",label:"",selected:!H}):H||M[""].unshift({id:"?",label:"",selected:!0})),k=0,T=L.length;T>k;k++){for(e=L[k],n=M[e],C.length<=k?(r={element:S.clone().attr("label",e),label:n.label},c=[r],C.push(c),s.append(r.element)):(c=C[k],r=c[0],r.label!=e&&r.element.attr("label",r.label=e)),I=null,D=0,x=n.length;x>D;D++)i=n[D],(u=c[D+1])?(I=u.element,u.label!==i.label&&(I.text(u.label=i.label),I.prop("label",u.label)),u.id!==i.id&&I.val(u.id=i.id),I[0].selected!==i.selected&&(I.prop("selected",u.selected=i.selected),Ei&&I.prop("selected",u.selected))):(""===i.id&&w?R=w:(R=A.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),c.push(u={element:R,label:i.label,id:i.id,selected:i.selected}),v.addOption(i.label,R),I?I.after(R):r.element.append(R),I=R);for(D++;c.length>D;)i=c.pop(),v.removeOption(i.label),i.element.remove()
}for(;C.length>k;)C.pop()[0].element.remove()}var u;if(!(u=E.match(r)))throw Cs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",E,G(s));var d=i(u[2]||u[1]),m=u[4]||u[6],p=u[5],f=i(u[3]||""),h=i(u[2]?u[1]:m),g=i(u[7]),T=u[8],j=T?i(u[8]):null,C=[[{element:s,label:""}]];w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,i,r,o,l,u,d,f,v,y=g(t)||[],E={};if(b){for(r=[],u=0,f=C.length;f>u;u++)for(e=C[u],l=1,d=e.length;d>l;l++)if((o=e[l].element)[0].selected){if(i=o.val(),p&&(E[p]=i),j)for(v=0;v<y.length&&(E[m]=y[v],j(t,E)!=i);v++);else E[m]=y[i];r.push(h(t,E))}}else if(i=s.val(),"?"==i)r=n;else if(""===i)r=null;else if(j){for(v=0;v<y.length;v++)if(E[m]=y[v],j(t,E)==i){r=h(t,E);break}}else E[m]=y[i],p&&(E[p]=i),r=h(t,E);a.$setViewValue(r),c()})}),a.$render=c,t.$watchCollection(g,c),t.$watchCollection(function(){var e={},n=g(t);if(n){for(var i=new Array(n.length),r=0,s=n.length;s>r;r++)e[m]=n[r],i[r]=d(t,e);return i}},c),b&&t.$watchCollection(function(){return a.$modelValue},c)}if(u[1]){for(var f,v=u[0],h=u[1],b=c.multiple,E=c.ngOptions,w=!1,A=wi(t.createElement("option")),S=wi(t.createElement("optgroup")),T=A.clone(),j=0,C=l.children(),x=C.length;x>j;j++)if(""===C[j].value){f=w=C.eq(j);break}v.init(h,w,T),b&&(h.$isEmpty=function(e){return!e||0===e.length}),E?p(a,l,h):b?m(a,l,h):d(a,l,h,v)}}}}],Ds=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,i){if(g(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var s="$selectController",o=n.parent(),a=o.data(s)||o.parent().data(s);a&&a.databound?n.prop("selected",!1):a=t,r?e.$watch(r,function(e,t){i.$set("value",e),e!==t&&a.removeOption(t),a.addOption(e)}):a.addOption(i.value),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Os=h({restrict:"E",terminal:!0});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(et(),at(Di),void wi(t).ready(function(){J(t,X)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>')}),require.register("vendors/js/angular/angular-animate.js",function(){!function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,i,r){var s=r.ngAnimateChildren;t.isString(s)&&0===s.length?i.data(e,!0):n.$watch(s,function(t){i.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(i,r){function s(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==m)return n}}function o(e){return e&&t.element(e)}function a(e){return t.element(s(e))}function l(e,t){return s(e)==s(t)}var c=t.noop,u=t.forEach,d=r.$$selectors,m=1,p="$$ngAnimateState",f="$$ngAnimateChildren",v="ng-animate",h={running:!0};i.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(e,n,i,m,g,y){function b(e){var t=e.data(p)||{};t.running=!0,e.data(p,t)}function E(e){if(e){var t=[],r={},s=e.substr(1).split(".");(i.transitions||i.animations)&&t.push(n.get(d[""]));for(var o=0;o<s.length;o++){var a=s[o],l=d[a];l&&!r[a]&&(t.push(n.get(l)),r[a]=!0)}return t}}function w(e,n,i){function r(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),w.push({event:t,fn:n}),g.push({event:t,fn:i}),!0):void 0}function s(t,n,r){function s(e){if(n){if((n[e]||c)(),++d<o.length)return;n=null}r()}var o=[];u(t,function(e){e.fn&&o.push(e)});var d=0;u(o,function(t,r){var o=function(){s(r)};switch(t.event){case"setClass":n.push(t.fn(e,a,l,o));break;case"addClass":n.push(t.fn(e,a||i,o));break;case"removeClass":n.push(t.fn(e,l||i,o));break;default:n.push(t.fn(e,o))}}),n&&0===n.length&&r()}var o=e[0];if(o){var a,l,d="setClass"==n,m=d||"addClass"==n||"removeClass"==n;t.isArray(i)&&(a=i[0],l=i[1],i=a+" "+l);var p=e.attr("class"),f=p+" "+i;if(k(f)){var v=c,h=[],g=[],y=c,b=[],w=[],A=(" "+f).replace(/\s+/g,".");return u(E(A),function(e){var t=r(e,n);!t&&d&&(r(e,"addClass"),r(e,"removeClass"))}),{node:o,event:n,className:i,isClassBased:m,isSetClassOperation:d,before:function(e){v=e,s(g,h,function(){v=c,e()})},after:function(e){y=e,s(w,b,function(){y=c,e()})},cancel:function(){h&&(u(h,function(e){(e||c)(!0)}),v(!0)),b&&(u(b,function(e){(e||c)(!0)}),y(!0))}}}}}function A(e,n,i,r,s,o,a){function l(t){var r="$animate:"+t;b&&b[r]&&b[r].length>0&&g(function(){i.triggerHandler(r,{event:e,className:n})})}function c(){l("before")}function d(){l("after")}function m(){l("close"),a&&g(function(){a()})}function f(){f.hasBeenRun||(f.hasBeenRun=!0,o())}function h(){if(!h.hasBeenRun){h.hasBeenRun=!0;var t=i.data(p);t&&(y&&y.isClassBased?T(i,n):(g(function(){var t=i.data(p)||{};_==t.index&&T(i,n,e)}),i.data(p,t))),m()}}var y=w(i,e,n);if(!y)return f(),c(),d(),void h();n=y.className;var b=t.element._data(y.node);b=b&&b.events,r||(r=s?s.parent():i.parent());var E,A=i.data(p)||{},S=A.active||{},x=A.totalActive||0,k=A.last;if(y.isClassBased&&(E=A.running||A.disabled||k&&!k.isClassBased),E||j(i,r))return f(),c(),d(),void h();var D=!1;if(x>0){var O=[];if(y.isClassBased){if("setClass"==k.event)O.push(k),T(i,n);else if(S[n]){var I=S[n];I.event==e?D=!0:(O.push(I),T(i,n))}}else if("leave"==e&&S["ng-leave"])D=!0;else{for(var R in S)O.push(S[R]),T(i,R);S={},x=0}O.length>0&&u(O,function(e){e.cancel()})}if(!y.isClassBased||y.isSetClassOperation||D||(D="addClass"==e==i.hasClass(n)),D)return f(),c(),d(),void m();"leave"==e&&i.one("$destroy",function(){var e=t.element(this),n=e.data(p);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),T(e,"ng-leave"))}}),i.addClass(v);var _=C++;x++,S[n]=y,i.data(p,{last:y,active:S,index:_,totalActive:x}),c(),y.before(function(t){var r=i.data(p);t=t||!r||!r.active[n]||y.isClassBased&&r.active[n].event!=e,f(),t===!0?h():(d(),y.after(h))})}function S(e){var n=s(e);if(n){var i=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(v):n.querySelectorAll("."+v);u(i,function(e){e=t.element(e);var n=e.data(p);n&&n.active&&u(n.active,function(e){e.cancel()})})}}function T(e,t){if(l(e,m))h.disabled||(h.running=!1,h.structural=!1);else if(t){var n=e.data(p)||{},i=t===!0;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(e.removeClass(v),e.removeData(p))}}function j(e,n){if(h.disabled)return!0;if(l(e,m))return h.running;var i,r,s;do{if(0===n.length)break;var o=l(n,m),a=o?h:n.data(p)||{};if(a.disabled)return!0;if(o&&(s=!0),i!==!1){var c=n.data(f);t.isDefined(c)&&(i=c)}r=r||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!s||!i&&r}var C=0;m.data(p,h),y.$$postDigest(function(){y.$$postDigest(function(){h.running=!1})});var x=r.classNameFilter(),k=x?function(e){return x.test(e)}:function(){return!0};return{enter:function(n,i,r,s){n=t.element(n),i=o(i),r=o(r),b(n),e.enter(n,i,r),y.$$postDigest(function(){n=a(n),A("enter","ng-enter",n,i,r,c,s)})},leave:function(n,i){n=t.element(n),S(n),b(n),y.$$postDigest(function(){A("leave","ng-leave",a(n),null,null,function(){e.leave(n)},i)})},move:function(n,i,r,s){n=t.element(n),i=o(i),r=o(r),S(n),b(n),e.move(n,i,r),y.$$postDigest(function(){n=a(n),A("move","ng-move",n,i,r,c,s)})},addClass:function(n,i,r){n=t.element(n),n=a(n),A("addClass",i,n,null,null,function(){e.addClass(n,i)},r)},removeClass:function(n,i,r){n=t.element(n),n=a(n),A("removeClass",i,n,null,null,function(){e.removeClass(n,i)},r)},setClass:function(n,i,r,s){n=t.element(n),n=a(n),A("setClass",[i,r],n,null,null,function(){e.setClass(n,i,r)},s)},enabled:function(e,t){switch(arguments.length){case 2:if(e)T(t);else{var n=t.data(p)||{};n.disabled=!0,t.data(p,n)}break;case 1:h.disabled=!e;break;default:e=!h.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,o,a){function l(){N||(N=a(function(){Q=[],N=null,z={}}))}function d(e,t){N&&N(),Q.push(t),N=a(function(){u(Q,function(e){e()}),Q=[],N=null,z={}})}function p(e,n){var i=s(e);e=t.element(i),X.push(e);var r=Date.now()+n;J>=r||(o.cancel(K),J=r,K=o(function(){f(X),X=[]},n,!1))}function f(e){u(e,function(e){var t=e.data(B);t&&(t.closeAnimationFn||c)()})}function v(e,t){var n=t?z[t]:null;if(!n){var r,s,o,a,l=0,c=0,d=0,p=0;u(e,function(e){if(e.nodeType==m){var t=i.getComputedStyle(e)||{};o=t[I+$],l=Math.max(h(o),l),a=t[I+P],r=t[I+U],c=Math.max(h(r),c),s=t[_+U],p=Math.max(h(s),p);var n=h(t[_+$]);n>0&&(n*=parseInt(t[_+H],10)||1),d=Math.max(n,d)}}),n={total:0,transitionPropertyStyle:a,transitionDurationStyle:o,transitionDelayStyle:r,transitionDelay:c,transitionDuration:l,animationDelayStyle:s,animationDelay:p,animationDuration:d},t&&(z[t]=n)}return n}function h(e){var n=0,i=t.isString(e)?e.split(/\s*,\s*/):[];return u(i,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function g(e){var t=e.parent(),n=t.data(q);return n||(t.data(q,++Y),n=Y),n+"-"+s(e).getAttribute("class")}function y(e,t,n,i){var r=g(t),s=r+" "+n,o=z[s]?++z[s].total:0,a={};if(o>0){var l=n+"-stagger",u=r+" "+l,d=!z[u];d&&t.addClass(l),a=v(t,u),d&&t.removeClass(l)}i=i||function(e){return e()},t.addClass(n);var m=t.data(B)||{},p=i(function(){return v(t,s)}),f=p.transitionDuration,h=p.animationDuration;if(0===f&&0===h)return t.removeClass(n),!1;t.data(B,{running:m.running||0,itemIndex:o,stagger:a,timings:p,closeAnimationFn:c});var y=m.running>0||"setClass"==e;return f>0&&E(t,n,y),h>0&&a.animationDelay>0&&0===a.animationDuration&&w(t),!0}function b(e){return"ng-enter"==e||"ng-move"==e||"ng-leave"==e}function E(e,t,n){b(t)||!n?s(e).style[I+P]="none":e.addClass(F)}function w(e){s(e).style[_]="none 0s"}function A(e){var t=I+P,n=s(e);n.style[t]&&n.style[t].length>0&&(n.style[t]=""),e.removeClass(F)}function S(e){var t=_,n=s(e);n.style[t]&&n.style[t].length>0&&(n.style[t]="")}function T(e,t,n,i){function r(){t.off(b,o),t.removeClass(c),D(t,n);var e=s(t);for(var i in w)e.style.removeProperty(w[i])}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(V));Math.max(n-y,0)>=g&&r>=v&&i()}var a=s(t),l=t.data(B);if(-1==a.getAttribute("class").indexOf(n)||!l)return void i();var c="";u(n.split(" "),function(e,t){c+=(t>0?" ":"")+e+"-active"});var d=l.stagger,m=l.timings,f=l.itemIndex,v=Math.max(m.transitionDuration,m.animationDuration),h=Math.max(m.transitionDelay,m.animationDelay),g=h*W,y=Date.now(),b=M+" "+R,E="",w=[];if(m.transitionDuration>0){var A=m.transitionPropertyStyle;-1==A.indexOf("all")&&(E+=L+"transition-property: "+A+";",E+=L+"transition-duration: "+m.transitionDurationStyle+";",w.push(L+"transition-property"),w.push(L+"transition-duration"))}if(f>0){if(d.transitionDelay>0&&0===d.transitionDuration){var S=m.transitionDelayStyle;E+=L+"transition-delay: "+j(S,d.transitionDelay,f)+"; ",w.push(L+"transition-delay")}d.animationDelay>0&&0===d.animationDuration&&(E+=L+"animation-delay: "+j(m.animationDelayStyle,d.animationDelay,f)+"; ",w.push(L+"animation-delay"))}if(w.length>0){var T=a.getAttribute("style")||"";a.setAttribute("style",T+"; "+E)}t.on(b,o),t.addClass(c),l.closeAnimationFn=function(){r(),i()};var C=f*(Math.max(d.animationDelay,d.transitionDelay)||0),x=(h+v)*G,k=(C+x)*W;return l.running++,p(t,k),r}function j(e,t,n){var i="";return u(e.split(","),function(e,r){i+=(r>0?",":"")+(n*t+parseInt(e,10))+"s"}),i}function C(e,t,n,i){return y(e,t,n,i)?function(e){e&&D(t,n)}:void 0}function x(e,t,n,i){return t.data(B)?T(e,t,n,i):(D(t,n),void i())}function k(e,t,n,i){var r=C(e,t,n);if(!r)return l(),void i();var s=r;return d(t,function(){A(t,n),S(t),s=x(e,t,n,i)}),function(e){(s||c)(e)}}function D(e,t){e.removeClass(t);var n=e.data(B);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(B))}function O(e,n){var i="";return e=t.isArray(e)?e:e.split(/\s+/),u(e,function(e,t){e&&e.length>0&&(i+=(t>0?" ":"")+e+n)}),i}var I,R,_,M,L="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(L="-webkit-",I="WebkitTransition",R="webkitTransitionEnd transitionend"):(I="transition",R="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(L="-webkit-",_="WebkitAnimation",M="webkitAnimationEnd animationend"):(_="animation",M="animationend");var N,$="Duration",P="Property",U="Delay",H="IterationCount",q="$$ngAnimateKey",B="$$ngAnimateCSS3Data",F="ng-animate-block-transitions",V=3,G=1.5,W=1e3,z={},Y=0,Q=[],K=null,J=0,X=[];return{enter:function(e,t){return k("enter",e,"ng-enter",t)},leave:function(e,t){return k("leave",e,"ng-leave",t)},move:function(e,t){return k("move",e,"ng-move",t)},beforeSetClass:function(e,t,n,i){var r=O(n,"-remove")+" "+O(t,"-add"),s=C("setClass",e,r,function(i){var r=e.attr("class");e.removeClass(n),e.addClass(t);var s=i();return e.attr("class",r),s});return s?(d(e,function(){A(e,r),S(e),i()}),s):(l(),void i())},beforeAddClass:function(e,t,n){var i=C("addClass",e,O(t,"-add"),function(n){e.addClass(t);var i=n();return e.removeClass(t),i});return i?(d(e,function(){A(e,t),S(e),n()}),i):(l(),void n())},setClass:function(e,t,n,i){n=O(n,"-remove"),t=O(t,"-add");var r=n+" "+t;return x("setClass",e,r,i)},addClass:function(e,t,n){return x("addClass",e,O(t,"-add"),n)},beforeRemoveClass:function(e,t,n){var i=C("removeClass",e,O(t,"-remove"),function(n){var i=e.attr("class");e.removeClass(t);var r=n();return e.attr("class",i),r});return i?(d(e,function(){A(e,t),S(e),n()}),i):void n()},removeClass:function(e,t,n){return x("removeClass",e,O(t,"-remove"),n)}}}])}])}(window,window.angular)}),require.register("vendors/js/angular/angular-sanitize.js",function(){!function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],i=l(n,t.noop);return i.chars(e),n.join("")}function r(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function s(e,n){function i(e,i,s,a){if(i=t.lowercase(i),T[i])for(;b.last()&&j[b.last()];)r("",b.last());S[i]&&b.last()==i&&r("",i),a=E[i]||!!a,a||b.push(i);var l={};s.replace(m,function(e,t,n,i,r){var s=n||i||r||"";l[t]=o(s)}),n.start&&n.start(i,l,a)}function r(e,i){var r,s=0;if(i=t.lowercase(i))for(s=b.length-1;s>=0&&b[s]!=i;s--);if(s>=0){for(r=b.length-1;r>=s;r--)n.end&&n.end(b[r]);b.length=s}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var s,a,l,y,b=[],w=e;for(b.last=function(){return b[b.length-1]};e;){if(y="",a=!0,b.last()&&C[b.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(o(t)),""}),r("",b.last())):(0===e.indexOf("<!--")?(s=e.indexOf("--",4),s>=0&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),a=!1)):h.test(e)?(l=e.match(h),l&&(e=e.replace(l[0],""),a=!1)):f.test(e)?(l=e.match(d),l&&(e=e.substring(l[0].length),l[0].replace(d,r),a=!1)):p.test(e)&&(l=e.match(u),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(u,i)),a=!1):(y+="<",e=e.substring(1))),a&&(s=e.indexOf("<"),y+=0>s?e:e.substring(0,s),e=0>s?"":e.substring(s),n.chars&&n.chars(o(y)))),e==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}r()}function o(e){if(!e)return"";var t=I.exec(e),n=t[1],i=t[3],r=t[2];return r&&(O.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in O?O.textContent:O.innerText),n+r+i}function a(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,s,o){e=t.lowercase(e),!i&&C[e]&&(i=e),i||x[e]!==!0||(r("<"),r(e),t.forEach(s,function(i,s){var o=t.lowercase(s),l="img"===e&&"src"===o||"background"===o;D[o]!==!0||k[o]===!0&&!n(i,l)||(r(" "),r(s),r('="'),r(a(i)),r('"'))}),r(o?"/>":">"))},end:function(e){e=t.lowercase(e),i||x[e]!==!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(a(e))}}}var c=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,f=/^<\//,v=/<!--(.*?)-->/g,h=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,E=r("area,br,col,hr,img,wbr"),w=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=r("rp,rt"),S=t.extend({},A,w),T=t.extend({},w,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),j=t.extend({},A,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=r("script,style"),x=t.extend({},E,T,j,S),k=r("background,cite,href,longdesc,src,usemap"),D=t.extend({},k,r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),O=document.createElement("pre"),I=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(s,o){function a(e){e&&p.push(i(e))}function l(e,n){p.push("<a "),t.isDefined(o)&&(p.push('target="'),p.push(o),p.push('" ')),p.push('href="',e.replace('"',"&quot;"),'">'),a(n),p.push("</a>")}if(!s)return s;for(var c,u,d,m=s,p=[];c=m.match(n);)u=c[0],c[2]==c[3]&&(u="mailto:"+u),d=c.index,a(m.substr(0,d)),l(u,c[0].replace(r,"")),m=m.substring(d+c[0].length);return a(m),e(p.join(""))}}])}(window,window.angular)}),require.register("vendors/js/angular/angular-ui-router.js",function(e,t,n){"undefined"!=typeof n&&"undefined"!=typeof e&&n.exports===e&&(n.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return P(new(P(function(){},{prototype:e})),t)}function r(e){return $(arguments,function(t){t!==e&&$(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function o(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function a(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=s(n,i),c={},u=[];for(var d in l)if(l[d].params&&(r=o(l[d].params),r.length))for(var m in r)a(u,r[m])>=0||(u.push(r[m]),c[r[m]]=e[r[m]]);return P({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var s=n[r];if(e[s]!=t[s])return!1}return!0}function u(e,t){var n={};return $(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==n.indexOf(i)&&(t[i]=e[i]);return t}function m(e,t){var n=N(e)?[]:{};return $(e,function(e,i){t(e,i)&&(n[i]=e)}),n}function p(e,t){var n=N(e)?[]:{};return $(e,function(e,i){n[i]=t(e,i)}),n}function f(e,t){var i=1,s=2,l={},c=[],u=l,m=P(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(y[n]!==s){if(g.push(n),y[n]===i)throw g.splice(0,a(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(y[n]=i,M(e))h.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);$(r,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),h.push(n,e,r)}g.pop(),y[n]=s}}function f(e){return L(e)&&e.then&&e.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var v=o(l||{}),h=[],g=[],y={};return $(l,p),l=g=y=null,function(i,s,o){function a(){--E||(w||r(b,s.$$values),g.$$values=b,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,p.resolve(b))}function l(e){g.$$failure=e,p.reject(e)}function c(n,r,s){function c(e){d.reject(e),l(e)}function u(){if(!R(g.$$failure))try{d.resolve(t.invoke(r,o,b)),d.promise.then(function(e){b[n]=e,a()},c)}catch(e){c(e)}}var d=e.defer(),m=0;$(s,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(m++,y[e].then(function(t){b[e]=t,--m||u()},c))}),m||u(),y[n]=d.promise}if(f(i)&&o===n&&(o=s,s=i,i=null),i){if(!L(i))throw new Error("'locals' must be an object")}else i=u;if(s){if(!f(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=m;var p=e.defer(),g=p.promise,y=g.$$promises={},b=P({},i),E=1+h.length/3,w=!1;if(R(s.$$failure))return l(s.$$failure),g;s.$$inheritedValues&&r(b,d(s.$$inheritedValues,v)),P(y,s.$$promises),s.$$values?(w=r(b,d(s.$$values,v)),g.$$inheritedValues=d(s.$$values,v),a()):(s.$$inheritedValues&&(g.$$inheritedValues=d(s.$$inheritedValues,v)),s.then(a,l));for(var A=0,S=h.length;S>A;A+=3)i.hasOwnProperty(h[A])?a():c(h[A],h[A+1],h[A+2]);return g}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(e,t,n){this.fromConfig=function(e,t,n){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return _(e)?e(t):e},this.fromUrl=function(n,i){return _(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function h(e,t,r){function s(t,n,i,r){if(f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new H.Param(t,n,i,r),v[t]}function o(e,t,n){var i=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(n){case!1:i=["(",")"];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return r+i[0]+t+i[1]}function a(n,r){var s,o,a,l,c;return s=n[2]||n[3],c=t.params[s],a=e.substring(m,n.index),o=r?n[4]:n[4]||("*"==n[1]?".*":null),l=H.type(o||"string")||i(H.type("string"),{pattern:new RegExp(o)}),{id:s,regexp:o,segment:a,type:l,cfg:c}}t=P({params:{}},L(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",m=0,p=this.segments=[],f=r?r.params:{},v=this.params=r?r.params.$$new():new H.ParamSet;this.source=e;for(var h,g,y;(l=c.exec(e))&&(h=a(l,!1),!(h.segment.indexOf("?")>=0));)g=s(h.id,h.type,h.cfg,"path"),d+=o(h.segment,g.type.pattern.source,g.squash),p.push(h.segment),m=c.lastIndex;y=e.substring(m);var b=y.indexOf("?");if(b>=0){var E=this.sourceSearch=y.substring(b);if(y=y.substring(0,b),this.sourcePath=e.substring(0,m+b),E.length>0)for(m=0;l=u.exec(E);)h=a(l,!0),g=s(h.id,h.type,h.cfg,"search"),m=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(y)+(t.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=p[0]}function g(e){P(this,e)}function y(){function e(e){return null!=e?e.toString().replace("/","%2F"):e}function r(e){return null!=e?e.toString().replace("%2F","/"):e}function s(e){return this.pattern.test(e)}function l(){return{strict:b,caseInsensitive:v}}function c(e){return _(e)||N(e)&&_(e[e.length-1])}function u(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],f.invoke(e.def))}}function d(e){P(this,e||{})}H=this;var f,v=!1,b=!0,E=!1,w={},A=!0,S=[],T={string:{encode:e,decode:r,is:s,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},decode:function(e){return new Date(e)},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/}};y.$$getDefaultValue=function(e){if(!c(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(v=e),v},this.strictMode=function(e){return R(e)&&(b=e),b},this.defaultSquashPolicy=function(e){if(!R(e))return E;if(e!==!0&&e!==!1&&!M(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return E=e,e},this.compile=function(e,t){return new h(e,P(l(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return $(h.prototype,function(n,i){_(n)&&(t=t&&R(e[i])&&_(e[i]))}),t},this.type=function(e,t,n){if(!R(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new g(P({name:e},t)),n&&(S.push({name:e,def:n}),A||u()),this},$(T,function(e,t){w[t]=new g(P({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return f=e,A=!1,u(),$(T,function(e,t){w[t]||(w[t]=new g(e))}),this}],this.Param=function(e,t,i,r){function s(e){var t=L(e)?o(e):[],n=-1===a(t,"value")&&-1===a(t,"type")&&-1===a(t,"squash")&&-1===a(t,"array"),i=n?e:e.value,r={fn:c(i)?i:function(){return r.value},value:i};return r}function l(t,n){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof g?t.type:new g(t.type):w.string}function u(){var t={array:"search"===r?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return P(t,n,i).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!R(n)||null==n)return E;if(n===!0||M(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,i,r){var s,o,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return s=N(e.replace)?e.replace:[],M(r)&&s.push({from:r,to:n}),o=p(s,function(e){return e.from}),m(l,function(e){return-1===a(o,e.from)}).concat(s)}function h(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(S.fn)}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=p(m(A.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),R(e)?A.type.decode(e):h()}function b(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+j+"}"}var A=this,S=s(i);i=i||{},t=l(i,t);var T=u();t=T?t.$asArray(T,"search"===r):t,"string"!==t.name||T||"path"!==r||S.value!==n||(S.value="");var j=S.value!==n,C=d(i,j),x=v(i,T,j,C);P(this,{id:e,type:t,array:T,config:i,squash:C,replace:x,isOptional:j,dynamic:n,value:y,toString:b})},d.prototype={$$new:function(){return i(this,P(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=o(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),$(t,function(t){$(o(t),function(t){-1===a(e,t)&&-1===a(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return $(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return $(i.$$keys(),function(r){var s=e&&e[r],o=t&&t[r];i[r].type.equals(s,o)||(n=!1)}),n},$$validates:function(e){var t,n,i,r=!0,s=this;return $(this.$$keys(),function(o){i=s[o],n=e[o],t=!n&&i.isOptional,r=r&&(t||i.type.is(n))}),r},$$parent:n},this.ParamSet=d}function b(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function s(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return R(i)?i:!0}function a(n,i,r,s){function o(e,t,n){return"/"===p?e:t?p.slice(0,-1)+e:n?p.slice(1)+e:e}function a(e){function t(e){var t=e(r,n);return t?(M(t)&&n.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i,s=c.length;for(i=0;s>i;i++)if(t(c[i]))return;u&&t(u)}}function m(){return l=l||i.$on("$locationChangeSuccess",a)}var p=s.baseHref(),f=n.url();return d||m(),{sync:function(){a()},listen:function(){return m()},update:function(e){return e?void(f=n.url()):void(n.url()!==f&&(n.url(f),n.replace()))},push:function(e,t,i){n.url(e.format(t||{})),i&&i.replace&&n.replace()},href:function(i,r,s){if(!i.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var l=i.format(r);if(s=s||{},a||null===l||(l="#"+e.hashPrefix()+l),l=o(l,a,s.absolute),!s.absolute||!l)return l;var c=!a&&l?"/":"",u=n.port();return u=80===u||443===u?"":":"+u,[n.protocol(),"://",n.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!_(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(M(e)){var t=e;e=function(){return t}}else if(!_(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,a=M(t);if(M(e)&&(e=i.compile(e)),!a&&!_(t)&&!N(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return a&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),P(function(n,i){return o(n,t,e.exec(i.path(),i.search()))},{prefix:M(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=t,t=["$match",function(e){return s(n,e)}]),P(function(n,i){return o(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser"]}function E(e,r){function s(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=M(e),r=i?e:e.name,o=s(r);if(o){if(!t)throw new Error("No reference point given for path '"+r+"'");t=d(t);for(var a=r.split("."),l=0,c=a.length,u=t;c>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;a=a.slice(l).join("."),r=u.name+(u.name&&a?".":"")+a}var m=T[r];return!m||!i&&(i||m!==e&&m.self!==e)?n:m}function m(e,t){j[e]||(j[e]=[]),j[e].push(t)}function f(e){for(var t=j[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!M(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):M(t.parent)?t.parent:L(t.parent)&&M(t.parent.name)?t.parent.name:"";if(r&&!T[r])return m(r,t.self);for(var s in x)_(x[s])&&(t[s]=x[s](t,x.$delegates[s]));return T[n]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{location:!1})}]),f(n),t}function h(e){return e.indexOf("*")>-1}function g(e){var t=e.split("."),n=S.$current.name.split(".");if("**"===t[0]&&(n=n.slice(a(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(a(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;
for(var i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return n.join("")===t.join("")}function y(e,t){return M(e)&&!R(t)?x[e]:_(t)&&M(e)?(x[e]&&!x.$delegates[e]&&(x.$delegates[e]=x[e]),x[e]=t,this):this}function b(e,t){return L(e)?t=e:t.name=e,v(t),this}function E(e,r,s,a,m,f,v){function y(t,n,i,s){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return v.update(),x;if(!o.retry)return null;if(s.$retry)return v.update(),k;var a=S.transition=r.when(o.retry);return a.then(function(){return a!==S.transition?E:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return x}),v.update(),a}function b(e,n,i,o,l,c){var d=i?n:u(e.params.$$keys(),n),p={$stateParams:d};l.resolve=m.resolve(e.resolve,p,l.resolve,e);var f=[l.resolve.then(function(e){l.globals=e})];return o&&f.push(o),$(e.views,function(n,i){var r=n.resolve&&n.resolve!==e.resolve?n.resolve:{};r.$template=[function(){return s.load(i,{view:n,locals:p,params:d,notify:c.notify})||""}],f.push(m.resolve(r,p,l.resolve,e).then(function(s){if(_(n.controllerProvider)||N(n.controllerProvider)){var o=t.extend({},r,p);s.$$controller=a.invoke(n.controllerProvider,null,o)}else s.$$controller=n.controller;s.$$state=e,s.$$controllerAs=n.controllerAs,l[i]=s}))}),r.all(f).then(function(){return l})}var E=r.reject(new Error("transition superseded")),j=r.reject(new Error("transition prevented")),x=r.reject(new Error("transition aborted")),k=r.reject(new Error("transition failed"));return A.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:A.self,$current:A,transition:null},S.reload=function(){return S.transitionTo(S.current,f,{reload:!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,P({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,s){n=n||{},s=P({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,c=S.$current,m=S.params,p=c.path,h=d(t,s.relative);if(!R(h)){var g={to:t,toParams:n,options:s},T=y(g,c.self,m,s);if(T)return T;if(t=g.to,n=g.toParams,s=g.options,h=d(t,s.relative),!R(h)){if(!s.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+s.relative+"'")}}if(h[C])throw new Error("Cannot transition to abstract state '"+t+"'");if(s.inherit&&(n=l(f,n||{},S.$current,h)),!h.params.$$validates(n))return k;n=h.params.$$values(n),t=h;var x=t.path,D=0,O=x[D],I=A.locals,_=[];if(!s.reload)for(;O&&O===p[D]&&O.ownParams.$$equals(n,m);)I=_[D]=O.locals,D++,O=x[D];if(w(t,c,I,s))return t.self.reloadOnSearch!==!1&&v.update(),S.transition=null,r.when(S.current);if(n=u(t.params.$$keys(),n||{}),s.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,m).defaultPrevented)return v.update(),j;for(var M=r.when(I),L=D;L<x.length;L++,O=x[L])I=_[L]=i(I),M=b(O,n,O===t,M,I,s);var N=S.transition=M.then(function(){var i,r,o;if(S.transition!==N)return E;for(i=p.length-1;i>=D;i--)o=p[i],o.self.onExit&&a.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=D;i<x.length;i++)r=x[i],r.locals=_[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==N?E:(S.$current=t,S.current=t.self,S.params=n,U(S.params,f),S.transition=null,s.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{replace:"replace"===s.location}),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,m),v.update(!0),S.current)},function(i){return S.transition!==N?E:(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,m,i),o.defaultPrevented||v.update(),r.reject(i))});return N},S.is=function(e,i,r){r=P({relative:S.$current},r||{});var s=d(e,r.relative);return R(s)?S.$current!==s?!1:R(i)&&null!==i?t.equals(f,i):!0:n},S.includes=function(e,t,i){if(i=P({relative:S.$current},i||{}),M(e)&&h(e)){if(!g(e))return!1;e=S.$current.name}var r=d(e,i.relative);return R(r)?R(S.$current.includes[r.name])?c(t,f):!1:n},S.href=function(e,t,i){i=P({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=d(e,i.relative);if(!R(r))return null;i.inherit&&(t=l(f,t||{},S.$current,r));var s=r&&i.lossy?r.navigable:r;return s&&s.url!==n&&null!==s.url?v.href(s.url,u(r.params.$$keys(),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return p(o(T),function(e){return T[e].self});var n=d(e,t||S.$current);return n&&n.self?n.self:null},S}function w(e,t,n,i){return e!==t||(n!==t.locals||i.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var A,S,T={},j={},C="abstract",x={parent:function(e){if(R(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):A},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=P({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(M(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||A).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new H.ParamSet;return $(e.params||{},function(e,n){t[n]||(t[n]=new H.Param(n,null,e))}),t},params:function(e){return e.parent&&e.parent.params?P(e.parent.params.$$new(),e.ownParams):new H.ParamSet},views:function(e){var t={};return $(R(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?P({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};A=v({name:"",url:"^",views:null,"abstract":!0}),A.navigable=null,this.decorator=y,this.state=b,this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(n,i){var r,s={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=P(s,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function A(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,i,r){function s(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var a=s(),l=a("$animator"),c=a("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,l){function c(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),m&&(g.leave(m,function(){d=null}),d=m,m=null)}function u(o){var u,d=j(n,l,s,r),y=d&&e.$current&&e.$current.locals[d];if(o||y!==f){u=n.$new(),f=e.$current.locals[d];var b=a(u,function(e){g.enter(e,s,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(h)&&!h||n.$eval(h))&&i(e)}),c()});m=b,p=u,p.$emit("$viewContentLoaded"),p.$eval(v)}}var d,m,p,f,v=l.onload||"",h=l.autoscroll,g=o(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function T(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var s=r.html();return function(r,o,a){var l=n.$current,c=j(r,a,o,i),u=l&&l.locals[c];if(u){o.data("$uiView",{name:c,state:u.$$state}),o.html(u.$template?u.$template:s);var d=e(o.contents());if(u.$$controller){u.$scope=r;var m=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=m),o.data("$ngControllerController",m),o.children().data("$ngControllerController",m)}d(r)}}}}}function j(e,t,n,i){var r=i(t.uiView||t.name||"")(e),s=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(s?s.state.name:"")}function C(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function x(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function k(e,n){var i=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,s,o,a){var l=C(o.uiSref,e.current.name),c=null,u=x(s)||e.$current,d=null,m="A"===s.prop("tagName"),p="FORM"===s[0].nodeName,f=p?"action":"href",v=!0,h={relative:u,inherit:!0},g=r.$eval(o.uiSrefOpts)||{};t.forEach(i,function(e){e in g&&(h[e]=g[e])});var y=function(n){if(n&&(c=t.copy(n)),v){d=e.href(l.state,c,h);var i=a[1]||a[0];return i&&i.$$setStateInfo(l.state,c),null===d?(v=!1,!1):void o.$set(f,d)}};l.paramExpr&&(r.$watch(l.paramExpr,function(e){e!==c&&y(e)},!0),c=t.copy(r.$eval(l.paramExpr))),y(),p||s.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||s.attr("target"))){var r=n(function(){e.go(l.state,c,h)});t.preventDefault();var o=m&&!d?1:0;t.preventDefault=function(){o--<=0&&n.cancel(r)}}})}}}function D(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,r,s){function o(){a()?r.addClass(m):r.removeClass(m)}function a(){return"undefined"!=typeof s.uiSrefActiveEq?e.$current.self===u&&l():u&&e.includes(u.name)&&l()}function l(){return!d||c(d,t)}var u,d,m;m=n(s.uiSrefActiveEq||s.uiSrefActive||"",!1)(i),this.$$setStateInfo=function(t,n){u=e.get(t,x(r)),d=n,o()},i.$on("$stateChangeSuccess",o)}]}}function O(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function I(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var R=t.isDefined,_=t.isFunction,M=t.isString,L=t.isObject,N=t.isArray,$=t.forEach,P=t.extend,U=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),f.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",f),v.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",v);var H;h.prototype.concat=function(e,t){var n={caseInsensitive:H.caseInsensitive(),strict:H.strictMode(),squash:H.defaultSquashPolicy()};return new h(this.sourcePath+e+this.sourceSearch,P(n,t),this)},h.prototype.toString=function(){return this.source},h.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var i=t(e).split(/-(?!\\)/),r=p(i,t);return p(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,s,o,a=this.parameters(),l=a.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;c>r;r++){o=a[r];var d=this.params[o],m=i[r+1];for(s=0;s<d.replace;s++)d.replace[s].from===m&&(m=d.replace[s].to);m&&d.array===!0&&(m=n(m)),u[o]=d.value(m)}for(;l>r;r++)o=a[r],u[o]=this.params[o].value(t[o]);return u},h.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.params.$$keys()},h.prototype.validates=function(e){return this.params.$$validates(e)},h.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var s,o=!1,a=n.length-1,l=i.length,c=n[0];for(s=0;l>s;s++){var u=a>s,d=i[s],m=r[d],f=m.value(e[d]),v=m.isOptional&&m.type.equals(m.value(),f),h=v?m.squash:!1,g=m.type.encode(f);if(u){var y=n[s+1];if(h===!1)null!=g&&(c+=N(g)?p(g,t).join("-"):encodeURIComponent(g)),c+=y;else if(h===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else M(h)&&(c+=h+y)}else{if(null==g||v&&h!==!1)continue;N(g)||(g=[g]),g=p(g,encodeURIComponent).join("&"+d+"="),c+=(o?"&":"?")+(d+"="+g),o=!0}}return c},g.prototype.is=function(){return!0},g.prototype.encode=function(e){return e},g.prototype.decode=function(e){return e},g.prototype.equals=function(e,t){return e==t},g.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return t.apply(e,arguments)}}function i(e,n){return function(i){N(i)||(i=[i]);var r=p(i,e);return n?r.reduce(n,!0):r&&1==r.length&&"auto"===t?r[0]:r}}function r(e,t){return e&&t}this.encode=i(n(this,e.encode)),this.decode=i(n(this,e.decode)),this.equals=i(n(this,e.equals),r),this.is=i(n(this,e.is),r),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),E.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",E),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",A),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],T.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",T),k.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),O.$inject=["$state"],I.$inject=["$state"],t.module("ui.router.state").filter("isState",O).filter("includedByState",I)}(window,window.angular)}),require.register("vendors/js/angular/angular-ios9-uiwebview-patch.js",function(){angular.module("ngIOS9UIWebViewPatch",["ng"]).config(["$provide",function(e){"use strict";e.decorator("$browser",["$delegate","$window",function(e,t){function n(e){return/(iPhone|iPad|iPod).* OS 9_\d/.test(e)&&!/Version\/9\./.test(e)}function i(e){function t(){n=null}var n=null,i=e.url;return e.url=function(){return arguments.length?(n=arguments[0],i.apply(e,arguments)):n||i.apply(e,arguments)},window.addEventListener("popstate",t,!1),window.addEventListener("hashchange",t,!1),e}return n(t.navigator.userAgent)?i(e):e}])}])}),require.register("vendors/js/angular/ng-sortable.js",function(){!function(){"use strict";angular.module("as.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden",dragging:"as-sortable-dragging"})}(),function(){"use strict";var e=angular.module("as.sortable");e.factory("$helper",["$document","$window",function(e,t){return{height:function(e){return e[0].getBoundingClientRect().height},width:function(e){return e[0].getBoundingClientRect().width},offset:function(n,i){var r=n[0].getBoundingClientRect();return i||(i=e[0].documentElement),{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||i.scrollTop-i.offsetTop),left:r.left+(t.pageXOffset||i.scrollLeft-i.offsetLeft)}},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(e){var t=!1;return void 0!==e.touches&&e.touches.length>1?t=!0:void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&e.originalEvent.touches.length>1&&(t=!0),t},positionStarted:function(e,t,n){var i={};return i.offsetX=e.pageX-this.offset(t,n).left,i.offsetY=e.pageY-this.offset(t,n).top,i.startX=i.lastX=e.pageX,i.startY=i.lastY=e.pageY,i.nowX=i.nowY=i.distX=i.distY=i.dirAx=0,i.dirX=i.dirY=i.lastDirX=i.lastDirY=i.distAxX=i.distAxY=0,i},calculatePosition:function(e,t){e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=t.pageX,e.nowY=t.pageY,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:e.distX>0?1:-1,e.dirY=0===e.distY?0:e.distY>0?1:-1;var n=Math.abs(e.distX)>Math.abs(e.distY)?1:0;e.dirAx!==n?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=n},movePosition:function(e,t,n,i,r,s){var o,a="relative"===r;t.x=e.pageX-n.offsetX,t.y=e.pageY-n.offsetY,i&&(o=this.offset(i,s),a&&(t.x-=o.left,t.y-=o.top,o.left=0,o.top=0),t.x<o.left?t.x=o.left:t.x>=o.width+o.left-this.offset(t).width&&(t.x=o.width+o.left-this.offset(t).width),t.y<o.top?t.y=o.top:t.y>=o.height+o.top-this.offset(t).height&&(t.y=o.height+o.top-this.offset(t).height)),t.css({left:t.x+"px",top:t.y+"px"}),this.calculatePosition(n,e)},dragItem:function(e){return{index:e.index(),parent:e.sortableScope,source:e,sourceInfo:{index:e.index(),itemScope:e.itemScope,sortableScope:e.sortableScope},moveTo:function(e,t){this.parent=e,this.isSameParent()&&this.source.index()<t&&(t-=1),this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){"undefined"==typeof this.sourceInfo.sortableScope.options.clone&&(this.sourceInfo.sortableScope.options.clone=!1),this.sourceInfo.sortableScope.options.clone===!1&&this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),this.parent.modelValue.indexOf(this.source.modelValue)<0&&this.parent.insertItem(this.index,this.source.modelValue)}}},noDrag:function(e){return void 0!==e.attr("no-drag")||void 0!==e.attr("data-no-drag")},findAncestor:function(e,t){e=e[0];for(var n=Element.matches||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;(e=e.parentElement)&&!n.call(e,t););return angular.element(e?e:document.body)}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableController",["$scope",function(e){this.scope=e,e.modelValue=null,e.callbacks=null,e.type="sortable",e.options={},e.isDisabled=!1,e.insertItem=function(t,n){e.modelValue.splice(t,0,n)},e.removeItem=function(t){var n=null;return t>-1&&(n=e.modelValue.splice(t,1)[0]),n},e.isEmpty=function(){return e.modelValue&&0===e.modelValue.length},e.accept=function(t,n,i){return e.callbacks.accept(t,n,i)}}]),e.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"as.sortable.sortableController",link:function(e,t,n,i){var r,s;r=i,r&&(r.$render=function(){e.modelValue=r.$modelValue},e.element=t,t.data("_scope",e),s={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragMove:null,dragCancel:null,dragEnd:null},s.accept=function(){return!0},s.orderChanged=function(){},s.itemMoved=function(){},s.dragStart=function(){},s.dragMove=function(){},s.dragCancel=function(){},s.dragEnd=function(){},e.$watch(n.asSortable,function(t){angular.forEach(t,function(t,n){s[n]?"function"==typeof t&&(s[n]=t):e.options[n]=t}),e.callbacks=s},!0),angular.isDefined(n.isDisabled)&&e.$watch(n.isDisabled,function(t){angular.isUndefined(t)||(e.isDisabled=t)},!0))}}})}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableItemHandleController",["$scope",function(e){this.scope=e,e.itemScope=null,e.type="handle"}]),e.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document",function(e,t,n,i){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"as.sortable.sortableItemHandleController",link:function(r,s,o,a){function l(e,t){p.css("display","block"),e[0].parentNode.insertBefore(p[0],e[0]),h.moveTo(t.sortableScope,t.index())}function c(e,t){p.css("display","block"),e.after(p),h.moveTo(t.sortableScope,t.index()+1)}function u(e){for(var t;!t&&e.length;)t=e.data("_scope"),t||(e=e.parent());return t}function d(){f.replaceWith(r.itemScope.element),p.remove(),m.remove(),m=null,R=!1,g.css("cursor",""),g.removeClass("as-sortable-un-selectable")}var m,p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N=!1;I=n.hasOwnProperty("ontouchstart"),e.handleClass&&s.addClass(e.handleClass),r.itemScope=a.scope,s.data("_scope",r),r.$watch("sortableScope.isDisabled",function(e){N!==e&&(N=e,N?k():x())}),r.$on("$destroy",function(){angular.element(i[0].body).unbind("keydown",L)}),_=function(e){return angular.element("function"==typeof r.sortableScope.options.placeholder?r.sortableScope.options.placeholder(e):"string"==typeof r.sortableScope.options.placeholder?r.sortableScope.options.placeholder:i[0].createElement(e.element.prop("tagName")))},b=function(e){var n,r=function(){angular.element(i).unbind("mousemove",o),angular.element(i).unbind("touchmove",o),s.unbind("mouseup",r),s.unbind("touchend",r),s.unbind("touchcancel",r)},o=function(i){i.preventDefault();var s=t.eventObj(i);n||(n={clientX:s.clientX,clientY:s.clientY}),Math.abs(s.clientX-n.clientX)+Math.abs(s.clientY-n.clientY)>10&&(r(),w(e))};angular.element(i).bind("mousemove",o),angular.element(i).bind("touchmove",o),s.bind("mouseup",r),s.bind("touchend",r),s.bind("touchcancel",r)},w=function(n){var o,a;(I||2!==n.button&&3!==n.which)&&(I&&t.isTouchInvalid(n)||!R&&j(n)&&(R=!0,n.preventDefault(),o=t.eventObj(n),E=angular.element(i[0].querySelector(r.sortableScope.options.scrollableContainer)).length>0?i[0].querySelector(r.sortableScope.options.scrollableContainer):i[0].documentElement,g=r.sortableScope.options.containment?t.findAncestor(s,r.sortableScope.options.containment):angular.element(i[0].body),g.css("cursor","move"),g.css("cursor","-webkit-grabbing"),g.css("cursor","-moz-grabbing"),g.addClass("as-sortable-un-selectable"),y=r.sortableScope.options.containerPositioning||"absolute",h=t.dragItem(r),a=r.itemScope.element.prop("tagName"),m=angular.element(i[0].createElement(r.sortableScope.element.prop("tagName"))).addClass(r.sortableScope.element.attr("class")).addClass(e.dragClass),m.css("width",t.width(r.itemScope.element)+"px"),m.css("height",t.height(r.itemScope.element)+"px"),p=_(r.itemScope).addClass(e.placeHolderClass).addClass(r.sortableScope.options.additionalPlaceholderClass),p.css("width",t.width(r.itemScope.element)+"px"),p.css("height",t.height(r.itemScope.element)+"px"),r.itemScope.sortableScope.options.clone&&p.css("display","none"),f=angular.element(i[0].createElement(a)),e.hiddenClass&&f.addClass(e.hiddenClass),v=t.positionStarted(o,r.itemScope.element,E),r.itemScope.element.after(p),r.itemScope.element.after(f),m.append(r.itemScope.sortableScope.options.clone?r.itemScope.element.clone():r.itemScope.element),g.append(m),t.movePosition(o,m,v,g,y,E),r.sortableScope.$apply(function(){r.callbacks.dragStart(h.eventArgs())}),D()))},j=function(e){var n,i,r;for(n=angular.element(e.target),i=u(n),r=i&&"handle"===i.type;r&&n[0]!==s[0];)t.noDrag(n)&&(r=!1),n=n.parent();return r},A=function(s){var o,a,d,f,b;if((!I||!t.isTouchInvalid(s))&&R&&m){if(s.preventDefault(),o=t.eventObj(s),r.sortableScope.$apply(function(){r.callbacks.dragMove(v,g,o)}),t.movePosition(o,m,v,g,y,E),a=o.pageX-i[0].documentElement.scrollLeft,d=o.pageY-(n.pageYOffset||i[0].documentElement.scrollTop),m.addClass(e.hiddenClass),i[0].elementFromPoint(a,d),b=angular.element(i[0].elementFromPoint(a,d)),m.removeClass(e.hiddenClass),m.addClass(e.dragging),f=u(b),!f||!f.type)return;if("handle"===f.type&&(f=f.itemScope),"item"!==f.type&&"sortable"!==f.type)return;if("item"===f.type&&f.accept(r,f.sortableScope,f)){b=f.element;var w=C(f.sortableScope.element);0>w?l(b,f):w<=f.index()?c(b,f):l(b,f)}"sortable"===f.type&&f.accept(r,f)&&b[0].parentNode!==f.element[0]&&(M(b)||(b[0].appendChild(p[0]),h.moveTo(f,f.modelValue.length)))}},C=function(t){var n,i;if(t.hasClass(e.placeHolderClass))return 0;for(n=t.children(),i=0;i<n.length;i+=1)if(angular.element(n[i]).hasClass(e.placeHolderClass))return i;return-1},M=function(e){return C(e)>=0},S=function(e){R&&(e.preventDefault(),m&&(d(),h.apply(),r.sortableScope.$apply(function(){h.isSameParent()?h.isOrderChanged()&&r.callbacks.orderChanged(h.eventArgs()):r.callbacks.itemMoved(h.eventArgs())}),r.sortableScope.$apply(function(){r.callbacks.dragEnd(h.eventArgs())}),h=null),O())},T=function(e){R&&(e.preventDefault(),m&&(d(),r.sortableScope.$apply(function(){r.callbacks.dragCancel(h.eventArgs())}),h=null),O())},x=function(){s.bind("touchstart",b),s.bind("mousedown",b)},k=function(){s.unbind("touchstart",b),s.unbind("mousedown",b)},x(),L=function(e){27===e.keyCode&&T(e)},angular.element(i[0].body).bind("keydown",L),D=function(){angular.element(i).bind("touchmove",A),angular.element(i).bind("touchend",S),angular.element(i).bind("touchcancel",T),angular.element(i).bind("mousemove",A),angular.element(i).bind("mouseup",S)},O=function(){angular.element(i).unbind("touchend",S),angular.element(i).unbind("touchcancel",T),angular.element(i).unbind("touchmove",A),angular.element(i).unbind("mouseup",S),angular.element(i).unbind("mousemove",A)}}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableItemController",["$scope",function(e){this.scope=e,e.sortableScope=null,e.modelValue=null,e.type="item",e.index=function(){return e.$index},e.itemData=function(){return e.sortableScope.modelValue[e.$index]}}]),e.directive("asSortableItem",["sortableConfig",function(e){return{require:["^asSortable","?ngModel"],restrict:"A",controller:"as.sortable.sortableItemController",link:function(t,n,i,r){var s=r[0],o=r[1];e.itemClass&&n.addClass(e.itemClass),t.sortableScope=s.scope,o?o.$render=function(){t.modelValue=o.$modelValue}:t.modelValue=s.scope.modelValue[t.$index],t.element=n,n.data("_scope",t)}}}])}()}),require.register("vendors/js/spectra.js",function(e,t,n){(function(){"use strict";var t=this,i=t.Spectra,r={},s={white:"#ffffff",silver:"#c0c0c0",gray:"#808080",black:"#000000",red:"#ff0000",maroon:"#800000",yellow:"#ffff00",olive:"#808000",lime:"#00ff00",green:"#008000",aqua:"#00ffff",teal:"#008080",blue:"#0000ff",navy:"#000080",fuschia:"#ff00ff",purple:"#800080",orange:"#ffa500"};r.clamp=function(e,t,n){return e=e||0,t=void 0!==t?t:0,n=void 0!==n?n:1,Math.max(t,Math.min(n,e))},r.rgbToHsv=function(e){var t={},n=Number(e.r||0)/255,i=Number(e.g||0)/255,r=Number(e.b||0)/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=s-o;return t.v=s,0===t.v?(t.h=0,t.s=0):(t.s=(s-o)/s,0===t.s?t.h=0:(t.h=s===n?(i-r)/a:s===i?2+(r-n)/a:4+(n-i)/a,t.h*=60,t.h<0&&(t.h+=360))),t},r.hsvToRgb=function(e){var t={r:0,g:0,b:0},n=r.clamp(e.h||e.hue,0,360),i=r.clamp(e.s||e.saturation,0,1),s=r.clamp(e.v||e.value),o=i*s,a=n/60,l=o*(1-Math.abs(a%2-1));1>a?(t.r=o,t.g=l):2>a?(t.r=l,t.g=o):3>a?(t.g=o,t.b=l):4>a?(t.g=l,t.b=o):5>a?(t.r=l,t.b=o):(t.r=o,t.b=l);var c=s-o;return t.r+=c,t.g+=c,t.b+=c,t.r*=255,t.g*=255,t.b*=255,t},r.rgbToHsl=function(e){var t=r.rgbToHsv(e),n={};return n.h=t.h,n.l=(2-t.s)*t.v,n.s=t.s*t.v,n.s/=n.l<=1?n.l:2-n.l,n.l/=2,isNaN(n.s)&&(n.s=0),n},r.hslToRgb=function(e){var t=r.clamp(e.h||e.hue,0,360),n=r.clamp(e.s||e.saturation),i=r.clamp(e.l||e.lightness),s={};return s.h=t,n*=.5>i?i:1-i,s.s=2*n/(i+n),s.v=i+n,r.hsvToRgb(s)},r.rgbToLab=function(e){var t="";e={r:e.r/255,g:e.g/255,b:e.b/255};var n={};for(t in e)e[t]>.04045?e[t]=Math.pow((e[t]+.055)/1.055,2.4):e[t]/=12.92,e[t]=100*e[t];n={x:.4124*e.r+.3576*e.g+.1805*e.b,y:.2126*e.r+.7152*e.g+.0722*e.b,z:.0193*e.r+.1192*e.g+.9505*e.b},t="";var i={},r={x:95.047,y:100,z:108.883};for(t in n)i[t]=n[t]/r[t],i[t]=i[t]>.008856?Math.pow(i[t],1/3):7.787*i[t]+16/116;var s={l:116*i.y-16,a:500*(i.x-i.y),b:200*(i.y-i.z)};return s},r.labToRgb=function(e){var t={},n={};return t.y=((e.l||e.L)+16)/116,t.x=e.a/500+t.y,t.z=t.y-e.b/200,t.y=Math.pow(t.y,3)>.008856?Math.pow(t.y,3):(t.y-16/116)/7.787,t.x=Math.pow(t.x,3)>.008856?Math.pow(t.x,3):(t.x-16/116)/7.787,t.z=Math.pow(t.z,3)>.008856?Math.pow(t.z,3):(t.z-16/116)/7.787,t.x*=95.047/100,t.y*=1,t.z*=1.08883,n.r=3.2406*t.x+-1.5372*t.y+t.z*-.4986,n.g=t.x*-.9689+1.8758*t.y+.0415*t.z,n.b=.0557*t.x+t.y*-.204+1.057*t.z,n.r>.0031308?n.r=1.055*Math.pow(n.r,1/2.4)-.055:n.r*=12.92,n.g>.0031308?n.g=1.055*Math.pow(n.g,1/2.4)-.055:n.g*=12.92,n.b>.0031308?n.b=1.055*Math.pow(n.b,1/2.4)-.055:n.b*=12.92,n.r=r.clamp(255*n.r,0,255),n.g=r.clamp(255*n.g,0,255),n.b=r.clamp(255*n.b,0,255),n},r.parseCss=function(e){var t={},n=/^#[0-9a-f]{3}$/i,i=e.match(n);if(i)return t={r:17*parseInt(e.charAt(1),16),g:17*parseInt(e.charAt(2),16),b:17*parseInt(e.charAt(3),16)},r.normalize(t);var s=/^#[0-9a-f]{6}$/i,o=e.match(s);if(o)return t={r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)},r.normalize(t);var a=/^rgb\(\s*([0-9]+),\s*([0-9]+),\s*([0-9]+)\s*\)$/i,l=e.match(a);if(l)return t={r:parseInt(l[1],10),g:parseInt(l[2],10),b:parseInt(l[3],10)},r.normalize(t);var c=/^rgba\(\s*([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9\.]+)\s*\)$/i,u=e.match(c);if(u)return t={r:parseInt(u[1],10),g:parseInt(u[2],10),b:parseInt(u[3],10),a:parseFloat(u[4],10)},r.normalize(t);throw new TypeError(e+" is not a valid CSS string for Spectra.")},r.parsePredefinedColor=function(e){return new o.fn(s[e])},r.normalize=function(e){e.a=e.a||1;var t=e;return void 0!==t.hsv?(t=r.hsvToRgb(t.hsv),t.a=e.a):void 0!==t.hsl?(t=r.hslToRgb(t.hsl),t.a=e.a):void 0!==t.css?t=r.parseCss(t.css):void 0!==t.lab&&(t=r.labToRgb(t.lab),t.a=e.a),t.r=t.red||t.r,t.g=t.green||t.g,t.b=t.blue||t.b,t.a=t.alpha||t.a,t.r=r.clamp(t.r,0,255),t.g=r.clamp(t.g,0,255),t.b=r.clamp(t.b,0,255),t.a=r.clamp(t.a,0,1),t};var o=function(e){return new o.fn(e)};o.fn=function(e){if(null===e||void 0===e)throw new TypeError("Spectra argument must be defined.");if(e instanceof o.fn)return e;if("object"==typeof e)if(void 0!==e.r||void 0!==e.red)this.color=r.normalize({r:e.r,g:e.g,b:e.b,a:e.a});else if(void 0!==e.v||void 0!==e.value)this.color=r.normalize({hsv:e,a:e.a});else if(void 0===e.l&&void 0===e.lightness||void 0===e.s&&void 0===e.saturation){if(void 0===e.l&&void 0===e.L||void 0===e.a)throw new TypeError("Spectra argument "+e+" is invalid.");this.color=r.normalize({lab:e,a:e.a||e.alpha})}else this.color=r.normalize({hsl:e,a:e.a||e.alpha});else{if("string"!=typeof e)throw new TypeError("Spectra argument "+e+" is invalid.");if(e.toLowerCase()in s)return r.parsePredefinedColor(e);this.color=r.normalize({css:e})}return this},o.fn.prototype.red=function(e){var t=this.color;return arguments.length?(t.r=e,this.color=r.normalize(t),this):Math.round(t.r)},o.fn.prototype.green=function(e){var t=this.color;return arguments.length?(t.g=e,this.color=r.normalize(t),this):Math.round(t.g)},o.fn.prototype.blue=function(e){var t=this.color;return arguments.length?(t.b=e,this.color=r.normalize(t),this):Math.round(t.b)},o.fn.prototype.hue=function(e){var t=r.rgbToHsv(this.color);return arguments.length?(t.h=e,this.color=r.normalize({hsv:t,a:this.color.a}),this):Math.round(t.h)},o.fn.prototype.saturationv=function(e){var t=r.rgbToHsv(this.color);return arguments.length?(t.s=e,this.color=r.normalize({hsv:t,a:this.color.a}),this):t.s},o.fn.prototype.value=function(e){var t=r.rgbToHsv(this.color);return arguments.length?(t.v=e,this.color=r.normalize({hsv:t,a:this.color.a}),this):t.v},o.fn.prototype.saturation=function(e){var t=r.rgbToHsl(this.color);return arguments.length?(t.s=e,this.color=r.normalize({hsl:t,a:this.color.a}),this):t.s},o.fn.prototype.lightness=function(e){var t=r.rgbToHsl(this.color);
return arguments.length?(t.l=e,this.color=r.normalize({hsl:t,a:this.color.a}),this):t.l},o.fn.prototype.alpha=function(e){var t=this.color;return arguments.length?(t.a=e,this):t.a},o.fn.prototype.hex=function(){var e=("0"+this.red().toString(16)).slice(-2),t=("0"+this.green().toString(16)).slice(-2),n=("0"+this.blue().toString(16)).slice(-2);return"#"+e+t+n},o.fn.prototype.rgbaString=function(){return"rgba("+this.red()+","+this.green()+","+this.blue()+","+this.alpha()+")"},o.fn.prototype.hslString=function(){return"hsl("+this.hue()+","+this.saturation()+","+Math.round(100*this.lightness())/100+")"},o.fn.prototype.hslaString=function(){return"hsla("+this.hue()+","+this.saturation()+","+Math.round(100*this.lightness())/100+","+this.alpha()+")"},o.fn.prototype.rgbNumber=function(){return this.red()<<16|this.green()<<8|this.blue()},o.fn.prototype.labObject=function(){return r.rgbToLab(this.color)},o.fn.prototype.toString=o.fn.prototype.hex,o.fn.prototype.equals=function(e){var t=this,n=e;return arguments.length<1?t===n:t.near(n,0)},o.fn.prototype.near=function(e,t){var n=this,i=e;t=Math.abs(t||0);var r=255*(t/100);return Math.abs(i.red()-n.red())<=r&&Math.abs(i.green()-n.green())<=r&&Math.abs(i.blue()-n.blue())<=r&&Math.abs(i.alpha()-n.alpha())<=t/100},o.fn.prototype.complement=function(){var e=new o(this.color);return e.hue((e.hue()+180)%360),e},o.fn.prototype.negate=function(){var e=new o(this.color);return e.red(255-e.red()),e.green(255-e.green()),e.blue(255-e.blue()),e},o.fn.prototype.lighten=function(e){var t=new o(this.color),n=r.clamp(t.lightness()+e/100,0,1);return t.lightness(n),t},o.fn.prototype.darken=function(e){return this.lighten(-e)},o.fn.prototype.randomColorRange=function(e){var t=(2*Math.random()-1)*e,n=new o(this.color);return n=n.lighten(t)},o.fn.prototype.saturate=function(e){var t=e/100,n=new o(this.color);return n.saturation(n.saturation()+t),n},o.fn.prototype.desaturate=function(e){var t=e/100,n=new o(this.color);return n.saturation(n.saturation()-t),n},o.fn.prototype.fadeIn=function(e){var t=e/100,n=new o(this.color);return n.alpha(n.alpha()+t),n},o.fn.prototype.fadeOut=function(e){var t=e/100,n=new o(this.color);return n.alpha(n.alpha()-t),n},o.fn.prototype.luma=function(){return.2126*this.red()+.7152*this.green()+.0722*this.blue()},o.fn.prototype.grayscale=function(){return this.desaturate(100)},o.fn.prototype.isDark=function(){var e=(299*this.red()+587*this.green()+144*this.blue())/1e3;return 131.5>e},o.fn.prototype.isLight=function(){return!this.isDark()},o.fn.prototype.mix=function(e,t){e=new o(e);var n=arguments.length<2?.5:t/100;return new o({r:this.red()*(1-n)+e.red()*n,g:this.green()*(1-n)+e.green()*n,b:this.blue()*(1-n)+e.blue()*n,a:this.alpha()*(1-n)+e.alpha()*n})},o.fn.prototype.contrast=function(e){e=new o(e);var t=Math.max(this.red(),e.red())-Math.min(this.red(),e.red())+Math.max(this.green(),e.green())-Math.min(this.green(),e.green())+Math.max(this.blue(),e.blue())-Math.min(this.blue(),e.blue());return t/765},o.fn.prototype.gradient=function(e,t){e=new o(e);for(var n=[],i=this.red(),r=this.green(),s=this.blue(),a=(e.red()-this.red())/(t-1),l=(e.green()-this.green())/(t-1),c=(e.blue()-this.blue())/(t-1),u=0;t>u;u++)n.push(new o({r:i,g:r,b:s})),i+=a,r+=l,s+=c;return n},o.fn.prototype.harmony=function(e,t){t="number"==typeof t?Math.abs(parseInt(t,10)):0;var n=[],i=r.rgbToHsv(this.color),s=[0,180];switch(e){case"analogous":s=[0,30,60];break;case"triad":s=[0,120,240];break;case"split-complementary":s=[0,150,210];break;case"rectangle":s=[0,60,180,240];break;case"square":s=[0,90,180,270];break;case"complementary":s=[0,180]}for(var a=s.length,l=s[t%a],c=0;a>c;c++)n.push(new o({h:(i.h+s[c]-l)%360,s:i.s,v:i.v,a:this.color.a}));return n},o.noConflict=function(){return t.Spectra=i,o},o.random=function(){return new o({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random())})},"undefined"!=typeof e?("undefined"!=typeof n&&(e=n.exports=o),e.Spectra=o):t.Spectra=o}).call(this)}),require.register("i18n/en/angular-locale.js",function(){"use strict";angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"(¤",negSuf:")",posPre:"¤",posSuf:""}]},id:"en",pluralCat:function(e){return 1==e?t.ONE:t.OTHER}})}])}),require.register("i18n/fi/angular-locale.js",function(){"use strict";angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["ap.","ip."],DAY:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],MONTH:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],SHORTDAY:["su","ma","ti","ke","to","pe","la"],SHORTMONTH:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],fullDate:"cccc, d. MMMM y",longDate:"d. MMMM y",medium:"d.M.yyyy H.mm.ss",mediumDate:"d.M.yyyy",mediumTime:"H.mm.ss","short":"d.M.yyyy H.mm",shortDate:"d.M.yyyy",shortTime:"H.mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fi-fi",pluralCat:function(e){return 1==e?t.ONE:t.OTHER}})}])}),require.register("i18n/index.js",function(e,t){t("./i18n-fltr")}),require.register("i18n/en/en-GB.js",function(e,t,n){n.exports={Welcome:"Welcome!","Establish connection":"Connecting",AND:"AND",And:"And",and:"and",OR:"OR",Or:"Or",or:"or",ADD:"ADD",Add:"Add",EDIT:"EDIT",Edit:"Edit",DONE:"DONE",SAVE:"SAVE",SAVING:"SAVING",Saved:"Saved",DELETE:"DELETE",DELETING:"DELETING",Done:"Done",OK:"Ok",CANCEL:"CANCEL",SELECT:"SELECT",NEXT:"NEXT",Next:"Next",END:"END",device:"device",CONNECT:"CONNECT","SEARCH HUB":"SEARCH AGAIN","REFRESH LIST":"REFRESH LIST",Connecting:"Connecting",DEVICE:"DEVICE",LIGHT:"LIGHT","SAVE TO SCENES":"SAVE TO SCENES","ADD TIMER RULE":"SET TIMER","REMOVE THIS DEVICE":"REMOVE THIS DEVICE","IGNORE THIS DEVICE":"REMOVE THIS DEVICE","USE THIS STATE IN SCENE":"USE THIS STATE IN SCENE","USE THIS STATE IN RULE":"USE THIS STATE IN RULE",SENSOR:"SENSOR",RULES:"RULES",SCENES:"SCENES",SCENE:"SCENE",FAVORITES:"FAVORITES",TIMER:"TIMER",AWAY:"AWAY",DEVICES:"DEVICES",NOTIFICATIONS:"NOTIFICATIONS",SUPPORT:"SUPPORT",FEEDBACK:"FEEDBACK","SUPPORT AND FEEDBACK":"SUPPORT AND FEEDBACK","SUPPORT&FEEDBACK":"SUPPORT&FEEDBACK","Cozify Support or Feedback":"Cozify Support or Feedback message","WEB FORUM":"WEB FORUM",SETTINGS:"SETTINGS","DISCOVERED HUBs":"HUBS",LOGS:"LOGS","Choose Color":"Choose Color",New:"New","New Group":"New Group","Create New Group":"New Group","Drag device here or top of another device to create new group.":"Drag device here or top of each other to form groups.","TYPE IN GROUP NAME":"TYPE IN GROUP NAME","TYPE IN DEVICE NAME":"TYPE IN DEVICE NAME","Group name":"Group name","Device name":"Device name","Device settings":"Device settings","Create New Rule":"Add New Rule","TYPE IN RULE NAME":"TYPE NAME FOR RULE","_someone is_ on vacation until _date_":"{who} on the vacation until {date}",GROUP:"GROUP",UNGROUP:"UNGROUP","DELETE RULE":"DELETE RULE",Home:"Home",Away:"Away",Party:"Party",Night:"Night",Day:"Day",Date:"Date","Time period":"Time period",sec:"sec","Date(s)":"Date(s)",All:"All",None:"None","Every day":"Every day",Never:"Never",Sleeping:"Sleeping",Cooking:"Cooking",Reading:"Reading","Choose Scene(s)":"Choose Scene(s)","Create New Scene":"Create New Scene","Add timer":"Add timer","TYPE IN SCENE NAME":"TYPE IN SCENE NAME","STATES AND RULES":"STATES AND RULES",STATES:"STATES","DELETE SCENE":"DELETE SCENE",WHEN:"WHEN",THEN:"THEN",WHAT:"WHAT","INCLUDE TO SCENES":"INCLUDE TO SCENES","SHORT NAME":"SHORT NAME",READY:"READY","Current settings":"Current settings","Defined settings":"Defined settings","EXTRA SETTINGS":"EXTRA SETTINGS",Rule:"Rule",Select:"Select",From:"From",To:"To","Theme timer":"Theme timer","Rule timer":"Rule timer",time:"time","Use as Wake Up Light with themes":"Use as Wake Up Light with themes","wake up transition time":"wake up transition time",minutes:"minutes",min:"min","clock time":"time",hours:"hours","rise or set":"sunrise or set",h:"h",weekday:"weekday",Weekdays:"On weekdays",Weekend:"On weekends","Own period":"Time period","DEVICE NAME":"DEVICE NAME","Enter device name":"Enter device name",PIN:"PIN",LANGUAGE:"LANGUAGE",language:"language","CONNECTED HUB":"CONNECTED HUB","Terms of Service":"Terms of Service","Legal notice":"Legal notice","overwrite current":"replaces current","Detects motion":"Detects motion","Theme on":"Turn theme on","Theme off":"Turn theme off",Play:"Play","Play for maximum":"Play for maximum","PLAY QUEUE":"PLAY QUEUE","Turn on":"Turn on","Turn on time":"Starts","Turn off time":"Ends","Turn light off if no movement":"Turn light off if no movement for","Turn off after no motion":"Turn off after no motion","When movement, put lights on":"When movement, put lights on","When movement, play music":"When movement, play music","When music, loop colors":"When music, loop colors","Plays music":"Plays music","Loop colors":"Loop colors","Let switch be on only for a certain time period":"Let switch be on only for a certain time period","Let light be on only for a certain time period":"Let light be on only for a certain time period","Turn off after time period":"Turn off after time period","Put off":"Put off","Simulate people at home":"Simulate people at home","Switch randomly":"Switch randomly","When house is empty for long time, blink lights":"When house is empty for long time, blink lights","When time is <Time> set the <Scene> scene":"Activate scene when time is...","If date and time is":"If date and time is","Turn on scene":"Turn on scene","Select scenes":"Select scene(s)!","APP VERSION":"APP VERSION","HUB VERSION":"HUB VERSION","Toggle device, group or theme by saying its name":"Toggle device, group or theme by saying its name","Voice command scene":"Voice command for scene","Voice command device":"Voice command for device","Unknown voice command":"Unknown voice command","Voice command error":"Voice command error","Use states":"Use states",USERS:"USERS",Users:"Users",ROLE:"ROLE",Revoke:"Revoke","REVOKE ALL":"REMOVE USER",Local:"Local",Remote:"Remote",Admin:"Owner",User:"User",Guest:"Guest",Anonymous:"No access","Ask access for this HUB _hub_?":"Ask access for HUB {hub}?","User _email_ access revoked":"User {email} removed","Wait wait until admin accepts your access":"Wait until HUB owner accepts your access","Add user":"Lisää käyttäjä","Tip: Select by tap, edit by long press":"Select by tap, edit by long press","This feature is coming soon":"Coming soon","Enter name":"Enter name as you like","When movement, put switch on":"When movement, put switch on","During time period, put lights on":"During time period, put lights on","ROOT RULES":"ALWAYS","SCENE RULES":"SCENES","Root rules":"Always in use","Scene rules":"Scene related","NO RULES":"NO RULES FOUND","Add new one by pressing + -icon in header-bar":"Add new one by pressing + -icon in header-bar",FAVORITES:"FAVORITES","Wake-Up":"Wake-Up",Awake:"Awake",Asleep:"Asleep","All rules":"All rules","Recent rules":"Recent rules","Filter Rules By":"Filter Rules By","Use type":"Use type",Turn:"Turn","To state":"To state",Send:"Send",on:"on",off:"off",If:"If",Then:"Then","if":"if","Device type":"Device type","REMOTE_CONTROL-devices":"Remote controls","REMOTE_CONTROL-device":"Remote control","DOORBELL_CONTROL-devices":"Doorbells","DOORBELL_CONTROL-device":"Doorbell","WALLSWITCH_CONTROL-devices":"Wall switches","WALLSWITCH_CONTROL-device":"Wall switch","GROUP-devices":"Device groups","WALLSWITCH-devices":"Wall switches","TWILIGHT-devices":"Twilight sensors","DOORBELL-devices":"Doorbells","KEYFOB-devices":"Key fobs","CONTACT-devices":"Window/door sensors","DEVICE-devices":"Many devicetypes","DEVICE_GROUP-devices":"Device groups","LIGHT-devices":"Lights","LIGHT-device":"light","LIGHT-types":"Lights","LIGHT-action":"Turn light","LIGHT-condition":"light state changes","LIGHT-condition2":"lightss","MEDIA_RENDERER-devices":"Music devices","MUSIC-devices":"Music devices","MUSIC-device":"music player","MUSIC-types":"Music","MUSIC-action":"Turn music","MUSIC-condition":"music device state changes","MUSIC-condition2":"music devices","HUB_USER-devices":"Users","SCENE-devices":"Scenes","SCENE-device":"scene","SCENE-types":"Scenes","SCENE-action":"Set scene state","SCENE-condition":"scene state changes","SCENE-condition2":"scenes","TV-devices":"TVs","TV-device":"TV","TV-types":"TVs","TV-action":"Turn TV","TV-condition":"TV device state changes","TV-condition2":"TV s","NOTIFICATION-devices":"Notifications","NOTIFICATION-device":"notification","NOTIFICATION-types":"Notifications","NOTIFICATION-action":"Send notification","NOTIFICATION-condition":"notification received","NOTIFICATION-condition2":"notifications","POWER_SOCKET-devices":"Power sockets","POWER_SOCKET-device":"power socket","POWER_SOCKET-types":"Power sockets","POWER_SOCKET-action":"Turn power socket","POWER_SOCKET-condition":"power socket state changes","POWER_SOCKET-condition2":"power sockets","MOTION-devices":"Motion sensors","MOTION-device":"motion sensor","MOTION-types":"Motion sensors","MOTION-action":"movement","MOTION-condition":"movement","MOTION-condition2":"movement","TEMPERATURE-devices":"Temperature sensors","TEMPERATURE-device":"temperature sensor","TEMPERATURE-types":"Temperature sensors","TEMPERATURE-action":"temperature changes","TEMPERATURE-condition":"temperature changes","TEMPERATURE-condition2":"temperature changes","HUMIDITY-devices":"Humidity sensors","HUMIDITY-device":"humidity sensor","HUMIDITY-types":"Humidity sensors","HUMIDITY-action":"humidity changes","HUMIDITY-condition":"humidity changes","HUMIDITY-condition2":"humidity changes","FIRE-devices":"Fire alarm","FIRE-device":"fire alarm devices","FIRE-types":"Fire alarm devices","FIRE-action":"fire alarm","FIRE-condition":"fire alarm","FIRE-condition2":"fire alarms","PRESENCE-devices":"Presence sensors","PRESENCE-device":"presence sensor","PRESENCE-types":"Presence sensors","PRESENCE-action":"presence changes","PRESENCE-condition":"presence changes","PRESENCE-condition2":"presence changes","TIMER-devices":"Timer","UI_DEVICE-devices":"User devices","No rules for selected criterias":"No ready-made rules for selected criterias","WHAT SHOULD HAPPEN?":"WHAT SHOULD HAPPEN?","What should happen?":"What should happen?","Send notification":"Send notification","Enter message here":"Enter message here","Use power socket":"Use power socket","Use lights":"Use lights","Use music":"Use music","Use TV":"Use TV","Turn lights":"Turn lights","Turn music":"Turn music","Turn TV":"Turn TV","Turn socket":"Turn power socket","Is home":"Is home","Notification is":"Notification","Motion is":"Motion is","Phone is":"Phone is","Alarm is":"Alarm is",On:"On",Off:"Off",button:"button",Detected:"Detected","Not detected":"Not detected","Extra settings":"Extra settings","Turn lights off in no movement for":"Turn lights off in no movement for","Blink lights when rule gets activated":"Blink lights when rule gets activated","Blink lights randomly":"Blink lights randomly","Motion is detected":"Motion is detected","At specified time":"At specified time","Add new time":"Add new time","Music is used":"Music is used","Music is turned":"Music is turned","TV is used":"TV is used","TV is turned":"TV is turned","Temperature changes":"Temperature changes","Power socket is used":"Power socket is used","Power socket is switched":"Power socket is switched",Below:"Below",Over:"Over","When rule should be active":"When rule should be active",Always:"Always","Create Own Rule":"Create Own Rule","Create Own Rule Using":"Create own rule using","Name the rule":"Name the rule","Turn rule off in":"Turn rule off after following time","Rule created":"New rule is created","Rule saved":"Rule saved","SCENES APPLIED":"SCENES APPLIED","Add Rule":"Add Rule","Edit Rule":"Edit Rule","Edit Actions":"Edit Actions","Edit Conditions":"Edit Conditions","Edit Scenes":"Edit Scenes","Device list failed":"Device list failed","Device update failed":"Device update failed","Group update failed":"Group update failed","Device read failed":"Device read failed","Device remove from group failed":"Removing device from group failed","Making group failed":"Making group failed","Group on/off update failed":"Group on/off update failed","Device on/off update failed":"Device on/off update failed","_device_ added to _group_":" '{device}' added to '{group}' ","_device1_ not groupable with _device2_":" '{device1}' can't be grouped with '{device2}' ","No rule found for _device1_  and _device2_":" No rule found for devices '{device1}' and '{device2}' ","Device remove failed":"Device remove failed","Scene update failed":"Scene update failed","Scene read failed":"Scene read failed","Preset remove failed":"Removing State from Scene failed","Scene remove failed":"Scene remove failed","Scene rename failed":"Scene rename failed","Scene timer failed":"Scene timer update failed","Scene list failed":"Scene list failed","Scene on/off update failed":"Scene on/off update failed","State remove failed":"State remove failed","State addition failed":"State addition failed","Scene creation from state failed":"Scene creation from state failed","Rule creation failed":"Rule creation failed","Rule creation cancelled":"Rule creation cancelled","Rule list failed":"Rule list failed","Template list failed":"Rule list failed","Rule adding failed":"Rule adding failed","Rule remove failed":"Rule remove failed","Rule read failed":"Rule read failed","Rule saving failed":"Rule saving failed","Cloud connection failed":"Cloud connection failed","HUB discovery failed":"HUB discovery failed! Check wi-fi connection.","HUB connection failed":"HUB connection failed!","Invalid PIN":"Invalid PIN","Invalid HUB address":"Invalid HUB address","Invalid HUB version":"Invalid HUB version","No hub found - are you connected to correct network?":"No hub found - are you connected to the network?","Connect to WIFI":"Connect to wi-fi network!",Register:"Register",Login:"Sign In","Login with email":"Sign In with email",LOGOUT:"LOGOUT","Did you mean":"Did you mean","Activation mail sent":"Activation mail sent","Invalid activation code or email":"Invalid activation code or email","Login by activation code sent to your email _email_":"Enter the  activation code sent to your email '{email}' ","Register HUB _name_ ?":"Set up your new HUB '{name}' ?","Hub registration failed":"Hub setup failed","Login failed":"Login failed","Logout failed":"Logout failed","Access request failed":"Access request failed","User management request failed":"User management request failed","Name changing failed":"Name changing failed","No access":"No access","Visitor has no remote access rights":"Visitor has no remote access rights","Check application version":"Check application version","HUB version _version1_ is too new for your application _version2_":"HUB version {version1} is too new to be used with this application version {version2}","Load new application":"Load new application!","Notification services not available":"Notification services are not available","Application is now set to receive notifications":"Application is now set to receive notifications","Application notifications disabled":"Application notifications disabled","You could select here":"Select",Select:"Select","Select all":"Select all","All selected":"All devices","scene will be activated":"scene will be activated","user will be notified":"user will be notified","ADD NEW RULE":"ADD NEW RULE","What would you like to control?":"What would you like to control?","FOUND RULES":"AVAILABLE RULES","Suitable template not found":"No suitable rule found","No state or rule in this scene":"No state or rule in this scene","No state in this scene":"No state in this scene","Maximum amount for _name_ met":"Maximum amount for selection '{name}' met already","Minimum amount for _name_ not met":"Minimum amount for selection '{name}'' is not met","Add new state or rule in devices view":"Add new state or rule in devices view","Add new state in devices view":"Add new state in devices view","Add devices":"Add devices","Adding device by technology":"By technology","Adding device by manufacturer":"By manufacturer","Adding Hue Bulbs":"Philips Hue Bulbs","Adding Sonos play":"Sonos Play","Adding WeMo Bulbs":"Wemo Smart Led pulb","Adding WeMo Switch":"Wemo Switch","Adding Nyce":"Nyce","Adding Osram":"Osram","Adding Hue Bridge":"Philips Hue Bridge","Adding Hue Bridge instructions 1":"Press button top of the Philips Hue Bridge.","Adding Hue Bridge instructions 2":"Click button below.","Adding instructions last":"New devices will appear in DEVICES-view, when Cozify has found them","Adding Zigbee devices":"Add Zigbee devices","Adding Zigbee instructions 1":"Turn device ON near the HUB in next 60 seconds","Adding Wi-Fi devices":"Add WiFi device","Adding Wi-Fi device instructions 1":"Install manufacturer's own application to your mobile","Adding Wi-Fi device instructions 2":"Connect device to same Wi-Fi network where HUB is, using installed application","Adding _name_ devices":"Add {name} devices","Search again":"Search again","Select device type":"Select device type","Select 433 MHz device manufacturer":"Select 433 MHz device manufacturer","Select 433 MHz device type":"Select 433 MHz device type","Unknown 433 Mhz device type":"Unknown 433 Mhz device type","Adding 433 MHz":"Add 433 MHz devices","Adding 433 MHz socket instructions 1_1":"Connect the outlet to the mains","Adding 433 MHz socket instructions 1_2":"Keep outlet programming button pressed for 3 sec","Adding 433 MHz socket instructions 1_3":"When outlet light start to blink, press OK-button below within 10 seconds","Adding 433 MHz socket instructions 2_1":"When outlet light stop blinking, check that outlet will appear in DEVICES-view","Adding 433 MHz multi sensor instructions 1_0":"Note! If you have more than one sensor you must change transmitting channel before you insert batteries. Each sensor must transmit on it's own channel channel. There are 8 channels available and sensor is preset to channel 1.","Adding 433 MHz multi sensor instructions 1_1":"Turn sensor on by inserting batteries","Adding 433 MHz multi sensor instructions 1_2":"Wait 10 min","Adding 433 MHz multi sensor instructions 1_3":"Press OK-button below and check that sensor will appear in DEVICES-view","Adding 433 MHz rc instructions 1_1":"Remove the small plastic tab from the battery in the remote control and bring it near the HUB","Adding 433 MHz rc instructions 1_2":"Press OK-button below when you are ready","Adding 433 MHz rc instructions 2_1":"Long press any key of the remote control within 10 seconds","Adding 433 MHz rc instructions 2_2":"Press OK-button below and remote control will appear in DEVICES-view","Adding 433 MHz rc nexa instructions 1_1":"Bring remote control near the HUB","Adding 433 MHz rc nexa instructions 1_2":"Press OK-button below when you are ready","Adding 433 MHz rc nexa instructions 2_1":"Long press any key of the remote control within 10 seconds","Adding 433 MHz rc nexa instructions 2_2":"Press OK-button below and remote control will appear in DEVICES-view","Adding 433 MHz wallswitch instructions 1_1":"Bring switch near the HUB","Adding 433 MHz wallswitch instructions 1_2":"Press OK-button below when you are ready","Adding 433 MHz wallswitch instructions 2_1":'Press "ON"-button of the switch within 10 seconds',"Adding 433 MHz wallswitch instructions 2_2":"Press OK-button below and switch will appear in DEVICES-view","Adding 433 MHz doorbell instructions 1_1":"Remove the small plastic tab from the battery in the doorbell and bring it near the HUB","Adding 433 MHz doorbell instructions 1_2":"Press OK-button below when you are ready","Adding 433 MHz doorbell instructions 2_1":"Long press doorbell button within 10 seconds","Adding 433 MHz doorbell instructions 2_2":"Press OK-button below and doorbell will appear in DEVICES-view","Adding 433 MHz motion instructions 1_1":"Prepare sensor according to the installation guide e.g. install battery and bring it then near the HUB","Adding 433 MHz motion instructions 1_2":"Press OK-button below when sensor is ready","Adding 433 MHz motion instructions 2_1":"Move your hand front of sensor within 10 seconds so that sensor will blink","Adding 433 MHz motion nexa instructions 2_1":'Set programming-mode switch to "SET" position',"Adding 433 MHz motion instructions 2_2":"Press OK-button below and device will appear in DEVICES-view","Adding 433 MHz motion instructions 2_3":"Install sensor to its location","Adding 433 MHz contact instructions 1_1":"Prepare sensor according to the installation guide e.g. install battery and bring it then near the HUB","Adding 433 MHz contact instructions 1_2":"Press OK-button below when sensor is ready","Adding 433 MHz contact instructions 2_1":"Press button of the sensor during next 10 seconds","Adding 433 MHz contact instructions 2_2":"Press OK-button below and check that sensor will appear in DEVICES-view","Adding 433 MHz contact instructions 2_3":"Install sensor to its location","Adding 433 MHz twilight instructions 1_1":"Prepare sensor according to the installation guide e.g. install battery and bring it then near the HUB","Adding 433 MHz twilight instructions 1_2":"Press OK-button below when sensor is ready","Adding 433 MHz twilight instructions 2_1":'Press "START"-button of the sensor during next 10 seconds',"Adding 433 MHz twilight instructions 2_2":"Press OK-button below and check that sensor will appear in DEVICES-view","Adding 433 MHz twilight instructions 2_3":"Install sensor to its location","Proove temperature":"Proove temperature","Proove multisensor":"Proove multisensor","433 Device list failed":"Listing 433 MHz devices failed","433 Device pairing failed":"Pairing 433 MHz device failed","Device or scene to be controlled":"Controlled device or scene","Button pressed":"Button pressed","Turn _name_ on":"Turn {name} on!","ADD NOW":"ADD NOW","SEARCH DEVICES":"SEARCH DEVICES","CONNECT IN NEXT":"CONNECT IN NEXT",SECONDS:"SECONDS","Add zigbee devices in _time_ seconds":"Turn on your new zigbee devices in {time} seconds","Device connection time ended":"Device connection time ended","Adding new devices failed":"Adding new devices failed","Give mobile number with country prefix for notifications":"Give mobile number with country prefix for notifications","Return ignored devices":"Return removed devices","RETURN IGNORED DEVICES":"RETURN IGNORED ONES","Return ignored devices instructions":"Return removed devices will return all removed devices back to the device lists","Ignored devices returned":"Removed devices returned and will soon appear in the device list","Search phrase":"Search phrase","Search failed":"Search failed","No search results":"No search results","SEARCH NEW":"SEARCH NEW","Add To Scenes":"Add To Scenes","Are you sure?":"Are you sure?","Yes!":"Yes!",No:"No",Enter:"Enter","Please provide something!":"Please provide something!","Ups!":"Ups!",Ok:"Ok",Cancel:"Peruuta","Ignore _device_ ?":"Are you sure you want to remove device '{device}' ?","Are you sure to logout?":"Are you sure you want to logout?","When on standby mode, mobile device may cut the WiFi connection, thus informing infrequently its presence to the hub.":"When on standby mode, mobile device may cut the WiFi connection, thus informing infrequently its presence to the HUB.","In case of unnecessary notifications, increase the device detection timeout.":"In case of unnecessary notifications, increase the device detection timeout.","Last device detection time":"Last device detection time","away treshold":"away treshold","Away treshold":"Away treshold",HUB:"HUB",ACCOUNT:"ACCOUNT","HUB SETTINGS":"HUB SETTINGS","HUB NAME":"HUB NAME",TIMEZONE:"TIMEZONE","MY SETTINGS":"MY SETTINGS","e.g.":"esim.",EMAIL:"EMAIL",NICKNAME:"NICKNAME",MOBILE:"MOBILE",Nickname:"Nickname","Email address":"Email address",Mobile:"Mobile","User information request failed":"User information request failed","Saving user information failed":"Saving user information failed","User data changed":"User information saved",you:"you","Hub name changed":"Hub name changed","Hub timezone changed":"Hub timezone changed","Filter Devices By Type":"Filter Devices By Type","Select Timezone":"Select Timezone",City:"City","Search capitals":"Search for your capital","ADVANCED SETTINGS":"ADVANCED SETTINGS","ZIGBEE CONNECTION":"ZIGBEE CONNECTION","Connection settings of Zigbee":"Connection settings of Zigbee",Firmware:"Firmware",Status:"Status",Failure:"Failure","Are you sure to change channel?":"Changing the channel may require searching and connecting again some Zigbee devices! Are you sure to change channel","Zigbee channel":"Channel","Zigbee channel selection started":"Zigbee channel selection started","Zigbee power":"Transmission power",Normal:"Normal",Increased:"Increased",High:"High","Zigbee settings changed":"Zigbee connection settings changed","Zigbee settings failed":"Zigbee connection settings failed","Video load failed":"Video load failed, try again","Video stream opened":"Video lataantuu","USER RULES":"USER RULES","ADD USER RULE":"ADD USER RULE","Customer rule saed":"Customer rule saved","Customer rule read failed":"Customer rule read failed","Customer rule save failed":"Customer rule saving failed","Customer rule removed":"Customer rule removed","Customer rule remove failed":"Customer rule remove failed",ROOM:"ROOM",ROOMS:"ROOMS","ROOM NAME":"ROOM NAME","CREATE NEW ROOM":"CREATE NEW ROOM","DELETE ROOM":"DELETE ROOM","Are you sure to delete room?":"Are you sure to delete room?","No specific room":"No specific room","Room request failed":"Room request failed","Room remove failed":"Room remove failed","Show rooms":"Show rooms","See documentation":"See documentation","Show log":"Show log"}}),require.register("i18n/fi/fi-FI.js",function(e,t,n){n.exports={Welcome:"Tervetuloa!","Establish connection":"Yhdistää",AND:"JA",And:"Ja",and:"ja",OR:"TAI",Or:"Tai",or:"tai",ADD:"LISÄÄ",Add:"Lisää",EDIT:"MUOKKAA",Edit:"Muokkaa",DONE:"VALMIS",SAVE:"TALLETA",SAVING:"TALLETTAA",Saved:"Talletettu",DELETE:"POISTA",DELETING:"POISTAA",Done:"Valmis",OK:"Ok",CANCEL:"PERUUTA",SELECT:"VALITSE",NEXT:"SEURAAVA",Next:"Seuraava",END:"LOPETA",device:"laite",CONNECT:"YHDISTÄ","SEARCH HUB":"ETSI UUDELLEEN","REFRESH LIST":"PÄIVITÄ LISTA",Connecting:"Yhdistää",DEVICE:"LAITE",LIGHT:"LIGHT","SAVE TO SCENES":"TALLENNA TEEMOIHIN","ADD TIMER RULE":"ASETA AJASTUS","REMOVE THIS DEVICE":"POISTA TÄMÄ LAITE","IGNORE THIS DEVICE":"POISTA KÄYTÖSTÄ","USE THIS STATE IN SCENE":"ASETA TEEMAAN","USE THIS STATE IN RULE":"ASETA SÄÄNTÖÖN",SENSOR:"SENSORI",RULES:"SÄÄNNÖT",SCENES:"TEEMAT",SCENE:"TEEMA",FAVORITES:"SUOSIKIT",TIMER:"AJASTUS",AWAY:"POISSA",DEVICES:"LAITTEET",NOTIFICATIONS:"ILMOITUKSET",SUPPORT:"TUKI",FEEDBACK:"PALAUTE","SUPPORT AND FEEDBACK":"TUKI JA PALAUTE","SUPPORT&FEEDBACK":"TUKI JA PALAUTE","Cozify Support or Feedback":"Cozify tuki tai palaute viesti","WEB FORUM":"WEB FOORUMI",SETTINGS:"ASETUKSET","DISCOVERED HUBs":"HUBIT",LOGS:"LOGIT","Choose Color":"Valitse väri",New:"Uusi","New Group":"Uusi ryhmä","Create New Group":"Luo uusi ryhmä","Drag device here or top of another device to create new group.":"Luo uusi ryhmä raahaamalla laite tähän tai toisen laitteen päälle.","TYPE IN GROUP NAME":"NIMEÄ RYHMÄ","TYPE IN DEVICE NAME":"NIMEÄ LAITE","Group name":"Ryhmän nimi","Device name":"Laitteen nimi","Device settings":"Laiteasetukset","Create New Rule":"Lisää uusi sääntö","TYPE IN RULE NAME":"ANNA SÄÄNNÖN NIMI","_someone is_ on vacation until _date_":"{who} lomalla {date} asti",GROUP:"GROUP",UNGROUP:"POISTA RYHMÄ","DELETE RULE":"POISTA SÄÄNTÖ",Home:"Kotona",Away:"Poissa",Party:"Bileet",Night:"Yö",Day:"Päivä",Date:"Päivämäärä","Time period":"Aikaväli",sec:"s","Date(s)":"Päivä(t)",All:"Kaikki",None:"Ei mitään","Every day":"Joka päivä",Never:"Ei koskaaan",Sleeping:"Nukkuminen",Cooking:"Ruuanlaitto",Reading:"Lukeminen","Choose Scene(s)":"Valitse teema(t)","Create New Scene":"Luo uusi teema","Add timer":"Lisää ajastus","TYPE IN SCENE NAME":"SYÖTÄ TEEMAN NIMI","STATES AND RULES":"TILAT JA SÄÄNNÖT",STATES:"TILAT","DELETE SCENE":"POISTA TEEMA",WHEN:"KUN",THEN:"NIIN",WHAT:"NIIN","INCLUDE TO SCENES":"LIITÄ TEEMOIHIN","SHORT NAME":"NIMI",READY:"VALMIS","Current settings":"Nykyinen tila","Defined settings":"Asetettu tila","EXTRA SETTINGS":"LISÄASETUKSET",Rule:"Sääntö",Select:"Valitse",From:"Alkaen",To:"Päättyen","Theme timer":"Teeman ajastus","Rule timer":"Sännön ajastus",time:"aika","Use as Wake Up Light with themes":"Käytä sarastusvalona teemoissa","wake up transition time":"sarastusaika",minutes:"minuutit",min:"min","clock time":"kellon aika",hours:"tunnit","rise or set":"auringonnousu/lasku",h:"h",weekday:"viikonpäivä",Weekdays:"Arkisin",Weekend:"Viikonloppuisin","Own period":"Ajanjakso","DEVICE NAME":"LAITTEEN NIMI","Enter device name":"Syötä laitteen nimi",PIN:"PIN",LANGUAGE:"KIELI",language:"kieli","CONNECTED HUB":"YHDISTETTY HUBIIN","Terms of service":"Palveluehdot","Legal notice":"Oikeudelliset ehdot","overwrite current":"korvaa nykyisen","Detects motion":"Havaitsee liikettä","Theme on":"Teema päälle","Theme off":"Teema pois päältä",Play:"Soita","PLAY QUEUE":"PLAY LIST","Play for maximum":"Maksimi soittoaika","Turn on":"Laita päälle","Turn on time":"Alkaen","Turn off time":"Päättyen","Turn off after no motion":"Laita pois päältä","Turn light off if no movement":"Sammuta kun ei liikettä ","When movement, put lights on":"Sytytä jos liikettä","When movement, play music":"Soita musiikkia jos liikettä","When music, loop colors":"Vaihda värejä kun musiikkia","Plays music":"Soita musiikkia","Loop colors":"Vaihda värejä","Let switch be on only for a certain time period":"Laita pois tietyn ajan jälkeen","Let light be on only for a certain time period":"Sammuta tietyn ajan jälkeen","Turn off after time period":"Pois päältä -aika","Put off":"Laita pois","Simulate people at home":"Simuloi kotona oloa","Switch randomly":"Laita päälle ja pois satunnaisesti","When house is empty for long time, blink lights":"Vilkuta valoja kun talo on pitkään tyhjillään","When time is <Time> set the <Scene> scene":"Aktivoi <Scene> kun kello on","If date and time is":"Kun päivämäärä ja kello on","Turn on scene":"Aktivoi tila","Select scenes":"Liitä teema(t)!","APP VERSION":"APP VERSIO","HUB VERSION":"HUB VERSIO","Toggle device, group or theme by saying its name":"Vaihda laitteen, rymän tai teeman tilaa sanomalla sen nimi","Voice command scene":"Äänikomento teemalle","Voice command device":"Äänikomento laitteelle","Unknown voice command":"Tuntematon äänikomento","Voice command error":"Virhe äänikomennossa","Use states":"Käytä tilaa",USERS:"KÄYTTÄJÄT",Users:"Käyttäjät",ROLE:"ROOLI",Revoke:"Poista","REVOKE ALL":"POISTA KÄYTTÄJÄ",Local:"Lähi",Remote:"Etä",Admin:"Omistaja",User:"Käyttäjä",Guest:"Vierailija",Anonymous:"Ei käyttöoiketta","Ask access for this HUB _hub_?":"Pyydä käyttöoikeus HUBiin {hub}?","User _email_ access revoked":"{email} käyttäjä poistettu","Wait wait until admin accepts your access":"Odota HUB:in omistajan hyväksyntää pyynnöllesi.","Add user":"Add user","Tip: Select by tap, edit by long press":"Napauta valitaksesi, tai pidä pitkään muokataksesi","This feature is coming soon":"Tulossa pian","Enter name":"Anna haluamasi nimi","When movement, put switch on":"Laita päälle jos liikettä","During time period, put lights on":"Laita päälle tiettynä aikana","ROOT RULES":"AINA","SCENE RULES":"TEEMAT","Root rules":"Aina käytössä","Scene rules":"Teemoihin liitetyt","NO RULES":"SÄÄNTÖJÄ EI LÖYTYNYT","Add new one by pressing + -icon in header-bar":"Lisää uusi sääntö painamalla otsikkopalkin + -kuvaketta",FAVORITES:"SUOSIKIT","Wake-Up":"Herätys",Awake:"Hereillä",Asleep:"Nukkumassa","All rules":"Kaikki säännöt","Recent rules":"Viimeksi muutetut","Filter Rules By":"Valitse näytettävät säännöt","Use type":"Käyttötapa",Turn:"Laitetaan","To state":"Tilaan",Send:"Lähetetään",on:"päälle",off:"pois päältä",If:"Jos",Then:"Niin","if":"jos","Device type":"Laitetyyppi","REMOTE_CONTROL-devices":"Kauko-ohjaimet","REMOTE_CONTROL-device":"Kauko-ohjain","DOORBELL_CONTROL-devices":"Ovikellot","DOORBELL_CONTROL-device":"Ovikello","WALLSWITCH_CONTROL-devices":"Seinäkatkaisimet","WALLSWITCH_CONTROL-device":"Seinäkatkaisin","GROUP-devices":"Laiteryhmät","WALLSWITCH-devices":"Seinäkatkaisimet","TWILIGHT-devices":"Hämärätunnistimet","DOORBELL-devices":"Ovikellot","KEYFOB-devices":"Avaimenperä ohjain","DEVICE-devices":"Useat laitetyypit","DEVICE_GROUP-devices":"Laiteryhmät","CONTACT-devices":"Ovi/ikkunatunnistimet","LIGHT-devices":"Valot","LIGHT-device":"valo","LIGHT-types":"Valoja","LIGHT-action":"Laitetaan valo","LIGHT-condition":"valojen muutos","LIGHT-condition2":"valot","MEDIA_RENDERER-devices":"Musiikkilaitteet","MUSIC-devices":"Musiikkilaitteet","MUSIC-device":"musiikkilaite","MUSIC-types":"Musiikkia","MUSIC-action":"Laitetaan musiikki","MUSIC-condition":"musiikin muutos","MUSIC-condition2":"musiikkilaitteet","HUB_USER-devices":"Käyttäjät","SCENE-devices":"Teemat","SCENE-device":"teema","SCENE-types":"Teemoja","SCENE-action":"Laitetaan teema","SCENE-condition":"teeman muutos","SCENE-condition2":"teema","TV-devices":"TV:t","TV-device":"TV","TV-types":"TV:tä","TV-action":"Laitetaan TV","TV-condition":"TV:n tilan muutos","TV-condition2":"TV:t","NOTIFICATION-devices":"Ilmoitukset","NOTIFICATION-device":"ilmoituksen vastaanottaja","NOTIFICATION-types":"Ilmoituksia","NOTIFICATION-action":"Lähetetään ilmoitus","NOTIFICATION-condition":"ilmoitus","NOTIFICATION-condition2":"ilmoituksen saapuminen","POWER_SOCKET-devices":"Sähköpistorasiat","POWER_SOCKET-device":"sähköpistorasia","POWER_SOCKET-types":"Pistorasioita","POWER_SOCKET-action":"Laitetaan pistorasia","POWER_SOCKET-condition":"pistorasian tilan muutos","POWER_SOCKET-condition2":"pistorasiat","MOTION-devices":"Liiketunnistimet","MOTION-device":"liiketunnistin","MOTION-types":"Liiketunnistimia","MOTION-action":"liikettä","MOTION-condition":"liiketunnistimen tilan muutos","MOTION-condition2":"liikettä","TEMPERATURE-devices":"Lämpömittarit","TEMPERATURE-device":"lämpömittari","TEMPERATURE-types":"Lämpömittareita","TEMPERATURE-action":"lämpötilamuutos","TEMPERATURE-condition":"lämpötilamuutos","TEMPERATURE-condition2":"lämpötilamuutos","HUMIDITY-devices":"Kosteusmittarit","HUMIDITY-device":"kosteusmittari","HUMIDITY-types":"Kosteusmittareita","HUMIDITY-action":"kosteusmuutos","HUMIDITY-condition":"kosteusmuutos","HUMIDITY-condition2":"kosteusmuutos","FIRE-devices":"Palohälyttimet","FIRE-device":"palohälytin","FIRE-types":"Palohälyttimiä","FIRE-action":"palohälytys","FIRE-condition":"palohälytys","FIRE-condition2":"palohälytys","PRESENCE-devices":"Puhelimet","PRESENCE-device":"puhelin","PRESENCE-types":"Läsnäolotunnistimia","PRESENCE-action":"läsnäolotiedon muutos","PRESENCE-condition":"havaitaan läsnäolotiedon muutos","PRESENCE-condition2":"puhelimia","TIMER-devices":"Ajastin","UI_DEVICE-devices":"Puhelimet","No rules for selected criterias":"Annetuilla valinnoilla ei löytynyt valmiita sääntöjä","WHAT SHOULD HAPPEN?":"MITÄ HALUAT TAPAHTUVAN?","What should happen?":"Mitä haluat tapahtuvan?","Send notification":"Lähetä notifikaatti","Enter message here":"Kirjoita lähetettävä viesti tähän","Use power socket":"Käytä pistorasiaa","Use lights":"Käytä valoja","Use music":"Käytä musiikkia","Use TV":"Käytä televisiota","Turn lights":"Laita valot","Turn music":"Laita musiikki","Turn TV":"Laita TV","Turn socket":"Laita pistorasia","Is home":"On kotona","Notification is":"Ilmoitus","Motion is":"Liikettä","Phone is":"Puhelin on","Alarm is":"Hälytys",On:"Päälle",Off:"Pois päältä",button:"painike",Detected:"Havaitaan","Not detected":"Ei havaita","Extra settings":"Lisäasetukset","Turn lights off in no movement for":"Laita valot pois päältä jos ei havaita liikettä","Blink lights when rule gets activated":"Vilkuta valoja kun sääntö aktivoituu","Blink lights randomly":"Vilkuta valoja satunnaisesti","Motion is detected":"Havaitaan liikettä","At specified time":"On tietty ajankohta","Add new time":"Lisää toinen ajankohta","Music is used":"Käytetään musiikkia","Music is turned":"Musiikki laitetaan","TV is used":"Käytetään TV","TV is turned":"TV laitetaan","Temperature changes":"Lämpötila muuttuu","Power socket is used":"Käytetään pistorasiaa","Power socket is switched":"Pistorasia laitetaan",Below:"Alle",Over:"Yli","When rule should be active":"Milloin haluat säännön olevan voimassa",Always:"Aina","Create Own Rule":"Luo oma sääntö","Create Own Rule Using":"Luo oma sääntö käyttäen","Name the rule":"Nimeä sääntö","Turn rule off in":"Laita sääntö pois seuraavan ajan kuluttua","Rule created":"Uusi sääntö luotu","Rule saved":"Sääntö talletettu","SCENES APPLIED":"LIITETYT TEEMAT","Add Rule":"Lisää sääntö","Edit Rule":"Muokkaa sääntöä","Edit Actions":"Muokkaa tapahtumia","Edit Conditions":"Muokkaa ehtoja","Edit Scenes":"Muokkaa teemoja","Device list failed":"Laitelistaus epäonnistui","Device update failed":"Laitteen tilan päivitys epäonnistui","Group update failed":"Ryhmän tilan päivitys epäonnistui","Device read failed":"Laitteen tilan lukeminen epäonnistui","Device remove from group failed":"Laitteen poistaminen ryhmästä epäonnistui","Making group failed":"Ryhmän luonti epäonnistui","Group on/off update failed":"Ryhmän päälle/pois asetus epäonnistui","Device on/off update failed":"Laitteen päälle/pois asetus epäonnistui","_device_ added to _group_":" '{device}' lisätty ryhmään '{group}' ","_device1_ not groupable with _device2_":" '{device1}'  ja '{device2}' eivät voi olla samassa ryhmässä","No rule found for _device1_  and _device2_":" Laitteille '{device1}' ja '{device2}' ei löytynyt sääntöä","Device remove failed":"Laitteen poisto epäonnistui","Scene read failed":"Teeman luku epäonnistui","Scene update failed":"Teeman päivitys epäonnistui","Preset remove failed":"Tilan poisto teemasta epäonnistui","Scene remove failed":"Teeman poisto epäonnistui","Scene rename failed":"Teeman nimeäminen epäonnistui","Scene timer failed":"Teeman ajastuksen asetus epäonnistui","Scene list failed":"Teemalistaus epäonnistui","Scene on/off update failed":"Teeman päälle/pois asetus epäonnistui","State remove failed":"Tilan poisto epäonnistui","State addition failed":"Tilan lisäys epäonnistui","Scene creation from state failed":"Teeman luonti tilasta epäonnistui","Rule creation failed":"Säännön luonti epäonnistui","Rule creation cancelled":"Säännön luonti peruttu","Rule list failed":"Sääntölistaus epäonnistui","Template list failed":"Sääntöjen listaus epäonnistui","Rule adding failed":"Säännön lisäys epäonnistui","Rule remove failed":"Säännön poisto epäonnistui","Rule read failed":"Sääntöjen luku epäonnistui","Rule saving failed":"Säännön talletus epäonnistui","Cloud connection failed":"Yhteys pilvipalvelimeen epäonnistui","HUB discovery failed":"HUB:n haku epäonnistui! Tarkista wi-fi yhteys.","HUB connection failed":"HUB yhteydessä ongelmia","Invalid PIN":"Tarkista PIN","Invalid HUB address":"Tarkista HUB osoite","Invalid HUB version":"Epäyhteensopiva HUB versio","No hub found - are you connected to correct network?":"Hubeja ei löydy - oletko yhteydessä verkkoon?","Connect to WIFI":"Yhdistä wi-fi verkkoon!",Register:"Rekisteröiminen",Login:"Kirjautuminen","Login with email":"Kirjaudu sähköpostiosoitteellasi",LOGOUT:"KIRJAUDU ULOS","Did you mean":"Tarkoititko","Activation mail sent":"Aktivointikoodi lähetetty","Invalid activation code or email":"Väärä sähköpostiosoite tai aktivointikoodi","Login by activation code sent to your email _email_":"Syötä sähköpostiisi '{email}' lähetetty aktivointikoodi","Register HUB _name_ ?":"Ota käyttösi uusi HUB '{name}' ?","Hub registration failed":"Hub käyttöönotto epäonnistui","Login failed":"Sisäänkirjautuminen epäonnistui","Logout failed":"Uloskirjautuminen epäonnistui","Access request failed":"Oikeuspyyntö epäonnistui","User management request failed":"Käyttäjien hallintapyyntö epäonnistui","Name changing failed":"Nimenmuutos epäonnistui","No access":"Ei oikeutta","Visitor has no remote access rights":"Vierailijalla ei ole etäkäyttöoikeuksia","Check application version":"Tarkista applikaatioversio","HUB version _version1_ is too new for your application _version2_":"HUB versio {version1} on liian uusi käytettäväksi tällä aplikaatioversiolla {version2}","Load new application":"Lataa uusi applikaatio!","Notification services not available":"Notifikaattipalvelut eivät ole käytössä","Application is now set to receive notifications":"Sovellus asetettu vastaanottamaan notifikaatioita","Application notifications disabled":"Notifikaatiot kyteketty pois käytöstä","You could select here":"Valitse",Select:"Valittu","Select all":"Valitse kaikki","All selected":"Kaikki laitteet","scene will be activated":"teema aktivoidaan","user will be notified":"käyttäjälle ilmoitetaan","ADD NEW RULE":"LISÄÄ SÄÄNTÖ","What would you like to control?":"Mitä sääntö sisältää?","FOUND RULES":"MAHDOLLISET SÄÄNNÖT","Suitable template not found":"Sopivia sääntöjä ei löytynyt","No state or rule in this scene":"Tässä Teemassa ei ole talletettuja tiloja tai sääntöjä","No state in this scene":"Tässä Teemassa ei ole talletettuja tiloja","Maximum amount for _name_ met":"Valinnan '{name}' maksimimäärää on jo täytetty","Minimum amount for _name_ not met":"Valinnan '{name}'  minimimäärää ei ole täytetty","Add new state or rule in devices view":"Lisää tila tai sääntö laite-näkymässä","Add new state in devices view":"Lisää tila laite-näkymässä","Add devices":"Lisää laitteita","Adding device by technology":"Teknologian mukaan","Adding device by manufacturer":"Valmistajan mukaan","Adding Hue Bulbs":"Philips Hue lamppuja","Adding Sonos play":"Sonos Play","Adding WeMo Bulbs":"Wemo Smart Led lamppu","Adding WeMo Switch":"Wemo pistorasia","Adding Nyce":"Nyce","Adding Osram":"Osram","Adding Hue Bridge":" Philips Hue Bridge","Adding Hue Bridge instructions 1":"Paina bridgen päällä olevaa painiketta","Adding Hue Bridge instructions 2":"Napsauta sen jälkeen allaolevaa painiketta.","Adding instructions last":"Kun Cozify on löytänyt uusia laitteita, ne ilmestyvät LAITTEET-näkymään.","Adding Zigbee devices":"Lisää Zigbee laitteita","Adding Zigbee instructions 1":"Kytke laite päälle HUBin läheisyydessä 60s sisällä.","Adding Wi-Fi devices":"Lisää WiFi laite","Adding Wi-Fi device instructions 1":"Asenna valmistajan oma aplikaatio puhelimeesi","Adding Wi-Fi device instructions 2":"Liitä laite valmistajan aplikaatiota käyttäen samaan Wi-Fi-verkkoon, jossa HUB on","Adding _name_ devices":"Lisää {name} laitteita","Search again":"Etsi uudestaan","Select device type":"Valitse laitteen tyyppi","Select 433 MHz device manufacturer":"Valitse 433 MHz laitteen valmistaja","Select 433 MHz device type":"Valitse 433 MHz laitteen tyyppi","Unknown 433 Mhz device type":"Tuntematon 433 Mhz laitetyyppi","Adding 433 MHz":"Lisää 433 MHz laitteita","Adding 433 MHz socket instructions 1_1":"Liitä pistorasia verkkovirtaan","Adding 433 MHz socket instructions 1_2":"Paina 3s pistorasian ohjelmointipainiketta","Adding 433 MHz socket instructions 1_3":"Kun pistorasian valo alkaa vilkkumaan, paina allaolevaa OK-nappia 10 sekunnin sisällä","Adding 433 MHz socket instructions 2_1":"Kun pistorasian valon vilkkuminen loppuu, tarkista että pistorasian ilmestyy LAITTEET-näkymään","Adding 433 MHz multi sensor instructions 1_0":"HUOM! Jos sinulla on enemmän kuin yksi mittari, sinun täytyy vaihtaa lähettävää kanavaa ohjeiden mukaisesti ennen paristojen lisäämistä. Jokaisen mittarin täytyy lähettää omalla kanavallaan. Valittavia kanavia on kahdeksan, ja mittarit on esiasetettu kanavalle 1.","Adding 433 MHz multi sensor instructions 1_1":"Laita mittari päälle liittämällä paristo","Adding 433 MHz multi sensor instructions 1_2":"Odota 10 min","Adding 433 MHz multi sensor instructions 1_3":"Paina OK-painiketta alla ja tarkista, että mittari ilmestyy LAITTEET-näkymään","Adding 433 MHz rc instructions 1_1":"Poista kaukosäätimen pariston muoviliuska ja ota kaukosäädin käteesi HUB:in läheisyydessä","Adding 433 MHz rc instructions 1_2":"Paina allaolevaa OK-nappia","Adding 433 MHz rc instructions 2_1":"Paina pitkään jotakin kaukosäätimen on painiketta 10 sekunnin sisällä","Adding 433 MHz rc instructions 2_2":"Paina OK-painiketta alla ja tarkista, että kaukosäädin ilmestyy LAITTEET-näkymään","Adding 433 MHz rc nexa instructions 1_1":"Ota kaukosäädin käteesi HUB:in läheisyydessä","Adding 433 MHz rc nexa instructions 1_2":"Paina allaolevaa OK-nappia","Adding 433 MHz rc nexa instructions 2_1":"Paina pitkään jotakin kaukosäätimen on painiketta 10 sekunnin sisällä","Adding 433 MHz rc nexa instructions 2_2":"Paina OK-painiketta alla ja tarkista, että kaukosäädin ilmestyy LAITTEET-näkymään","Adding 433 MHz wallswitch instructions 1_1":"Ota seinkäkatkaisin käteesi HUB:in läheisyydessä","Adding 433 MHz wallswitch instructions 1_2":"Paina allaolevaa OK-nappia","Adding 433 MHz wallswitch instructions 2_1":'Paina seinkäkatkaisimen kytkin "PÄÄLLE"-asentoon 10 sekunnin sisällä',"Adding 433 MHz wallswitch instructions 2_2":"Paina OK-painiketta alla ja tarkista, että seinäkatkaisin ilmestyy LAITTEET-näkymään","Adding 433 MHz doorbell instructions 1_1":"Poista ovikellon pariston muoviliuska ja ota ovikello käteesi HUB:in läheisyydessä","Adding 433 MHz doorbell instructions 1_2":"Paina allaolevaa OK-nappia","Adding 433 MHz doorbell instructions 2_1":"Paina pitkään ovikellon painiketta 10 sekunnin sisällä","Adding 433 MHz doorbell instructions 2_2":"Paina OK-painiketta alla ja tarkista, että ovikello ilmestyy LAITTEET-näkymään","Adding 433 MHz motion instructions 1_1":"Valmistele tunnistin sen ohjeiden mukaisesti esim. liittämällä paristo ja tuo se HUBin läheisyyteen","Adding 433 MHz motion instructions 1_2":"Paina allaolevaa OK-nappia kun tunnistin on valmis","Adding 433 MHz motion instructions 2_1":"Heiluta kättä laitteen edessä 10 sekunnin sisällä kunnes tunnistimen merkkivalo välkkyy","Adding 433 MHz motion nexa instructions 2_1":'Aseta oppimis/virityskytkin "SET"-asentoon.',"Adding 433 MHz motion instructions 2_2":"Paina OK-painiketta alla ja tarkista, että tunnistin ilmestyy LAITTEET-näkymään","Adding 433 MHz motion instructions 2_3":"Asenna tunnistin paikalleen","Adding 433 MHz contact instructions 1_1":"Valmistele tunnistin sen ohjeiden mukaisesti esim. liittämällä paristo ja tuo se HUBin läheisyyteen ","Adding 433 MHz contact instructions 1_2":"Paina allaolevaa OK-nappia kun tunnistin on valmis","Adding 433 MHz contact instructions 2_1":"Paina 10 sekunnin sisällä tunnistimessa olevaa painiketta","Adding 433 MHz contact instructions 2_2":"Paina OK-painiketta alla ja tarkista, että tunnistin ilmestyy LAITTEET-näkymään","Adding 433 MHz contact instructions 2_3":"Asenna tunnistin paikalleen","Adding 433 MHz twilight instructions 1_1":"Valmistele tunnistin sen ohjeiden mukaisesti esim. liittämällä paristo ja tuo se HUBin läheisyyteen ","Adding 433 MHz twilight instructions 1_2":"Paina allaolevaa OK-nappia kun tunnistin on valmis","Adding 433 MHz twilight instructions 2_1":'Paina 10 sekunnin sisällä tunnistimessa olevaa "START"-painiketta',"Adding 433 MHz twilight instructions 2_2":"Paina OK-painiketta alla ja tarkista, että tunnistin ilmestyy LAITTEET-näkymään","Adding 433 MHz twilight instructions 2_3":"Asenna tunnistin paikalleen","Proove temperature":"Proove lämpömittari","Proove multisensor":"Proove monitoimimittari","433 Device list failed":"433 MHz laitteiden listaus epäonnistui","433 Device pairing failed":"433 MHz laitteen paritus epäonnistui","Device or scene to be controlled":"Ohjattava laite tai teema","Button pressed":"Painike painettu","Turn _name_ on":"Laita {name} päälle!","ADD NOW":"LISÄÄ NYT","SEARCH DEVICES":"ETSI LAITTEITA","CONNECT IN NEXT":"LIITÄ ",SECONDS:"SEKUNNIN SISÄLLÄ","Add zigbee devices in _time_ seconds":"Kytke uudet zigbee laitteesi päälle {time} sekunnissa","Device connection time ended":"Laitteiden liittämisaika on päättynyt","Adding new devices failed":"Uuden laitteen lisääminen epäonnistui","Give mobile number with country prefix for notifications":"Syötä matkapuhelinnumero maatunnuksella notifikaatteja varten","Return ignored devices":"Palauta käytöstä poistetut laitteet","RETURN IGNORED DEVICES":"PALAUTA POISTETUT","Return ignored devices instructions":"Palauttamalla käytöstä poistetut laitteet ne tulevat jälleen näkyviin laitelistauksiin","Ignored devices returned":"Poistetut laitteet palautettu ja näkyvät pian laitelistassa","Search phrase":"Hakusana","Search failed":"Haku epäonnistui","No search results":"Ei hakutuloksia","SEARCH NEW":"UUSI HAKU","Add To Scenes":"Lisää teemoihin","Are you sure?":"Oletko varma?","Yes!":"Kyllä!",No:"Ei",Enter:"Syötä","Please provide something!":"Ole hyvä ja syötä jotakin!","Ups!":"Hups!",Ok:"Ok",Cancel:"Peruuta","Ignore _device_ ?":"Haluatko varmasti poistaa käytöstä laitteen '{device}' ?","Are you sure to logout?":"Haluatko varmasti uloskirjautua?","When on standby mode, mobile device may cut the WiFi connection, thus informing infrequently its presence to the hub.":"Virransäästötilassa oleva puhelin tai taulutietokone saattaa katkaista WiFi-verkkoyhteyden, jolloin HUB ei tiedä puhelimen sijaintia.","In case of unnecessary notifications, increase the device detection timeout.":"Jos HUB lähettää turhia ilmoituksia, kasvata poissaolon huomiointiaikaa.","Last device detection time":"Laite havaittu viimeksi","away treshold":"poissaolon huomiointiaika","Away treshold":"Poissaolon huomiointiaika",HUB:"HUBI",ACCOUNT:"TUNNUS","HUB SETTINGS":"HUB ASETUKSET","HUB NAME":"HUBIN NIMI",TIMEZONE:"AIKAVYÖHYKE","MY SETTINGS":"OMAT ASETUKSET","e.g.":"esim.",EMAIL:"SÄHKÖPOSTIOSOITE",NICKNAME:"NIMIMERKKI",MOBILE:"MOBIILINUMERO",Nickname:"Nimimerkkisi","Email address":"Sähköpostiosoitteesi",Mobile:"Mobiilinumerosi","User information request failed":"Käyttäjätietojen haku epäonnistui","Saving user information failed":"Käyttäjätietojen tallennus epäonnistui","User data changed":"Käyttäjätiedot talletettu",you:"sinä","Hub name changed":"HUBin nimi muutettu","Hub timezone changed":"HUBin aikavyöhyke muutettu","Filter Devices By Type":"Valitse näytettävät laitteet","Select Timezone":"Valitse aikavyöhyke",City:"Kaupunki","Search capitals":"Etsi pääkaupungin mukaan","ADVANCED SETTINGS":"LISÄASETUKSET","ZIGBEE CONNECTION":"ZIGBEE YHTEYS","Connection settings of Zigbee":"Zigbee yhteysasetukset",Firmware:"Firmware",Status:"Status",Failure:"Vikatilanne","Are you sure to change channel?":"Kanavan vaihto voi vaatia joidenkin Zigbee laitteiden uudelleen liittämistä! Oletko varma, että haluat vaihtaa kanavan?","Zigbee channel":"Kanava","Zigbee channel selection started":"Zigbee channel selection started","Zigbee power":"Lähetysteho",Normal:"Normaali",Increased:"Parannettu",High:"Korkea","Zigbee settings changed":"Zigbee yhteysasetukset muutettu","Zigbee settings failed":"Zigbee yhteysasetuksien talletus epäonnistui","Video load failed":"Videon lataaminen epäonnistui, yritä uudestaan","Video stream opened":"Video lataantuu","USER RULES":"KÄYTTÄJÄN OMAT SÄÄNNÖT","ADD USER RULE":"LISÄÄ OMA SÄÄNTÖ","Customer rule saved":"Oma sääntö talletettu","Customer rule read failed":"Oman säännön lukemisessa tapahtui virhe","Customer rule save failed":"Oman säännön tallettamisessa tapahtui virhe","Customer rule removed":"Oman sääntö poistettu","Customer rule remove failed":"Oman säännön poistamisessa tapahtui virhe",ROOM:"HUONE",ROOMS:"HUONEET","ROOM NAME":"HUONEEN NIMI","CREATE NEW ROOM":"LUO UUSI HUONE","DELETE ROOM":"POISTA HUONE","Are you sure to delete room?":"Haluatko varmasti poistaa huoneen?","No specific room":"Huone määrittämättä","Room request failed":"Huoneen toiminto epäonnistui","Room remove failed":"Huoneen poisto epäonnistui","Show rooms":"Näytä huoneittain","See documentation":"Dokumentaatio...","Show log":"Näytä logi"}
}),require.register("i18n/i18n-srv.js",function(e,t){var n,i,r,s,o=[].slice,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};i=window.lodash,r=function(){var e,t,n,i,r,s,a,l;t=arguments[0],r=2<=arguments.length?o.call(arguments,1):[],String.prototype.template=function(e){return this.replace(/{([^{}]*)}/g,function(t,n){var i;return i=e[n],"string"==typeof i||"number"==typeof i?i:t})};try{if(n=this.language||localStorage.getItem("language"),s=void 0,n&&t&&this.languages[n]&&(s=this.languages[n][t]),s){for(a=0,l=r.length;l>a;a++)i=r[a],s=s.template(i);return s}return this.log.error("Missing key '"+t+"' for language '"+this.language+"' not found"),this.languages[n][t]=t,t}catch(c){return e=c,this.log.error("Catch missing key '"+t+"'' for language '"+this.language+"'' not found"),this.languages[n][t]=t,t}},s=function(){var e,t,n,i,r,s,a,l,c,u;for(t=arguments[0],s=2<=arguments.length?o.call(arguments,1):[],n=this.language||localStorage.getItem("language"),a="",c=0,u=s.length;u>c;c++){r=s[c];for(i in r)l=r[i],a+=i+l}return e=n+t+a},n=function(){function e(e,t,n,i){var r,s,o;this.rootScope=e,this.log=t,this.locale=n,this.filter=i,s=void 0,r=localStorage.getItem("language"),("undefined"!=typeof window&&null!==window&&null!=(o=window.plugins)?o.speechrecognizer:void 0)?window.plugins.speechrecognizer.getSupportedLanguages(function(e){return function(t){return a.call(t,"fi-FI")>=0&&a.call(t,"en-GB")>=0?(e.speechRecognizer=t,e.rootScope.$emit("SPEECH_RECOGNIZER_READY",{languages:t})):void 0}}(this),function(e){return function(t){return e.log.error("i18nSrv constructor()  Could not retrieve the supported languages : ",t)}}(this)):this.log.debug("i18nSrv constructor() no window?.plugins?.speechrecognizer"),r?(s=r,this.log.debug("Language from cookie ",r)):(("undefined"!=typeof navigator&&null!==navigator?navigator.userLanguage:void 0)?s=navigator.userLanguage:("undefined"!=typeof navigator&&null!==navigator?navigator.language:void 0)&&(s=navigator.language),s=s?String(s).substring(0,2):this.DEFAULT_LANG),this.changeLanguageTo(s)}return e.prototype.languages={en:t("./en/en-GB"),fi:t("./fi/fi-FI")},e.prototype.speechRecognizer=[],e.prototype.DEFAULT_LANG="fi",e.prototype.language=e.DEFAULT_LANG,e.prototype.changeLanguageTo=function(e){var n,i,r;return e in this.languages?(this.language=e,localStorage.setItem("language",this.language),t("./"+e+"/angular-locale"),i=angular.injector(["ngLocale"]),n=i.get("$locale"),r=function(e,t){return angular.forEach(t,function(n,i){return angular.isArray(t[i])||angular.isObject(t[i])?r(e[i],t[i]):e[i]=t[i]})},r(this.locale,n),this.rootScope.$emit("LANGUAGE_UPDATED",{language:e})):(this.language=this.DEFAULT_LANG,localStorage.setItem("language",this.language)),this.language},e.prototype.translate=i.memoize(r,s),e.prototype.tr=function(){var e,t;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],i.isEmpty(e)?e:" "===e?e:this.translate.apply(this,[e].concat(o.call(t)))},e.prototype.getShortDays=function(){var e,t;return t=this.locale.DATETIME_FORMATS.SHORTDAY,t=function(){var n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(e);return r}()},e.prototype.getDays=function(){var e,t;return t=this.locale.DATETIME_FORMATS.DAY,t=function(){var n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(e[0].toUpperCase()+e.slice(1).toLowerCase());return r}()},e.prototype.localizedHour=function(e){var t,n,i,r;return r=new Date((new Date).toDateString()+" "+e+":0"),i=this.locale.DATETIME_FORMATS.shortTime.slice(0,1),"a"===this.locale.DATETIME_FORMATS.shortTime.slice(-1)&&(i+=" a"),t=this.filter("date")(r,i),n=t.split(" "),n[0].length<=1&&(t="0"+t),t},e.prototype.get24hFormat=function(e){var t,n,r;return-1!==e.indexOf(" ")?(n=e.split(" "),i.isArray(n)&&n[0]&&n[1]&&(e=n[0]+":0 "+n[1])):e+=":0",r=new Date((new Date).toDateString()+" "+e),t=this.filter("date")(r,"HH")},e.prototype.localizedMin=function(e){var t,n;return n=new Date((new Date).toDateString()+" 0:"+e),t=this.filter("date")(n,"mm"),t.length<=1&&(t="0"+t),t},e.prototype.localizedTime=function(e){var t,n,r,s;return t="00:00",s=new Date((new Date).toDateString()+" "+e),n=this.filter("date")(s,this.locale.DATETIME_FORMATS.shortTime),n&&(t=n),r=void 0,-1!==t.indexOf(":")?r=t.split(":"):-1!==t.indexOf(".")&&(r=t.split(".")),i.isArray(r)&&r[0]&&r[1]&&r[0].length<=1&&(t="0"+t),t},e}(),angular.module("appSrvs").factory("i18nSrv",["$rootScope","$log","$locale","$filter",function(e,t,i,r){return new n(e,t,i,r)}])}),require.register("i18n/i18n-fltr.js",function(e,t,n){var i;t("./i18n-srv"),i=function(e,t){return function(e,n,i,r,s){var o,a,l,c,u,d;if(e){if(d="",c={},n)if(u=n.split(","),1===u.length&&i)c[n]=i,r&&s&&(c[r]=s);else for(c={},l=u.length,o=0;l--;)a=u[o].split("="),"var"===a[0]?c[a[1]]=a[0]:c[a[0]]="count"===a[0]?Number(a[1]):a[1],o++;return d=t.tr(e,c)}}},n.exports=angular.module("appFltrs",["appSrvs"]).filter("tr",["$log","i18nSrv",i])}),require.register("preferences/template-connect.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row t-margin-S"><div ng-include="\'/template-hub-pin.tpl.html\'"></div></div></div></form>'),e.join("")}}),require.register("preferences/template-features.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="align-middle"><div class="row simple-list"><div ng-repeat="(featureId, feature) in features" class="small-12 columns end"><div ng-if="feature.type == &quot;radio&quot;" class="row"><div class="small-12 columns"><label class="small-label">{{feature.label}}: {{feature.value}}</label></div><div class="small-12 columns t-margin-S"><a ng-repeat="option in feature.options" ng-class="{off:feature.value!=option.value}" co-tap="setFeature(featureId, option.value)" class="button tiny groupped">{{option.label}}</a></div></div><hr/></div></div></div><div class="row">{{feature}}</div></div></form>'),e.join("")}}),require.register("preferences/template-owner.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form novalidate="novalidate" class="css-form"><div class="content"><div class="align-middle"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'EMAIL\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="email" required="required" ng-model="myself.email" placeholder="{{&quot;Email address&quot;|tr}}" class="text-center"/></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'NICKNAME\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" ng-model="myself.nickname" placeholder="{{&quot;Nickname&quot;|tr}}" required="required" class="text-center"/></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'MOBILE\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><div class="row collapse"><div class="small-2 columns"><input type="text" disabled="disabled" readonly="true" value="+" class="text-center"/></div><div class="small-3 columns"><input type="text" ng-model="myself.code" required="required" class="text-center"/></div><div class="small-7 columns"><input type="text" ng-model="myself.phone" placeholder="{{&quot;Mobile&quot;|tr}}" required="required" class="text-left"/></div></div></div></div><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="ownerDetailsDone()" class="full-width">{{\'DONE\'|tr}}</button></div></div><div class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="logout()" class="full-width">{{\'LOGOUT\'|tr}}</button></div></div></div></div></form>'),e.join("")}}),require.register("preferences/template-rooms.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view"><div ng-if="ui.mode==MODE.LIST" class="content"><div class="align-middle t-margin-S-iOS"><div as-sortable="dragControlListeners" data-ng-model="rooms" class="row simple-list action-list top"><div ng-repeat="room in rooms" ng-if="room.id" as-sortable-item="as-sortable-item" class="small-12 columns end"><div co-tap="openRoom(room)" class="row valign-middle icon-action-header"><div class="small-2 columns"><i class="con left"><div class="icon icon-room"></div></i></div><div as-sortable-item-handle="as-sortable-item-handle" class="small-8 columns"><div class="icon-center-line data"><span>{{room.name}}</span></div></div><div class="small-2 columns"><i class="con arrow"><div class="icon icon-cornerarrow"></div></i></div></div></div></div></div></div><div ng-if="ui.mode==MODE.SET" class="content"><div class="top-section"><div class="row t-margin-XL"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="small text-center">{{\'ROOM NAME\'|tr}}</label></div></div><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" ng-model="ui.roomName" co-focus="co-focus" ng-change="changeRoom()" class="text-center"/></div></div><div class="row"><div ng-if="ui.changed" class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="setRoom()" ng-class="{spin:ui.saveBusy}" class="row-button success">{{ui.saveButtonText}}</button></div></div></div><div class="bottom-section separator"><div ng-if="ui.selectedRoom.id" class="row"><div class="small-12 medium-6 medium-centered columns l-padding-0 r-padding-0"><button type="submit" ng-click="removeRoom()" ng-class="{spin:ui.deleteBusy}" class="row-button alert">{{ui.deleteButtonText}}</button></div></div></div></div></form>'),e.join("")}}),require.register("preferences/template-user.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view"><div class="content"><div class="align-middle"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><h2 ng-if="!selected.id">{{\'Add user\'|tr}}</h2><h2 ng-if="selected.id">{{selectedEmail}}</h2></div></div><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="text-center">{{\'ROLE\'|tr}}</label><div co-roller="true" co-selection="selectedRole" co-roller-list="roleNames"></div></div></div><div ng-if="selected.id" class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="detailsDone(selectedRole)" class="full-width">{{\'DONE\'|tr}}</button></div></div><div ng-if="selected.id" class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="revoke(selectedEmail)" class="full-width">{{\'REVOKE ALL\'|tr}}</button></div></div></div></div></form>'),e.join("")}}),require.register("preferences/template-hub-pin.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"></div></div>'),e.join("")}}),require.register("preferences/template-preferences.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form novalidate="novalidate" class="main-view css-form"><div class="content"><div class="align-middle"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'EMAIL\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="email" required="required" ng-model="myself.email" placeholder="{{&quot;Email address&quot;|tr}}" class="text-center"/></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'NICKNAME\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" ng-model="myself.nickname" placeholder="{{&quot;Nickname&quot;|tr}}" required="required" class="text-center"/></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'MOBILE\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><div class="row collapse"><div class="small-2 columns"><input type="text" disabled="disabled" readonly="true" value="+" class="text-center"/></div><div class="small-3 columns"><input type="text" ng-model="myself.code" required="required" class="text-center"/></div><div class="small-7 columns"><input type="text" ng-model="myself.phone" placeholder="{{&quot;Mobile&quot;|tr}}" required="required" class="text-left"/></div></div></div></div><div ng-controller="PreferencesCtrl" class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="top">{{\'LANGUAGE\'|tr}}</label><div co-roller="true" co-selection="selectedLanguage" co-roller-list="getLanguages()"></div></div></div><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="ownerDetailsDone()" class="full-width">{{\'DONE\'|tr}}</button></div></div><div class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="button" co-tap="logout()" class="full-width">{{\'LOGOUT\'|tr}}</button></div></div></div></div></form><div ng-include="\'/template-features.tpl.html\'" ng-controller="FeaturesCtrl" ng-if="menu.modalPage==&quot;Features&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("preferences/template-welcome.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="text-center med-horiz-padding">{{\'SELECT\'|tr}} {{\'LANGUAGE\'|tr}}:</label><div co-roller="true" co-selection="selectedLanguage" co-roller-list="getLanguages()"></div></div></div><div class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="languageDone()" class="full-width bottom">{{\'DONE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("preferences/index.js",function(e,t){var n,i,r,s;t("./srv"),t("./srv-rooms"),i=t("./ctrl"),n=t("./ctrl-features"),s=t("./ctrl-users"),r=t("./ctrl-rooms"),angular.module("appCtrls").controller("PreferencesCtrl",["$rootScope","$scope","$state","$timeout","$log","ConnectSrv","DevicesSrv","i18nSrv",i]).controller("FeaturesCtrl",["$rootScope","$scope","$state","$timeout","$log","PreferencesSrv","i18nSrv",n]).controller("UsersCtrl",["$rootScope","$scope","$state","$stateParams","$timeout","$interval","$log","ConnectSrv","PreferencesSrv","i18nSrv",s]).controller("RoomsCtrl",["$rootScope","$scope","$state","$stateParams","$timeout","$interval","$log","RoomsSrv","i18nSrv",r])}),require.register("preferences/ctrl.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l){var c,u,d,m;return s.debug("SETTINGS INIT "),c={fi:"Suomeksi",en:"In English"},t.ui={},d=function(){var e;return e=localStorage.getItem("languageSet"),(null===e||"null"===e||"false"===e||i.isEmpty(e))&&(e=!1,localStorage.setItem("languageSet",!1)),t.ui.languageSet=e,s.debug("Prefernces Ctrl: From localStorage: ",t.ui)},d(),t.getLanguages=function(){var e,t;return function(){var n;n=[];for(e in c)t=c[e],n.push(t);return n}()},t.currentLanguage=l.language,t.selectedLanguage=c[l.language],t.languageDone=function(){return localStorage.setItem("languageSet",!0),e.selectedLanguage=l.language,e.menu&&(e.menu.title.offcanvas=l.tr("SETTINGS"),e.menu.title.devices=l.tr("DEVICES"),e.menu.title.scenes=l.tr("SCENES")),e.$emit("LANGUAGE_SET")},m=function(e,n){var i,o,a;if(e!==n&&e){a=[];for(i in c){if(o=c[i],o===e){localStorage.setItem("languageSet",!0),s.debug("settingsCtrl watch 'language': Change detected "+n+" -> "+e+" device"),r(function(){return l.changeLanguageTo(i),t.languageDone()},100);break}a.push(void 0)}return a}},t.$watch("selectedLanguage",m),t.reset=function(){return localStorage.clear(),o.reConnectHub()},u=e.$on("LANGUAGE_UPDATED",function(){return s.debug("PreferencesCtrl: language changed event")}),t.$on("$destroy",function(){return u()})}}),require.register("preferences/ctrl-rooms.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l,c){var u,d,m;return t.rooms=[],l.getRooms().then(function(e){return t.rooms=e},function(){return e.alert(c.tr("Room request failed"))}),t.MODE={LIST:"list",SET:"set"},t.goRooms=function(){var t;return"c.home.rooms"===(t=n.current.name)?e.$emit("HEADER_PAGE",{show:!0,title:c.tr("ROOMS"),add:!0}):void 0},t.init=function(){var e;return t.ui={mode:t.MODE.LIST,selectedRoom:void 0,changed:!1,saveBusy:!1,saveButtonText:c.tr("SAVE"),deleteBusy:!1,deleteButtonText:c.tr("DELETE ROOM")},"c.home.devices-detail"===(e=n.current.name)||"c.home.devices-name"===e?t.ui.mode=t.MODE.SET:void 0},t.init(),t.goRooms(),t.selectRoom=function(n){var i,r,s,o,a,u,d;for(r="Select room",i=[],l.lastDeviceRoom=n,d=t.rooms,a=0,u=d.length;u>a;a++)s=d[a],o=!1,s.id===(null!=n?n.id:void 0)&&(o=!0),i.push({id:s.id,name:s.name,selected:o});return e.modalList("Select room",i,c.tr("CREATE NEW ROOM"),function(t){return"new"===t?e.showModal("ShowAddRooms","CREATE NEW ROOM"):(null!=t?t.id:void 0)||0===(null!=t?t.id:void 0)?e.$emit("ROOM_ATTACHED",{room:t}):void 0})},t.changeRoom=function(){return t.ui.changed=i.isEmpty(t.ui.roomName)?!1:!0},t.openAddRoom=function(){return t.ui.mode=t.MODE.SET,e.$emit("HEADER_PAGE",{show:!0,mode:"modal-kind",title:c.tr("CREATE NEW ROOM"),previous:function(){return t.init(),t.goRooms()}})},t.dragControlListeners={accept:function(){return!0},itemMoved:function(){},orderChanged:function(t){var n,i,r,s,o,a;for(r=[],a=t.source.sortableScope.modelValue,n=s=0,o=a.length;o>s;n=++s)i=a[n],n>0&&(i.order=n-1,r.push(i));return l.setOrder(r).then(function(){return e.notifyOk("Saved",!0,1e3)})},clone:!1},t.openRoom=function(n){var i;return t.ui.selectedRoom=n,t.ui.roomName=null!=(i=n.name)?i:"",t.ui.mode=t.MODE.SET,e.$emit("HEADER_PAGE",{show:!0,title:t.ui.roomName,previous:function(){return t.init(),t.goRooms()}})},t.setRoom=function(){var i;return t.ui.saveBusy=!0,t.ui.saveButtonText=c.tr("SAVING")+"...",i=t.ui.selectedRoom||{},i.name=t.ui.roomName,l.setRoom(i).then(function(i){var r;return t.ui.selectedRoom=i,"c.home.devices-detail"===(r=n.current.name)||"c.home.devices-name"===r?(e.closeModal(),t.init()):(t.init(),t.goRooms())},function(){return e.alert(c.tr("Room request failed"))})},t.removeRoom=function(){var n;if(t.ui.selectedRoom)return n=c.tr("Are you sure to delete room?"),e.modalConfirm(n,function(n){return n?(t.ui.deleteBusy=!0,t.ui.deleteButtonText=c.tr("DELETING")+"...",l.removeRoom(t.ui.selectedRoom).then(function(){return t.init(),t.goRooms()},function(){return e.alert(c.tr("Room remove failed"))})):void 0})},m=e.$on("ROOMS_LIST_CHANGED",function(e,n){var i;return i=n.rooms,i?t.rooms=i:void 0}),u=e.$on("HEADER_ADD_ACTION",function(){return t.openAddRoom()}),d=e.$on("HEADER_MODAL_CLOSE",function(){return t.ui.selectedRoom?e.$emit("ROOM_ATTACHED",{room:t.ui.selectedRoom}):t.selectRoom(l.lastDeviceRoom)}),t.$on("$destroy",function(){return m(),u(),d()})}}),require.register("preferences/ctrl-users.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,i,r,s,o,a,l,c){var u,d,m,p;return o.debug("Users control init"),t.users=[],t.selected=void 0,t.selectedRole=void 0,t.me={email:localStorage.getItem("email"),code:"358",phone:"",nickname:"",roleName:null!=(p=e.selectedHub)?p.roleName:void 0},t.invalid={code:!1,phone:!1},t.roleNames=function(){var e,t,n,i;for(n=a.roleNames,i=[],e=0,t=n.length;t>e;e++)u=n[e],i.push(c.tr(u));return i}(),m=function(){return a.listUsers().then(function(n){var r,s,u,d,m,p,f,v,h;for(m in n)d=n[m],r=d.user_info||d.userInfo,t.me.email===r.user.email?l.getUser(t.me,a.CLOUD_URL).then(function(e){var n,i,r;return t.myself=e,(null!=(i=e.phone)?i[0]:void 0)&&("+"===(null!=(r=e.phone)?r[0]:void 0)&&(e.phone=e.phone.slice(1)),n=l.getCountryCodeOutOfMobile(e.phone),n.code&&n.phone)?(t.myself.code=n.code,t.myself.phone=n.phone):void 0}):t.users.push({id:m,email:r.user.email,roleName:a.roleNameOf(c,r.role)});if(i.userId){for(v=t.users,p=0,f=v.length;f>p;p++)u=v[p],u.id===a.selectedUserId&&(t.selected=u);return t.selectedEmail=t.selected.email,t.selectedRole=t.selected.roleName,o.info("CtrlUsers details: Selected user is ",t.selected),e.offcanvas=!0,e.noSwipe=!0,s=t.selectedEmail,(null!=(h=t.selectedEmail)?h.length:void 0)>15&&(s=t.selectedEmail.slice(0,16)+"..."),e.$emit("HEADER_PAGE",{show:!0,title:s,previous:e.gotoHubSettings})}})},m(),t.userDetails=function(e){return a.selectedUserId=e,n.go("c.home.user",{userId:e})},t.revoke=function(t){return a.revokeUser(t).then(function(){var n;return n=c.tr("User _email_ access revoked",{email:t}),e.notify(n,!1),e.closeModal()},function(){return e.closeModal()})},t.detailsDone=function(n){return a.updateUser(t.selectedEmail,n).then(function(){return e.notify("User data changed",!0),r(function(){return e.gotoHubSettings()},500)})},t.showAdmin=function(){return e.showModal("Admin","Admin")},t.ownerDetailsDone=function(){var n,i;return t.myself.phone?(n=l.getCountryCodeOutOfMobile(t.myself.code+t.myself.phone),n.code&&n.phone?(i=angular.copy(t.myself),"358"===n.code&&"0"===n.phone[0]&&(n.phone=n.phone.slice(1)),i.phone="+"+n.code+n.phone,l.setUser(i,a.CLOUD_URL).then(function(){return e.notify("User data changed",!0),r(function(){return e.toggleMenu()},500)})):(t.invalid.phone=!0,t.invalid.code=!0)):void 0},d=e.$on("HEADER_MODAL_CLOSE",function(){return t.users=[],m()}),t.logout=a.logout,t.$on("$destroy",function(){return d()})}}),require.register("preferences/ctrl-features.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,i,r,s){return r.debug("Features control init"),t.features=s.getFeatures(),t.setFeature=s.setFeature}}),require.register("preferences/srv-helpers.js",function(e,t,n){var i,r,s,o,a,l,c,u,d;i=window.lodash,a=void 0,s={DEMO:"demoMode",ON:"on",OFF:"off"},r={demoMode:{label:"Demo mode",value:"off",options:[{label:"On",value:"on"},{label:"Off",value:"off"}],type:"radio",cb:function(){return location.reload()}}},c=function(){var e,t,n;if(!a&&(n=localStorage.getItem("features"),i.isObject(n)||(n=JSON.parse(n)),a=r,n))for(t in n)e=n[t],a[t]&&(a[t].value=e.value);return a},d=function(e,t){var n,i,s,o;if(a||c(),e&&t&&a){a[e].value=t,s={};for(i in a)n=a[i],s[i]={value:t};if(localStorage.features=JSON.stringify(s),null!=(o=r[e])?o.cb:void 0)return r[e].cb()}},l=function(e,t){var n;return a||c(),(null!=a&&null!=(n=a[e])?n.value:void 0)||t||void 0},u=function(e){return l(e)===s.ON},o={1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],379:["VA"],380:["UA"],381:["RS"],382:["ME"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"]},n.exports={FEATURES:s,getFeatures:c,setFeature:d,isFeatureOn:u,getFeatureValue:l,countryCodeForMobile:o,getCountryCodeOutOfMobile:function(e){var t,n,i;i={code:void 0,phone:void 0,country:void 0};for(n in o)if(t=o[n],e.slice(0,n.length)===n){i.code=n,i.phone=e.slice(n.length),i.country=t;break}return i}}}),require.register("preferences/srv.js",function(e,t){var n,i,r;r=window.lodash,n=t("./srv-helpers"),i=function(e,t,i,r){var s,o;return s=function(n,s){var o;return o=r.defer(),(null!=n?n.email:void 0)&&i({method:"GET",url:s+("user?email="+n.email)}).success(function(e,n){return t.debug("preferencesSrv _getUser: Ok "+n+", data: ",e),o.resolve(e)}).error(function(n,i){return e.alert("User information request failed",i,!0),t.error("preferencesSrv _getUser: Error "+i+", data: ",n),o.reject(i)}),o.promise},o=function(n,s){var o;return o=r.defer(),(null!=n?n.email:void 0)&&(n.type="USER",i({method:"PUT",url:s+"user/update",data:n}).success(function(e,n){return t.debug("preferencesSrv _setUser: Ok "+n+", data: ",e),o.resolve(e)}).error(function(n,i){return e.alert("Saving user information failed",i,!0),t.error("preferencesSrv _setUser: Error "+i+", data: ",n),o.reject(i)})),o.promise},{FEATURES:n.FEATURES,getFeatures:n.getFeatures,setFeature:n.setFeature,getFeatureValue:n.getFeatureValue,isFeatureOn:n.isFeatureOn,getCountryCodeOutOfMobile:n.getCountryCodeOutOfMobile,getUser:s,setUser:o}},angular.module("appSrvs").factory("PreferencesSrv",["$rootScope","$log","$http","$q","$timeout",i])}),require.register("preferences/srv-rooms.js",function(){var e,t;t=window.lodash,e=function(e,n,i,r,s,o,a){var l,c,u,d,m,p,f,v;return p={},c=o.getHUBAddress(),u=function(e){return e.name.fi&&(e.name=e.name.fi),e},e.$on("HUB_ROOMS_CHANGED",function(i,r){var s,o,l,c;if("yes"===(null!=r?r.reset:void 0)&&(p={}),null!=(null!=r?r.rooms:void 0)){c=r.rooms,c[0]={id:"0",order:0,name:a.tr("No specific room"),state:{}};for(s in c)l=c[s],s&&l?p[s]=u(l):s&&p[s]&&delete p[s];return o=function(){var e;e=[];for(s in p)l=p[s],e.push(l);return e}(),o=t.sortBy(o,"order"),n.info("RoomsSrv HUB_ROOMS_CHANGED ",o),e.$emit("ROOMS_LIST_CHANGED",{rooms:o||{}})}}),d=function(t){var s,o,a;return s=r.defer(),o=o||"GET",a=c+"/rooms",t&&(a=c+("/rooms?roomId="+t)),i({method:o,url:a}).success(function(t,i){return n.debug("SrvRooms _readRooms: Ok "+i+", data: ",t),e.$emit("HUB_ROOMS_CHANGED",{rooms:t}),s.resolve(t)}).error(function(t,i){return e.alert("Device update failed",i,!0),n.error("SrvRooms _readRooms: Error "+i+", data: ",t),s.reject(t)}),s.promise},l=function(){var e,n,i,o;return e=r.defer(),t.isEmpty(p)?s(function(){return l()},500):(o=function(){var e;e=[];for(n in p)i=p[n],e.push(i);return e}(),o=t.sortBy(o,"order"),e.resolve(o)),e.promise},f=function(s){var o,a,l,u,d,m,p;if(a=r.defer(),null==s||t.isEmpty(s))a.reject(void 0);else{for(l="PUT",d=c+"/rooms/order",o=[],m=0,p=s.length;p>m;m++)u=s[m],o.push({id:u.id||void 0,order:u.order,type:"CMD_SET_ROOM_ORDER"});i({method:l,url:d,data:o}).success(function(e,t){return n.debug("SrvRooms _setOrder: Ok "+t+", data: ",e),a.resolve(s)}).error(function(t,i){return e.alert("Room request failed",i,!0),n.error("SrvRooms _setOrder: Error "+i+", data: ",t),a.reject(t)})}return a.promise},v=function(t){var s,o,a;return s=r.defer(),t?(o=o||"PUT",a=c+"/rooms",i({method:o,url:a,data:[{id:t.id||void 0,name:t.name,type:"CMD_ROOM"}]}).success(function(e,i){return n.debug("SrvRooms _setRoom: Ok "+i+", data: ",e),d().then(function(e){var n,i,r;if(n=t,t.id)n=e[t.id];else for(r in e)i=e[r],i.name===t.name&&(n=i);return s.resolve(n)},function(e){return s.reject(e)})}).error(function(t,i){return e.alert("Room request failed",i,!0),n.error("SrvRooms _setRoom: Error "+i+", data: ",t),s.reject(t)})):s.reject(void 0),s.promise},m=function(t){var s,o,a;return s=r.defer(),(null!=t?t.id:void 0)&&(o=o||"DELETE",a=c+("/rooms?roomId="+t.id),i({method:o,url:a}).success(function(e,i){var r,o,a;n.debug("SrvRooms _removeRoom: Ok "+i+", data: ",e),a={};for(o in p)r=p[o],r.id!==t.id&&(a[o]=r);return p=angular.copy(a),s.resolve(l())}).error(function(t,i){return e.alert("Room remove failed",i,!0),n.error("SrvRooms _removeRoom: Error "+i+", data: ",t),s.reject(t)})),s.resolve(p),s.promise},e.$on("HUB_ADDRESS_CHANGED",function(e,t){var n;return n=t.address,n?c=n:void 0}),{getRooms:l,setRoom:v,setOrder:f,removeRoom:m,lastDeviceRoom:!1}},angular.module("appSrvs").factory("RoomsSrv",["$rootScope","$log","$http","$q","$timeout","ConnectSrv","i18nSrv",e])}),require.register("devices/srv-mock-poll.js",function(e,t,n){var i={full:!0,polls:[{devices:{"0c3eb0f4-e29f-11e4-96aa-84eb18b1e9eb":{capabilities:{type:"SET",values:["TEMPERATURE","MOTION","HUMIDITY"]},description:null,deviceType:null,groups:[],id:"0c3eb0f4-e29f-11e4-96aa-84eb18b1e9eb",manufacturer:"NYCE",model:"3041",name:"Olkkarin multi",state:{humidity:30,lastMotion:1434440092663,lastSeen:1434440256491,motion:!1,reachable:!0,temperature:25.4,type:"STATE_MOTION"},timestamp:1434440256493,type:"MOTION"},"1362c114-dfa1-11e4-8d7e-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","COLOR_TEMP","ALERT"]},description:null,deviceType:null,groups:[],id:"1362c114-dfa1-11e4-8d7e-84eb18b1e9eb",manufacturer:"Philips",model:"LCT001",name:"Red one",state:{brightness:.5490196078431373,colorMode:"ct",hue:-1,isOn:!1,lastChange:1434433422949,lastSeen:1434433422949,maxTemperature:6500,minTemperature:2e3,reachable:!0,saturation:-1,temperature:2012.0724346076458,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434433422952,type:"LIGHT"},"326139b6-0f74-11e5-97b1-84eb18b1e9eb":{capabilities:{type:"SET",values:["CONTACT"]},description:null,deviceType:null,groups:[],id:"326139b6-0f74-11e5-97b1-84eb18b1e9eb",manufacturer:"NYCE",model:"3011",name:"Parvekkeen ovi",state:{lastChange:1434440003015,lastSeen:1434440003015,open:!1,reachable:!0,type:"STATE_CONTACT"},timestamp:1434440003017,type:"CONTACT"},"3dedffc2-0f73-11e5-a409-84eb18b1e9eb":{capabilities:{type:"SET",values:["COLOR_TEMP","TRANSITION","BRIGHTNESS","ON_OFF"]},description:null,deviceType:null,groups:["50e6ee49-4ff8-4738-aa04-e17b8511c05d"],id:"3dedffc2-0f73-11e5-a409-84eb18b1e9eb",manufacturer:"OSRAM",model:"PAR16 50 TW",name:"Osram Light 1",state:{brightness:.00392156862745098,colorMode:"ct",hue:-1,isOn:!1,lastSeen:1434400747270,maxTemperature:6535.9477124183,minTemperature:2702.7027027027025,reachable:!1,saturation:-1,temperature:2702.7027027027025,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434400972237,type:"LIGHT"},"3e3fbeee-0f73-11e5-a27f-84eb18b1e9eb":{capabilities:{type:"SET",values:["COLOR_TEMP","TRANSITION","BRIGHTNESS","ON_OFF"]},description:null,deviceType:null,groups:["50e6ee49-4ff8-4738-aa04-e17b8511c05d"],id:"3e3fbeee-0f73-11e5-a27f-84eb18b1e9eb",manufacturer:"OSRAM",model:"PAR16 50 TW",name:"Osram Light 2",state:{brightness:.4297,colorMode:"ct",hue:-1,isOn:!0,lastSeen:1434400736452,maxTemperature:6535.9477124183,minTemperature:2702.7027027027025,reachable:!1,saturation:-1,temperature:2702.7027027027025,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434400972382,type:"LIGHT"},"59d1df12-ef19-11e4-9cd6-84eb18b1e9eb":{awayThreshold:36e5,capabilities:{type:"SET",values:["USER_PRESENCE","PUSH_NOTIFICATION"]},description:null,deviceType:null,groups:[],id:"59d1df12-ef19-11e4-9cd6-84eb18b1e9eb",manufacturer:"HTC",model:null,name:"Vesan Android",state:{lastSeen:1434440366728,reachable:!0,session:!0,type:"STATE_UI_DEVICE",user:"873c595a-3454-447b-a015-90f471e98147"},timestamp:1434440366730,type:"UI_DEVICE",uuid:"629d68e939018017"},"7cb6d658-12a0-11e5-9d30-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","ALERT"]},description:null,deviceType:null,groups:[],id:"7cb6d658-12a0-11e5-9d30-84eb18b1e9eb",manufacturer:"Philips",model:"LST001",name:"Yövalo",state:{brightness:.996078431372549,colorMode:"hs",hue:.5933719976521623,isOn:!1,lastChange:1434430503661,lastSeen:1434430503661,maxTemperature:null,minTemperature:null,reachable:!0,saturation:.996078431372549,temperature:-1,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434430503663,type:"LIGHT"},"8c4a4d50-df90-11e4-8884-84eb18b1e9eb":{capabilities:{type:"SET",values:["ON_OFF"]},description:"Belkin Plugin Socket 1.0",deviceType:"urn:Belkin:device:controllee:1",groups:[],id:"8c4a4d50-df90-11e4-8884-84eb18b1e9eb",manufacturer:"Belkin International Inc.",model:"Socket 1.0",name:"Tuuletin",state:{isOn:!0,lastChange:1434435450979,lastSeen:1434435450979,reachable:!0,type:"STATE_SOCKET"},timestamp:1434435450981,type:"POWER_SOCKET"},"8c6dfc82-df90-11e4-9156-84eb18b1e9eb":{capabilities:{type:"SET",values:["MOTION"]},description:"Belkin Plugin Socket 1.0",deviceType:"urn:Belkin:device:sensor:1",groups:[],id:"8c6dfc82-df90-11e4-9156-84eb18b1e9eb",manufacturer:"Belkin International Inc.",model:"Socket 1.0",name:"Liikettä makkarissa",state:{lastMotion:1434440086614,lastSeen:1434440391841,motion:!1,reachable:!0,type:"STATE_MOTION"},timestamp:1434440391847,type:"MOTION"},"8c6dfc85-df90-11e4-9220-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","ALERT"]},description:null,deviceType:null,groups:["4f9dcf3d-adfc-4521-ab59-a639e0ba1a38"],id:"8c6dfc85-df90-11e4-9220-84eb18b1e9eb",manufacturer:"Philips",model:"LLC012",name:"Alaspotti",state:{brightness:.6941176470588235,colorMode:"hs",hue:4.1887902047863905,isOn:!0,lastChange:1434432163697,lastSeen:1434433396562,maxTemperature:null,minTemperature:null,reachable:!0,saturation:.996078431372549,temperature:-1,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434433398996,type:"LIGHT"},"8c6dfc86-df90-11e4-bc76-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","ALERT"]},description:null,deviceType:null,groups:["4f9dcf3d-adfc-4521-ab59-a639e0ba1a38"],id:"8c6dfc86-df90-11e4-bc76-84eb18b1e9eb",manufacturer:"Philips",model:"LLC012",name:"Yläspotti",state:{brightness:.6941176470588235,colorMode:"hs",hue:4.1887902047863905,isOn:!0,lastChange:1434432163701,lastSeen:1434433396564,maxTemperature:null,minTemperature:null,reachable:!0,saturation:.996078431372549,temperature:-1,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434433399002,type:"LIGHT"},"9f0ed442-0b6c-11e5-8946-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","COLOR_TEMP"]},description:null,deviceType:null,groups:[],id:"9f0ed442-0b6c-11e5-8946-84eb18b1e9eb",manufacturer:"OSRAM",model:"Classic A60 RGBW",name:"Makkari",state:{brightness:.996078431372549,colorMode:"ct",hue:-1,isOn:!0,lastSeen:1434430411138,maxTemperature:6622.516556291391,minTemperature:2e3,reachable:!0,saturation:-1,temperature:2702.7027027027025,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434430411139,type:"LIGHT"},"e753a3f8-1323-11e5-9873-84eb18b1e9eb":null,"f2f62654-0af8-11e5-bf8e-84eb18b1e9eb":{capabilities:{type:"SET",values:["CONTACT"]},description:null,deviceType:null,groups:[],id:"f2f62654-0af8-11e5-bf8e-84eb18b1e9eb",manufacturer:"NYCE",model:"3011",name:"Ulko-ovi",state:{lastChange:1434438472276,lastSeen:1434438472276,open:!1,reachable:!0,type:"STATE_CONTACT"},timestamp:1434438472278,type:"CONTACT"},"59d1df12-11e4-11e5-8d7e-84eb18b1f556":{capabilities:{type:"SET",values:["CAPTURE"]},description:null,deviceType:null,groups:[],id:"59d1df12-11e4-11e5-8d7e-84eb18b1f556",manufacturer:"GOPRO",name:"Kamera",state:{lastChange:1434438472276,lastSeen:1434438472276,isOn:!0,reachable:!0,type:"STATE_CAMERA"},timestamp:1434438472278,type:"CAMERA"},"ff7003c6-0b7b-11e5-a7fd-84eb18b1e9eb":{capabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","COLOR_TEMP","ALERT"]},description:null,deviceType:null,groups:[],id:"ff7003c6-0b7b-11e5-a7fd-84eb18b1e9eb",manufacturer:"Philips",model:"LCT001",name:"Olkkari",state:{brightness:.5176470588235295,colorMode:"ct",hue:-1,isOn:!1,lastChange:1434411482643,lastSeen:1434411482643,maxTemperature:6500,minTemperature:2e3,reachable:!0,saturation:-1,temperature:2032.520325203252,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434411482648,type:"LIGHT"},"9cc93e78-d38e-11e4-a79b-84eb18b1f556":{capabilities:{type:"SET",values:["SEEK","PLAY","ON_OFF","TREBLE","LOUDNESS","NEXT","BASS","PREVIOUS","STOP","PAUSE","VOLUME","MUTE"]},description:"Sonos PLAY:1",deviceType:"urn:schemas-upnp-org:device:ZonePlayer:1",groups:[],id:"9cc93e78-d38e-11e4-a79b-84eb18b1f556",manufacturer:"Sonos, Inc.",model:"Sonos PLAY:1 S1",name:"Lounge",state:{avtData:{currentTrack:1,currentTrackDuration:"0:00:00",currentTrackMetadata:{albumArtURI:"http://192.168.1.188:1400/getaa?s=1&u=x-sonosapi-stream%3as155549%3fsid%3d254%26flags%3d32%26sn%3d0",id:"-1",parentId:"-1",radioShowMd:null,res:{metadata:'<DIDL-Lite xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:upnp="urn:schemas-upnp-org:metadata-1-0/upnp/" xmlns:r="urn:schemas-rinconnetworks-com:metadata-1-0/" xmlns="urn:schemas-upnp-org:metadata-1-0/DIDL-Lite/"><item id="-1" parentID="-1" restricted="true"><dc:title>Metal\'s Darkest Hour</dc:title><upnp:class>object.item.audioItem.audioBroadcast</upnp:class><desc id="cdudn" nameSpace="urn:schemas-rinconnetworks-com:metadata-1-0/">SA_RINCON65031_</desc></item></DIDL-Lite>',protocolInfo:"sonos.com-http:*:application/octet-stream:*",type:"UPNP_RESOURCE",uri:"x-sonosapi-stream:s155549?sid=254&flags=32&sn=0"},streamContent:null,title:"Metal's Darkest Hour",type:"CONTENT_DIR_ITEM",upnpClass:"object.item.audioItem.audioBroadcast"},numberOfTracks:6,playMode:"NORMAL",state:"STOPPED",type:"MR_AVT_DATA"},isOn:!1,lastSeen:1434492693188,rcData:{bass:0,loudness:!0,mute:!1,treble:0,type:"MR_RC_DATA",volume:12},reachable:!0,type:"STATE_MEDIA_RENDERER"},timestamp:1434492693203,type:"MEDIA_RENDERER"}},timestamp:1434440410118,type:"DEVICE_DELTA"},{groups:{"4f9dcf3d-adfc-4521-ab59-a639e0ba1a38":{id:"4f9dcf3d-adfc-4521-ab59-a639e0ba1a38",maxCapabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","ALERT"]},members:["8c6dfc85-df90-11e4-9220-84eb18b1e9eb","8c6dfc86-df90-11e4-bc76-84eb18b1e9eb"],minCapabilities:{type:"SET",values:["BRIGHTNESS","COLOR_LOOP","ON_OFF","COLOR_HS","TRANSITION","ALERT"]},name:"Spotit",state:{brightness:.6941176470588235,colorMode:"hs",hue:4.1887902047863905,isOn:!0,lastChange:1434432163697,lastSeen:1434433396562,maxTemperature:null,minTemperature:null,reachable:!0,saturation:.996078431372549,temperature:-1,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434433399002,type:"GROUP"},"50e6ee49-4ff8-4738-aa04-e17b8511c05d":{id:"50e6ee49-4ff8-4738-aa04-e17b8511c05d",maxCapabilities:{type:"SET",values:["COLOR_TEMP","TRANSITION","BRIGHTNESS","ON_OFF"]},members:["3dedffc2-0f73-11e5-a409-84eb18b1e9eb","3e3fbeee-0f73-11e5-a27f-84eb18b1e9eb"],minCapabilities:{type:"SET",values:["COLOR_TEMP","TRANSITION","BRIGHTNESS","ON_OFF"]},name:"Eteinen",state:{brightness:.00392156862745098,colorMode:"ct",hue:-1,isOn:!1,lastSeen:1434400747270,maxTemperature:6535.9477124183,minTemperature:2702.7027027027025,reachable:!1,saturation:-1,temperature:2702.7027027027025,transitionMsec:null,type:"STATE_LIGHT"},timestamp:1434400972382,type:"GROUP"}},timestamp:1434440410118,type:"GROUP_DELTA"},{scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":{category:"FACTORY",excludedIds:["ff8fb015-de6f-4ab3-940c-e64c3337ad56","66d5973f-3008-468c-b178-2895c0dc1cae"],icon:"NIGHT",id:"0996755d-7c5f-4e5b-bc94-7888d6f5ed12",isOn:!1,name:"YÖ",presets:{},sceneTimes:[{cronDef:{start:"sun_down -30 * * 0,1,2,3,4,5,6",stop:"sun_up 30 * * 0,1,2,3,4,5,6",type:"CRONDEF"},type:"RULETIME"}],timestamp:1434417820641,type:"SCENE"},"1215cc95-2494-4000-8e63-9b1a66861ebc":{category:"USER",excludedIds:[],icon:null,id:"1215cc95-2494-4000-8e63-9b1a66861ebc",isOn:!1,name:"TV",presets:{"1362c114-dfa1-11e4-8d7e-84eb18b1e9eb":{groups:[],id:"1362c114-dfa1-11e4-8d7e-84eb18b1e9eb",state:{brightness:.5490196078431373,colorMode:"ct",hue:.27928463873982046,isOn:!0,lastChange:1434433309141,lastSeen:1434433309141,maxTemperature:6500,minTemperature:2e3,reachable:!0,saturation:1,temperature:2e3,transitionMsec:null,type:"STATE_LIGHT"},type:"CMD_DEVICE"},"4f9dcf3d-adfc-4521-ab59-a639e0ba1a38":{id:"4f9dcf3d-adfc-4521-ab59-a639e0ba1a38",state:{brightness:.6941176470588235,colorMode:"hs",hue:4.1887902047863905,isOn:!0,lastChange:1433509154145,lastSeen:1433509172971,maxTemperature:null,minTemperature:null,reachable:!0,saturation:.996078431372549,temperature:-1,transitionMsec:null,type:"STATE_LIGHT"},type:"CMD_DEVICE"}},sceneTimes:[],timestamp:1434433314417,type:"SCENE"},"66d5973f-3008-468c-b178-2895c0dc1cae":{category:"FACTORY",excludedIds:["ff8fb015-de6f-4ab3-940c-e64c3337ad56","0996755d-7c5f-4e5b-bc94-7888d6f5ed12"],icon:"AWAY",id:"66d5973f-3008-468c-b178-2895c0dc1cae",isOn:!1,name:"POISSA",presets:{},sceneTimes:[],timestamp:1434398859504,type:"SCENE"},"bfb84e4f-4c0d-4154-98dc-2e47ee9b404f":{category:"USER",excludedIds:[],icon:null,id:"bfb84e4f-4c0d-4154-98dc-2e47ee9b404f",isOn:!0,name:"Himassa",presets:{},sceneTimes:[],timestamp:1434440366738,type:"SCENE"},"ff8fb015-de6f-4ab3-940c-e64c3337ad56":{category:"FACTORY",excludedIds:["0996755d-7c5f-4e5b-bc94-7888d6f5ed12","66d5973f-3008-468c-b178-2895c0dc1cae"],icon:"HOME",id:"ff8fb015-de6f-4ab3-940c-e64c3337ad56",isOn:!1,name:"KOTONA",presets:{},sceneTimes:[],timestamp:1434398859504,type:"SCENE"}},timestamp:1434440410118,type:"SCENE_DELTA"},{rules:{"021643e6-0a92-459b-a567-ecef039c6e73":{config:{configType:"ONOFF_CONTACT_RULE",extras:{output_state:[{type:"BOOL",value:!0}]},id:"021643e6-0a92-459b-a567-ecef039c6e73",inputs:{sensors:["f2f62654-0af8-11e5-bf8e-84eb18b1e9eb"]},name:"Eteisen valot  oven avauksesta",outputs:{devices:["50e6ee49-4ff8-4738-aa04-e17b8511c05d"]},type:"CONFIG"},id:"021643e6-0a92-459b-a567-ecef039c6e73",is_on:!1,my_timers:{},scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":!1},timestamp:1434417820684,type:"RULE"},"09018082-cfa5-4f56-a003-b5320c14e298":{config:{configType:"NOTIFY_ON_MOVEMENT_RULE",extras:{message:[{text:"Makkarissa Liikettä",type:"FREE_TEXT"}],timeout:[{type:"TIME_DELTA_MS",value:0}]},id:"09018082-cfa5-4f56-a003-b5320c14e298",inputs:{sensors:["0c3eb0f4-e29f-11e4-96aa-84eb18b1e9eb","8c6dfc82-df90-11e4-9156-84eb18b1e9eb"]},name:"Lähetä makkarissa liikettä",outputs:{notified:["59d1df12-ef19-11e4-9cd6-84eb18b1e9eb"]},type:"CONFIG"},id:"09018082-cfa5-4f56-a003-b5320c14e298",is_on:!1,my_timers:{},scenes:{"66d5973f-3008-468c-b178-2895c0dc1cae":!1},timestamp:1434433296983,type:"RULE"},"34fd39ec-fa99-4f5e-b153-0b45f4ce2da4":{config:{configType:"NOTIFY_ON_CONTACT_RULE",extras:{message:[{text:"Ovi on auki",type:"FREE_TEXT"}],timeout:[{type:"TIME_DELTA_MS",value:0}]},id:"34fd39ec-fa99-4f5e-b153-0b45f4ce2da4",inputs:{sensors:["f2f62654-0af8-11e5-bf8e-84eb18b1e9eb"]},name:"Lähetä viesti, kun ovi aukeaa",outputs:{notified:["59d1df12-ef19-11e4-9cd6-84eb18b1e9eb"]},type:"CONFIG"},id:"34fd39ec-fa99-4f5e-b153-0b45f4ce2da4",is_on:!1,my_timers:{},scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":!1,"66d5973f-3008-468c-b178-2895c0dc1cae":!1},timestamp:1434417820684,type:"RULE"},"3bca8bf1-8406-473b-9b6f-488508105f8d":{config:{configType:"UI_PRESENT_TO_SCENE_RULE",extras:{},id:"3bca8bf1-8406-473b-9b6f-488508105f8d",inputs:{monitored:["59d1df12-ef19-11e4-9cd6-84eb18b1e9eb"]},name:"Käynnistä teema, kun mobiililaite on kotona",outputs:{scenes:["bfb84e4f-4c0d-4154-98dc-2e47ee9b404f"]},type:"CONFIG"},id:"3bca8bf1-8406-473b-9b6f-488508105f8d",is_on:!0,my_timers:{},scenes:{},timestamp:1434398820434,type:"RULE"},"571b5ba6-00b8-40db-9883-bf2fd2b6dfd5":{config:{configType:"AUTO_LIGHT_RULE",extras:{timeout:[{type:"TIME_DELTA_MS",value:12e4}]},id:"571b5ba6-00b8-40db-9883-bf2fd2b6dfd5",inputs:{motions:["8c6dfc82-df90-11e4-9156-84eb18b1e9eb"]},name:"Sytytä valo, kun liikettä",outputs:{lights:["7cb6d658-12a0-11e5-9d30-84eb18b1e9eb"]},type:"CONFIG"},id:"571b5ba6-00b8-40db-9883-bf2fd2b6dfd5",is_on:!1,my_timers:{},scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":!1},timestamp:1434417820684,type:"RULE"},"8e22b46d-ffeb-4d81-ab9f-12bb996f1bbf":{config:{configType:"NOTIFY_ON_CONTACT_RULE",extras:{message:[{text:"Partsin ovi on auki",type:"FREE_TEXT"}],timeout:[{type:"TIME_DELTA_MS",value:0}]},id:"8e22b46d-ffeb-4d81-ab9f-12bb996f1bbf",inputs:{sensors:["326139b6-0f74-11e5-97b1-84eb18b1e9eb"]},name:"Lähetä viesti, kun ovi aukeaa",outputs:{notified:["59d1df12-ef19-11e4-9cd6-84eb18b1e9eb"]},type:"CONFIG"},id:"8e22b46d-ffeb-4d81-ab9f-12bb996f1bbf",is_on:!1,my_timers:{},scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":!1,"66d5973f-3008-468c-b178-2895c0dc1cae":!1},timestamp:1434417820684,type:"RULE"},"a4c5c4b0-8c75-419f-83c9-075eba4dde69":{config:{configType:"AUTO_LIGHT_RULE",extras:{timeout:[{type:"TIME_DELTA_MS",value:6e4}]},id:"a4c5c4b0-8c75-419f-83c9-075eba4dde69",inputs:{motions:["0c3eb0f4-e29f-11e4-96aa-84eb18b1e9eb"]},name:"Sytytä valo, kun liikettä",outputs:{lights:["1362c114-dfa1-11e4-8d7e-84eb18b1e9eb"]},type:"CONFIG"},id:"a4c5c4b0-8c75-419f-83c9-075eba4dde69",is_on:!1,my_timers:{},scenes:{"0996755d-7c5f-4e5b-bc94-7888d6f5ed12":!1},timestamp:1434417820684,type:"RULE"},"af6ffde8-4c2f-4c75-a3ff-bbda67df6f22":{config:{configType:"ONOFF_TEMPERATURE_RULE",extras:{output_state:[{type:"OPTION",value:!0}],temperature:[{type:"CELSIUS",value:25}]},id:"af6ffde8-4c2f-4c75-a3ff-bbda67df6f22",inputs:{thermos:["0c3eb0f4-e29f-11e4-96aa-84eb18b1e9eb"]},name:"Käynnistä lämpötilan mukaan",outputs:{devices:["8c4a4d50-df90-11e4-8884-84eb18b1e9eb"]},type:"CONFIG"},id:"af6ffde8-4c2f-4c75-a3ff-bbda67df6f22",is_on:!0,my_timers:{},scenes:{"bfb84e4f-4c0d-4154-98dc-2e47ee9b404f":!0},timestamp:1434433369041,type:"RULE"}},timestamp:1434440410118,type:"RULE_DELTA"},{timestamp:1434440410118,type:"USER_DELTA",users:{"716be9f4-0f73-40cd-858a-000d683cbc19":{connected:!0,id:"716be9f4-0f73-40cd-858a-000d683cbc19",revoked:!1,timestamp:1434440365104,type:"HUB_USER",user_info:{role:32,type:"USER_INFO",user:{email:"vesa@cozify.fi",nickname:"CzVLi",phone:"+358403154136",type:"USER",uid:"716be9f4-0f73-40cd-858a-000d683cbc19"}}},"873c595a-3454-447b-a015-90f471e98147":{connected:!0,id:"873c595a-3454-447b-a015-90f471e98147",revoked:!1,timestamp:1434440365104,type:"HUB_USER",user_info:{role:32,type:"USER_INFO",user:{email:"vli@iki.fi",nickname:"vli",phone:"+358403154136",type:"USER",uid:"873c595a-3454-447b-a015-90f471e98147"}}}}}],timestamp:1434440410118,type:"POLL_DELTA"};
n.exports={pollDevices:i.polls[0].devices,pollGroups:i.polls[1].groups,pollScenes:i.polls[2].scenes,pollRules:i.polls[3].rules,pollUsers:i.polls[4].users,ANDROID_UI:"59d1df12-ef19-11e4-9cd6-84eb18b1e9eb",WEMO_MOTION:"8c6dfc82-df90-11e4-9156-84eb18b1e9eb",OSRAM_RGB:"9f0ed442-0b6c-11e5-8946-84eb18b1e9eb",HUE_STRIPE:"7cb6d658-12a0-11e5-9d30-84eb18b1e9eb",HUE_RGB:"1362c114-dfa1-11e4-8d7e-84eb18b1e9eb",SONOS_PLAY1:"9cc93e78-d38e-11e4-a79b-84eb18b1f556",CAMERA:"59d1df12-11e4-11e5-8d7e-84eb18b1f556",NYCE:"f2f62654-0af8-11e5-bf8e-84eb18b1e9eb",OSRAM_GRP:"50e6ee49-4ff8-4738-aa04-e17b8511c05d",HUE_SPOT_GRP:"4f9dcf3d-adfc-4521-ab59-a639e0ba1a38",NIGHT_SCENE:"0996755d-7c5f-4e5b-bc94-7888d6f5ed12",ON_OFF_CONTACT_RULE_1:"021643e6-0a92-459b-a567-ecef039c6e73"}}),require.register("devices/partitial-devices-add.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row"></div><div ng-if="ui.state==STATES.SELECT_MAIN"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{\'Adding device by technology\'|tr}}</h3></div></div><div class="row simple-list action-list"><div class="small-12 columns"><a co-tap="selectZigbeeDevice() " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{\'Adding Zigbee devices\'|tr}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div><div ng-if="ui.is433s" class="small-12 columns"><a co-tap="show433Manufacturers()" class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{\'Adding 433 MHz\'|tr}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div><div class="row t-margin-M"><div class="small-12 columns"><h3 class="dark-font upper-case">{{\'Adding device by manufacturer\'|tr}}</h3></div></div><div class="row simple-list action-list"><div ng-repeat="(manufacturer, devices) in ui.manufacturers" class="small-12 columns"><a co-tap="showDevices(manufacturer, devices) " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{manufacturer}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div><div ng-repeat="(manufacturer, devices) in ui.manufacturersFor433" class="small-12 columns"><a co-tap="show433Devices(manufacturer, devices) " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{manufacturer}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div><div ng-if="ui.state==STATES.SELECT_ZIGBEE"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{ui.selectedManufacturer}}</h3></div><div class="small-2 columns"><div class="number">1</div></div><div class="small-10 columns"><div class="number instruction">{{\'Adding Zigbee instructions 1\'|tr}}</div></div><div ng-if="ui.zigbeeConnectionTime&gt;0" class="small-12 columns"><div class="pie-wrapper"><div class="pie spinner"></div><div class="pie filler"></div><div class="mask"></div><div class="inset">{{ui.zigbeeConnectionTime}} {{\'sec\'|tr}}</div></div></div><div ng-if="ui.zigbeeConnectionTime &lt;= 0" class="small-10 small-centered medium-6 medium-centered columns text-center"><div class="explanation">{{\'Device connection time ended\'|tr}}</div></div><div ng-if="ui.zigbeeConnectionTime &lt;= 0" class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" co-tap="selectZigbeeDevice()" class="row-button bottom upper-case">{{\'Search again\'|tr}}</button></div></div><div class="small-2 columns"><div class="number">2</div></div><div class="small-10 columns"><div class="number instruction">{{\'Adding instructions last\'|tr}}</div></div><div class="small-6 columns"><button type="submit" ng-click="returnToMain()" class="row-button bottom upper-case">{{\'OK\'|tr}}</button></div><div class="small-6 columns"><button type="button" ng-click="cancelToMain()" class="row-button bottom upper-case">{{\'Cancel\'|tr}}</button></div></div><div ng-if="ui.state==STATES.SELECT_433_MANUFACTURER"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{\'Select 433 MHz device manufacturer\'|tr}}</h3></div></div><div class="row simple-list action-list"><div ng-repeat="(manufacturer, devices) in ui.manufacturersFor433" class="small-12 columns"><a co-tap="show433Devices(manufacturer, devices) " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{manufacturer}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div><div ng-if="ui.state==STATES.SELECT_433_DEVICES"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{ui.selectedManufacturer}}</h3></div><div class="small-12 columns"><h3 class="dark-font upper-case">{{\'Select 433 MHz device type\'|tr}}</h3></div></div><div class="row simple-list action-list"><div ng-repeat="device in ui.devicesFor433" class="small-12 columns"><a co-tap="add433Device(device.id, device.name) " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{device.name}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div><div ng-if="ui.state==STATES.SELECT_DEVICES"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{ui.selectedManufacturer}}</h3></div><div class="small-12 columns"><h3 class="dark-font upper-case">{{\'Select device type\'|tr}}</h3></div></div><div class="row simple-list action-list"><div ng-repeat="(id, device) in ui.devices" class="small-12 columns"><a co-tap="device.action() " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{device.name}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div><div ng-if="ui.state==STATES.SELECT_DEVICE_1"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{ui.selectedDeviceName}}</h3></div></div><div ng-if="ui.wizard.view1.note0" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view1.note0.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view1.note0.text}}</div></div></div><div ng-if="ui.wizard.view1.step1" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view1.step1.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view1.step1.text}}</div></div></div><div ng-if="ui.wizard.view1.step2" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view1.step2.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view1.step2.text}}</div></div></div><div ng-if="ui.wizard.view1.step3" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view1.step3.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view1.step3.text}}</div></div></div><div ng-if="ui.wizard.view1.action" class="row"><div class="small-6 columns"><button type="submit" ng-click="ui.wizard.view1.action()" class="row-button bottom upper-case">{{\'OK\'|tr}}</button></div><div class="small-6 columns"><button type="button" ng-click="ui.wizard.view1.cancel()" class="row-button bottom upper-case">{{\'Cancel\'|tr}}</button></div></div></div><div ng-if="ui.state==STATES.SELECT_DEVICE_2"><div class="row"><div class="small-12 columns"><h3 class="dark-font upper-case">{{ui.selectedDeviceName}}</h3></div></div><div ng-if="ui.wizard.view1.note0" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view2.note0.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view2.note0.text}}</div></div></div><div ng-if="ui.wizard.view2.step1" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view2.step1.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view2.step1.text}}</div></div><div ng-if="ui.wizard.view2.step1.connectionTime&gt;0" class="small-12 columns"><div class="pie-wrapper"><div class="pie spinner"></div><div class="pie filler"></div><div class="mask"></div><div class="inset">{{ui.wizard.view2.step1.connectionTime}} {{\'sec\'|tr}}</div></div></div><div ng-if="ui.wizard.view2.step1.connectionTime &lt;= 0" class="small-10 small-centered medium-6 medium-centered columns text-center"><div class="explanation">{{\'Device connection time ended\'|tr}}</div></div><div ng-if="ui.wizard.view2.step1.connectionTime &lt;= 0" class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" co-tap="ui.wizard.view1.action()" class="row-button bottom upper-case">{{\'Search again\'|tr}}</button></div></div><div ng-if="ui.wizard.view2.step2" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view2.step2.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view2.step2.text}}</div></div></div><div ng-if="ui.wizard.view2.step3" class="row"><div class="small-2 columns"><div class="number">{{ui.wizard.view2.step3.index}}</div></div><div class="small-10 columns"><div class="number instruction">{{ui.wizard.view2.step3.text}}</div></div></div><div ng-if="ui.wizard.view2.action" class="row"><div class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="ui.wizard.view2.action()" class="row-button bottom upper-case">{{\'OK\'|tr}}</button></div></div></div><div ng-if="ui.state==STATES.SELECT_MAIN" class="row t-margin-L"><div class="small-10 small-centered medium-6 medium-centered columns end text-center"><label>{{\'Return ignored devices\'|tr}}?</label><div class="explanation">{{\'Return ignored devices instructions\'|tr}}</div></div></div><div ng-if="ui.state==STATES.SELECT_MAIN" class="row"><div class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="returnIgnoredDevices()" class="row-button bottom">{{\'RETURN IGNORED DEVICES\'|tr}}</button></div></div>'),e.join("")}}),require.register("devices/partitial-devices-camera.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div ng-if="viewMode==\'controls\' " class="small-12 columns"><div class="row">Camera:  {{device|json}}</div></div>'),e.join("")}}),require.register("devices/partitial-devices-color.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal"><div class="content"><div class="row"><div class="small-12 text-center columns"><div co-color-picker="true" co-color="light.pickerHex" class="color-picker"></div></div></div><div class="row t-margin-XS"><div class="small-2 large-1 text-center columns"><i class="property-label icon icon-brightness"></i></div><div class="small-10 large-11 columns"><div co-gauge="true" co-gauge-type="slider" co-gauge-value="light.brightness" co-gauge-color="brightColor()" co-gauge-bg-color="#000" co-gauge-font-color="#555" class="gauge"></div></div></div></div></form>'),e.join("")}}),require.register("devices/partitial-devices-light.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div ng-if="viewMode==\'controls\' " class="small-12 columns"><div ng-if="device.features.colorHS" class="row"><div class="small-2 large-1 text-center columns"><i class="property-label icon icon-color"></i></div><div co-swipe-x="true" class="small-10 small-centered columns color-history"><div ng-if="device.features.colorTemperature" class="color-history-item"><div id="bw" ng-class="{selected: !light.colorsSelected}" co-tap="setColorState(false)" class="circle-outer"><div class="circle-inner white"></div></div></div><div class="color-history-item"><div id="color" co-tap="showModal(&quot;ColorPalette&quot;, &quot;Choose Color&quot;);setColorState(true)" class="circle-outer"><div title="{{light.pickerHex}}" class="circle-inner color-picker-icon"></div></div></div><div ng-repeat="color in light.historyColors track by $index" class="color-history-item"><div ng-class="{selected:light.colorsSelected&amp;&amp;light.historyColorsSelected==color}" co-tap="selectHistoryColor(color)" class="circle-outer"><div ng-style="{background: color}" class="circle-inner color-picker-icon"></div></div></div><div class="color-history-item"><div id="color" co-tap="removeColorHistory()" class="circle-outer"><i class="icon icon-trash color-icon"></i></div></div></div></div><div ng-if="device.features.brightness" class="row"><div class="small-2 large-1 text-center columns"><i class="property-label icon icon-brightness"></i></div><div class="small-10 large-11 columns"><div ng-if="!light.colorsSelected" co-gauge="true" co-gauge-type="slider" co-gauge-value="light.brightness" co-gauge-color="[&quot;#555555&quot;, &quot;#ffffff&quot;]" co-gauge-bg-color="#000" co-gauge-font-color="#555" class="gauge"></div><div ng-if="light.colorsSelected" co-gauge="true" co-gauge-type="slider" co-gauge-value="light.brightness" co-gauge-color=" brightColor()" co-gauge-bg-color="#000" co-gauge-font-color="#555" class="gauge"></div></div></div><div ng-if="device.features.colorTemperature &amp;&amp; ! light.colorsSelected" class="row"><div class="small-2 large-1 text-center columns"><i class="property-label icon icon-temperature"></i></div><div class="small-10 large-11 columns"><div co-gauge="true" co-gauge-type="slider" co-gauge-value="light.temperature" co-gauge-color="[ &quot;#fa2e27&quot;, &quot;#7cd4fc&quot; ]" co-gauge-scale="light.maxTemperature" co-gauge-scale-min="light.minTemperature" co-gauge-unit="K" co-gauge-font-color="#555" class="gauge"></div></div></div><div ng-if="device.features.transition &amp;&amp; device.state.isOn " class="row"><a ng-class="{selected: light.transitionChecked}" co-tap="selectTransition100Msec() " class="small-10 small-offset-2 columns"><div class="row valign-middle"><div class="small-2 columns"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></div><div class="small-10 columns"><span>{{\'Use as Wake Up Light with themes\'|tr}}...</span><span ng-if="light.transitionChecked">({{light.transitionMin}}&nbsp;{{\'min\'|tr}})</span></div></div></a></div><div ng-if="ui.sceneId &amp;&amp; !ui.ruleId &amp;&amp; device.state.reachable" ng-controller="SceneListCtrl" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)" class="row-button">{{\'USE THIS STATE IN SCENE\'|tr}}</button></div></div><div ng-if="!ui.sceneId &amp;&amp; !ui.ruleId &amp;&amp; device.state.reachable" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="showModal(&quot;SceneSelection&quot;, &quot;Choose Scene(s)&quot;)" class="row-button"> {{\'SAVE TO SCENES\'|tr}}</button></div></div><div ng-if="device.types.GROUP" class="row"><div class="small-12 columns"><h3 class="dark-font">{{\'DEVICES\'|tr}}</h3></div><div class="small-12 columns t-margin-L"><ul class="dd-grid small-block-grid-4 medium-block-grid-6 large-block-grid-8"><li ng-repeat="(id,subdevice) in device.members" co-tap="subdevice.toggle()" co-hold="subdevice.select()" co-dd="group:{{device.id}}:{{$index}}" co-dd-item-id="group:{{device.id}}:{{id}}" co-dd-drop-cb="dropDev(from, to)" class="grid-item"><div id="group:{{device.id}}:{{id}}" title="{{subdevice.id}}={{id}}" ng-class="{unknown: !subdevice.state.reachable, blink: subdevice.busy==true}" class="device"><div class="container"><i ng-class="subdevice.iconClasses" class="icon"><div ng-if="subdevice.styleClasses" ng-class="subdevice.styleClasses" class="circle"></div></i></div><div ng-class="{unknown: !subdevice.state.reachable}" class="name">{{subdevice.name}}</div></div></li><li co-dd="2000" co-dd-item-id="group-remove" co-dd-un-draggable="true" class="recyle-drop-zone"><div id="group-remove" class="recyle-bin"><i class="icon icon-trash"></i></div></li></ul></div></div></div>'),e.join("")}}),require.register("devices/partitial-devices-media-options.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal"><div class="content"><div class="row"><div class="small-6 small-centered columns end text-center"><img ng-src="{{media.source.albumArtURI}}"/></div></div><div class="row t-margin-S"><div class="small-10 columns small-centered text-center"><h2 class="inline-truncated-header">{{media.source.title}}</h2><h3 class="inline-truncated-header">{{media.source.creator}} - {{media.source.album}}</h3></div></div><div class="row t-margin-M"><div ng-if="!ui.sceneId &amp;&amp; !ui.ruleId &amp;&amp; device.state.reachable" class="small-11 medium-8 large-6 columns small-centered text-center"><a ng-click="openSaveToScenes(media)" class="button full-width">{{\'Add To Scenes\'|tr}}</a></div></div></div></form>'),e.join("")}}),require.register("devices/partitial-devices-media-scenes.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="row t-margin-S"><div ng-if="media.source.currentTrackPlayMode" class="small-8 small-centered columns"><div class="row"><div co-tap="repeat(media)" class="small-6 columns text-right"><i ng-class="{selected: media.currentTrackPlayMode==&quot;REPEAT_ALL&quot;||media.source.currentTrackPlayMode==&quot;SHUFFLE&quot;}" class="media icon icon-repeat"></i></div><div co-tap="shuffle(media)" class="small-6 columns text-left"><i ng-class="{selected: media.currentTrackPlayMode==&quot;SHUFFLE&quot;||media.source.currentTrackPlayMode==&quot;SHUFFLE_NOREPEAT&quot;}" class="media icon icon-shuffle"></i></div></div></div><div class="small-12 columns text-center"><a><img ng-src="{{media.currentTrackAlbumArtUri}}" class="music"/></a></div></div><div class="row t-margin-S"><div class="small-10 columns small-centered text-center"><h3>{{media.source.title}}</h3><span>{{media.source.creator}} - {{media.source.album}}</span></div></div><div class="row t-margin-S"><div class="small-2 large-1 text-center columns"><i class="con"><div class="media icon icon-volume full"></div></i></div><div class="small-10 large-11 columns"><div co-gauge="true" co-gauge-value="media.volume" co-gauge-type="slider" co-gauge-color="[&quot;#ffffff&quot;, &quot;#ffffff&quot;]" co-gauge-bg-color="#666" co-gauge-font-color="#555" co-gauge-hide-title="co-gauge-hide-title" class="gauge"></div></div></div><div ng-controller="SceneListCtrl" ng-if="!ui.sceneId &amp;&amp; !ui.ruleId" class="row"><div class="small-12 columns"><div class="row simple-list action-list checkbox t-margin-S"><div ng-repeat="(id, scene) in ui.newScenes" ng-class="{selected:scene.addStatus}" ng-if="scene.factory&gt;0" class="small-12 columns"><a co-tap="scene.addStatus = !scene.addStatus" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div></a></div><div ng-repeat="(id, scene) in ui.newScenes" ng-class="{selected:scene.addStatus}" ng-if="!scene.factory&gt;0" class="small-12 columns"><a co-tap="scene.addStatus = !scene.addStatus" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div></a></div></div><div class="row t-margin-S"></div><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" co-tap="showModal(&quot;SceneCreation&quot;, &quot;Create New Scene&quot;)" class="full-width"><i class="con button"><div class="icon icon-addsmall"></div></i><div class="inline">{{\'Create New Scene\'|tr}}</div></button></div><div class="row t-margin-S"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="addPresetToScenes(device);showSearch()" class="row-button bottom">{{\'DONE\'|tr}}</button></div></div></div></div><div ng-if="ui.sceneId &amp;&amp; !ui.ruleId" ng-controller="SceneListCtrl" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" co-tap="saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)" class="full-width">  {{\'USE THIS STATE IN SCENE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("devices/partitial-devices-media.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div ng-if="viewMode==\'controls\' " class="small-12 columns"><div ng-if="media.mode==&quot;scene&quot;" ng-include="\'/partitial-devices-media-scenes.tpl.html\'" class="t-margin-S"></div><div ng-if="media.mode!=&quot;player&quot;&amp;&amp;media.mode!=&quot;scene&quot;" class="row tabs media-tabs"><a ng-class="{selected:media.mode==&quot;search&quot;}" co-tap="showSearch()" class="small-6 columns text-center"><i class="icon block icon-search"></i></a><a ng-class="{selected:media.mode==&quot;queue&quot;}" co-tap="showQueue()" class="small-4 columns text-center"><i class="icon block icon-queue"></i></a><a ng-class="{selected:media.mode==&quot;queue&quot;}" co-tap="showQueue()" class="small-2 columns text-left"><span class="explanation">{{media.currentTrack}}/{{media.numberOfTracks}}</span></a></div><div ng-if="media.mode == \'queue\'" class="row"><div class="small-12 columns media-list without-search"><div class="row simple-list action-list for-music"><div ng-repeat="item in playQueue" class="small-12 columns"><a co-tap="queueAction(QUEUE_COMMAND.SEEK, $index+1) " class="row action-header text-left"><div ng-if="$index+1==media.currentTrack" class="small-10 name columns"><i class="media icon block icon-volume selected"></i><span class="selected-color">&nbsp; &nbsp;  &nbsp; &nbsp; {{item.title}}</span><br/><span class="explanation selected-color">{{item.creator}} - {{item.album}}</span></div><div ng-if="$index+1!=media.currentTrack" class="small-10 name columns"><span class="link-color"> {{item.title}}</span><br/><span class="explanation">{{item.creator}} - {{item.album}}</span></div><div co-tap="showOptions(item, &quot;queue&quot;, $index+1)" class="small-2 columns link-color"><i class="con"><div class="icon icon-ball-options"></div></i></div></a></div><div class="small-12 columns t-margin-XL">&nbsp;</div><div class="small-12 columns t-margin-XL">&nbsp;</div></div></div></div><div ng-if="media.mode == \'search\'" class="row"><div class="small-12 columns text-center media-list search"><input type="search" ng-model="media.search" placeholder="{{&quot;Search phrase&quot;|tr}}" required="required" results="5" autosave="mediasearch" co-ok="doSearch(media.search)" class="text-left"/></div><div class="small-12 columns media-list with-search"><div class="row simple-list action-list for-music"><div ng-repeat="result in searchResults" ng-class="{selected:result.uri  &amp;&amp; result.uri == media.currentTrackUri, blink: result.busy}" class="small-12 columns"><a co-tap="playIt(result)" class="row action-header"><div class="small-3 columns media-image"><img ng-src="{{result.albumArtURI}}"/></div><div class="small-7 name columns"><span class="link-color">{{result.title}}{{result.description}}</span><br/><span class="explanation">{{result.creator}}-{{result.album}}</span></div><div co-tap="showOptions(result, &quot;search&quot;)" class="small-2 columns link-color"><i class="con"><div class="icon icon-ball-options"></div></i></div></a></div><div class="small-12 columns t-margin-XL">&nbsp;</div><div class="small-12 columns t-margin-XL">&nbsp;</div></div></div><div ng-if="!searchResults || searchResults.length &lt; 1" class="small-8 small-centered columns media-list with-search text-center t-margin-M">{{\'No search results\'|tr}}</div><div class="clearfix"></div></div><div ng-if="media.mode == \'search\' || media.mode == \'queue\'" class="row miniplayer"><div ng-class="{blink: device.busy}" class="small-12 columns r-padding-0"><div class="row first-row"><div co-tap="toggleDevice()" class="small-3 columns media-image"><img ng-src="{{media.currentTrackAlbumArtUri}}"/><i ng-if="media.isPlay" class="media icon overlay block icon-player-pause hi"></i><i ng-if="!media.isPlay" class="media icon overlay block icon-player-play hi"></i></div><div class="small-7 name columns"><div co-tap="showFullPlayer()" class="link-color trunc inline">{{media.currentTrackAlbumTitle}}</div><br/><div co-tap="showFullPlayer()" class="explanation trunc inline">{{media.currentTrackCreator}} - {{media.currentTrackAlbum}}</div></div><div co-tap="showOptions(media, &quot;mini-player&quot;)" class="small-2 columns link-color scrollbar-padding"><i class="con"><div class="icon icon-ball-options"></div></i></div></div><div class="row second-row"><div class="small-2 text-left columns media-image"><i class="con"><div class="media icon icon-volume"></div></i></div><div class="small-9 columns end l-padding-0"><div co-gauge="true" co-gauge-value="media.volume" co-gauge-type="slider" co-gauge-color="[&quot;#ffffff&quot;, &quot;#ffffff&quot;]" co-gauge-bg-color="#666" co-gauge-font-color="#555" co-gauge-hide-title="co-gauge-hide-title" class="gauge"></div></div></div></div></div><div co-bg-img="{{ media.currentTrackAlbumArtUri }}" ng-if="media.mode == \'player\'" class="background-image"></div><div ng-if="media.mode == \'player\'" class="full-page"><div class="row"><div class="small-8 small-centered columns"><div class="row"><div co-tap="repeat(media)" class="small-4 columns text-right"><i ng-if="media.currentTrackPlayMode" ng-class="{selected: media.currentTrackPlayMode==&quot;REPEAT_ALL&quot;||media.currentTrackPlayMode==&quot;SHUFFLE&quot;}" class="media icon icon-repeat"></i></div><div co-tap="shuffle(media)" class="small-4 columns text-center"><i ng-if="media.currentTrackPlayMode" ng-class="{selected: media.currentTrackPlayMode==&quot;SHUFFLE&quot;||media.currentTrackPlayMode==&quot;SHUFFLE_NOREPEAT&quot;}" class="media icon icon-shuffle"></i></div><div co-tap="showOptions(media, &quot;player&quot;)" class="small-4 columns text-left"><i class="media icon icon-ball-options"></i></div></div></div><div co-tap="doSearch()" class="small-12 columns text-center"><a><img ng-src="{{media.currentTrackAlbumArtUri}}" class="music big"/></a></div></div><div class="row media t-margin-S"><div class="small-10 columns small-centered text-center"><h3>{{media.currentTrackAlbumTitle}}</h3><span>{{media.currentTrackCreator}} - {{media.currentTrackAlbum}}</span></div></div><div ng-class="{blink: device.busy==true}" class="row media t-margin-S"><div class="small-10 small-centered columns"><div class="row"><div co-tap="prev()" class="small-4 columns text-right"><i class="media icon icon-player-prev hi full"></i></div><div co-tap="toggleDevice()" class="small-4 columns text-center"><i ng-if="media.isPlay" class="media icon icon-player-pause hi full"></i><i ng-if="!media.isPlay" class="media icon icon-player-play hi full"></i></div><div co-tap="next()" class="small-4 columns end text-left"><i class="media icon icon-player-next hi full"></i></div></div></div></div><div class="row media t-margin-S"><div class="small-2 large-1 text-center columns"><i class="media icon icon-volume full"></i></div><div class="small-10 large-11 columns"><div co-gauge="true" co-gauge-value="media.volume" co-gauge-type="slider" co-gauge-color="[&quot;#ffffff&quot;, &quot;#ffffff&quot;]" co-gauge-bg-color="#666" co-gauge-font-color="#555" co-gauge-hide-title="co-gauge-hide-title" class="gauge"></div></div></div></div></div>'),e.join("")}}),require.register("devices/partitial-devices-remote-control.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div ng-if="viewMode==\'controls\' " class="small-12 columns"><div class="row simple-list action-list"><div ng-repeat="button in device.buttons" class="small-12 columns"><a ng-if="$even" ng-click="showRulesFor(button)" class="row valign-middle action-header"><div class="small-2 columns"><h2>{{button.shortLabel}}</h2></div><div ng-if="button.hasRule" class="small-8 columns"><div ng-repeat="(deviceId, device) in button.outputs" ng-if="$index&lt;3" ng-class="{unknown: device.state&amp;&amp;!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}" class="device small tall one-third text-center"><div class="container"><i ng-class="device.iconClasses" class="icon"><div class="count">{{device.count}}</div></i></div><div class="name">{{device.name}}</div></div><div ng-if="button.outputsCount&gt;3" class="more-devices">... (+{{button.outputsCount-3}})</div></div><div ng-if="!button.hasRule" class="small-9 columns end"><i class="con"><div class="icon icon-addsmall"></div></i><div class="inline">{{\'Device or scene to be controlled\'|tr}}</div></div><div ng-if="button.hasRule" class="small-1 columns end text-center"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div>'),e.join("")}}),require.register("devices/partitial-devices-remote-control-rule.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal"><div ng-if="!selectedButton.hasRule &amp;&amp; !selectedButton.hasTemplate" class="content"><div ng-controller="RulesDetailCtrl" ng-init="setInputType(&quot;REMOTE_CONTROL&quot;)" class="row"><div class="small-12 columns t-margin-S"><label>{{\'FOUND RULES\'|tr}}</label></div><div class="small-12 columns"><div class="row simple-list action-list"><div class="small-12 columns"><div ng-if="!isRuleTemplates()" class="row t-margin-S"><div class="small-12 columns">{{\'Suitable template not found\'|tr}}</div></div><a ng-repeat="(templateId, template) in ruleTemplates" co-tap="selectTemplateForDevice(templateId, device, selectedButton)" class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{template.description}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div></div></div><div ng-if="selectedButton.hasRule || selectedButton.hasTemplate" class="content"><div ng-controller="RulesDetailCtrl" ng-init="selectRule(selectedButton.rule.id, device.id)" class="row"><div class="small-12 columns"><div class="text-center"><h3 class="dark-font">{{$parent.device.name}} {{\'button\'|tr}} {{selectedButton.shortLabel}}</h3></div></div><div ng-include="\'/template-rules-add-1-a.tpl.html\'" class="small-12 columns t-margin-S"></div><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{\'Name the rule\'|tr}}</h3></div><div class="small-12 columns"><input type="text" ng-model="ui.name"/></div><div ng-if="rule.config.id" class="small-12 columns t-margin-S"><div class="row"><div class="small-10 columns"><h3 class="dark-font">{{\'DELETE RULE\'|tr}}</h3></div></div><div class="row"><div class="small-2 small-centered columns end"><a co-tap="rule.remove()"><i class="con"><div class="icon icon-trash"></div></i></a></div></div></div></div><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="saveRule(selectedButton)" class="row-button">{{\'READY\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("devices/partitial-devices-settings.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view"><div class="content"><div class="top-section"><div ng-if="device.isNameable" class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="small text-center">{{\'TYPE IN DEVICE NAME\'|tr}}</label></div></div><div ng-if="device.isNameable" class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end l-padding-0 r-padding-0"><input type="text" ng-model="ui.name" palceholder="{{&quot;Device name&quot;|tr}}" ng-change="changeName()" class="text-center"/></div></div><div ng-if="features.isRooms" ng-controller="RoomsCtrl" class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="small text-center">{{\'ROOM\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end l-padding-0 r-padding-0"><div co-tap="selectRoom($parent.ui.room)" co-hold="selectRoom($parent.ui.room)" class="select-kind text-center">{{$parent.ui.room.name}}</div></div></div><div ng-if="device.lastSeen" class="row t-margin-L"><div class="small-10 small-centered medium-6 medium-centered text-center columns end l-padding-0 r-padding-0">{{\'Last device detection time\'|tr}}: {{device.lastSeen | date:"medium"}}</div></div></div><div class="bottom-section"><div ng-if="device.removable" class="row separator"><div class="small-12 medium-6 medium-centered columns l-padding-0 r-padding-0"><button type="button" ng-click="ignoreDevice()" ng-class="{spin:ui.deleteBusy}" class="alert row-button">{{ui.deleteButtonText}}</button></div></div></div></div></form><div ng-include="\'/template-rooms.tpl.html\'" ng-if="menu.modalPage==&quot;ShowAddRooms&quot;" ng-controller="RoomsCtrl" class="slide-animate"></div>'),e.join("")
}}),require.register("devices/partitial-devices-uidev.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div ng-if="viewMode==\'controls\' " class="small-12 columns"><div class="row"><div class="small-12 small-centered columns"><p>{{\'When on standby mode, mobile device may cut the WiFi connection, thus informing infrequently its presence to the hub.\'|tr}}</p><p>{{\'In case of unnecessary notifications, increase the device detection timeout.\'|tr}}</p></div></div><div class="row simple-list"><div class="small-12 columns"><div class="row valign-middle action-header"><div class="small-7 columns"><div class="icon-center-line">{{\'Away treshold\'|tr}}</div></div><div co-tap="selectTime() " class="small-5 columns"><div class="icon-center-line button tiny">{{uiDev.awayThreshold}}&nbsp;{{\'min\'|tr}}</div></div></div></div></div></div>'),e.join("")}}),require.register("devices/template-devices-add-group.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="text-center">{{\'TYPE IN GROUP NAME\'|tr}}</label></div></div><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" ng-model="ui.name" palceholder="{{&quot;Group name&quot;|tr}}" autofocus="autofocus"/></div></div><div class="row"><div class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="ok()" class="row-button bottom">{{\'DONE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("devices/template-devices-add.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div ng-include="\'/partitial-devices-add.tpl.html\'" class="t-margin-S"></div></div></form>'),e.join("")}}),require.register("devices/template-devices-detail.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="row main-view"><div ng-include=" \'/partitial-devices-settings.tpl.html\' " ng-if="viewMode==&quot;settings&quot; "></div><div ng-include="\'/partitial-devices-light.tpl.html\'" ng-if="(device.types.LIGHT || (device.types.POWER_SOCKET &amp;&amp; device.features.brightness) ) &amp;&amp; device.state.reachable" ng-controller="DeviceDetailCtrl.Light"></div><div ng-include="\'/partitial-devices-media.tpl.html\'" ng-if="device.types.MEDIA_RENDERER &amp;&amp; device.state.reachable" ng-controller="DeviceDetailCtrl.Media"></div><div ng-include="\'/partitial-devices-uidev.tpl.html\'" ng-if="device.types.UI_DEVICE" ng-controller="DeviceDetailCtrl.UIDev"></div><div ng-include="\'/partitial-devices-camera.tpl.html\'" ng-if="device.types.CAMERA" ng-controller="DeviceDetailCtrl.Camera"></div><div ng-include="\'/partitial-devices-remote-control.tpl.html\'" ng-if="device.types.REMOTE_CONTROL || device.types.DOORBELL  || device.types.KEYFOB || device.types.WALLSWITCH" ng-controller="DeviceDetailCtrl.RemoteControl"></div><div ng-if="viewMode==\'controls\' &amp;&amp; (!device.state.reachable || !device.types.MEDIA_RENDERER &amp;&amp; !device.types.LIGHT &amp;&amp; !device.types.UI_DEVICE &amp;&amp; !device.types.CAMERA &amp;&amp; !device.types.REMOTE_CONTROL &amp;&amp; !device.types.DOORBELL  &amp;&amp; !device.types.KEYFOB &amp;&amp; !device.types.WALLSWITCH &amp;&amp; !(device.types.POWER_SOCKET &amp;&amp; device.features.brightness))" class="small-12 columns"><div ng-if="ui.sceneId &amp;&amp; !ui.ruleId &amp;&amp; device.state.reachable" ng-controller="SceneListCtrl" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)" class="row-button">{{\'USE THIS STATE IN SCENE\'|tr}}</button></div></div><div ng-if="!ui.sceneId &amp;&amp; !ui.ruleId &amp;&amp; device.state.reachable" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="showModal(&quot;SceneSelection&quot;, &quot;Choose Scene(s)&quot;)" class="row-button"> {{\'SAVE TO SCENES\'|tr}}</button></div></div><div ng-if="device.types.GROUP" class="row"><div class="small-12 columns"><h3 class="dark-font">{{\'DEVICES\'|tr}}</h3></div><div class="small-12 columns"><ul class="dd-grid small-block-grid-4 medium-block-grid-6 large-block-grid-8"><li ng-repeat="(id,subdevice) in device.members" co-tap="subdevice.toggle()" co-hold="subdevice.select()" co-dd="group:{{device.id}}:{{$index}}" co-dd-item-id="group:{{device.id}}:{{id}}" co-dd-drop-cb="dropDev(from, to)" class="grid-item"><div id="group:{{device.id}}:{{id}}" title="{{subdevice.id}}={{id}}" ng-class="{unknown: !subdevice.state.reachable, blink: subdevice.busy==true}" class="device"><div class="container"><i ng-class="subdevice.iconClasses" class="icon"><div ng-if="subdevice.styleClasses" ng-class="subdevice.styleClasses" class="circle"></div></i></div><div ng-class="{unknown: !subdevice.state.reachable}" class="name">{{subdevice.name}}</div></div></li><li co-dd="2000" co-dd-item-id="group-remove" co-dd-un-draggable="true" class="recyle-drop-zone"><div id="group-remove" class="recyle-bin"><i class="icon icon-trash"></i></div></li></ul></div></div></div></form><div ng-if="isInModals(&quot;SceneSelection&quot;)" class="fade"><form ng-controller="SceneListCtrl" class="modal"><div class="content"><div class="row t-margin-S"><h3 class="sub-header">{{\'SAVE TO SCENES\'|tr}}</h3></div><div class="row simple-list action-list checkbox t-margin-S"><div ng-repeat="(id, scene) in ui.newScenes" ng-class="{selected:scene.addStatus}" ng-if="scene.factory&gt;0" class="small-12 columns"><a co-tap="scene.addStatus = !scene.addStatus" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div></a></div><div ng-repeat="(id, scene) in ui.newScenes" ng-class="{selected:scene.addStatus}" ng-if="!scene.factory&gt;0" class="small-12 columns"><a co-tap="scene.addStatus = !scene.addStatus" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div class="small-2 columns text-center"><i ng-class="scene.icon" class="icon"></i></div></a></div></div><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" co-tap="showModal(&quot;SceneCreation&quot;, &quot;Create New Scene&quot;)" class="full-width"><i class="con button"><div class="icon icon-addsmall"></div></i><div class="inline">{{\'Create New Scene\'|tr}}</div></button></div></div>.<div class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="button" ng-click="addPresetToScenes(device); closeModal()" class="row-button bottom">{{\'DONE\'|tr}}</button></div></div></div></form></div><div ng-include="\'/partitial-devices-color.tpl.html\'" ng-if="menu.modalPage==&quot;ColorPalette&quot;" ng-controller="DeviceDetailCtrl.Light" class="slide-animate"></div><div ng-include="\'/template-roller-time.tpl.html\'" ng-if="device.types.LIGHT &amp;&amp; menu.modalPage==&quot;TimeRoller&quot;" ng-controller="DeviceDetailCtrl.Light" class="slide-animate"></div><div ng-include="\'/template-roller-time.tpl.html\'" ng-if="device.types.UI_DEVICE &amp;&amp; menu.modalPage==&quot;TimeRoller&quot;" ng-controller="DeviceDetailCtrl.UIDev" class="slide-animate"></div><div ng-include="\'/template-scene-create.tpl.html\'" ng-if="menu.modalPage==&quot;SceneCreation&quot;" class="slide-animate"></div><div ng-include="\'/partitial-devices-media-options.tpl.html\'" ng-if="menu.modalPage==&quot;MediaOptions&quot;" ng-controller="DeviceDetailCtrl.Media" class="slide-animate"></div><div ng-include="\'/partitial-devices-media-scenes.tpl.html\'" ng-if="menu.modalPage==&quot;MediaScenes&quot;" ng-controller="DeviceDetailCtrl.Media" class="slide-animate"></div><div ng-include="\'/partitial-devices-remote-control-rule.tpl.html\'" ng-if="menu.modalPage==&quot;ShowRCRule&quot;" ng-controller="DeviceDetailCtrl.RemoteControl" class="slide-animate"></div><div ng-include="\'/template-rooms.tpl.html\'" ng-if="menu.modalPage==&quot;ShowAddRooms&quot;" ng-controller="RoomsCtrl" class="slide-animate"></div>'),e.join("")}}),require.register("devices/template-devices-filter.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div ng-if="features.isRooms" class="row simple-list action-list checkbox t-margin-M"><div ng-class="{selected: ui.showRooms}" class="small-6 small-centered columns end"><a co-tap="toggleShowRooms()" class="row valign-middle action-header"><div class="small-2 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-10 name columns text-center"><div class="icon-center-line">{{\'Show rooms\'|tr}}</div></div></a></div></div><hr ng-if="features.isRooms"/><div class="row simple-list action-list checkbox t-margin-S"><div ng-repeat="deviceType in sortedDeviceTypes" co-tap="toggleDeviceType(deviceType.id)" ng-class="{checked:deviceType.selected, selected:ideviceType.selected, end: $last}" class="device small small-4 tall text-center columns"><div class="container"><i ng-class="deviceType.icon" class="icon"></i></div><div class="name"> {{deviceType.id+\'-devices\'|tr}} ({{deviceType.count}})</div><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></div></div><div class="row simple-list action-list checkbox t-margin-S"><div ng-class="{selected: isAllDeviceTypesSelected}" class="small-6 small-centered columns end"><a co-tap="toggleAllDeviceTypes(!isAllDeviceTypesSelected)" class="row valign-middle action-header"><div class="small-2 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-10 name columns text-center"><div class="icon-center-line">{{\'Select all\'|tr}}</div></div></a></div></div></div></form>'),e.join("")}}),require.register("devices/template-devices-list.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div co-tap="openFilterModal()" class="row main-view no-top valign-middle top-page button"><div class="small-2 columns"><i class="con"><div ng-if="filter.icon" ng-class="filter.icon" class="icon type"></div></i></div><div class="small-8 columns"><h3><div class="icon-center-line trunc">{{filter.deviceTypeNames}}</div></h3></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow down"></div></i></div></div><div ng-if="!features.isRooms||!ui.showRooms" class="row"><small-12 ng-if="ui.mode==MODE.VIEW" class="columns"><div ng-if="!isDevices()" class="row waiting"><span></span><span></span><span></span></div><ul ng-if="isDevices()" class="small-block-grid-4 medium-block-grid-6 large-block-grid-12 scroll-y"><li ng-repeat="device in sortedDevices" ng-if="!device.hide" co-tap="tapAction(device)" co-hold="holdAction(device)" class="grid-item"><div id="dd-{{device.id}}" ng-class="{unknown: !device.state.reachable, blink: device.busy==true}" class="device"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.styleClasses" ng-class="device.styleClasses" class="circle"></div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone">{{device.state.humidity| number:1}}%</div><div ng-if="device.types.GROUP" class="count">{{device.count}}</div></i></div><div ng-class="{unknown: !device.state.reachable}" class="name"><span>{{device.name}}</span></div></div></li></ul></small-12><div ng-if="ui.mode==MODE.EDIT" class="small-12 columns"><ul ng-if="isDevices()" class="small-block-grid-4 medium-block-grid-6 large-block-grid-12 scroll-y"><li ng-repeat="device in sortedDevices" ng-if="!device.hide" co-tap="tapAction(device)" co-hold="holdAction(device)" co-dd="{{$index}}" co-dd-item-id="dd-{{device.id}}" co-dd-drop-cb="dropDev(from, to)" class="grid-item"><div id="dd-{{device.id}}" ng-class="{unknown: !device.state.reachable, blink: device.busy==true}" class="device"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.styleClasses" ng-class="device.styleClasses" class="circle"></div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone">{{device.state.humidity| number:1}}%</div><div ng-if="device.types.GROUP" class="count">{{device.count}}</div></i></div><div ng-class="{unknown: !device.state.reachable}" draggable="true" class="name"><i ng-if="ui.mode==MODE.EDIT" class="con small"><div class="icon icon-editpen"></div></i><span>{{device.name}}</span></div></div></li></ul></div></div><div ng-if="features.isRooms&amp;&amp;ui.showRooms" class="row"><div ng-if="ui.mode==MODE.VIEW" class="small-12 columns lr-padding-0"><div ng-if="!isDevices()" class="row waiting"><span></span><span></span><span></span></div><ul ng-if="isDevices()" ng-repeat="room in rooms track by room.id" class="small-block-grid-4 medium-block-grid-6 large-block-grid-12 scroll-y simple-list action-list"><li ng-class="{open:room.selected}" co-tap="selectRoom(room)" class="grid-item-header valign-middle action-header"><div class="row"><div class="small-10 columns"><div class="icon-center-line">{{room.name}}  ({{sortedDevices[room.name].length}})</div></div><div class="small-2 columns"><i class="con"><div ng-class="{down:room.selected}" class="icon icon-cornerarrow"></div></i></div></div></li><li ng-repeat="device in sortedDevices[room.name]" ng-if="room.selected &amp;&amp; !device.hide" co-tap="tapAction(device)" co-hold="holdAction(device)" class="grid-item"><div id="dd-{{device.id}}" ng-class="{unknown: !device.state.reachable, blink: device.busy==true}" class="device"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.styleClasses" ng-class="device.styleClasses" class="circle"></div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone">{{device.state.humidity| number:1}}%</div><div ng-if="device.types.GROUP" class="count">{{device.count}}</div></i></div><div ng-class="{unknown: !device.state.reachable}" class="name"><span>{{device.name}}</span></div></div></li></ul></div><div ng-if="ui.mode==MODE.EDIT" class="small-12 columns lr-padding-0"><ul ng-if="isDevices()" ng-repeat="room in rooms track by room.id" class="small-block-grid-4 medium-block-grid-6 large-block-grid-12 scroll-y simple-list action-list"><li ng-class="{open:room.selected}" co-tap="selectRoom(room)" class="grid-item-header valign-middle action-header"><div class="row"><div class="small-10 columns"><div class="icon-center-line">{{room.name}} ({{sortedDevices[room.name].length}})</div></div><div class="small-2 columns"><i class="con"><div ng-class="{down:room.selected}" class="icon icon-cornerarrow"></div></i></div></div></li><li ng-repeat="device in sortedDevices[room.name]" ng-if="room.selected &amp;&amp; !device.hide" co-tap="tapAction(device)" co-hold="holdAction(device)" co-dd="{{$index}}" co-dd-item-id="dd-{{device.id}}" co-dd-drop-cb="dropDev(from, to)" class="grid-item"><div id="dd-{{device.id}}" ng-class="{unknown: !device.state.reachable, blink: device.busy==true}" class="device"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.styleClasses" ng-class="device.styleClasses" class="circle"></div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone">{{device.state.humidity| number:1}}%</div><div ng-if="device.types.GROUP" class="count">{{device.count}}</div></i></div><div ng-class="{unknown: !device.state.reachable}" draggable="true" class="name"><i ng-if="ui.mode==MODE.EDIT" class="con small"><div class="icon icon-editpen"></div></i><span>{{device.name}}</span></div></div></li></ul></div></div><div co-include="\'/template-devices-filter.tpl.html\'" ng-if="menu.modalPage==&quot;DeviceFilter&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("devices/template-devices-name.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="row main-view"><div ng-include=" \'/partitial-devices-settings.tpl.html\' " ng-if="viewMode==&quot;controls&quot; "></div></form><div ng-include="\'/template-rooms.tpl.html\'" ng-if="menu.modalPage==&quot;ShowAddRooms&quot;" ng-controller="RoomsCtrl" class="slide-animate"></div>'),e.join("")}}),require.register("devices/template-devices.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div id="devices" ui-view="devices" autoscroll="false"></div>'),e.join("")}}),require.register("devices/index.js",function(e,t){var n,i,r,s,o,a,l,c,u;t("./srv-devices"),i=t("./ctrl-detail"),s=t("./ctrl-detail-light"),o=t("./ctrl-detail-media"),r=t("./ctrl-detail-camera"),a=t("./ctrl-detail-remote-control"),l=t("./ctrl-detail-uidev"),c=t("./ctrl-group"),n=t("./ctrl-devices-add"),u=t("./ctrl-list"),angular.module("appCtrls").controller("DeviceGroupCtrl",["$rootScope","$scope","$state","$stateParams","$log","DevicesSrv","ConnectSrv","i18nSrv",c]).controller("DeviceAddCtrl",["$rootScope","$scope","$state","$stateParams","$interval","$timeout","$log","DevicesSrv","ConnectSrv","i18nSrv",n]).controller("DeviceListCtrl",["$rootScope","$scope","$state","$log","$timeout","$q","DevicesSrv","ConnectSrv","i18nSrv","RulesSrv","RoomsSrv",u]).controller("DeviceDetailCtrl",["$rootScope","$scope","$state","$stateParams","$timeout","$log","DevicesSrv","ConnectSrv","i18nSrv",i]).controller("DeviceDetailCtrl.Light",["$rootScope","$scope","$state","$stateParams","$timeout","$log","DevicesSrv","i18nSrv",s]).controller("DeviceDetailCtrl.Media",["$rootScope","$scope","$state","$stateParams","$timeout","$log","DevicesSrv","i18nSrv",o]).controller("DeviceDetailCtrl.UIDev",["$rootScope","$scope","$state","$stateParams","$timeout","$log","DevicesSrv","i18nSrv",l]).controller("DeviceDetailCtrl.Camera",["$rootScope","$scope","$state","$stateParams","$timeout","$log","DevicesSrv","i18nSrv",r]).controller("DeviceDetailCtrl.RemoteControl",["$rootScope","$scope","$state","$stateParams","$timeout","$log","$q","DevicesSrv","i18nSrv","ScenesSrv","RulesSrv",a])}),require.register("devices/ctrl-detail-camera.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t){var n,i;return i=function(){return t.device=t.$parent.device},i(),n=e.$on("DEVICE_CHANGED",function(){return t.device.busy?void 0:(t.device=t.$parent.device,i())}),t.$on("$destroy",function(){return n()})}}),require.register("devices/ctrl-detail-light.js",function(e,t,n){var i,r;t("drv-color-picker"),r=window.lodash,i=window.Spectra,n.exports=function(e,t,n,s,o,a,l){var c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C;return S=void 0,j=void 0,T=void 0,w=void 0,A=void 0,t.light={brightness:0,temperature:-1,hue:-1,saturation:0,pickerHex:"#ffffff",pickerHexNegatio:"#000000",toggleColorPicker:!1,colorsSelected:!1,historyColors:void 0,historyColorsSelected:void 0,transitionChecked:!1,transitionMin:0,transitionMin:void 0},l.getColorHistory().then(function(e){return o(function(){return t.light.historyColors=e.slice().reverse()},100)}),t.removeColorHistory=function(){return l.removeColorHistory().then(function(e){return o(function(){return t.light.historyColors=e.slice().reverse()},100)})},m=function(e){return e*Math.PI/180},v=function(e){return 180*e/Math.PI},t.selectTransition100Msec=function(){return e.showModal("TimeRoller",["Select","wake up transition time"]),e.timeRoller.listItems=[0,1,5,10,15,20,30,40,50,60,90,120,240,360],e.timeRoller.selected=t.light.transitionMin||0===t.light.transitionMin?t.light.transitionMin:e.timeRoller.TIME_DEFAULT,e.timeRoller.name="time",e.timeRoller.unit="minutes"},t.setTimeRollerOk=function(){var n;return t.light.transitionChecked=!0,t.light.transitionMin=e.timeRoller.selected,(null!=(n=t.device)?n.state:void 0)&&(t.device.state.transitionMsec=60*e.timeRoller.selected*1e3),e.closeModal(),t.ui.sceneId?void 0:e.showModal("SceneSelection","Choose Scene(s)")},t.selectHistoryColor=function(e){var n;return t.light.historyColorsSelected=e,t.light.pickerHex=e,t.light.colorsSelected=!0,(null!=(n=t.device)?n.state:void 0)?(t.device.state.isOn=!0,t.device.state.temperature=-1,t.device.state.colorMode="ct"):void 0},f=function(){var e,n,i,r;return n=!1,"#000000"===t.light.pickerHex?!1:(7===t.light.pickerHex.length&&(e=t.light.pickerHex.slice(1,3),i=t.light.pickerHex.slice(3,5),r=t.light.pickerHex.slice(5,7),e===i&&e===r&&(n=!0)),n)},p=function(e){var t,n,i,r;return r=!1,"#000000"===e?!1:(7===e.length&&(i=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7),("ff"===i||"ff"===n||"ff"===t)&&(r=!0)),r)},C=function(e){var n,r,s,o,c;return t.light.pickerHex=e,(null!=(c=t.device)?c.state:void 0)?(t.device.state.colorMode="hs",o=i(e),r=o.negate(),t.light.pickerHexNegatio=r.hex(),n=h(o.value()),p(e)&&(s=l.getOldColor(t.device.id),s.brightness&&(n=s.brightness)),t.device.state.hue=m(o.hue()),t.device.state.saturation=o.saturationv(),t.device.state.brightness=n,l.setOldColor(t.device.id,{hue:t.device.state.hue,saturation:t.device.state.saturation,brightness:t.device.state.brightness}),t.light.brightness=100*n,w=angular.copy(t.light.brightness),a.debug("stopRecursiveBrightness",w),t.device.set()):void 0},t.updateColor=C,y=function(){var e;if(null!=(e=t.device)?e.state:void 0){if("hs"===t.device.state.colorMode)return t.light.colorsSelected=!0;if("ct"===t.device.state.colorMode)return t.light.colorsSelected=!1}},g=function(){var e,n,r,s;return(null!=(s=t.device)?s.state:void 0)?(y(),t.light.colorsSelected&&(n=l.getOldColor(t.device.id),n.hue&&(t.device.state.hue=n.hue),n.saturation&&(t.device.state.saturation=n.saturation),n.brightness&&(t.device.state.brightness=n.brightness)),e=void 0,-1!==e&&(e=v(t.device.state.hue)),r=i({h:e,s:t.device.state.saturation,v:t.device.state.brightness}),t.light.pickerHex=r.hex(),t.light.historyColorsSelected=t.light.pickerHex):void 0},h=function(e,t){return Math.round(e*Math.pow(10,t||4))/Math.pow(10,t||4)},t.brightColor=function(){var e;return e=i(t.light.pickerHex),e.value(1),e.hex()},t.setColorState=function(e,n){var i,r;if(n=null!=n?n:!0,t.light.colorsSelected=e,null!=(r=t.device)?r.state:void 0){if(!e)return t.device.state.colorMode="ct",t.device.state.isOn=!0,t.device.state.temperature=0,t.device.state.hue=-1,t.device.state.saturation=-1,t.device.set();if(e)return t.device.state.isOn=!0,t.device.state.temperature=-1,n&&(i=l.getOldColor(t.device.id),i.hue&&(t.device.state.hue=i.hue),i.saturation&&(t.device.state.saturation=i.saturation),i.brightness&&(t.device.state.brightness=i.brightness)),g(),t.device.state.colorMode="hs",t.device.set()}},E=function(){var e,n,i,s,o,c;if(!t.light.watchersSet)return t.light.watchersSet=!0,s=function(e,n){var i,r,s;if(e!==n&&(e>100&&(e=100),0>e&&(e=0),i=h(e/100),e=100*i,w!==e))return w=angular.copy(e),(null!=(r=t.device)?r.state:void 0)&&Math.abs(e-n)>1&&i!==t.device.state.brightness&&(a.debug("deviceDetailCtrl watch 'light.brightness': Change detected "+n+" -> "+e+" device (scope:"+t.device.state.brightness+")"),null!=(s=t.device)?s.state:void 0)?(t.device.state.isOn=!0,t.device.state.brightness=i,l.setOldColor(t.device.id,{hue:t.device.state.hue,saturation:t.device.state.saturation,brightness:t.device.state.brightness},t.device.set())):void 0},e=r.debounce(s,100),S=t.$watch("light.brightness",e),c=function(e,n){var i,r,s,o;if(e!==n&&(e>100&&(e=100),.05>e&&(e=0),r=-1,e>-1)){if(i=t.light.maxTemperature-t.light.minTemperature,r=e*i/100+t.light.minTemperature,A===e)return;if(A=angular.copy(e),(null!=(s=t.device)?s.state:void 0)&&Math.abs(Math.abs(e)-Math.abs(n))>1&&r!==t.device.state.temperature&&(a.debug("deviceDetailCtrl watch 'light.temperature': Change detected "+n+" -> "+e+" device"),(null!=(o=t.device)?o.state:void 0)&&(t.device.state.isOn=!0,t.device.state.temperature=r,r>0)))return t.light.colorsSelected=!1,t.device.state.colorMode="ct",t.device.state.hue=-1,t.device.state.saturation=-1,t.device.set()}},i=r.debounce(c,100),j=t.$watch("light.temperature",i),o=function(e,n){var i;if(e!==n)return e&&e!==n&&(a.debug("deviceDetailCtrl watch 'light.pickerHex': Change detected "+n+" -> "+e+" device"),null!=(i=t.device)?i.state:void 0)?(t.device.state.temperature=-1,t.device.state.isOn=!0,C(e)):void 0},n=r.debounce(o,100),T=t.$watch("light.pickerHex",n)},b=function(){var e,n,i,r,s;return(null!=(n=t.device)?n.state:void 0)&&(t.light.maxTemperature=null!=(i=t.device.state.maxTemperature)?i:1e4,t.light.minTemperature=null!=(r=t.device.state.minTemperature)?r:1e3,void 0!==t.device.state.brightness?(t.light.brightness=Math.round(100*t.device.state.brightness),a.debug("B-R",t.device.state.brightness)):t.light.brightness=50,void 0!==t.device.state.temperature?(e=t.light.maxTemperature-t.light.minTemperature,t.light.temperature=100*t.device.state.temperature/e-100*t.light.minTemperature/e,a.debug("T-R",t.device.state.temperature)):t.light.temperature=50,void 0!==t.device.state.hue&&(t.light.hue=t.device.state.hue),void 0!==t.device.state.saturation&&(t.light.saturation=t.device.state.saturation),void 0!==t.device.state.transitionMsec&&null!==t.device.state.transitionMsec&&(t.light.transitionMin=t.device.state.transitionMsec/6e4,t.light.transitionChecked=!0),l.setOldColor(t.device.id,{hue:t.device.state.hue,saturation:t.device.state.saturation,brightness:t.device.state.brightness})),(null!=(s=t.device)?s.state:void 0)&&void 0!==t.device.state.hue&&void 0!==t.device.state.saturation&&void 0!==t.device.state.brightness?(a.debug("H-R",t.device.state.hue),a.debug("S-R",t.device.state.saturation),g()):void 0},t.isHueOrSaturation=function(){var e;return(null!=(e=t.device)?e.state:void 0)?"hs"===t.device.state.colorMode:!1},e.menu&&(e.menu.show=!1,e.noSwipe=!0),b(),E(),d=e.$on("PICKED_COLOR",function(e,n){var i,r;if(t.device)return i=n.hex.toLowerCase(),(null!=(r=t.device)?r.state:void 0)&&(t.device.state.isOn=!0,t.device.state.colorMode="hs",t.device.state.temperature=-1),i!==t.light.pickerHex?(a.debug("deviceDetailCtrl PICKED_COLOR "+i),t.light.pickerHex=i,t.light.historyColorsSelected=t.light.pickerHex):void 0}),u=e.$on("HEADER_MODAL_CLOSE",function(e,n){var i;return i=n.oldPage,"ColorPalette"===i?l.addToColorHistory(t.light.pickerHex).then(function(e){return o(function(){return t.light.historyColors=e.slice().reverse()},100)}):void 0}),c=e.$on("DEVICE_CHANGED",function(){return t.device.busy?void 0:(S&&S(),j&&j(),T&&T(),t.light.watchersSet=!1,t.device=t.$parent.device,b(),E())}),t.$on("$destroy",function(){return d(),u(),c()})}}),require.register("devices/ctrl-detail-media.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a){var l,c,u,d,m,p,f,v,h,g,y,b;return b=void 0,y=void 0,t.content=[],t.playQueue=[],t.isEmpty=i.isEmpty,t.searchResults=[],l=localStorage.mediaSearch,l&&(t.searchResults=JSON.parse(l)),v=function(n){var i;return n=n||!0,(null!=(i=t.device)?i.getQueue:void 0)?t.device.getQueue(n).then(function(e){var n,i;return t.playQueue=e,t.media.currentTrack&&!t.media.currentTrackStream&&(n=(null!=(i=t.playQueue[t.media.currentTrack-1])?i.title:void 0)||void 0)?t.media.currentTrackAlbumTitle=n:void 0},function(t){return e.alert("Device read failed",t,!0)}):void 0},f=function(e){var n,i,r,s,o;s=t.content,o=[];for(i in s)r=s[i],o.push(function(){var i,s,o,a;for(o=r.child,a=[],i=0,s=o.length;s>i;i++)n=o[i],a.push(n.res.uri===e?t.media.currentTrackAlbumArtUri=n.albumArtURI:void 0);return a}());return o},p=function(){return t.device.getContent().then(function(e){return t.content=e,f(t.media.currentTrackUri)},function(t){return e.alert("Device read failed",t,!0)})},t.QUEUE_COMMAND=a.QUEUE_CMD,h=function(){var e,n,i,r,o,l,c,u,d,m,p,f,v,h,g,y,b,E,w;return a.getMediaViewMode()||a.setMediaViewMode("search"),(null!=(e=t.ui)?e.sceneId:void 0)&&a.setMediaViewMode("scene"),t.media={isPlay:null!=(n=t.device)?n.state.isOn:void 0,volume:(null!=(f=t.device)&&null!=(v=f.state)&&null!=(h=v.rcData)?h.volume:void 0)||0,bass:(null!=(g=t.device)&&null!=(y=g.state)&&null!=(b=y.rcData)?b.bass:void 0)||0,treble:(null!=(E=t.device)&&null!=(w=E.state)&&null!=(i=w.rcData)?i.treble:void 0)||0,loudness:(null!=(r=t.device)&&null!=(o=r.state)&&null!=(l=o.rcData)?l.loudness:void 0)||0,mute:(null!=(c=t.device)&&null!=(u=c.state)&&null!=(d=u.rcData)?d.mute:void 0)||0,current:(null!=(m=t.device)&&null!=(p=m.state)?p.avtData:void 0)||void 0,mode:a.getMediaViewMode(),source:a.mediaSource,sourceMode:a.mediaSourceMode},t.media.current?s(function(){var e,n,i,r,s,o,a;return t.media.currentTrack=t.media.current.currentTrack||1,t.media.currentTrackDuration=t.media.current.currentTrackDuration||void 0,t.media.currentTrackUri=t.media.current.currentTrackUri||void 0,t.media.currentTrackAlbumArtUri=(null!=(e=t.media.current.currentTrackMetadata)?e.albumArtURI:void 0)||void 0,t.media.currentTrackAlbum=(null!=(n=t.media.current.currentTrackMetadata)?n.album:void 0)||(null!=(i=t.media.current.currentTrackMetadata)?i.streamContent:void 0)||void 0,t.media.currentTrackStream=(null!=(r=t.media.current.currentTrackMetadata)?r.streamContent:void 0)||void 0,t.media.currentTrackAlbumTitle=(null!=(s=t.media.current.currentTrackMetadata)?s.title:void 0)||void 0,t.media.currentTrackAlbumType=(null!=(o=t.media.current.currentTrackMetadata)?o.type:void 0)||void 0,t.media.currentTrackCreator=(null!=(a=t.media.current.currentTrackMetadata)?a.creator:void 0)||void 0,t.media.numberOfTracks=t.media.current.numberOfTracks||void 0,t.media.currentTrackPlayMode=t.media.current.playMode||void 0}):void 0},g=function(){var n,r;return r=function(n,i){var r;return n=Math.round(n),n!==i&&(n>100&&(n=100),0>n&&(n=0),y!==n)?(r=n,y=angular.copy(n),o.debug("deviceDetailMediaCtrl watch 'media.volume': Change detected "+i+" -> "+n+" device (scope:"+t.media.volume+")"),t.device.state.rcData.volume=n,t.device.setRC().then(function(){return c()
},function(t){return e.alert("Device read failed",t,!0)})):void 0},n=i.debounce(r,100),b=t.$watch("media.volume",n)},t.toggleDevice=function(){return t.device.toggle()},t.showQueue=function(){return v(!0),t.media.mode="queue",a.setMediaViewMode(t.media.mode)},t.showFullPlayer=function(){return t.media.mode="player",a.setMediaViewMode(t.media.mode)},t.showSearch=function(){return e.closeModal(),t.media.mode="search",a.setMediaViewMode(t.media.mode)},t.playIt=function(e){return e&&t.device.playMedia(e),s(function(){return v(!0)},3e3)},t.repeat=function(e){var n;if(e)return n="NORMAL","NORMAL"===e.currentTrackPlayMode?n="REPEAT_ALL":"REPEAT_ALL"===e.currentTrackPlayMode?n="NORMAL":"SHUFFLE_NOREPEAT"===e.currentTrackPlayMode?n="SHUFFLE":"SHUFFLE"===e.currentTrackPlayMode&&(n="SHUFFLE_NOREPEAT"),e.currentTrackPlayMode=n,t.device.playMode(n)},t.shuffle=function(e){var n;if(e)return n="NORMAL","NORMAL"===e.currentTrackPlayMode?n="SHUFFLE_NOREPEAT":"REPEAT_ALL"===e.currentTrackPlayMode?n="SHUFFLE":"SHUFFLE_NOREPEAT"===e.currentTrackPlayMode?n="NORMAL":"SHUFFLE"===e.currentTrackPlayMode&&(n="REPEAT_ALL"),e.currentTrackPlayMode=n,t.device.playMode(n)},t.prev=function(){return t.queueAction(t.QUEUE_COMMAND.PREVIOUS)},t.next=function(){return t.queueAction(t.QUEUE_COMMAND.NEXT)},c=function(){var e,n,i,r,s,o,a;return(null!=(e=t.device)?e.state.isOn:void 0)?t.media.isPlay=!0:"PLAYING"===(n=null!=(i=t.device)&&null!=(r=i.state)?r.avtData.state:void 0)?(t.media.isPlay=!0,t.device.state.isOn=!0):"PAUSED_PLAYBACK"===(s=null!=(o=t.device)&&null!=(a=o.state)?a.avtData.state:void 0)?(t.media.isPlay=!1,t.device.state.isOn=!1):void 0},t.togglePlay=function(){return t.media.isPlay?(t.media.isPlay=!1,t.device.state.isOn=!1,t.queueAction(t.QUEUE_COMMAND.PAUSE)):(t.media.isPlay=!0,t.device.state.isOn=!0,t.queueAction(t.QUEUE_COMMAND.PLAY))},t.queueAction=function(n,i){return t.device.busy?void 0:t.device.setQueue(n,i).then(function(){return c()},function(t){return e.alert("Device read failed",t,!0)})},m=!1,t.doSearch=function(e){return a.viewMode=t.media.mode="search",m||i.isEmpty(e)?void 0:(m=!0,t.device.searchMedia(e).then(function(e){var n,r;return t.searchResults=e,i.isEmpty(e)||(localStorage.mediaSearch=JSON.stringify(function(){var t,i,s;for(s=[],n=t=0,i=e.length;i>t;n=++t)r=e[n],11>n&&s.push(r);return s}())),m=!1},function(e){return rootScope.alert("Device search failed",e,!0),m=!1}))},t.showOptions=function(n,i,r){var s,o,l;if(n&&i&&(("player"===i||"mini-player"===i)&&(t.media.currentTrackStream?(n.title=t.media.currentTrackAlbumTitle,n.albumArtURI=t.media.currentTrackAlbumArtUri):t.media.currentTrack&&(n=(null!=(s=t.playQueue)?s[t.media.currentTrack-1]:void 0)||void 0,n&&(n.albumArtURI=t.media.currentTrackAlbumArtUri||void 0))),n))return n.currentTrackPlayMode=(null!=(o=n.res)&&null!=(l=o.uri)?l.toLowerCase().indexOf(!0):void 0)?"NORMAL":void 0,n.currentTrackIndex=null!=r?r:void 0,a.mediaSource=t.media.source=n,a.mediaSourceMode=t.media.sourceMode=i,e.showModal("MediaOptions"," ")},t.openSaveToScenes=function(n){return n?(e.closeModal(),"queue"===n.sourceMode?t.queueAction(t.QUEUE_COMMAND.SEEK,n.source.currentTrackIndex):"search"===n.sourceMode&&t.playIt(n.source),t.media.mode="scene",a.setMediaViewMode(t.media.mode)):void 0},t.saveToScenes=function(){return e.showModal("SceneSelection","Choose Scene(s)")},v(!0),t.device=t.$parent.device,h(),g(),u=e.$on("DEVICE_CHANGED",function(){var e,n,i;return t.device.busy||(b(),t.device=t.$parent.device,h(),g()),t.media.currentTrack&&!t.media.currentTrackStream&&(e=(null!=(n=t.playQueue)&&null!=(i=n[t.media.currentTrack-1])?i.title:void 0)||void 0)?t.media.currentTrackAlbumTitle=e:void 0}),d=e.$on("HEADER_MODAL_CLOSE",function(){return o.info("Modal colse")}),t.$on("$destroy",function(){return u(),d()})}}),require.register("devices/ctrl-detail-remote-control.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l,c,u,d){var m,p,f,v,h,g,y,b;return h=void 0,b=void 0,y=function(){return d.getRulesByDeviceInput(t.device,["ONOFF_RC_RULE","SCENE_ON_RC_RULE"]).then(function(e){var n,r,s,o,a,l,c,u,d,m;t.rules=e,m=[];for(a in e){for(o=e[a],r=o.config.extras.off_button[0].value,d=t.device.buttons,c=0,u=d.length;u>c;c++)n=d[c],r===n.id&&(n.hasRule=!0,n.rule=o);r=o.config.extras.on_button[0].value,m.push(function(){var e,a,c,u,d,m,p,f,v,g;for(p=t.device.buttons,g=[],e=0,u=p.length;u>e;e++)if(n=p[e],r===n.id){if(n.hasRule=!0,n.rule=o,n.outputs={},n.rule.config.outputs.devices)for(f=n.rule.config.outputs.devices,a=0,d=f.length;d>a;a++)s=f[a],h[s]&&(n.outputs[s]=h[s]);else if(n.rule.config.outputs.scenes)for(v=n.rule.config.outputs.scenes,c=0,m=v.length;m>c;c++)l=v[c],b[l]&&(n.outputs[l]=b[l]);g.push(n.outputsCount=i.size(n.outputs))}else g.push(void 0);return g}())}return m})},g=function(){var n,i,r,s,o,a;for(t.device=t.$parent.device,a=t.device.buttons,s=0,o=a.length;o>s;s++)n=a[s],n.hasRule=!1,n.hasTemplate=!1,n.rule={},n.outputs={},n.outputsCount=0,n.isOn=!1,n.id%2&&(n.isOn=!0),t.device.buttons.length>2?(i=n.label.lastIndexOf(" "),-1!==i?(i&&(n.shortLabel=n.label.substring(0,i)),r=n.shortLabel.lastIndexOf(" "),-1!==r&&r&&(n.shortLabel=n.shortLabel.substring(r))):n.shortLabel=n.label):n.shortLabel="";return"ShowRCRule"===e.menu.modalPage?t.selectedButton=d.selectedButton:y()},a.all([l.list(),u.list()]).then(function(t){var r,s;h=t[0],b=t[1];for(r in b)s=b[r],s.iconClasses=s.icon;return i.isEmpty(h)||i.isEmpty(b)?(e.alert("Device read failed",reason,!0),n.go("^")):g()},function(t){return e.alert("Device read failed",t,!0),n.go("^")}),t.FIELDTYPE=d.FIELDTYPE,t.saveRule=function(t){return e.$emit("RULE_DONE",{button:t}),e.closeModal()},t.showRulesFor=function(t){return d.selectedButton=angular.copy(t),t.hasRule?e.showModal("ShowRCRule","Edit Rule"):e.showModal("ShowRCRule","Add Rule")},m=e.$on("DEVICE_CHANGED",function(){return t.device.busy?void 0:(t.device=t.$parent.device,g())}),f=e.$on("RULES_LIST_CHANGED",function(){return g()}),p=e.$on("RULE_REMOVED",function(){return e.closeModal(),g()}),v=e.$on("TEMPLATE_SELECTED",function(n,i){var r;return e.closeAllModals(),r=i.button,r?(r.hasTemplate=!0,t.showRulesFor(r)):void 0}),t.$on("$destroy",function(){return m(),p(),v()})}}),require.register("devices/ctrl-detail-uidev.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,i,r,s){var o,a;return t.uiDev={awayThreshold:10},a=function(){return t.device&&t.device.awayThreshold?t.uiDev.awayThreshold=t.device.awayThreshold/6e4:void 0},t.selectTime=function(){return e.showModal("TimeRoller",["Select","away treshold"]),e.timeRoller.listItems=[5,10,15,20,30,45,60,90,120],e.timeRoller.selected=t.uiDev.awayThreshold,e.timeRoller.name="time",e.timeRoller.unit="minutes"},t.setTimeRollerOk=function(){return t.uiDev.awayThreshold=e.timeRoller.selected,t.device.setAwayThreshold(60*e.timeRoller.selected*1e3).then(function(){return s.debug("deviceDtailCtrl.UIDev setTimeRollerOk set to ",t.uiDev.awayThreshold)},function(){return e.alert("Device update failed")}),e.closeModal()},a(),o=e.$on("DEVICE_CHANGED",function(){var e,n;return!t.device.busy&&(null!=(e=t.$parent)?e.device:void 0)?(t.device=null!=(n=t.$parent)?n.device:void 0,a()):void 0}),t.$on("$destroy",function(){return o()})}}),require.register("devices/ctrl-detail.js",function(e,t,n){var i;t("drv-gauge"),i=window.lodash,n.exports=function(e,n,r,s,o,a,l,c,u){var d,m,p,f,v,h,g,y,b,E,w;return n.ui={title:"Device",watchersSet:!1,modalPage:void 0,sceneId:void 0,ruleId:void 0,settingsChanged:!1,name:void 0,deleteBusy:!1,deleteButtonText:u.tr("IGNORE THIS DEVICE"),room:{id:0,name:u.tr("No specific room")}},w=void 0,E=void 0,t("./ctrl-detail-light"),t("./ctrl-detail-media"),t("./ctrl-detail-camera"),e.noSwipe=!0,y=function(t){var i,s,o,a,c;return n.viewMode=l.getViewMode(),"controls"!==n.viewMode?e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:"none",add:!1,settings:!1,previous:function(){return n.ui.settingsChanged?n.saveSettings():(l.setViewMode("controls"),b(n.device))}}):("c.home.devices-detail"!==(null!=r&&null!=(i=r.current)?i.name:void 0)||e.menu.modalPage||e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:t,add:!1,settings:!0,previous:function(){return r.go("c.home")},preset:!1}),"c.home.devices-name"!==(null!=r&&null!=(s=r.current)?s.name:void 0)||e.menu.modalPage||e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:"none",add:!1,settings:!1,previous:function(){return n.ui.settingsChanged&&n.saveSettings(),r.go("c.home")},preset:!1}),"c.home.devices-detail-scene"===(null!=r&&null!=(o=r.current)?o.name:void 0)&&e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:t,add:!1,settings:!1,previous:"c.home.scene-detail",previousPar:{sceneId:n.ui.sceneId},preset:!0}),"c.home.devices-detail-rule"===(null!=r&&null!=(a=r.current)?a.name:void 0)&&e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:t,add:!1,settings:!1,previous:"c.home.rule-detail",previousPar:{ruleId:n.ui.ruleId},preset:!0}),"c.home.devices-detail-scene-rule"===(null!=r&&null!=(c=r.current)?c.name:void 0)?e.$emit("HEADER_UPDATE",{show:!0,mode:"none",title:n.device.name,onoff:t,add:!1,settings:!1,previous:"c.home.scene-detail",previousPar:{sceneId:n.ui.sceneId,ruleId:n.ui.ruleId||void 0},preset:!0}):void 0)},b=function(t){var n,i,r;if(!e.menu.modalPage)return i=void 0,n=void 0,(null!=t&&null!=(r=t.features)?r.isOn:void 0)?(i=t.state.isOn?"on":"off",n="view",t.isNameable&&(n="edit")):t.isNameable&&(n="edit",i="none"),y(i,n)},g=function(t){return l.load(t).then(function(t){var r,s,o,c;if(a.debug("deviceDtailCtrl _readDevice: Device read",t),i.isEmpty(n.device)){for(l.setViewMode("controls"),n.ui.name=t.name,s=l.getRooms(),o=0,c=s.length;c>o;o++)r=s[o],r.id===t.room[0]&&(n.ui.room=r);n.device=angular.copy(t),b(n.device)}return t.changed&&(n.device=angular.copy(t),b(n.device),e.$emit("DEVICE_CHANGED")),n.viewMode=l.getViewMode()},function(t){return e.alert("Device read failed",t,!0)})},n.viewMode=void 0,n.update=function(t){return l.set(t).then(function(e){return a.debug("deviceDetailCtrl $scope.update: Device updated",e)},function(t){return e.alert("Device update failed",t,!0)})},n.saveSettings=function(){return n.device.setMetaData?n.device.setMetaData(n.ui.name,[n.ui.room]).then(function(){return n.device.room=[n.ui.room],l.setViewMode("controls"),b(n.device),n.ui.settingsChanged=!1,e.notifyOk("Saved",!0,1e3)},function(){}):void 0},n.changeName=function(){return n.device.isNameable&&n.device.setMetaData&&!i.isEmpty(n.ui.name)?n.ui.settingsChanged=!0:void 0},n.ignoreDevice=function(){var t;return t=u.tr("Ignore _device_ ?",{device:n.device.name}),e.modalConfirm(t,function(){return function(e){return e?(n.ui.deleteBusy=!0,n.ui.deleteButtonText=u.tr("DELETING")+"...",n.device.ignore().then(function(){return n.ui.deleteBusy=!1,n.ui.deleteButtonText=u.tr("IGNORE THIS DEVICE"),r.go("c.home")},function(){return n.ui.deleteBusy=!1,n.ui.deleteButtonText=u.tr("IGNORE THIS DEVICE")})):void 0}}(this))},n.dropDev=function(t,i){var r,s;return r=t.split(":"),3===r.length&&(s=r[2]),s&&"group-remove"===i?n.device.removeDevice(s).then(function(){return a.debug("deviceDetailCtrl dropDev: Device removed from group ok")},function(t){return e.alert("Device remove from group failed",t,!0),e.$emit("GRID_CHANGE_REQUEST")}):e.$emit("GRID_CHANGE_REQUEST")},n.removeDevices=l.remove,n.init=function(){return g(s.deviceId),a.debug("deviceDetailCtrl initialize: Initialized!"),s.sceneId&&r.current.name&&(n.ui.sceneId=s.sceneId),s.ruleId&&r.current.name&&(n.ui.ruleId=s.ruleId),n.ui.cameraUrl="http://samplestreamseu.streaming.mediaservices.windows.net/60d15401-a440-4f1f-bb97-0e1ffa2ff17d/76474ddb-f917-4b1a-9f13-042ed1365e4e.ism/manifest"},n.init(),d=e.$on("DEVICES_LIST_CHANGED",function(){return g(s.deviceId)}),h=e.$on("ROOM_ATTACHED",function(e,t){var i;return i=t.room,((null!=i?i.id:void 0)||0===(null!=i?i.id:void 0))&&n.device?(n.ui.settingsChanged=!0,n.ui.room=i):void 0}),v=e.$on("HEADER_TITLE_CHANGED",function(e,t){var i;return i=t.title,a.debug("deviceDetailCtrl Title "+i+" change for ",n.device),n.device.isNameable&&n.device.setMetaData?n.device.setMetaData(i):void 0}),p=e.$on("HEADER_ONOFF_CHANGED",function(e,t){var i;return i=t.onoff,n.device.toggle()}),f=e.$on("HEADER_SETTINGS_CHANGED",function(e,t){var i;return i=t.settings,l.setViewMode("settings"),b(n.device)}),m=e.$on("HEADER_MODAL_CLOSE",function(){return b(n.device)}),n.$on("$destroy",function(){return a.debug("deviceDetailCtrl: $destroy call"),d(),h(),v(),p(),f(),m()})}}),require.register("devices/ctrl-devices-add.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l,c,u){var d,m,p,f,v,h,g,y;return e.noSwipe=!0,t.STATES={SELECT_MAIN:"SELECT_MAIN",SELECT_ZIGBEE:"SELECT_ZIGBEE",SELECT_DEVICES:"SELECT_DEVICES",SELECT_433_MANUFACTURER:"SELECT_433_MANUFACTURER",SELECT_433_DEVICES:"SELECT_433_DEVICES",SELECT_DEVICE_1:"SELECT_DEVICE_1",SELECT_DEVICE_2:"SELECT_DEVICE_2"},t.ui={time:0,state:t.STATES.SELECT_MAIN,selectedManufacturer:void 0,is433s:!1,manufacturers:{Sonos:{SONOS_PLAY:{name:u.tr("Adding Sonos play"),action:function(){return t.ui.state=t.STATES.SELECT_DEVICE_1,t.ui.selectedDeviceType="SONOS_PLAY",t.ui.selectedDeviceName=u.tr("Adding Sonos play"),t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding Wi-Fi device instructions 1")},step2:{index:2,text:u.tr("Adding Wi-Fi device instructions 2")},step3:{index:3,text:u.tr("Adding instructions last")},action:function(){return n.go("^")},cancel:function(){return t.ui.state=t.STATES.SELECT_MAIN}}}}}},Nyce:{NYCE_ZIGBEE:{name:u.tr("Adding Nyce"),action:function(){return t.selectZigbeeDevice("Nyce")}}},Osram:{OSRAM_ZIGBEE:{name:u.tr("Adding Osram"),action:function(){return t.selectZigbeeDevice("Osram")}}},Wemo:{WEMO_BULB:{name:u.tr("Adding WeMo Bulbs"),action:function(){return t.selectZigbeeDevice("WeMo")}},WEMO_SWITCH:{name:u.tr("Adding WeMo Switch"),action:function(){return t.ui.state=t.STATES.SELECT_DEVICE_1,t.ui.selectedDeviceType="WEMO_SWITCH",t.ui.selectedDeviceName=u.tr("Adding WeMo Switch"),t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding Wi-Fi device instructions 1")},step2:{index:2,text:u.tr("Adding Wi-Fi device instructions 2")},step3:{index:3,text:u.tr("Adding instructions last")},action:function(){return n.go("^")},cancel:function(){return t.ui.state=t.STATES.SELECT_MAIN}}}}}},Philips:{PHILIPS_BULB:{name:u.tr("Adding Hue Bulbs"),action:function(){return t.selectZigbeeDevice("Philips")}},PHILIPS_BRIDGE:{name:u.tr("Adding Hue Bridge"),action:function(){return t.ui.state=t.STATES.SELECT_DEVICE_1,t.ui.selectedDeviceType="PHILIPS_BRIDGE",t.ui.selectedDeviceName=u.tr("Adding Hue Bridge"),t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding Hue Bridge instructions 1")},step2:{index:2,text:u.tr("Adding Hue Bridge instructions 2")},action:function(){return t.addHueBridges()},cancel:function(){return t.ui.state=t.STATES.SELECT_MAIN}},view2:{step1:{index:3,text:u.tr("Adding instructions last")},action:function(){return n.go("^")}}}}}}},devices:{},manufacturersFor433:{},selectedDevice:{},wizard:{}},e.$emit("HEADER_PAGE",{show:!0,title:u.tr("Add devices"),previous:function(){switch(t.ui.state){case t.STATES.SELECT_MAIN:return n.go("c.home");case t.STATES.SELECT_ZIGBEE:return t.ui.state=t.STATES.SELECT_MAIN,t.ui.wizard={},v();case t.STATES.SELECT_433_MANUFACTURER:case t.STATES.SELECT_DEVICES:case t.STATES.SELECT_DEVICE_1:return t.ui.state=t.STATES.SELECT_MAIN,t.ui.wizard={};case t.STATES.SELECT_433_DEVICES:return t.ui.state=t.STATES.SELECT_MAIN;case t.STATES.SELECT_DEVICE_2:return t.ui.state=t.STATES.SELECT_DEVICE_1;default:return n.go("c.home")}}}),t.returnIgnoredDevices=function(){return l.returnIgnoredDevices().then(function(){return e.notify("Ignored devices returned",!0),n.go("^")})},l.get433Devices().then(function(e){var n,i,r,s;for(i=0,r=e.length;r>i;i++)n=e[i],t.ui.is433s=!0,n.id&&n.manufacturer&&(t.ui.manufacturersFor433[n.manufacturer]||(t.ui.manufacturersFor433[n.manufacturer]=[]),t.ui.manufacturersFor433[n.manufacturer].push(n));return null!=(null!=(s=t.ui.manufacturersFor433)?s.Proove:void 0)?(t.ui.manufacturersFor433.Proove.push({id:"PROOVE_TEMPERATURE",manufacturer:"Proove",name:u.tr("Proove temperature"),type:"433_PAIR_INFO"}),t.ui.manufacturersFor433.Proove.push({id:"PROOVE_MULTISENSOR",manufacturer:"Proove",name:u.tr("Proove multisensor"),type:"433_PAIR_INFO"})):void 0}),t.show433Manufacturers=function(e){return t.ui.selectedManufacturer=e,t.ui.state=t.STATES.SELECT_433_MANUFACTURER},t.showDevices=function(e,n){var r,s,o;if(t.ui.selectedManufacturer=e,t.ui.devices=n,1===i.size(n)){o=[];for(s in n)r=n[s],o.push(r.action());return o}return t.ui.state=t.STATES.SELECT_DEVICES},t.show433Devices=function(e,n){return t.ui.selectedManufacturer=e,t.ui.devicesFor433=n,t.ui.state=t.STATES.SELECT_433_DEVICES},m=function(e){return l.pair433Device(e)},p=void 0,f=function(){return p?(s.cancel(p),p=void 0):void 0},h=function(e,n,i,r){var o;return o=t.ui.wizard[e][n][i],p?void 0:p=s(function(){return function(){return t.ui.wizard[e][n][i]<=0&&(f(),t.ui.wizard[e][n][i]=o,r&&r()),t.ui.wizard[e][n][i]--}}(this),1e3,0,!1)},t.add433Device=function(e,i){return o(function(){switch(t.ui.selected433DeviceType=e,t.ui.selectedDeviceName=i,t.ui.state=t.STATES.SELECT_DEVICE_1,e){case"PROOVE_DIM_SWITCH":case"PROOVE_SWITCH":case"NEXA_SWITCH":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz socket instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz socket instructions 1_2")},step3:{index:3,text:u.tr("Adding 433 MHz socket instructions 1_3")},action:function(){return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz socket instructions 2_1")},action:function(){return n.go("^")}}};break;case"PROOVE_TEMPERATURE":case"PROOVE_MULTISENSOR":t.ui.wizard={view1:{note0:{index:"!",text:u.tr("Adding 433 MHz multi sensor instructions 1_0")},step1:{index:1,text:u.tr("Adding 433 MHz multi sensor instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz multi sensor instructions 1_2")},step3:{index:3,text:u.tr("Adding 433 MHz multi sensor instructions 1_3")},action:function(){return m(e,i),n.go("^")}}};break;case"PROOVE_RC":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz rc instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz rc instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz rc instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz rc instructions 2_2")},action:function(){return n.go("^")}}};break;case"NEXA_RC":case"NEXA_KEYFOB":case"NEXA_RC2":case"NEXA_LCD_RC":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz rc nexa instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz rc nexa instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz rc nexa instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz rc nexa instructions 2_2")},action:function(){return n.go("^")}}};break;case"PROOVE_MOTION":case"NEXA_MOTION":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz motion instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz motion instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,"PROOVE_MOTION"===e?((null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})):void 0}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz motion instructions 2_1")},step2:{index:4,text:u.tr("Adding 433 MHz motion instructions 2_2")},step3:{index:5,text:u.tr("Adding 433 MHz motion instructions 2_3")},action:function(){return"PROOVE_MOTION"===e&&f(),n.go("^")}}},"NEXA_MOTION"===e?t.ui.wizard.view2.step1.text=u.tr("Adding 433 MHz motion nexa instructions 2_1"):t.ui.wizard.view2.step1.connectionTime=10;break;case"PROOVE_CONTACT":case"NEXA_CONTACT":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz contact instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz contact instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz contact instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz contact instructions 2_2")},step3:{index:5,text:u.tr("Adding 433 MHz contact instructions 2_3")},action:function(){return f(),n.go("^")}}};break;case"NEXA_DOORBELL":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz doorbell instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz doorbell instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz doorbell instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz doorbell instructions 2_2")},action:function(){return n.go("^")}}};break;case"NEXA_TWILIGHT":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz twilight instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz twilight instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz twilight instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz twilight instructions 2_2")},step3:{index:5,text:u.tr("Adding 433 MHz twilight instructions 2_3")},action:function(){return f(),n.go("^")}}};break;case"NEXA_WALLSWITCH1":case"NEXA_WALLSWITCH2":t.ui.wizard={view1:{step1:{index:1,text:u.tr("Adding 433 MHz wallswitch instructions 1_1")},step2:{index:2,text:u.tr("Adding 433 MHz wallswitch instructions 1_2")},action:function(){var n;return m(e,i),t.ui.state=t.STATES.SELECT_DEVICE_2,(null!=(n=t.ui.wizard.view2)?n.step1:void 0)&&(t.ui.wizard.view2.step1.connectionTime=10),h("view2","step1","connectionTime",function(){return t.ui.wizard.view2.step1.connectionTime=0})}},view2:{step1:{index:3,text:u.tr("Adding 433 MHz wallswitch instructions 2_1"),connectionTime:10},step2:{index:4,text:u.tr("Adding 433 MHz wallswitch instructions 2_2")},action:function(){return n.go("^")}}};break;default:t.ui.wizard={view1:{step1:{index:1,text:u.tr("Unknown 433 Mhz device type")},action:function(){return n.go("^")}}}}return t.ui.wizard.view1.cancel=function(){return t.ui.state=t.STATES.SELECT_MAIN}},300)},t.addHueBridges=function(){return e.noSwipe=!1,l.addHueBridges().then(function(n){return a.debug("SeviceAddCtrl: Device addHueBridge ok",n),i.isEmpty(n)||n[0].success?t.ui.state=t.STATES.SELECT_DEVICE_2:n[0].description?e.alert(n[0].description,null,!1):(e.alert("Adding new devices failed",null,!0),t.ui.state=t.STATES.SELECT_MAIN)},function(n){return a.error("SeviceAddCtrl: Device addHueBridge failed ",n),e.alert("Adding new devices failed",null,!0),t.ui.state=t.STATES.SELECT_MAIN})},t.returnToMain=function(){return n.go("^")},t.cancelToMain=function(){return v(),t.ui.state=t.STATES.SELECT_MAIN},t.selectZigbeeDevice=function(n){return t.ui.state=t.STATES.SELECT_ZIGBEE,t.ui.selectedManufacturer=n?u.tr("Adding _name_ devices",{name:n}):u.tr("Adding Zigbee devices"),e.notify("Zigbee channel selection started",!0,15e3),l.addZigbeeDevices().then(function(t){return e.alertOff(),g(),a.debug("SeviceAddCtrl: Device addZigbeeDevices ok",t)},function(t){return v(),a.error("SeviceAddCtrl: Device addZigbeeDevices failed ",t),e.alert("Adding new devices failed",null,!0)})},y=void 0,d=60,t.ui.zigbeeConnectionTime=0,v=function(){return y?(s.cancel(y),y=void 0,t.ui.zigbeeConnectionTime=0):void 0},g=function(){return t.ui.zigbeeConnectionTime=d,y?void 0:y=s(function(){return function(){return t.ui.zigbeeConnectionTime<=0&&v(),t.ui.zigbeeConnectionTime--}}(this),1e3,0,!1)}}}),require.register("devices/ctrl-group.js",function(e,t,n){n.exports=function(e,t,n,i,r,s,o,a){return e.noSwipe=!0,e.$emit("HEADER_PAGE",{show:!0,title:a.tr("Create New Group"),previous:"^",mode:"modal-kind"}),r.debug("From ",i.fromDeviceId),r.debug("To ",i.toDeviceId),t.ui={name:""},t.ok=function(){return e.noSwipe=!1,s.group(i.fromDeviceId,i.toDeviceId,t.ui.name).then(function(){return r.debug("deviceGroupCtrl: Device make group ok"),n.go("^")},function(t){return e.alert("Making group failed",t,!0)})}}}),require.register("devices/ctrl-list.js",function(e,t,n){var i;i=window.lodash,t("drv-drag-drop"),n.exports=function(e,t,n,r,s,o,a,l,c,u){var d,m,p,f,v,h,g,y,b,E;return t.MODE={EDIT:"edit",VIEW:"view"},t.devices={},t.rooms=[],t.ui={busy:{},mode:t.MODE.VIEW,showRooms:!1},t.filter={deviceTypes:[],deviceTypeNames:""},d=localStorage.getItem("showRooms"),d&&"false"!==d&&(t.ui.showRooms=!0),t.openFilterModal=function(){return e.showModal("DeviceFilter","Filter Devices By Type")},p=void 0,t.selectRoom=function(n){var i,r,s,o,a;for(i=!n.selected,a=t.rooms,s=0,o=a.length;o>s;s++)r=a[s],r.selected=!1;return n.selected=i,e.$emit("GRID_CHANGE_REQUEST")},E=function(e){var n,r,s,o;if(!i.isEmpty(e)){for(t.deviceTypes=e,r=i.sortBy(t.deviceTypes,function(e,t){var n;return e.key=t,-1*(null!=(n=e.ids)?n.length:void 0)}),t.sortedDeviceTypes=[],s=0,o=r.length;o>s;s++)n=r[s],t.sortedDeviceTypes.push({id:n.key,icon:n.icon,selected:n.selected,count:n.ids.length});return t.filter.deviceTypes=function(){var e,i,r,s;for(r=t.sortedDeviceTypes,s=[],e=0,i=r.length;i>e;e++)n=r[e],n.selected&&s.push(c.tr(n.id+"-devices"));return s}(),t.isAllDeviceTypesSelected=!1,i.isEmpty(t.filter.deviceTypes)||(t.isAllDeviceTypesSelected=t.filter.deviceTypes.length===t.sortedDeviceTypes.length),t.filter.deviceTypeNames=t.isAllDeviceTypesSelected?c.tr("All selected"):i.isEmpty(t.filter.deviceTypes)?c.tr("All selected"):t.filter.deviceTypes.join(", ")}},t.toggleDeviceType=function(e){return t.deviceTypes=a.toggleType(e),E(t.deviceTypes)},t.isAllDeviceTypesSelected=!1,t.isNoneDeviceTypesSelected=!1,t.toggleShowRooms=function(){return t.ui.showRooms=!t.ui.showRooms,localStorage.setItem("showRooms",t.ui.showRooms),e.$emit("HUB_POLL_RELOAD_REQUEST")},t.toggleAllDeviceTypes=function(e){return t.deviceTypes=a.toggleAllTypes(e),E(t.deviceTypes)},t.listDevices=function(){return t.rooms=a.getRooms(),a.list().then(function(n){var r,s,o,l,c,u,d,m,f,v,h,g,y,b;if(e.$emit("GRID_CHANGE_REQUEST"),"DeviceFilter"!==e.menu.modalPage&&E(a.getTypes()),!i.isEmpty(n)){if(t.devices=n,e.features.isRooms&&t.ui.showRooms){for(t.sortedDevices=[],g=t.rooms,b=[],o=m=0,v=g.length;v>m;o=++m){c=g[o],d=[],u=!1;for(l in n)for(s=n[l],y=s.room,f=0,h=y.length;h>f;f++)r=y[f],s.hide||(i.isString(r)&&r===c.id||0===r&&"0"===c.id?(u=!0,d.push(s)):r.id+""===c.id&&(d.push(s),u=!0));t.sortedDevices[c.name]=i.sortBy(d,"name"),b.push(t.sortedDevices[c.name]=i.sortBy(t.sortedDevices[c.name],"order"))}return b}return t.sortedDevices=i.sortBy(function(){var e;e=[];for(l in n)s=n[l],e.push(s);return e}(),"name"),t.sortedDevices=i.sortBy(t.sortedDevices,"order")}return p?void 0:p=e.$on("HUB_CONNECTED",function(){return t.listDevices()})},function(n){return t.devices={},e.alert("Device list failed",n,!0)})},t.isDevices=function(){var n;return n=!i.isEmpty(t.devices),n&&e.menu.isDevices},t.tapAction=function(e){return t.ui.mode===t.MODE.EDIT?e.select():e.toggle()},t.holdAction=function(n){return e.$emit("GRID_CHANGE_REQUEST"),t.ui.mode===t.MODE.VIEW?n.select():void 0},b=!1,t.dropDev=function(o,l){var d,m,p,f,v,h,g,y,E;if(!b){m=void 0,g=void 0,y=t.devices;for(p in y)d=y[p],"dd-"+p===o&&(m=d),"dd-"+p===l&&(g=d);if(void 0!==m&&(void 0!==g||"dd-add"===l)&&m!==g)return m.types.GROUP&&!g.types.GROUP&&(h=m,m=g,g=h),g.types.TIMER&&(h=m,m=g,g=h),g.isGroupableWith(m)?(b=!0,r.debug("deviceListCtrl dropDev: Drag from ",m),r.debug("deviceListCtrl dropDev: Drop to ",g),!m.types.GROUP&&g.types.GROUP||m.types.GROUP&&g.types.GROUP?g.addDevice(m).then(function(){return e.notify(c.tr("_device_ added to _group_",{device:m.name},{group:g.name})),b=!1}):"MEDIA_RENDERER"===m.type&&"MEDIA_RENDERER"===g.type?a.group(m.id,g.id,"Media").then(function(){return b=!1,r.debug("deviceGroupCtrl: Device make group ok"),e.notify(c.tr("_device_ added to _group_",{device:g.name},{group:m.name}))},function(t){return b=!1,e.alert("Making group failed",t,!0)}):(b=!1,n.go("c.home.devices-add-group",{fromDeviceId:m.id,toDeviceId:null!=(E=null!=g?g.id:void 0)?E:void 0}))):(v=[],m.type&&("GROUP"===m.type&&null!=m.firstMember&&(m=m.firstMember),v.push(m.type)),g.type&&("GROUP"===g.type&&null!=g.firstMember&&(g=g.firstMember),v.push(g.type)),f=u.getTemplates(v),r.info("deviceListCtrl dropDev: Rule templates ",f),i.isEmpty(f)?(e.notify(c.tr("No rule found for _device1_  and _device2_",{device1:m.name},{device2:g.name})),void e.$emit("GRID_CHANGE_REQUEST")):(n.go("c.home.rules-add",{fromDeviceId:m.id,toDeviceId:g.id}),void s(function(){return e.swipeToRules(),s(function(){return e.noSwipe=!0},100)})))}},t.listDevices(),y=e.$on("HEADER_MODE_CHANGED",function(i,o){var a,l;if("c.home"===(null!=n&&null!=(l=n.current)?l.name:void 0))return a=o.mode,a===t.MODE.EDIT?(s(function(){return t.ui.mode=t.MODE.EDIT,e.noSwipe=!0}),r.debug("DevicesListCtrl watch 'mode': Change detected "+t.ui.mode)):a===t.MODE.VIEW?(s(function(){return t.ui.mode=t.MODE.VIEW,e.noSwipe=!1}),r.debug("DevicesListCtrl watch 'mode': Change detected "+t.ui.mode)):void 0}),m=e.$on("HEADER_ADD_ACTION",function(){return e.menu.isDevices?(r.debug('"DevicesListCtrl HEADER_ADD_ACTION'),n.go("c.home.devices-add")):void 0}),f=e.$on("DEVICES_PAGE_RELOAD_REQUEST",function(){return t.listDevices(!0)}),h=e.$on("DEVICES_LIST_CHANGED",function(){return t.listDevices()}),v=e.$on("DEVICES_TOGGLE_REQUEST",function(e,n){var i,s;if(s=void 0,n&&(s=n.deviceId),s){if(i=t.devices[s],!i)return;return r.debug("deviceListCtrl DEVICES_TOGGLE_REQUEST for id ",i.name),i.toggle()}}),g=e.$on("HEADER_MODAL_CLOSE",function(){return i.isEmpty(t.filter.deviceTypes)?t.toggleAllDeviceTypes(!0):void 0}),t.$on("$destroy",function(){r.debug("deviceListCtrl: $destroy call"),g(),y(),m(),p&&p(),f(),h(),v()})}}),require.register("devices/srv-devices.js",function(e,t){var n,i,r,s,o,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=window.lodash,s=t("./srv-helpers"),n="boolean",i="numeric",r=function(e,t,r,l,c,u,d,m,p){var f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N,$,P,U,H,q,B,F,V,G,W,z,Y,Q,K,J,X,Z,et,tt,nt,it,rt,st,ot,at,lt,ct,ut,dt,mt,pt,ft,vt,ht,gt,yt,bt,Et,wt,At,St,Tt;return O||(O={}),st=[],D={},z={},dt=[],h=localStorage.getItem("selectedDeviceTypes"),null!=h&&(h=JSON.parse(h)),o.isArray(h)&&(dt=h),P||(P={}),X||(X=[]),U=m.getHUBAddress(),g=["#f00","#0f0","#00f","#ff0","#f0f"],T=angular.copy(g),W=void 0,Tt=void 0,lt=function(t){return localStorage.setItem("selectedDeviceTypes",JSON.stringify(t)),e.$emit("HUB_POLL_RELOAD_REQUEST")},M=function(e){return z[e]||{}},vt=function(e,t){var n,i,r;return e&&(t.hue&&-1!==t.hue&&(i=t.hue),t.saturation&&-1!==t.saturation&&(r=t.saturation),t.brightness&&-1!==t.brightness&&(n=t.brightness),i||r)?z[e]={hue:i,saturation:r,brightness:n}:void 0
},R=function(){var e;return e=l.defer(),t.debug("devicesSrv _getColorHistory:  Colors from cache: ",T),r({method:"GET",url:U+"/hub/colors"}).success(function(n,i){var r,s,o;for(t.debug("SrvDevices _getColorHistory: Ok "+i+", data: ",n),s=0,o=n.length;o>s;s++)r=n[s],a.call(T,r)>=0||T.push(r);return e.resolve(T)}).error(function(n,i){return t.error("SrvDevices _addToColorHistory: Error "+i+", data: ",n),e.reject(i)}),e.promise},w=function(e){var n;return n=l.defer(),t.debug("devicesSrv _addToColorHistory:  add color: ",e),!e||a.call(T,e)>=0?(t.info("SrvDevices _addToColorHistory: No color or dublicate ",e),n.reject(null)):r({method:"POST",url:U+"/hub/colors",params:{color:e}}).success(function(i,r){return t.debug("SrvDevices _addToColorHistory: Ok "+r+", data: ",i),T.push(e),n.resolve(T)}).error(function(e,i){return t.error("SrvDevices _addToColorHistory: Error "+i+", data: ",e),n.reject(i)}),n.promise},nt=function(){var e;return e=l.defer(),t.debug("devicesSrv _removeColorHistory "),r({method:"DELETE",url:U+"/hub/colors",headers:{"Content-Type":"application/json"}}).success(function(n,i){return t.debug("SrvDevices _removeColorHistory: Ok "+i+", data: ",n),T=angular.copy(g),e.resolve(T)}).error(function(n,i){return t.error("SrvDevices _removeColorHistory: Error "+i+", data: ",n),e.reject(i)}),e.promise},V=function(){var e;return e=l.defer(),t.debug("devicesSrv _listDevices:  Devices from cache: ",O),e.resolve(O),e.promise},f=[{id:"PROOVE_MOTION",manufacturer:"Proove",name:"Proove motion sensor",type:"433_PAIR_INFO"},{id:"PROOVE_CONTACT",manufacturer:"Proove",name:"Proove contact sensor",type:"433_PAIR_INFO"},{id:"PROOVE_SWITCH",manufacturer:"Proove",name:"Proove power outlet",type:"433_PAIR_INFO"},{id:"PROOVE_DIM_SWITCH",manufacturer:"Proove",name:"Proove dimmable power outlet",type:"433_PAIR_INFO"},{id:"PROOVE_RC",manufacturer:"Proove",name:"Proove remote control",type:"433_PAIR_INFO"},{id:"PROOVE_TEMPERATURE",manufacturer:"Proove",name:"Proove temperature",type:"433_PAIR_INFO"},{id:"PROOVE_MULTISENSOR",manufacturer:"Proove",name:"Proove multisensor",type:"433_PAIR_INFO"},{id:"NEXA_RC",manufacturer:"Nexa",name:"Remote control",type:"433_PAIR_INFO"},{id:"NEXA_DOORBELL",manufacturer:"Nexa",name:"Doorbell",type:"433_PAIR_INFO"},{id:"NEXA_TWILIGHT",manufacturer:"Nexa",name:"Twilight switch",type:"433_PAIR_INFO"},{id:"NEXA_WALLSWITCH1",manufacturer:"Nexa",name:"1-way wall transmitter",type:"433_PAIR_INFO"},{id:"NEXA_WALLSWITCH2",manufacturer:"Nexa",name:"2-way wall transmitter",type:"433_PAIR_INFO"},{id:"NEXA_MOTION",manufacturer:"Nexa",name:"Motion sensor",type:"433_PAIR_INFO"},{id:"NEXA_CONTACT",manufacturer:"Nexa",name:"Magnetic sensor",type:"433_PAIR_INFO"},{id:"NEXA_KEYFOB",manufacturer:"Nexa",name:"Keyfob",type:"433_PAIR_INFO"}],I=function(){var e;return e=l.defer(),r({method:"GET",url:U+"/hub/433devices"}).success(function(n,i){return t.debug("SrvDevices _get433Devices Ok "+i+", data: ",n),e.resolve(n)}).error(function(n,i){return t.error("SrvDevices _get433Devices: Error "+i+", data: ",n),e.reject(n)}),e.promise},Y=function(n){var i;return i=l.defer(),r({method:"POST",url:U+"/hub/pair433?device433="+n}).success(function(e,n){return t.debug("SrvDevices _pair433Devices Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("433 Device pairing failed",r,!0),t.error("SrvDevices _pair433Devices: Error "+r+", data: ",n),i.reject(n)}),i.promise},J=function(t){var n;return n=l.defer(),this.busy=!0,c(function(i){return function(){return x({id:i.id,state:{button:t,type:i.state.type},type:"CMD_DEVICE"}).then(function(t){return e.notify("Button pressed",!0),i.busy=!1,n.resolve(t)},function(e){return i.busy=!1,n.reject(e)})}}(this),100),n.promise},b=function(n,i){var s;return i=i||"POST",s=l.defer(),r({method:i,url:n}).success(function(e,i){return t.debug("SrvDevices _addDevice "+n+": Ok "+i+", data: ",e),s.resolve(e)}).error(function(i,r){return e.alert("Device update failed",r,!0),t.error("SrvDevices _addDevice "+n+": Error "+r+", data: ",i),s.reject(i)}),s.promise},E=function(){return b(U+"/hub/pairphilips")},S=function(){var e;return e=l.defer(),b(U+"/hub/pairzigbee").then(function(){return e.resolve(200)},function(t){return e.reject(t)}),e.promise},G=function(e){var n,i;return n=l.defer(),o.isEmpty(O)?V().then(function(){return o.isEmpty(O)?n.reject("Devices list is empty"):(t.debug("devicesSrv _loadDevice: All devices loaded to cache",O),G(e).then(function(e){return t.debug("devicesSrv _loadDevice: Device details read:",e),n.resolve(e)},function(e){return n.reject(e)}))},function(){return n.reject("Devices list read failed")}):(i=O[e],o.isEmpty(i)?(t.error("devicesSrv _loadDevice: Device not in cache",e),n.resolve("Device not found")):(n.resolve(i),c(function(){return i.changed=!1},20))),n.promise},C=function(n){var i;return i=l.defer(),r({method:"DELETE",url:U+"/devices/",data:n,headers:{"Content-Type":"application/json"}}).success(function(e,n){return t.debug("SrvDevices _deleteDevices: Ok "+n+", data: ",e),d.go("^"),i.resolve(e)}).error(function(n,r){return e.alert("Device remove failed",r,!0),t.error("SrvDevices _deleteDevices: Error "+r+", data: ",n),i.reject(n)}),i.promise},x=function(n,i){var s;return i=i||"PUT",s=l.defer(),r({method:i,url:U+"/devices/command",data:[n]}).success(function(e,n){return t.debug("SrvDevices _deviceCommand: Ok "+n+", data: ",e),s.resolve(e)}).error(function(n,i){return e.alert("Device update failed",i,!0),t.error("SrvDevices _deviceCommand: Error "+i+", data: ",n),s.reject(n)}),s.promise},N=function(n){var i;return i=l.defer(),r({method:"PUT",url:U+"/groups/command",data:[n]}).success(function(e,n){return t.debug("SrvDevices _groupCommand: Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("Group update failed",r,!0),t.error("SrvDevices _groupCommand: Error "+r+", data: ",n),i.reject(n)}),i.promise},k=function(n){var i;return i=l.defer(),r({method:"PUT",url:U+"/devices/",data:[n]}).success(function(e,n){return t.debug("SrvDevices _deviceMeta: Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("Device update failed",r,!0),t.error("SrvDevices _deviceMeta: Error "+r+", data: ",n),i.reject(n)}),i.promise},$=function(n){var i;return i=l.defer(),r({method:"PUT",url:U+"/groups/",data:[n]}).success(function(e,n){return t.debug("SrvDevices _deviceMeta: Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("Group update failed",r,!0),t.error("SrvDevices _deviceMeta: Error "+r+", data: ",n),i.reject(n)}),i.promise},St=function(){var e;return e=l.defer(),this.busy=!0,this.state.isOn=this.state?!this.state.isOn:!0,x({id:this.id,state:{isOn:this.state.isOn,type:this.state.type},type:"CMD_DEVICE"}).then(function(t){return function(n){return t.busy=!1,e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,e.reject(n)}}(this)),e.promise},wt=function(){var e,t;return t=l.defer(),this.busy=!0,e=void 0,this.state?(this.state.isOn=!this.state.isOn,e=this.state.isOn?"CMD_DEVICE_ON":"CMD_DEVICE_OFF"):(this.state.isOn=!0,e="CMD_DEVICE_ON"),x({id:this.id,type:e}).then(function(e){return function(n){return e.busy=!1,t.resolve(n)}}(this),function(e){return function(n){return e.busy=!1,t.reject(n)}}(this)),t.promise},At=function(){var e;return e=l.defer(),this.busy=!0,this.state.isOn=this.state?!this.state.isOn:!0,N({id:this.id,state:{isOn:this.state.isOn,type:this.state.type},type:"CMD_DEVICE"}).then(function(t){return function(n){return t.busy=!1,e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,e.reject(n)}}(this)),e.promise},ct=function(){var e;return e=l.defer(),this.busy=!0,x({id:this.id,state:this.state,type:"CMD_DEVICE"}).then(function(t){return function(n){return t.busy=!1,e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,e.reject(n)}}(this)),e.promise},ot=function(){var e;return e=l.defer(),this.busy=!0,N({id:this.id,state:this.state,type:"CMD_DEVICE"}).then(function(t){return function(n){return t.busy=!1,e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,e.reject(n)}}(this)),e.promise},ft=function(e,t){var n,i,r;return n=l.defer(),null!=e&&(this.name=e),r=[],null!=t&&(this.room=t,r=0===t[0].id||"0"===t[0].id?[]:function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.id);return r}()),this.busy=!0,k({id:this.id,name:this.name,room:r,type:"CMD_DEVICE_META"}).then(function(e){return function(t){return e.busy=!1,n.resolve(t)}}(this),function(e){return function(t){return e.busy=!1,n.reject(t)}}(this)),n.promise},mt=function(e){var t;return t=l.defer(),null!=e&&(this.awayThreshold=e),this.busy=!0,k({id:this.id,awayThreshold:this.awayThreshold,type:"CMD_DEVICE_META"}).then(function(e){return function(n){return e.busy=!1,t.resolve(n)}}(this),function(e){return function(n){return e.busy=!1,t.reject(n)}}(this)),t.promise},pt=function(e,t){var n,i,r;return n=l.defer(),null!=e&&(this.name=e),r=[],null!=t&&(this.room=t,r=0===t[0].id||"0"===t[0].id?[]:function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.id);return r}()),this.busy=!0,$({id:this.id,name:this.name,room:r,type:"CMD_GROUP"}).then(function(e){return function(t){return e.busy=!1,n.resolve(t)}}(this),function(e){return function(t){return e.busy=!1,n.reject(t)}}(this)),n.promise},H=function(){var e;return e=l.defer(),this.busy=!0,x({id:this.id,type:"CMD_IGNORE_DEVICE"}).then(function(t){return function(n){return t.busy=!1,d.go("^"),e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,d.go("^"),e.reject(n)}}(this)),e.promise},rt=function(){var t;return t=l.defer(),x({type:"CMD_RESET_IGNORED"}).then(function(n){return function(i){return n.busy=!1,e.$emit("HUB_POLL_RELOAD_REQUEST"),t.resolve(i)}}(this),function(e){return function(n){return e.busy=!1,t.reject(n)}}(this)),t.promise},A=function(e){var t,n,i,r,s,o,c,u;if(t=l.defer(),null!=e?e.id:void 0){if(o=function(){var e,t;e=this.members,t=[];for(r in e)s=e[r],t.push(r);return t}.call(this),e.types.GROUP){c=e.members;for(i in c)n=c[i],a.call(o,i)<0&&o.push(i)}else u=e.id,a.call(o,u)<0&&o.push(e.id);$({id:this.id,members:o,type:"CMD_GROUP"}).then(function(e){return function(n){return e.busy=!1,t.resolve(n)}}(this),function(e){return function(n){return e.busy=!1,t.reject(n)}}(this))}else t.reject("No device to be added");return t.promise},it=function(e){var t,n,i,r;return t=l.defer(),e?(r=function(){var t,r;t=this.members,r=[];for(n in t)i=t[n],n!==e&&r.push(n);return r}.call(this),$({id:this.id,members:r,type:"CMD_GROUP"}).then(function(e){return function(n){var i;return e.busy=!1,i=(null!=n?n[0]:void 0)||{},null===(null!=n?n[0]:void 0)?d.go("c.home"):o.isEmpty(r)&&d.go("^"),t.resolve(i||void 0)}}(this),function(e){return function(n){return e.busy=!1,t.reject(n)}}(this))):t.reject("No device to be removed"),t.promise},F=function(e){var t;return t=!1,o.isEmpty(this.members)?t=!0:o.isEmpty(e.members)?this.members[Object.keys(this.members)[0]].type===e.type&&(t=!0):this.members[Object.keys(this.members)[0]].type===e.members[Object.keys(e.members)[0]].type&&(t=!0),t},B=function(e){var t;return t=!1,this.type===e.type&&(t=!0),t},j=function(e,t,n){var i,r,s,o,c,u,d,m,p,f;if(i=l.defer(),n)if(e)if(t)if(c=[],r=O[e],u=O[t],r)if(u){if(r.types.GROUP){d=r.members;for(o in d)s=d[o],a.call(c,o)<0&&c.push(o)}else m=r.id,a.call(c,m)<0&&c.push(r.id);if(u.types.GROUP){p=u.members;for(o in p)s=p[o],a.call(c,o)<0&&c.push(o)}else f=u.id,a.call(c,f)<0&&c.push(u.id);$({name:n,members:c,type:"CMD_GROUP"}).then(function(e){return function(t){return e.busy=!1,i.resolve(t)}}(this),function(e){return function(t){return e.busy=!1,i.reject(t)}}(this))}else i.reject("No device to be added");else i.reject("No device to be added");else i.reject("No device to be added");else i.reject("No device to be added");else i.reject("No name to be added");return i.promise},y={SEEK:"CMD_AV_SEEK",PREVIOUS:"CMD_AV_PREVIOUS",NEXT:"CMD_AV_NEXT",PAUSE:"CMD_DEVICE_OFF",PLAY:"CMD_DEVICE_ON",QUEUE:"CMD_GET_QUEUE",PLAY_SOURCE:"CMD_MR_PLAY",CONTENT_DIR:"CMD_GET_CD",SEARCH:"CMD_SEARCH",CMD_PLAY_MODE:"CMD_PLAY_MODE"},Q=function(e){var n,i;return n=l.defer(),this.busy=!0,x({id:(null!=(i=this.firstMember)?i.id:void 0)||this.id,type:y.PLAY_SOURCE,item:e}).then(function(i){return function(r){return i.busy=!1,t.debug("SrvDevices _playMedia "+e+":  ",r),n.resolve(r)}}(this),function(i){return function(r){return i.busy=!1,t.error("SrvDevices _playMedia "+e+" - Error: "+r),n.reject(r)}}(this)),n.promise},K=function(e){var n,i;return n=l.defer(),this.busy=!0,x({id:(null!=(i=this.firstMember)?i.id:void 0)||this.id,type:y.CMD_PLAY_MODE,mode:e}).then(function(i){return function(r){return i.busy=!1,t.debug("SrvDevices _playMode "+e+":  ",r),n.resolve(r)}}(this),function(i){return function(r){return i.busy=!1,t.error("SrvDevices _playMode "+e+" - Error: "+r+" "),n.reject(r)}}(this)),n.promise},at=function(){var e,t,n;return e=l.defer(),this.busy=!0,t=angular.copy(this.state),t.avtData=void 0,x({id:(null!=(n=this.firstMember)?n.id:void 0)||this.id,state:t,type:"CMD_DEVICE"}).then(function(t){return function(n){return t.busy=!1,e.resolve(n)}}(this),function(t){return function(n){return t.busy=!1,e.reject(n)}}(this)),e.promise},ht=function(e,n){var i,r;return i=l.defer(),this.busy=!0,x({id:(null!=(r=this.firstMember)?r.id:void 0)||this.id,type:e,trackNumber:n||void 0}).then(function(n){return function(r){return n.busy=!1,t.debug("SrvDevices _setQueue "+e+":  ",r),i.resolve(r)}}(this),function(r){return function(s){return r.busy=!1,c(function(){return X=[]}),t.error("SrvDevices _setQueue "+e+" -"+n+" - Error: "+s+" "),i.reject(s)}}(this)),i.promise},L=function(e){var n,i,r;if(n=l.defer(),o.isEmpty(X)||e){if(X=[],!m.getHUBConnectionStatus())return n.resolve(X),n.promise;this.busy=!0,i=x,i({id:(null!=(r=this.firstMember)?r.id:void 0)||this.id,type:y.QUEUE}).then(function(e){return function(i){return e.busy=!1,i.tracks&&(X=i.tracks),t.debug("devicesSrv _getQueue"),n.resolve(X)}}(this),function(e){return function(i){return e.busy=!1,c(function(){return X=[]}),t.error("SrvDevices _getQueue - Error: "+i+" "),n.reject(i)}}(this))}else t.debug("SrvDevices _getQueue:  Devices from cache: "),n.resolve(X);return n.promise},_=function(n){var i,r;return i=l.defer(),this.busy=!0,x({id:(null!=(r=this.firstMember)?r.id:void 0)||this.id,type:y.CONTENT_DIR,parent:null!=n?n:void 0}).then(function(r){return function(s){var o,a,c,u,d;for(r.busy=!1,t.debug("SrvDevices _getContentDirectory "+n+":  ",s),c=[],o=[],u=0,d=s.length;d>u;u++)a=s[u],a.id&&(o.push(a),c.push(x({id:r.id,type:y.CONTENT_DIR,parent:a.id})));return l.all(c).then(function(e){var t,n,r,s;for(n=r=0,s=e.length;s>r;n=++r)t=e[n],o[n].child=t;return i.resolve(o)},function(t){return e.alert("Device read failed",t,!0),i.reject(t)})}}(this),function(e){return function(r){return e.busy=!1,t.error("SrvDevices _getContentDirectory "+n+" - Error: "+r),i.reject(r)}}(this)),i.promise},ut=function(e){var n,i,r;return n=l.defer(),o.isEmpty(e)?(t.debug("SrvDevices _searchMedia empty "),n.resolve([])):(this.busy=!0,i=x,i({id:(null!=(r=this.firstMember)?r.id:void 0)||this.id,type:y.SEARCH,phrase:e}).then(function(i){return function(r){return i.busy=!1,t.debug("SrvDevices _searchMedia "+e+":  ",r),n.resolve(r)}}(this),function(i){return function(r){return i.busy=!1,t.error("SrvDevices _searchMedia "+e+" Error: "+r+" "),n.reject(r)}}(this))),n.promise},Et=function(e){return e||(e=!0),Tt=e?"settings":void 0},gt=function(t,n){var i;return null!=(null!=(i=this.state)?i.reachable:void 0)?(n?d.go("c.home.devices-detail-rule",{deviceId:this.id,ruleId:n}):t?d.go("c.home.devices-detail-scene",{deviceId:this.id,sceneId:t}):d.go("c.home.devices-detail",{deviceId:this.id}),"scene"===W&&(W=void 0),e.noSwipe=!0):void 0},yt=function(e,t){return"scene"===W&&(W=void 0),gt(e,t)},bt=function(){var t;return null!=(null!=(t=this.state)?t.reachable:void 0)?(d.go("c.home.devices-name",{deviceId:this.id}),e.noSwipe=!0):void 0},Z=[],et=function(){return c(function(){var e,t,n,i,r;for(r=[];null!=(t=Z.shift());)e=P[t],e?(e.members=function(){var t,r;t=e.members,r=[];for(i in t)n=t[i],r.push(i);return r}(),r.push(q(e))):r.push(void 0);return r})},tt=o.debounce(et,100),o.isEmpty(Z)||et(),q=function(e){var r,a,c,u,d,m,f,v,h,g,y,b,E,w,S,T;if(e){if(e.styleClasses=[],e.iconClasses=[],e.helperIcons=[],e.toggle=function(){},e.select=function(){},e.nameIt=function(){},e.ignore=function(){},e.settings="show",e.busy=!1,e.changed=!0,e.features={},e.isNameable=!0,r=void 0,e.name||(e.name="?"),(null==e.room||o.isEmpty(e.room||0===e.room[0]||e.room("0"===[0])))&&(e.room=[{id:0,oreder:0,name:p.tr("No specific room"),state:{}}]),null!=e.capabilities?r=e.capabilities:null!=e.max_capabilities?(r=e.max_capabilities,e.capabilities=r):null!=e.maxCapabilities&&(r=e.maxCapabilities,e.capabilities=r),null!=(null!=r?r.values:void 0))for(b=r.values,v=0,g=b.length;g>v;v++)switch(c=b[v]){case"ON_OFF":e.features.isOn={type:n};break;case"PLAY":e.features.play={type:n};break;case"PAUSE":e.features.pause={type:n};break;case"STOP":e.features.stop={type:n};break;case"MUTE":e.features.mute={type:n};break;case"VOLUME":e.features.volume={type:i};break;case"TREBLE":e.features.treble={type:i};break;case"BASS":e.features.bass={type:i};break;case"LOUDNESS":e.features.loudness={type:n};break;case"NEXT":e.features.next={type:n};break;case"PREVIOUS":e.features.previous={type:n};break;case"SEEK":e.features.seek={type:n};break;case"TRANSITION":e.features.transition={type:i};break;case"BRIGHTNESS":e.features.brightness={type:i};break;case"COLOR_TEMP":e.features.colorTemperature={type:i};break;case"COLOR_HS":e.features.colorHS={type:i};break;case"COLOR_LOOP":e.features.colorLoop={type:n};break;case"TEMPERATURE":e.features.temperature={type:i};break;case"HUMIDITY":e.features.humidity={type:i};break;case"MOTION":e.features.motion={type:n};break;case"CONTACT":e.features.contact={type:n};break;case"ALERT":e.features.alert={type:n};break;case"PUSH_NOTIFICATION":e.features.pushNotification={type:n};break;case"USER_PRESENCE":e.features.userPresence={type:n};break;case"REMOTE_CONTROL":e.features.remoteControl={type:n};break;case"TWILIGHT":e.features.twilight={type:n};break;default:t.warn("SrvDevices _initDevice "+c+" is not defined")}switch(e.types={},e.types[e.type]=!0,e.hide=!1,e.lastSeen=void 0,e.removable=!0,(null!=(E=e.state)?E.lastSeen:void 0)&&(a=new Date(null!=(w=e.state)?w.lastSeen:void 0),a=a.toLocaleString(),a=a.replace("at ",""),e.lastSeen=new Date(a)),"GROUP"!==e.type&&(e.ignore=H,o.isEmpty(e.groups)||(e.hide=!0)),e.type){case"GROUP":for(e.order=1,e.iconClasses=[s.ICONS.GROUP],e.count=0,u=void 0,f={},e.removable=!1,S=e.members,h=0,y=S.length;y>h;h++)m=S[h],O[m]&&(f[m]=O[m],e.count++,1===e.count&&(u=O[m]));e.members=f,u&&(e.firstMember=u),u&&(e.iconClasses=[u.iconClasses]),"MEDIA_RENDERER"===(null!=u?u.type:void 0)&&(e.iconClasses=[s.ICONS.SPEAKER],e.isNameable=!1,e.getQueue=L,e.setQueue=ht,e.getContent=_,e.searchMedia=ut,e.playMedia=Q,e.playMode=K,e.setRC=at),T=e.members;for(d in T)m=T[d],m.type&&(e.types[m.type]=!0);e.styleClasses.push("group"),e.styleClasses.push(e.state.isOn===!0?"on":"off"),e.select=gt,e.toggle=At,e.set=ot,e.setMetaData=pt,e.addDevice=A,e.removeDevice=it,e.isGroupableWith=F;break;case"LIGHT":e.order=2,e.iconClasses=[s.ICONS.LIGHT],e.state.isOn===!0&&e.styleClasses.push("on"),e.state.isOn===!1&&e.styleClasses.push("off"),e.toggle=wt,e.select=gt,e.set=ct,e.setMetaData=ft,e.isGroupableWith=B;break;case"POWER_SOCKET":e.order=3,e.iconClasses=[s.ICONS.POWER_SOCKET],e.features.brightness&&(e.iconClasses=[s.ICONS.GROUP],e.order=2.5),e.state.isOn===!0&&e.styleClasses.push("on"),e.state.isOn===!1&&e.styleClasses.push("off"),e.toggle=wt,e.select=gt,e.set=ct,e.setMetaData=ft,e.isGroupableWith=B;break;case"MEDIA_RENDERER":e.order=4,e.iconClasses=[s.ICONS.SPEAKER],e.state.isOn===!0&&e.styleClasses.push("on"),e.state.isOn===!1&&e.styleClasses.push("off"),e.toggle=wt,e.select=gt,e.isNameable=!1,e.isGroupableWith=B,e.set=ct,e.getQueue=L,e.setQueue=ht,e.getContent=_,e.searchMedia=ut,e.playMedia=Q,e.playMode=K,e.setRC=at,e.setMetaData=ft;break;case"CAMERA":e.order=5,e.iconClasses=[s.ICONS.CAMERA],e.state.isOn===!0&&e.styleClasses.push("on"),e.state.isOn===!1&&e.styleClasses.push("off"),e.toggle=wt,e.select=gt,e.set=ct,e.setMetaData=ft,e.isGroupableWith=function(){return!1};break;case"REMOTE_CONTROL":e.order=6,e.iconClasses=[s.ICONS.REMOTE_CONTROLLER],e.isGroupableWith=function(){return!1},e.toggle=function(){return!1},e.pressButton=J,e.select=gt,e.set=ct,e.setMetaData=ft;break;case"KEYFOB":e.order=6.1,e.iconClasses=[s.ICONS.KEYFOB],e.isGroupableWith=function(){return!1},e.toggle=function(){return!1},e.pressButton=J,e.select=gt,e.set=ct,e.setMetaData=ft;break;case"WALLSWITCH":e.order=6.2,e.iconClasses=[s.ICONS.WALLSWITCH],e.isGroupableWith=function(){return!1},e.toggle=function(){return!1},e.pressButton=J,e.select=gt,e.set=ct,e.setMetaData=ft;break;case"UI_DEVICE":e.order=7,e.setAwayThreshold=mt,e.iconClasses=[s.ICONS.UI_DEVICE],e.select=gt,e.setMetaData=ft,e.toggle=function(){return!1},e.isGroupableWith=function(){return!1};break;case"TWILIGHT":e.order=8,e.iconClasses=[s.ICONS.TWILIGHT],e.styleClasses.push("contact"),e.helperIcons.push=s.ICONS.TWILIGHT,e.styleClasses.push(e.state.twilight?"off":"on"),e.select=bt,e.set=ct,e.setMetaData=ft,e.isGroupableWith=function(){return!1};break;case"DOORBELL":e.order=8.1,e.iconClasses=[s.ICONS.DOORBELL],e.isGroupableWith=function(){return!1},e.toggle=function(){return!1},e.select=bt,e.set=ct,e.setMetaData=ft;break;case"CONTACT":e.order=8.2,e.iconClasses=[s.ICONS.CONTACT],e.styleClasses.push("contact"),e.helperIcons.push=s.ICONS.CONTACT,e.styleClasses.push(e.state.open?"on":"off"),e.features.temperature&&(e.styleClasses.push("temperature"),e.iconClasses.push("dimmed")),e.select=bt,e.set=ct,e.setMetaData=ft,e.isGroupableWith=function(){return!1};break;case"MOTION":case"MULTI_SENSOR":e.features.motion&&(e.order=9,e.iconClasses=[s.ICONS.MOTION],e.helperIcons.push(s.ICONS.MOTION)),e.features.temperature&&(o.isEmpty(e.iconClasses)&&(e.order=10,e.iconClasses=[s.ICONS.TEMPERATURE]),e.helperIcons.push(s.ICONS.TEMPERATURE),e.iconClasses.push("dimmed")),e.features.humidity&&(o.isEmpty(e.iconClasses)&&(e.order=11,e.iconClasses=[s.ICONS.HUMIDITY]),e.helperIcons.push=s.ICONS.HUMIDITY,e.iconClasses.push("dimmed")),e.state.motion?(e.styleClasses.push("on"),e.styleClasses.push("blink")):e.features.motion&&e.styleClasses.push("off"),e.select=bt,e.set=ct,e.setMetaData=ft,"MOTION"!==e.type&&(e.type="MULTI_SENSOR"),e.isGroupableWith=function(){return!1};break;case"TIMER":e.order=12,e.iconClasses=[s.ICONS.TIMER],e.isNameable=!1,e.isGroupableWith=function(){return!1},e.toggle=function(){return!1},e.select=function(){return!1},e.set=function(){return!1},o.isEmpty(st)||(e.room=angular.copy(st)),e.removable=!1,e.setMetaData=function(e,t){var n;return n=l.defer(),O["add-timer"]=this,n.resolve(t),n.promise};break;default:e.order=10,e.iconClasses=[s.ICONS.UNKNOWN]}return e.styleClasses=e.styleClasses.join(" "),e}},v={"089b49de-6536-11e5-9f53-600308a9dd74":{capabilities:{type:"SET",values:["MOTION"]},description:null,deviceType:null,groups:[],id:"089b49de-6536-11e5-9f53-600308a9dd74",manufacturer:"Nexa",model:"Motion Detection Sensor",name:" Nexa Motion 1",state:{lastMotion:1443438576802,lastSeen:1443438576802,motion:!1,reachable:!0,type:"STATE_MOTION"},timestamp:1443510084320,type:"MOTION"},"7d0d95ae-64f9-11e5-a5d2-600308a9dd74":{buttons:[{id:1,label:"",type:"RC_BUTTON"}],capabilities:{type:"SET",values:["REMOTE_CONTROL"]},description:null,deviceType:null,groups:[],id:"7d0d95ae-64f9-11e5-a5d2-600308a9dd74",manufacturer:"Nexa",model:"Doorbell",name:"Nexa Doorbell 1",state:{button:1,lastSeen:1443346149673,reachable:!0,type:"STATE_DOORBELL"},timestamp:1443510084319,type:"DOORBELL"},"af584df6-64f9-11e5-a688-600308a9dd74":{capabilities:{type:"SET",values:["TWILIGHT"]},description:null,deviceType:null,groups:[],id:"af584df6-64f9-11e5-a688-600308a9dd74",manufacturer:"Nexa",model:"Twilight Sensor",name:"Nexa Twilight 1",state:{lastSeen:1443346295907,reachable:!0,twilight:!1,twilightStart:null,twilightStop:null,type:"STATE_TWILIGHT"},timestamp:1443510084324,type:"TWILIGHT"},"bcadae66-64fa-11e5-8deb-600308a9dd74":{capabilities:{type:"SET",values:["CONTACT"]},description:null,deviceType:null,groups:[],id:"bcadae66-64fa-11e5-8deb-600308a9dd74",manufacturer:"Nexa",model:"Door/Window Sensor",name:"Nexa Contact 1",state:{lastChange:null,lastSeen:1443346377478,open:!1,reachable:!0,type:"STATE_CONTACT"},timestamp:1443510084317,type:"CONTACT"},"f1cb2d14-6677-11e5-8add-600308a9dd74b":{buttons:[{id:1,label:"1 ON",type:"RC_BUTTON"},{id:2,label:"1 OFF",type:"RC_BUTTON"},{id:3,label:"2 ON",type:"RC_BUTTON"},{id:4,label:"2 OFF",type:"RC_BUTTON"}],capabilities:{type:"SET",values:["REMOTE_CONTROL"]},description:null,deviceType:null,groups:[],id:"f1cb2d14-6677-11e5-8add-600308a9dd74b",manufacturer:"Nexa",model:"Wallswitch 2 way",name:"Nexa Wallswitch 2",state:{button:2,lastSeen:1443510124844,reachable:!0,type:"STATE_WALLSWITCH"},timestamp:1443510124845,type:"WALLSWITCH"},"6145c74a-669a-11e5-9a62-600308a9dd74":{buttons:[{id:1,label:"I",type:"RC_BUTTON"},{id:2,label:"O",type:"RC_BUTTON"}],capabilities:{type:"SET",values:["REMOTE_CONTROL"]},description:null,deviceType:null,groups:[],id:"6145c74a-669a-11e5-9a62-600308a9dd74",manufacturer:"Nexa",model:"Keyfob",name:"Nexa Keyfob 1",state:{button:2,lastSeen:1443524974777,reachable:!0,type:"STATE_KEYFOB"},timestamp:1443524974778,type:"KEYFOB"},"f1cb2d14-6677-11e5-8add-600308a9dd74":{buttons:[{id:1,label:"ON",type:"RC_BUTTON"},{id:2,label:"OFF",type:"RC_BUTTON"}],capabilities:{type:"SET",values:["REMOTE_CONTROL"]},description:null,deviceType:null,groups:[],id:"f1cb2d14-6677-11e5-8add-600308a9dd74",manufacturer:"Nexa",model:"Wallswitch 1 way",name:"Nexa Wallswitch 1",state:{button:2,lastSeen:1443510124844,reachable:!0,type:"STATE_WALLSWITCH"},timestamp:1443510124845,type:"WALLSWITCH"}},e.$on("ROOMS_LIST_CHANGED",function(e,t){var n,i,r,s,a,l,c,u,d;if(null!=(null!=t?t.rooms:void 0)){if(a=o.isEmpty(st),st=t.rooms,!o.isEmpty(st)){for(c=0,u=st.length;u>c;c++)l=st[c],l.selected=!1;st[0].selected=!0}d=[];for(r in O)i=O[r],d.push("TIMER"!==i.type?function(){var e,t,r,a;for(r=i.room,a=[],s=e=0,t=r.length;t>e;s=++e)n=r[s],o.isString(n)&&a.push(function(){var e,t,i;for(i=[],e=0,t=st.length;t>e;e++)l=st[e],l.id===n&&i.push(n=l);return i}());return a}():i.room=st);return d}}),e.$on("HUB_DEVICES_CHANGED",function(n,i){var r,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,I,R,_,M;if(v=!1,"yes"===(null!=i?i.reset:void 0)&&(v=!0),null!=(null!=i?i.devices:void 0)){p=i.devices,v&&(O={});for(d in p)if(u=p[d],d&&u){O[d]=q(u),r=!0,o.isEmpty(D)&&(r=!0),dt.length>0&&o.size(D)!==dt.length&&(r=!1);for(f in D)m=D[f],m.selected||(r=!1);if(null!=(T=D[u.type])?T.ids:void 0)if(u.type===s.DEVICE_TYPE.SENSOR||u.type===s.DEVICE_TYPE.MULTI_SENSOR){for(g=!1,j=u.capabilities.values,y=0,w=j.length;w>y;y++)l=j[y],D[l]||(D[l]={}),D[l].ids||(D[l].ids=[],D[l].icon=s.ICONS[l],c=!1,r&&(c=!0),D[l].selected=c),a.call(D[l].ids,d)<0&&D[l].ids.push(d),a.call(dt,l)>=0&&(D[l].selected=!0),D[l].selected&&(g=!0);o.isEmpty(u.groups)&&(u.hide=!g)}else g=D[u.type].selected,a.call(D[u.type].ids,d)<0&&D[u.type].ids.push(d),o.isEmpty(u.groups)&&(u.hide=!g);else if(u.type===s.DEVICE_TYPE.SENSOR||u.type===s.DEVICE_TYPE.MULTI_SENSOR){for(g=!1,C=u.capabilities.values,b=0,A=C.length;A>b;b++)l=C[b],D[l]||(D[l]={}),D[l].ids||(D[l].ids=[],D[l].icon=s.ICONS[l],c=!1,r&&(c=!0),v||(c=!0),D[l].selected=c),a.call(D[l].ids,d)<0&&D[l].ids.push(d),a.call(dt,l)>=0&&(D[l].selected=!0),D[l].selected&&(g=!0);o.isEmpty(u.groups)&&(u.hide=!g)}else h=!1,r&&(h=!0),v||(h=!0),x=u.type,a.call(dt,x)>=0&&(h=!0),D[u.type]={icon:u.iconClasses[0],ids:[d],selected:h},o.isEmpty(u.groups)&&(u.hide=!h)}else if(d&&O[d]){if((null!=(k=O[d])?k.type:void 0)===s.DEVICE_TYPE.SENSOR)for(R=null!=(I=O[d])?I.capabilities.values:void 0,E=0,S=R.length;S>E;E++)l=R[E],(null!=(_=D[l])?_.ids:void 0)&&(delete D[l].ids[d],D[l].length<1&&delete D[l]);else(null!=(M=D[O[d].type])?M.ids:void 0)&&(delete D[O[d].type].ids[d],D[O[d].type].length<1&&delete D[O[d].type]);delete O[d]}return h=!1,o.isEmpty(dt)&&(h=!0),a.call(dt,"TIMER")>=0&&(h=!0),D.TIMER||(D.TIMER={icon:s.ICONS.TIMER,ids:["add-timer"],selected:h}),O["add-timer"]||(O["add-timer"]=q({type:"TIMER",name:"Timer",id:"add-timer",state:{reachable:!0}}),O["add-timer"].hide=!1),t.info("DevicesSrv HUB_DEVICES_CHANGED",p||null),e.$emit("DEVICES_LIST_CHANGED")}}),e.$on("HUB_GROUPS_CHANGED",function(n,i){var r,s,l,c,u,d,m,p;d=!1,"yes"===(null!=i?i.reset:void 0)&&(d=!0),d&&(P={}),r=!0,o.isEmpty(D)&&(r=!1),o.size(D)!==dt.length&&(r=!1);for(u in D)s=D[u],s.selected||(r=!1);if(null!=(null!=i?i.groups:void 0)){c=i.groups;for(u in c)l=c[u],u&&l?(O[u]=q(l),P[u]=l,m=!1,o.isEmpty(l.members)||(p=l.members[Object.keys(l.members)[0]].type,a.call(dt,p)>=0&&(m=!0)),o.isEmpty(dt)&&(m=!0),r&&(m=!0),O[u].hide=!m):u&&O[u]&&delete O[u];return t.info("DevicesSrv HUB_GROUPS_CHANGED",c||null),e.$emit("DEVICES_LIST_CHANGED")}}),e.$on("HUBS_POLL_STOPPED",function(){return P={},O={},D={},localStorage.setItem("selectedDeviceTypes",JSON.stringify([])),e.$emit("DEVICES_LIST_CHANGED")}),e.$on("HUB_ADDRESS_CHANGED",function(e,t){var n;return n=t.address,n?U=n:void 0}),{getMediaViewMode:function(){return W},setMediaViewMode:function(e){return W=e},getViewMode:function(){return Tt},setViewMode:function(e){return Tt=e},ICONS:s.ICONS,mediaSource:void 0,mediaSourceMode:void 0,list:V,getTypes:function(){return D},toggleAllTypes:function(e){var t,n,i;dt=[];for(i in D)n=D[i],n.selected=e,e&&dt.push(i);lt(dt);for(i in O)t=O[i],o.isEmpty(t.groups)&&(t.hide=!e);return D},toggleType:function(e){var t,n,i,r,l,c,u,d,m;if(D[e]){D[e].selected=!D[e].selected,dt=function(){var e;e=[];for(r in D)i=D[r],i.selected&&e.push(r);return e}(),lt(dt);for(r in O)if(n=O[r],n.type===s.DEVICE_TYPE.SENSOR||n.type===s.DEVICE_TYPE.MULTI_SENSOR){for(l=!1,d=n.capabilities.values,c=0,u=d.length;u>c;c++)t=d[c],o.isEmpty(dt)&&(l=!0),a.call(dt,t)>=0&&(l=!0);n.hide=!l}else l=!1,o.isEmpty(dt)&&(l=!0),m=n.type,a.call(dt,m)>=0&&(l=!0),o.isEmpty(n.groups)&&(n.hide=!l);return D}},getRooms:function(){return st},getOldColor:M,setOldColor:vt,addHueBridges:E,get433Devices:I,pair433Device:Y,addZigbeeDevices:S,load:G,group:j,remove:C,returnIgnoredDevices:rt,getColorHistory:R,addToColorHistory:w,removeColorHistory:nt,QUEUE_CMD:y,TYPE:s.DEVICE_TYPE}},angular.module("appSrvs").factory("DevicesSrv",["$rootScope","$log","$http","$q","$timeout","$interval","$state","ConnectSrv","i18nSrv","RoomsSrv",r])}),require.register("devices/srv-helpers.js",function(e,t,n){var i,r,s,o,a,l,c,u,d,m,p;r={GROUP:"DEVICE_GROUP",LIGHT:"COLORED_DIMMED_LIGHT",SENSOR:"MOTION",MULTI_SENSOR:"MULTI_SENSOR",CONTACT:"CONTACT",SWITCH:"SWITCH",TIMER:"TIMER",MEDIA:"MEDIA_RENDERER",UNKNOWN:"UNKNOWN",MOTION:"MOTION",TEMPERATURE:"TEMPERATURE",HUMIDITY:"HUMIDITY",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",DOORBELL:"DOORBELL",TWILIGHT:"TWILIGHT",WALLSWITCH:"WALLSWITCH",KEYFOB:"KEYFOB"},s="boolean",o="numeric",i={LIGHT:"icon-lamp",MOTION:"icon-motiondetector",CONTACT:"icon-contactsensordoor",MULTISENSOR:"MULTISENSOR",NOTIFICATION:"icon-notification",PHONE:"icon-phone",POWER_SOCKET:"icon-poweroutlet",SMOKESENSOR:"icon-smokesensor",SPEAKER:"icon-music",SPEAKERS:"icon-stereo-speakers",MUSIC:"icon-music",THERMOSTAT:"icon-thermostat",TEMPERATURE:"icon-temperature",HUMIDITY:"icon-humiditysensor",TIMER:"icon-time",UI_DEVICE:"icon-phone",UNKNOWN:"icon-power",TV:"icon-tv",SCENE:"icon-scene",GROUP:"icon-devices",REMOTE_CONTROLLER:"icon-rc",DOORBELL:"icon-doorbell",TWILIGHT:"icon-twilightsensor",WALLSWITCH:"icon-wallswitch",KEYFOB:"icon-rc"},a=function(e){return!1||(null!=e?e.type:void 0)===r.LIGHT||(null!=e?e.type:void 0)==="CMD_"+r.LIGHT},m=function(e){return!1||(null!=e?e.type:void 0)===r.TIMER||(null!=e?e.type:void 0)==="CMD_"+r.TIMER},u=function(e){return!1||(null!=e?e.type:void 0)===r.SWITCH||(null!=e?e.type:void 0)==="CMD_"+r.SWITCH
},c=function(e){return!1||(null!=e?e.type:void 0)===r.MEDIA||(null!=e?e.type:void 0)==="CMD_"+r.MEDIA},p=function(e){return!1||(null!=e?e.type:void 0)===r.UNKNOWN||(null!=e?e.type:void 0)==="CMD_"+r.UNKNOWN},l=function(e){return!1||((null!=e?e.type:void 0)===r.GROUP||(null!=e?e.type:void 0)==="CMD_"+r.GROUP)&&"0"!==(null!=e?e.id:void 0)&&e.state.type===STATE_TYPE.LIGHT},d=function(e){return!1||((null!=e?e.type:void 0)===r.GROUP||(null!=e?e.type:void 0)==="CMD_"+r.GROUP)&&"0"!==(null!=e?e.id:void 0)&&e.state.type===STATE_TYPE.SWITCH},n.exports={DEVICE_TYPE:r,ICONS:i,isLight:a,isTimer:m,isSwitch:u,isMedia:c,isUnknown:p,isLightGroup:l,isSwitchGroup:d}}),require.register("scenes/template-scenes.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div id="scenes" ui-view="scenes" autoscroll="false"></div>'),e.join("")}}),require.register("scenes/template-scenes-list.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-init="initializeUI()" class="main-view no-top"><div class="scene-grid excluded"><div class="row"><span ng-repeat="factory in [1,2,3]"><a ng-repeat="(id, scene) in scenes" ng-if="scene.factory==factory" co-tap="tapAction(scene)" co-hold="holdAction(scene)" ng-class="{on: scene.isOn, off: !scene.isOn, blink: scene.busy==true}" class="small-4 button"><i ng-class="scene.icon" class="icon"></i><div class="name"><i ng-if="ui.mode==MODE.EDIT" class="con small"><div class="icon icon-editpen"></div></i><span>{{scene.name}}</span></div></a></span></div></div><div class="scene-grid"><div class="row"><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{\'FAVORITES\'|tr}}</h3></div><a ng-repeat="(id, scene) in scenes" ng-if="!scene.factory&gt;0" co-tap="tapAction(scene)" co-hold="holdAction(scene)" ng-class="{on: scene.isOn, off: !scene.isOn, blink: scene.busy==true}" class="small-4 button"><i ng-class="scene.icon" class="icon"></i><div class="name"><i ng-if="ui.mode==MODE.EDIT" class="con small"><div class="icon icon-editpen"></div></i><span>{{scene.name}}</span></div></a></div></div></form><div ng-include="\'/template-scene-create.tpl.html\'" ng-if="menu.modalPage==&quot;SceneCreation&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("scenes/template-scene-detail.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="main-view row"><div class="small-12 columns"><h3 ng-if="ui.mode==MODE.LIST">{{\'STATES AND RULES\'|tr}}</h3><h3 ng-if="ui.mode==MODE.EDIT">{{\'STATES\'|tr}}</h3><div ng-if="ui.mode==MODE.LIST" class="row"><div ng-if="(!presets || presets.length==0) &amp;&amp; !scene.isRules " class="small-12 columns"><div class="preset-list"><div class="row"><a co-tap="goToDeviceSelection()" class="small-12 columns"><div class="row preset-row valign-middle"><div class="small-2 columns"><i class="con"><div class="icon icon-state"></div></i></div><div class="small-8 columns"><span>{{\'No state or rule in this scene\'|tr}}</span><div class="icon-center-line trunc device-names">{{\'Add new state or rule in devices view\'|tr}}</div></div><div class="small-2 columns text-center"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></div></a></div></div></div></div><div ng-if="ui.mode==MODE.EDIT" class="row"><div ng-if="(!presets || presets.length==0)" class="small-12 columns"><div class="preset-list"><div class="row"><a co-tap="goToDeviceSelection()" class="small-12 columns"><div class="row preset-row valign-middle"><div class="small-2 columns"><i class="con"><div class="icon icon-state"></div></i></div><div class="small-8 columns"><span>{{\'No state in this scene\'|tr}}</span><div class="icon-center-line trunc device-names">{{\'Add new state in devices view\'|tr}}</div></div><div class="small-2 columns text-center"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></div></a></div></div></div></div><div class="row"><div class="small-12 columns"><div ng-if="ui.mode==MODE.LIST" class="preset-list"><div ng-repeat="preset in presets track by $index" class="row"><a co-tap="presetDetails(preset.id) " class="small-12 columns"><div class="row preset-row valign-middle"><div class="small-2 columns"><i class="con"><i class="icon icon-state"></i></i></div><div class="small-8 columns"><div class="icon-center-line trunc">{{preset.name}}</div><div ng-if="preset.type==&quot;DEVICE_GROUP&quot;" class="icon-center-line trunc device-names">{{preset.memberNames}}</div></div><div class="small-2 columns text-center"><i class="con"><i class="icon icon-cornerarrow"></i></i></div></div></a></div></div><div ng-if="ui.mode==MODE.LIST" ng-controller="RulesListCtrl" class="preset-list"><div ng-repeat="(ruleId,rule) in $parent.scene.rules" ng-include="\'/partitial-rules-filtered.tpl.html\'" class="row"></div></div></div><div class="small-12 columns"><div ng-if="ui.mode==MODE.EDIT" class="preset-list"><div ng-repeat="preset in presets track by $index" class="row"><a co-tap="removePreset(preset) " class="preset-remove small-2 columns"><i class="con"><div class="icon icon-trash"></div></i></a><div class="small-10 columns"><div class="row preset-row valign-middle"><div class="small-2 columns"><i class="con"><div class="icon icon-state"></div></i></div><div class="small-10 columns end"><div class="icon-center-line trunc">{{preset.name}}</div><div ng-if="preset.type==&quot;DEVICE_GROUP&quot;" class="icon-center-line trunc device-names">{{preset.memberNames}}</div></div></div></div></div></div></div></div><div class="row"><div ng-if="ui.mode==MODE.LIST||scene.sceneTimers.length&gt;0" class="small-12 columns"><h3 class="t-margin-S">{{\'TIMER\'|tr}}</h3></div><div ng-if="ui.mode==MODE.LIST" ng-repeat="timer in scene.sceneTimers" class="small-12 columns"><a co-tap="showDateSelection($index)" class="preset-list"><div class="row preset-row valign-middle"><div class="small-2 columns"><i class="con"><div class="icon icon-time"></div></i></div><div class="small-8 columns"><div ng-if="timer.isSameStartStopDays" class="row text-center"><div class="small-12 inline-truncated"><span>{{timer.startDays}}</span></div><div ng-if="timer.timerStart.time" class="small-5 inline-truncated t-margin-XXS upper-case"><sapn class="i">{{timer.timerStart.time}}</sapn></div><div ng-if="timer.timerStart.sun" class="small-5 inline-truncated icon-in t-margin-XXS"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated t-margin-XXS"><span>-</span></div><div ng-if="timer.timerStop.time" class="small-5 inline-truncated t-margin-XXS upper-case end"><span class="i">{{timer.timerStop.time}}</span></div><div ng-if="timer.timerStop.sun" class="small-5 inline-truncated icon-in t-margin-XXS end"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStop.sunTime}}</span></div></div><div ng-if="!timer.isSameStartStopDays" class="row text-center"><div class="small-5 inline-truncated upper-case"><span>{{timer.startDays}}</span></div><div class="small-1 inline-truncated"><span></span></div><div class="small-5 inline-truncated upper-case end"><span>{{timer.stopDays}}</span></div><div ng-if="timer.timerStart.time" class="small-5 inline-truncated upper-case"><span class="i">{{timer.timerStart.time}}</span></div><div ng-if="timer.timerStart.sun" class="small-5 inline-truncated icon-in"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated"><span>-</span></div><div ng-if="timer.timerStop.time" class="small-5 inline-truncated upper-case end"><span class="i">{{timer.timerStop.time}}</span></div><div ng-if="timer.timerStop.sun" class="small-5 inline-truncated icon-in end"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStop.sunTime}}</span></div></div></div><div class="small-2 columns text-center"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></div></a></div><div ng-if="ui.mode==MODE.EDIT" ng-repeat="timer in scene.sceneTimers" class="small-12 columns"><div class="preset-list"><div class="row"><a co-tap="removeTimer($index) " class="preset-remove small-2 columns"><i class="con"><div class="icon icon-trash"></div></i></a><div class="small-10 columns"><div class="row preset-row valign-middle"><div class="small-2 inline lr-padding-XS"><i class="con"><i class="icon icon-time position-up-XS"></i></i></div><div class="small-10 inline lr-padding-XS"><div ng-if="timer.isSameStartStopDays" class="row text-center"><div class="small-12 inline-truncated"><span>{{timer.startDays}}</span></div><div ng-if="timer.timerStart.time" class="small-5 inline-truncated t-margin-XXS upper-case"><sapn class="i">{{timer.timerStart.time}}</sapn></div><div ng-if="timer.timerStart.sun" class="small-5 inline-truncated icon-in t-margin-XXS"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated t-margin-XXS"><span>-</span></div><div ng-if="timer.timerStop.time" class="small-5 inline-truncated t-margin-XXS upper-case end"><span class="i">{{timer.timerStop.time}}</span></div><div ng-if="timer.timerStop.sun" class="small-5 inline-truncated icon-in t-margin-XXS end"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStop.sunTime}}</span></div></div><div ng-if="!timer.isSameStartStopDays" class="row text-center"><div class="small-5 inline-truncated upper-case"><span>{{timer.startDays}}</span></div><div class="small-1 inline-truncated"><span></span></div><div class="small-5 inline-truncated upper-case end"><span>{{timer.stopDays}}</span></div><div ng-if="timer.timerStart.time" class="small-5 inline-truncated upper-case"><sapn class="i">{{timer.timerStart.time}}</sapn></div><div ng-if="timer.timerStart.sun" class="small-5 inline-truncated icon-in t-margin-XXS"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated"><span>-</span></div><div ng-if="timer.timerStart.time" class="small-5 inline-truncated upper-case end"><span class="i">{{timer.timerStop.time}}</span></div><div ng-if="timer.timerStop.sun" class="small-5 inline-truncated icon-in t-margin-XXS end"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{timer.timerStop.sunTime}}</span></div></div></div></div></div></div></div></div></div><div ng-if="ui.mode==MODE.LIST" class="row"><div class="small-12 small-centered columns end"><a co-tap="addTimer()" class="row-link"><i class="con"><div class="icon icon-addsmall big"></div></i><span>{{\'Add timer\'|tr}}</span></a></div></div><div ng-if="ui.mode==MODE.EDIT &amp;&amp; !ui.homeOrAway" class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="removeScene()" class="row-button">{{\'DELETE SCENE\'|tr}}</button></div></div></div></form><div ng-include="\'/template-date-selection.tpl.html\'" ng-if="menu.modalPage==&quot;DateSelection&quot;" class="slide-animate"></div><div ng-include="\'/template-roller-clock.tpl.html\'" ng-if="menu.modalPage==&quot;ClockRoller&quot;" class="slide-animate"></div><div ng-include="\'/template-roller-time.tpl.html\'" ng-if="menu.modalPage==&quot;TimeRoller&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("scenes/template-scene-create.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-controller="SceneListCtrl" class="modal overlay"><div class="content"><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="text-center">{{\'TYPE IN SCENE NAME\'|tr}}</label></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" ng-model="ui.newSceneName" palceholder="" autofocus="autofocus"/></div></div><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="createNewSceneFromPreset(); closeModal()" class="row-button bottom">{{\'DONE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("scenes/index.js",function(e,t){var n,i;t("./srv-scenes"),n=t("./ctrl-detail"),i=t("./ctrl-list"),angular.module("appCtrls").controller("SceneDetailCtrl",["$rootScope","$scope","$state","$stateParams","$timeout","$log","ScenesSrv","DevicesSrv","ConnectSrv","i18nSrv","CronSrv",n]).controller("SceneListCtrl",["$rootScope","$scope","$state","$log","$timeout","$interval","ScenesSrv","ConnectSrv","i18nSrv",i])}),require.register("scenes/ctrl-detail.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l,c,u,d){var m,p,f,v,h,g,y,b,E,w,A,S,T,j;return m={EDIT:"edit",LIST:"list"},t.MODE=m,t.ui={mode:m.LIST,homeOrAway:!1,watchersSet:!1,name:""},t.scene=void 0,t.presets=[],t.shortDays=u.getShortDays(),f=null,v=null,h=null,g={},E=void 0,b=void 0,t.timer=void 0,t.getTimers=function(){var e;return(null!=(e=t.scene)?e.sceneTimes:void 0)||[]},T=function(e){var n,r,s,o;if(t.scene.sceneTimes=e,t.scene.sceneTimers=[],!i.isEmpty(e)){for(o=[],r=0,s=e.length;s>r;r++)n=e[r],n.startDays=d.getSelectedDays(n,"timerStart"),n.stopDays=d.getSelectedDays(n,"timerStop"),n.isSameStartStopDays=d.isSameStartStopDays(n),o.push(t.scene.sceneTimers.push(n));return o}},t.saveTimers=function(){return T(angular.copy(t.scene.sceneTimesToEdit)),o.debug("sceneDetailCtrl _saveTimers",t.scene.sceneTimes),t.scene.save().then(function(t){return o.debug("sceneDetailCtrl _saveTimers updated: ",t),e.closeModal()},function(t){return e.alert("Scene timer failed",t,!0)})},t.addTimer=function(){return d.setTimers(angular.copy(t.scene.sceneTimes)),d.addTimer(),t.scene.sceneTimesToEdit=angular.copy(d.timers),t.timer=t.scene.sceneTimesToEdit[t.scene.sceneTimesToEdit.length-1],e.showModal("DateSelection",["Theme timer"])},t.removeTimer=function(e){return d.setTimers(angular.copy(t.scene.sceneTimes)),d.removeTimer(d.timers[e]),t.scene.sceneTimesToEdit=angular.copy(d.timers),t.saveTimers()},t.isSelectedDay=d.isSelectedDay,t.selectDay=d.selectDay,t.getSelectedDays=d.getSelectedDays,t.getSelectedLongDays=d.getSelectedLongDays,t.isEveryDaySelected=function(e,t){return d.getSelectedDays(e,t)===u.tr("Every day")},t.isWeekdaysSelected=function(e,t){return d.getSelectedDays(e,t)===u.tr("Weekdays")},t.isWeekendSelected=function(e,t){return d.getSelectedDays(e,t)===u.tr("Weekend")},t.isSameStartStopDays=d.isSameStartStopDays,t.showDateSelection=function(n){return t.scene.sceneTimesToEdit=angular.copy(t.scene.sceneTimes),t.timer=t.scene.sceneTimesToEdit[n],e.showModal("DateSelection",["Theme timer"])},t.selectExtraClock=function(t,n){var i;if(t&&n&&t[n])return i=t[n],e.showModal("ClockRoller",["Select","clock time"]),i.sun?(e.setClockKind("sun"),e.clockRoller.sun.selected=i.sun,e.clockRoller.sunTime.selected=i.sunTime):(e.setClockKind("time"),e.clockRoller.minute.selected=u.localizedMin(i.minute)||u.localizedMin("0"),e.clockRoller.minute.unit="minutes",e.clockRoller.hour.selected=u.localizedHour(i.hour)||u.localizedHour("8"),e.clockRoller.hour.unit="hours"),e.clockRoller.hour.listItems=e.clockRoller.HOUR_SELECTION,e.clockRoller.minute.listItems=e.clockRoller.MIN_SELECTION,e.clockRoller.object=t,e.clockRoller.timer=i,e.clockRoller.timerType=n},t.setClockRollerOk=function(){var t;return"time"===e.clockKind?(e.clockRoller.timer.minute=e.clockRoller.minute.selected,e.clockRoller.timer.hour=u.get24hFormat(e.clockRoller.hour.selected),e.clockRoller.timer.time=u.localizedTime(""+e.clockRoller.timer.hour+":"+e.clockRoller.timer.minute),e.clockRoller.timer.sun&&delete e.clockRoller.timer.sun,e.clockRoller.timer.sunTime&&delete e.clockRoller.timer.sunTime):(e.clockRoller.timer.sun=e.clockRoller.sun.selected,e.clockRoller.timer.sunTime=e.clockRoller.sunTime.selected,e.clockRoller.timer.minute&&delete e.clockRoller.timer.minute,e.clockRoller.timer.hour&&delete e.clockRoller.timer.hour,e.clockRoller.timer.time&&delete e.clockRoller.timer.time),t=e.clockRoller.object,"timerStart"===e.clockRoller.timerType?"time"===e.clockKind?(t.cronDef.start=d.formatHourForCron(e.clockRoller.timer.hour,e.clockRoller.object.cronDef.start),t.cronDef.start=d.formatMinuteForCron(e.clockRoller.timer.minute,e.clockRoller.object.cronDef.start),t.startDays||(t.startDays=d.getSelectedDays(t,"timerStart")),(t.startDays===u.tr(d.WEEKEND)||t.startDays===u.tr(d.WEEKDAYS))&&d.selectDay(t.startDays,t,"timerStart")):"sun"===e.clockKind&&(t.cronDef.start=d.formatSunForCron(e.clockRoller.timer.sun,e.clockRoller.timer.sunTime,e.clockRoller.object.cronDef.start)):"timerStop"===e.clockRoller.timerType&&("time"===e.clockKind?(e.clockRoller.object.cronDef.stop=d.formatHourForCron(e.clockRoller.timer.hour,e.clockRoller.object.cronDef.stop),e.clockRoller.object.cronDef.stop=d.formatMinuteForCron(e.clockRoller.timer.minute,e.clockRoller.object.cronDef.stop),t.stopDays||(t.stopDays=d.getSelectedDays(t,"timerStop")),(t.stopDays===u.tr(d.WEEKEND)||t.stopDays===u.tr(d.WEEKDAYS))&&d.selectDay(t.stopDays,t,"timerStop")):"sun"===e.clockKind&&(t.cronDef.stop=d.formatSunForCron(e.clockRoller.timer.sun,e.clockRoller.timer.sunTime,e.clockRoller.object.cronDef.stop))),o.debug("SceneCtrl  setClockRollerOk ",e.clockRoller.object.cronDef),e.$emit("HEADER_PREV")},t.selectExtraDays=function(t,n){var i,r;if(t&&n&&t[n])return r=t[n],e.showModal("TimeRoller",["Select","Day"]),e.timeRoller.listItems=d.extendedDays.concat(d.extendedDays),i=d.getSelectedDays(t,n)||e.timeRoller.DATE_DEFAULT,e.timeRoller.selected=d.getLongDay(i),e.timeRoller.name="date",e.timeRoller.unit="",e.timeRoller.object=t,e.timeRoller.timer=r,e.timeRoller.timerType=n},t.setTimeRollerOk=function(){return"timerStart"===e.timeRoller.timerType?e.timeRoller.object.timerStart=d.selectDay(e.timeRoller.selected,e.timeRoller.object,"timerStart"):"timerStop"===e.timeRoller.timerType&&(e.timeRoller.object.timerStop=d.selectDay(e.timeRoller.selected,e.timeRoller.object,"timerStop")),o.debug("SceneCtrl setDateRollerOk ",e.timeRoller.object),e.$emit("HEADER_PREV")},S=function(){var e,n,i,r,s,o,a,l;if(t.scene){t.presets=[],r=[],a=t.scene.presets,l=[];for(o in a)s=a[o],e=g[s.id],(null!=e?e.name:void 0)&&(s.name=e.name),e&&e.members&&(r=function(){var t,r;t=e.members,r=[];for(n in t)i=t[n],r.push(i.name);return r}(),s.memberNames=r.join(", ")),l.push(t.presets.push(s));return l}},w=function(i,r){return o.debug("sceneDetailCtrl sceneId: Scene details request for id ",i),a.load(i,r).then(function(i){var r;return o.debug("sceneDetailCtrl sceneId: Scene details read data: ",i),i&&(t.scene=i,i.factory>0&&(t.ui.homeOrAway=!0),d.setTimers(angular.copy(t.scene.sceneTimes)),T(angular.copy(d.timers)),t.ui.name=i.name,E=t.ui.name,S(),j()),t.ui.mode=m.LIST,"c.home.scene-detail"===(null!=n&&null!=(r=n.current)?r.name:void 0)?e.$emit("HEADER_PAGE",{show:!0,previous:"c.home",icon:"icon-scene",mode:"view",title:t.ui.name}):void 0},function(t){return e.alert("Scene read failed",t,!0)})},t.goToDeviceSelection=function(){return e.menu.show=!0,e.swipeToDevices(),n.go("c.home")},y=function(i){return e.menu.show=!0,n.go("c.home.devices-detail-scene",{deviceId:i,sceneId:t.scene.id})},t.presetDetails=function(e){var n,i,r,s,o,a;for(a=t.presets,s=0,o=a.length;o>s;s++)n=a[s],n.id===e&&(i=n.state);return i&&g[e]?(r=angular.copy(g[e]),r.state=i,r.set(),r.select(t.scene.id)):void 0},t.removePreset=function(n){return t.scene.togglePreset(n,"remove").then(function(){return o.debug("sceneDetailCtrl removePreset: scene presets "),S()},function(t){return e.alert("Preset remove failed",t,!0)})},t.removeScene=function(){var i;return!t.ui.homeOrAway&&(null!=(i=t.scene)?i.id:void 0)?t.scene.remove().then(function(){return n.go("^")},function(t){return e.alert("Scene remove failed",t,!0)}):void 0},A=function(n){return void 0!==n&&n!==E?(o.debug("sceneDetailCtrl watch 'scene name': Change detected "+n+" scene"),t.scene.name=n,t.scene.save().then(function(e){return o.debug("sceneDetailCtrl _saveTitle updated ",e)},function(t){return e.alert("Scene rename failed",t,!0)})):void 0},j=function(){return t.ui.watchersSet?void 0:(t.ui.watchersSet=!0,f=e.$on("HEADER_MODE_CHANGED",function(e,i){var r,a;if("c.home.scene-detail"===(null!=n&&null!=(a=n.current)?a.name:void 0))return r=i.mode,"edit"===r?(s(function(){return t.ui.mode=m.EDIT}),o.debug("sceneDetailCtrl watch 'mode': Change detected "+t.ui.mode)):"view"===r?(s(function(){return t.ui.mode=m.LIST}),o.debug("sceneDetailCtrl watch 'mode': Change detected "+t.ui.mode)):void 0}),v=e.$on("HEADER_TITLE_CHANGED",function(e,t){var i;if("c.home.scene-detail"===(null!=n&&null!=(i=n.current)?i.name:void 0))return t.title?A(t.title):void 0}))},l.list(!1).then(function(e){return g=e,r.sceneId?w(r.sceneId):void 0},function(t){return e.alert("Device list failed",t,!0)}),p=e.$on("SCENES_LIST_CHANGED",function(){var e;return o.debug("SceneListCtrl SCENES_LIST_CHANGED"),(null!=(e=t.scene)?e.id:void 0)?w(t.scene.id):void 0}),t.$on("$destroy",function(){return o.debug("sceneDetailCtrl: $destroy call"),f&&f(),v&&v(),p?p():void 0})}}),require.register("scenes/ctrl-list.js",function(e,t,n){var i,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};i=window.lodash,n.exports=function(e,t,n,s,o,a,l){var c,u,d,m,p,f,v;return t.MODE={EDIT:"edit",VIEW:"view"},t.allScenes={},t.subScenes={},t.scenePresets={},t.deviceScenes=[],t.ui={newSceneName:void 0,newScenes:[],homeId:void 0,awayId:void 0,mode:t.MODE.VIEW,busy:{}},u=void 0,t.addPresetToScenes=function(e){return e&&l.addPresetToScenes(e,t.ui.newScenes),t.ui.newScenes=angular.copy(t.scenes)},t.listScenes=function(){return l.list().then(function(n){return i.isEmpty(n)?u?void 0:u=e.$on("HUB_CONNECTED",function(){return t.listScenes()}):(t.scenes=n,t.ui.newScenes=angular.copy(n),s.debug("SceneListCtrl listScenes: $scope.scenes: ",t.scenes))},function(n){return t.scenes=[],t.ui.newScenes=[],e.alert("Scene list failed",n,!0)})},t.tapAction=function(e){return t.ui.mode===t.MODE.EDIT?e.select():e.toggle()},t.holdAction=function(e){return t.ui.mode===t.MODE.VIEW?e.select():void 0},v=function(e,n){var i;return i=!1,e.id&&t.scenePresets[e.id]&&r.call(t.scenePresets[e.id],n)>=0&&(i=!0),i},t.isPresetSavedToScene=v,t.saveDeviceToSceneAndGoIntoIt=function(i,r){var s;if((null!=i?i.id:void 0)&&(null!=i?i.type:void 0)&&(s=t.scenes[r]))return s.togglePreset(i,"half").then(function(){return e.noSwipe=!0,n.go("c.home.scene-detail",{sceneId:r})},function(){return e.alert("Scene update failed",status,!0)})},t.createNewSceneFromPreset=function(n){var i;if((null!=(i=t.ui.newSceneName)?i.length:void 0)>0)return s.debug("SceneListCtrl createNew: Name '"+t.ui.newSceneName+"', member to be added:",n),l.add(t.ui.newSceneName,n).then(function(e){return s.debug("SceneListCtrl createNewSceneFromPreset: scene preset created: ",e)},function(t){return e.alert("Scene creation from state failed",t,!0)})},t.listScenes(),f=e.$on("HEADER_MODE_CHANGED",function(e,i){var r,a;if("c.home"===(null!=n&&null!=(a=n.current)?a.name:void 0))return r=i.mode,r===t.MODE.EDIT?(o(function(){return t.ui.mode=t.MODE.EDIT}),s.debug("sceneListCtrl watch 'mode': Change detected "+t.ui.mode)):r===t.MODE.VIEW?(o(function(){return t.ui.mode=t.MODE.VIEW}),s.debug("sceneListCtrl watch 'mode': Change detected "+t.ui.mode)):void 0}),d=e.$on("SCENES_PAGE_RELOAD_REQUEST",function(){return s.debug("SceneListCtrl SCENES_PAGE_RELOAD_REQUEST"),t.listScenes(!0)}),m=e.$on("SCENES_LIST_CHANGED",function(){return s.debug("SceneListCtrl SCENES_LIST_CHANGED"),t.listScenes(!1)}),p=e.$on("SCENE_TOGGLE_REQUEST",function(e,n){var i,r;if(r=void 0,n&&(r=n.sceneId),r){if(i=t.scenes[r],!i)return;return s.debug("SceneListCtrl SCENES_TOGGLE_REQUEST for id ",i.name),i.toggle()}}),c||(c=e.$on("HEADER_ADD_ACTION",function(){return e.menu.isScenes?(s.debug("SceneListCtrl HEADER_ADD_ACTION"),e.showModal("SceneCreation","Create New Scene")):void 0})),t.$on("$destroy",function(){s.debug("SceneListCtrl: $destroy call"),u&&u(),f(),d(),m(),c(),p()})}}),require.register("scenes/srv-scenes.js",function(e,t){var n,i,r,s,o,a,l,c,u,d,m;c=window.lodash,a=t("./srv-helpers"),s="boolean",o="numeric",r="SCENE",i="SCENE_HOME",n="SCENE_AWAY",u=function(e){return"CMD_"!==e.substr(0,4)&&(e="CMD_"+e),e},d=function(e,t){var n;return n={id:null,name:e,isOn:t?!0:!1,excludedIds:[],presets:{},type:r},t&&(n.presets[t.id]=t),n},m=function(e){var t,n,i,r,s,o,a,l,d,m,p,f,v,h,g,y;for(o=function(){var t;t=[];for(n in e)s=e[n],t.push(angular.copy(s));return t}(),l=0,m=o.length;m>l;l++){if(s=o[l],s.type=u(s.type),s.fixedSceneId=void 0,s.excludedIds=void 0,delete s.styleClasses,delete s.toggle,delete s.togglePreset,delete s.isPreset,delete s.select,delete s.remove,delete s.save,delete s.nameIt,delete s.busy,delete s.addStatus,delete s.rules,delete s.sceneTimers,delete s.sceneTimesToEdit,s.sceneTimes){for(t=[],f=s.sceneTimes,d=0,p=f.length;p>d;d++)a=f[d],a.timerStart&&(!(null!=(v=a.timerStart)?v.days:void 0)||a.timerStart.days.length<1)&&(a.cronDef.start=void 0),a.timerStop&&(!(null!=(h=a.timerStop)?h.days:void 0)||(null!=(g=a.timerStop)?g.days.length:void 0)<1)&&(a.cronDef.stop=void 0),t.push({cronDef:a.cronDef,type:a.type});s.sceneTimes=t}if(s.presets){y=s.presets;for(r in y)i=y[r],s.presets[r]=c.pick(i,"id","groups","state"),s.presets[r].type="CMD_DEVICE"}}return o},l=function(e,t,r,s,o,l,u){var p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k;return j={},w={},f=u.getHUBAddress(),g=function(){var e;return e=s.defer(),t.debug("scenesSrv _listScenes:  Scenes from cache: ",j),e.resolve(j),e.promise},y=function(e){var n,i;return n=s.defer(),c.isEmpty(j)?g().then(function(){return c.isEmpty(j)?n.reject("Scenes list is empty"):(t.debug("scenesSrv _loadScene: All scenes loaded to cache",j),y(e).then(function(e){return t.debug("scenesSrv _loadScene: Scene details read:",e),n.resolve(e)},function(e){return n.reject(e)}))},function(){return n.reject("Scenes list read failed")}):(i=j[e],c.isEmpty(i)?(t.error("scenesSrv _loadScene: Scene not in cache",e),n.resolve("Scene not found")):n.resolve(i)),n.promise},S=function(n,i){var o;return i=i||"PUT",o=s.defer(),r({method:i,url:f+"/scenes/command",data:[n]}).success(function(e,n){return t.debug("scenesSrv _sceneCommand: Ok "+n+", data: ",e),o.resolve(e)}).error(function(n,i){return e.alert("Device update failed",i,!0),t.error("scenesSrv _sceneCommand: Error "+i+", data: ",n),o.reject(n)}),o.promise},T=function(n){var i;return i=s.defer(),r({method:"PUT",url:f+"/scenes",data:n}).success(function(e,n){return t.debug("scenesSrv _sceneUpdate: Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("Scene update failed",r,!0),t.error("scenesSrv _sceneUpdate: Error "+r+", data: ",n),i.reject(n)}),i.promise},h=function(e){var n,i,r,s,o,a,l,u;o="none",l=this.presets;for(s in l)if(r=l[s],s===e.id){o="half",n=!0,u=r.state;for(i in u)if(a=u[i],a&&!c.isObject(a)&&"lastSeen"!==i&&a!==e.state[i]){t.info("scenesSrv _isPresetOfScene different values "+a+" "+e.state[i]+" for key "+i),n=!1;break}n&&(o="full")}return o},x=function(n,i){var r,o,a,l;if(r=s.defer(),c.isEmpty(n))e.alert("Scene update failed",void 0,!0),r.reject("Device not found for setting it");else if(t.debug("scenesSrv _togglePresetScene test device: ",n),i||(i=this.isPreset(n)),"none"===i||"half"===i||"add"===i)this.presets[n.id]=n,this.save().then(function(e){return function(n){return t.debug("scenesSrv _togglePresetScene add: Ok data: ",n),r.resolve(e)}}(this),function(n){return e.alert("Scene update failed",n,!0),t.error("scenesSrv _togglePresetScene add/update: Error "+n),r.reject(n)});else{l=this.presets;for(a in l)o=l[a],a===n.id&&delete this.presets[a];this.save().then(function(e){return function(n){return t.debug("scenesSrv _togglePresetScene remove: Ok data: ",n),r.resolve(e)}}(this),function(n){return e.alert("Scene update failed",n,!0),t.error("scenesSrv _togglePresetScene remove: Error "+n),r.reject(n)})}return r.promise},b=function(n){var i;return i=s.defer(),r({method:"PUT",url:f+"/scenes/command",data:n}).success(function(e,n){return t.debug("scenesSrv _putScenes: Ok "+n+", data: ",e),i.resolve(e)}).error(function(n,r){return e.alert("Scene update failed",r,!0),t.error("scenesSrv _putScenes: Error "+r+", data: ",n),i.reject(n)}),i.promise},p=function(e,t){var n,i;return n=d(e,t),i=m({newScene:n}),b(i)},A=function(){var e;return e=m({saveScene:this}),b(e)},E=function(){var e;return e=s.defer(),r({method:"DELETE",url:f+("/scenes/?sceneId="+this.id),headers:{"Content-Type":"application/json"}}).success(function(n){return t.debug("scenesSrv _removeScene:  Scene removed ",n),e.resolve(n)}).error(function(n,i){return t.error("scenesSrv _removeScene: Error "+i+" when removing scenes: ",n),e.reject(n)}),e.promise},k=function(){var e,n;return n=s.defer(),this.busy=!0,this.isOn?(this.isOn=!1,e="CMD_SCENE_OFF"):(this.isOn=!0,e="CMD_SCENE_ON"),S({id:this.id,type:e}).then(function(e){return function(i){return t.debug("scenesSrv _toggleScene:  Toggled scene ",i),e.busy=!1,n.resolve(i)}}(this),function(e){return function(i){return t.error("scenesSrv _toggleScene: Error "+i+" toggling scenes "),e.busy=!1,n.reject(i)}}(this)),n.promise},C=function(){return e.noSwipe=!0,l.go("c.home.scene-detail",{sceneId:this.id})},v=function(e){if(e){switch(e.styleClasses=[],e.toggle=k,e.togglePreset=x,e.isPreset=h,e.select=C,e.remove=E,e.save=A,e.nameIt=function(){},e.busy=!1,e.factory=0,e.icon){case"HOME":e.icon="icon-athome",e.factory=1;break;case"NIGHT":e.icon="icon-sleep",e.factory=2;break;case"AWAY":e.icon="icon-away",e.factory=3;break;default:e.icon="icon-power"}return e.rules={},e.isRules=!1,e}},e.$on("HUB_SCENES_CHANGED",function(n,i){var r,s,o,a,l,u;if("yes"===(null!=i?i.reset:void 0)&&(j={}),null!=(null!=i?i.scenes:void 0)){l=i.scenes;for(r in l)o=l[r],r&&o?j[r]=v(o):r&&j[r]&&delete j[r];for(r in w){s=w[r],u=s.scenes;for(a in u)o=u[a],c.isEmpty(j[a])||(j[a].rules[r]=s,j[a].isRules=!c.isEmpty(j[a].rules))}return t.info("ScenesSrv HUB_SCENES_CHANGED",j||null),e.$emit("SCENES_LIST_CHANGED")}}),e.$on("HUB_RULES_CHANGED",function(e,n){return"yes"===(null!=n?n.reset:void 0)&&(w={}),o(function(){var e,i,r,s,o,a;if(null!=(null!=n?n.rules:void 0)){r=n.rules;for(e in r)i=r[e],e&&i?w[e]=r[e]:e&&w[e]&&delete w[e];for(o in j)s=j[o],s.rules={};for(e in w){i=w[e],a=i.scenes;for(o in a)s=a[o],j[o].rules[e]=i}for(o in j)s=j[o],s.isRules=!c.isEmpty(s.rules);return t.info("ScenesSrv HUB_RULES_CHANGED",w||null)}},100)}),e.$on("HUBS_POLL_STOPPED",function(){return w={},j={},e.$emit("SCENES_LIST_CHANGED")
}),e.$on("HUB_ADDRESS_CHANGED",function(e,t){var n;return n=t.address,n&&(f=n,"http://1.0.0.1"!==n)?g():void 0}),{SCENE_HOME:i,SCENE_AWAY:n,list:g,load:y,add:p,put:b,togglePreset:x,addPresetToScenes:function(n,i){var r,o,a;r=[];for(a in i)o=i[a],o.addStatus&&r.push(o.togglePreset(n,"add"));return c.isEmpty(r)?void 0:s.all(r).then(function(e){return t.debug("SceneListCtrl addPresetToScenes: scene presets added: ",e)},function(n,i){return t.error("SceneListCtrl addPresetToScenes: Error "+n+" connecting: ",i),e.alert("State addition failed",n,!0)})},togglePresetScene:function(e,t,n){var i,r,o,l,c,u;for(i=s.defer(),r=i.promise,c=0,u=j.length;u>c;c++)o=j[c],o.id===t&&(l=o);return l&&"0"!==e.id&&(DevicesSrv.isLightGroup(e)||DevicesSrv.isSwitchGroup(e))?a.updateGrpPreset(l,n,e):l&&"0"!==e.id&&DevicesSrv.isLight(e)||DevicesSrv.isMedia(e)||DevicesSrv.isSwitch(e)?a.updateDevicePreset(l,n,e):i.reject("Scene not found for setting it"),i.resolve(b([l])),r}}},angular.module("appSrvs").factory("ScenesSrv",["$rootScope","$log","$http","$q","$timeout","$state","ConnectSrv",l])}),require.register("scenes/srv-helpers.js",function(e,t,n){var i,r,s,o,a,l,c,u,d,m,p,f;a=window.lodash,i=t("../devices/srv-helpers").DEVICE_TYPE,o="SCENE",s="SCENE_HOME",r="SCENE_AWAY",c=function(e,t){var n,i,r,s;for(n=void 0,r=0,s=t.length;s>r;r++)i=t[r],i.id===e&&(n=i);return n&&(n.rules=n.rules?a.uniq(n.rules):[]),n},u=function(e,t){var n;return n={id:null,name:e,isOn:t?!0:!1,excludedIds:[],presets:[],type:o},t&&t.type!==i.GROUP&&t.type!=="CMD_"+i.GROUP?n.presets.push({id:"0",type:i.GROUP,name:"Ungrouped",members:[{id:t.id,type:t.type,name:t.name,state:t.state}]}):!t||t.type!==i.GROUP&&t.type!=="CMD_"+i.GROUP||n.presets.push({id:t.id,type:i.GROUP,name:t.name,state:t.state}),n},m=function(e,t,n,r){var s,o,a,l,c,u,d;if(o=void 0,(null!=(c=e.presets)?c.length:void 0)>0)for(u=e.presets,a=0,l=u.length;l>a;a++)s=u[a],s.id===t&&(o=s);return o||(o={id:t,name:n,type:i.GROUP},"0"===t?(o.members=[],(null!=(d=e.presets)?d.length:void 0)>0?e.presets.push(o):e.presets=[o]):o.state=r),o},p=function(e,t,n){var i,r,s,o,l;if(r=m(e,"0","Ungrouped",null),r&&t===!0)r.members||(r.members=[]),r.members.push({id:n.id,name:n.name,state:n.state,type:n.type});else if(r&&t===!1)r.members=a.filter(r.members,function(e){return e.id!==n.id});else for(l=r.members,s=0,o=l.length;o>s;s++)i=l[s],i.id===n.id&&(i.name=n.name,i.state=n.state,i.type=n.type);return void 0},f=function(e,t,n){var i,r,s,o,l,c;if(r=m(e,n.id,n.name,n.state),r&&t===!0)(null!=(l=e.presets)?l.length:void 0)>0?e.presets.push(r):e.presets=[r];else if(r&&t===!1)e.presets=a.filter(e.presets,function(e){return e.id!==n.id});else for(c=e.presets,s=0,o=c.length;o>s;s++)i=c[s],i.id===n.id&&(i.name=n.name,i.state=n.state,i.type=n.type);return void 0},l=function(e){return"CMD_"!==e.substr(0,4)&&(e="CMD_"+e),e},d=function(e){var t,n,i,r,s,o,a,c,u,d,m,p,f,v,h,g,y,b,E,w;for(s=angular.copy(e),a=0,m=s.length;m>a;a++){if(r=s[a],r.type=l(r.type),r.fixedSceneId=void 0,r.excludedIds=void 0,r.sceneTimes){for(t=[],h=r.sceneTimes,c=0,p=h.length;p>c;c++)o=h[c],o.timerStart&&(!(null!=(g=o.timerStart)?g.days:void 0)||o.timerStart.days.length<1)&&(o.cronDef.start=void 0),o.timerStop&&(!(null!=(y=o.timerStop)?y.days:void 0)||(null!=(b=o.timerStop)?b.days.length:void 0)<1)&&(o.cronDef.stop=void 0),t.push({cronDef:o.cronDef,type:o.type});r.sceneTimes=t}if(r.sceneTimesToEdit&&(r.sceneTimesToEdit=void 0),r.presets)for(E=r.presets,u=0,f=E.length;f>u;u++)if(i=E[u],i.name=void 0,i.type=l(i.type),i.members)for(w=i.members,d=0,v=w.length;v>d;d++)n=w[d],n.name=void 0,n.type=l(n.type)}return s},n.exports={getScene:c,makeNewSceneDataFromPreset:u,updateDevicePreset:p,updateGrpPreset:f,prepareScenesForPUT:d,SCENE_HOME:"SCENE_HOME",SCENE_AWAY:"SCENE_AWAY"}}),require.register("rules/srv-mock-templates.js",function(e,t,n){var i=[{category:"FACTORY_RULE",configType:"FAKE_LIVING_RULE",description:"Pidä koti asutun näköisenä",extras:{},inputs:{lights:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Käytettävä valo",displayOrder:1,fieldType:"LIGHT",maxCount:null,minCount:1,minValue:null,type:"INPUT"}},name:null,outputs:{},summary:"Tämä sääntö sytyttää ja sammuttaa valoja niin että näyttää kuin olisit kotona.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"NOTIFY_ON_UI_RULE",description:"Lähetä viesti, kun mobiililaite paikalla",extras:{message:{MaxValue:null,defaultValue:"Mobiili on kotona",description:"Lähetettävä viesti",displayOrder:3,fieldType:"FREE_TEXT",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"}},inputs:{monitored:{MaxValue:null,capabilities:["USER_PRESENCE"],defaultValue:null,description:"Valvottu mobiililaite",displayOrder:1,fieldType:"UI_DEVICE",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Notify on ui",outputs:{notified:{MaxValue:null,capabilities:["PUSH_NOTIFICATION"],defaultValue:null,description:"Viestin saava mobiililaite",displayOrder:2,fieldType:"UI_DEVICE",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun mobiililaite havaitaan kotona, lähetä viesti toiselle laitteelle. Näin voidaan saada tieto esim. siitä, että lapsi on saapunut kotiin.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"AUTO_SWITCH_RULE",description:"Virta päälle, kun liikettä",extras:{timeout:{MaxValue:null,defaultValue:null,description:"Sammuta kun liikettä ei havaita",displayOrder:1,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:null,minValue:null,options:null,type:"VALUE"}},inputs:{motions:{MaxValue:null,capabilities:[],defaultValue:null,description:"Havaitsee liikettä",displayOrder:1,fieldType:"MOTION",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Auto switch",outputs:{switches:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Kytke virta",displayOrder:1,fieldType:"POWER_SOCKET",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun joku tulee huoneeseen, liiketunnistin huomaa tämän ja pistorasiaan kytketään virta. Voit myös kertoa kuinka kauan virta on päällä sen jälkeen, kun huone on taas tyhjä.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"DEVICE_GUARD_RULE",description:"Automaattisammutus",extras:{timeout:{MaxValue:null,defaultValue:null,description:"Sammuta ajan kuluttua",displayOrder:1,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"}},inputs:{devices:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Valvottava laite",displayOrder:1,fieldType:"DEVICE",maxCount:null,minCount:1,minValue:null,type:"INPUT"}},name:"Device guard",outputs:{},summary:"Tämän säännön avulla voit varmistaa ettei laite unohdu päälle liian pitkäksi aikaa.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"MOTION_ALERT_RULE",description:"Hälytä, kun liikettä",extras:{},inputs:{motions:{MaxValue:null,capabilities:[],defaultValue:null,description:"Havaitsee liikettä",displayOrder:1,fieldType:"MOTION",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Liikehälytys",outputs:{alerters:{MaxValue:null,capabilities:["ALERT"],defaultValue:null,description:"Hälytä",displayOrder:1,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun joku tulee huoneeseen, liiketunnistin huomaa tämän ja hälyytys laukeaa. ",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"ONOFF_CONTACT_RULE",description:"Käynnistä oven avauksesta",extras:{output_state:{MaxValue:null,defaultValue:!0,description:"Kytketään päälle",displayOrder:4,fieldType:"BOOL",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"}},inputs:{sensors:{MaxValue:null,capabilities:["CONTACT"],defaultValue:null,description:"Valvoo aukioloa",displayOrder:1,fieldType:"CONTACT",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"On/off by contact",outputs:{devices:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Ohjattavat laitteet",displayOrder:3,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämän säännön avulla voit käynnistää tai sammuttaa laitteen, kun ovi avautuu.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"AUTO_SOUND_RULE",description:"Musiikki soi, kun liikettä",extras:{timeout:{MaxValue:null,defaultValue:null,description:"Sammuta kun liikettä ei havaita",displayOrder:1,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:null,minValue:null,options:null,type:"VALUE"}},inputs:{motions:{MaxValue:null,capabilities:[],defaultValue:null,description:"Havaitsee liikettä",displayOrder:1,fieldType:"MOTION",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Auto sound",outputs:{speakers:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Käynnistä",displayOrder:1,fieldType:"MEDIA_RENDERER",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun joku tulee huoneeseen, liiketunnistin huomaa tämän ja musiikki rupeaa soimaan. Voit myös kertoa kuinka kauan musiikki soi sen jälkeen, kun huone on taas tyhjä.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"SCENE_ON_CONTACT_RULE",description:"Teema päälle oven avauksesta",extras:{},inputs:{sensors:{MaxValue:null,capabilities:["CONTACT"],defaultValue:null,description:"Valvoo aukioloa",displayOrder:1,fieldType:"CONTACT",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:null,outputs:{scenes:{MaxValue:null,capabilities:[],defaultValue:null,description:"Laitetaan päälle",displayOrder:1,fieldType:"SCENE",maxCount:1,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämä sääntö pistää teeman päälle, kun ovi avataan. Näin voidaan esimerkiksi käynnistää KOTONA teema, kun ulko-ovi avataan.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"TIMED_LIGHT_RULE",description:"Ajasta valoja",extras:{timerElements:{MaxValue:null,defaultValue:{cronDef:{start:"0 7 * * *",stop:"0 9 * * *",type:"CRONDEF"},type:"RULETIME"},description:"Sääntö voimassa",displayOrder:1,fieldType:"RULETIME",maxCount:null,minCount:0,minValue:null,options:null,type:"VALUE"}},inputs:{},name:null,outputs:{lights:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Sytytä valo",displayOrder:1,fieldType:"LIGHT",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tällä säännöllä voit määritellä kellonaikaan perustuen milloin valo on päällä. Jos sääntö kuuluu teemaan, tulee teeman olla myös päällä.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"NOTIFY_ON_MOVEMENT_RULE",description:"Lähetä viesti, kun liikettä",extras:{message:{MaxValue:null,defaultValue:"Liikettä havaittu",description:"Lähetettävä viesti",displayOrder:3,fieldType:"FREE_TEXT",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"},timeout:{MaxValue:null,defaultValue:0,description:"Odotusaika ennenkuin viesti lähetetään uudelleen.",displayOrder:4,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:0,minValue:null,options:null,type:"VALUE"}},inputs:{sensors:{MaxValue:null,capabilities:[],defaultValue:null,description:"Havaitsee liikettä",displayOrder:1,fieldType:"MOTION",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Notify on movement",outputs:{notified:{MaxValue:null,capabilities:["PUSH_NOTIFICATION"],defaultValue:null,description:"Viestin saava mobiililaite",displayOrder:2,fieldType:"UI_DEVICE",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun joku tulee huoneeseen, liiketunnistin huomaa tämän ja mobiililaitteelle lähetetään viesti. ",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"ONOFF_TEMPERATURE_RULE",description:"Käynnistä lämpötilan mukaan",extras:{output_state:{MaxValue:null,defaultValue:!0,description:"Kun yli rajalämpötilan",displayOrder:4,fieldType:"OPTION",maxCount:1,minCount:1,minValue:null,options:[{Käynnistetään:!0},{Sammutetaan:!1}],type:"VALUE"},temperature:{MaxValue:null,defaultValue:20,description:"Rajalämpötila",displayOrder:2,fieldType:"CELSIUS",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"}},inputs:{thermos:{MaxValue:null,capabilities:["TEMPERATURE"],defaultValue:null,description:"Mittaa lämpötilaa",displayOrder:1,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"INPUT"}},name:"On/off by temperature",outputs:{devices:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Ohjattavat laitteet",displayOrder:3,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämän säännön avulla voit käynnistää tai sammuttaa laitteen, kun lämpötila ylittää raja-arvon.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"ONOFF_HUMIDITY_RULE",description:"Käynnistä kosteuden mukaan",extras:{humidity:{MaxValue:100,defaultValue:50,description:"Rajakosteus",displayOrder:2,fieldType:"PERCENT",maxCount:1,minCount:1,minValue:0,options:null,type:"VALUE"},output_state:{MaxValue:null,defaultValue:!0,description:"Kun rajakosteus ylitetään",displayOrder:4,fieldType:"OPTION",maxCount:1,minCount:1,minValue:null,options:[{Käynnistetään:!0},{Sammutetaan:!1}],type:"VALUE"}},inputs:{sensors:{MaxValue:null,capabilities:["HUMIDITY"],defaultValue:null,description:"Mittaa kosteutta",displayOrder:1,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"INPUT"}},name:"On/off by humidity",outputs:{devices:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Ohjattavat laitteet",displayOrder:3,fieldType:null,maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämän säännön avulla voit käynnistää tai sammuttaa laitteen, kun kosteus ylittää raja-arvon.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"AUTO_LIGHT_RULE",description:"Sytytä valo, kun liikettä",extras:{timeout:{MaxValue:null,defaultValue:null,description:"Sammuta kun liikettä ei havaita",displayOrder:1,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:0,minValue:null,options:null,type:"VALUE"}},inputs:{motions:{MaxValue:null,capabilities:[],defaultValue:null,description:"Havaitsee liikettä",displayOrder:1,fieldType:"MOTION",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Auto light",outputs:{lights:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Sytytä",displayOrder:1,fieldType:"LIGHT",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun joku tulee huoneeseen, liiketunnistin huomaa tämän ja valo sytytetään. Voit myös kertoa kuinka kauan valo on päällä sen jälkeen, kun huone on taas tyhjä.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"SCENE_ON_DEVICE_RULE",description:"Teema päälle laitteesta",extras:{},inputs:{devices:{MaxValue:null,capabilities:["ON_OFF"],defaultValue:null,description:"Laitetaan päälle",displayOrder:1,fieldType:"DEVICE",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:null,outputs:{scenes:{MaxValue:null,capabilities:[],defaultValue:null,description:"Laitetaan päälle",displayOrder:1,fieldType:"SCENE",maxCount:1,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämä sääntö pistää teeman päälle, kun jokin laite laitetaan päälle. Näin voidaan esimerkiksi käynnistää KOTONA teema sytyttämällä valo.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"LIGHT_SHOW_RULE",description:"Musiikin soidessa vaihda väriä",extras:{},inputs:{speakers:{MaxValue:null,capabilities:["PLAY"],defaultValue:null,description:"Soittaa musiikkia",displayOrder:1,fieldType:"MEDIA_RENDERER",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:null,outputs:{lights:{MaxValue:null,capabilities:["COLOR_LOOP"],defaultValue:null,description:"Vaihtaa väriä",displayOrder:1,fieldType:"LIGHT",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Tämä sääntö aloittaa valonäytöksen kun musiikki alkaa soimaan.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"NOTIFY_ON_CONTACT_RULE",description:"Lähetä viesti, kun ovi aukeaa",extras:{message:{MaxValue:null,defaultValue:"Ovi on auki",description:"Lähetettävä viesti",displayOrder:3,fieldType:"FREE_TEXT",maxCount:1,minCount:1,minValue:null,options:null,type:"VALUE"},timeout:{MaxValue:null,defaultValue:0,description:"Odota näin kauan ennenkuin lähetät viestin",displayOrder:4,fieldType:"TIME_DELTA_MS",maxCount:1,minCount:0,minValue:null,options:null,type:"VALUE"}},inputs:{sensors:{MaxValue:null,capabilities:["CONTACT"],defaultValue:null,description:"Valvoo aukioloa",displayOrder:1,fieldType:"CONTACT",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Notify on contact",outputs:{notified:{MaxValue:null,capabilities:["PUSH_NOTIFICATION"],defaultValue:null,description:"Viestin saava mobiililaite",displayOrder:2,fieldType:"UI_DEVICE",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Kun ovi aukeaa, lähetä viesti mobiililaitteelle. Voit myös määrittää kuinka kauan oven täytyy olla auki, ennenkuin viesti lähetetään.",type:"TEMPLATE"},{category:"FACTORY_RULE",configType:"UI_PRESENT_TO_SCENE_RULE",description:"Käynnistä teema, kun mobiililaite on kotona",extras:{},inputs:{monitored:{MaxValue:null,capabilities:["USER_PRESENCE"],defaultValue:null,description:"Seurattava mobiililaite",displayOrder:1,fieldType:"UI_DEVICE",maxCount:1e3,minCount:1,minValue:null,type:"INPUT"}},name:"Mobiililaite paikalla",outputs:{scenes:{MaxValue:null,capabilities:[],defaultValue:null,description:"Käynnistä",displayOrder:2,fieldType:"SCENE",maxCount:null,minCount:1,minValue:null,type:"OUTPUT"}},summary:"Laita teema päälle tai pois riippuen siitä onko mobiililaite kotona.",type:"TEMPLATE"}];n.exports={templates:i}}),require.register("rules/partitial-rules-filtered.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div co-tap="tapAction(rule)" co-hold="holdAction(rule)" ng-if="!rule.isHidden" class="small-12 columns lr-padding-0"><div ng-class="{on:rule.isOn, base:!rule.hasScenes, busy:rule.busy}" class="row rule-row tight"><div class="small-1 columns lr-padding-0"><div ng-if="!rule.hasScenes" class="ruleOnOff"><i class="con small"><div class="icon icon-power"></div></i></div></div><div class="small-11 columns l-padding-0"><div class="row"><div class="small-12 columns smaller-font l-padding-0"><div class="quote twolines-ellipses">{{rule.config.name}}</div></div></div><div class="row"><div class="small-12 columns"><div class="row"><div ng-repeat="(deviceId, device) in getInputs(rule)" ng-class="getCols(rule)" class="columns lr-padding-0"><div ng-class="{unknown: device.state&amp;&amp;!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}" class="device small tall full-width text-center"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp-small">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone-small">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum-small">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone-small">{{device.state.humidity| number:1}}%</div><div class="count">{{device.count}}</div></i></div><div class="name">{{device.name}}</div></div></div><div ng-if="getHiddenInputCount(rule) &gt; 0" ng-class="getCols(rule)" class="columns lr-padding-0 text center"><div class="device small tall full-width text-center"><div class="separator">(+{{getHiddenInputCount(rule)}})</div></div></div><div ng-class="getCols(rule)" class="columns lr-padding-0"><div ng-if="isOutputs(rule)" class="device small tall full-width text-center"><div class="arrow">&rarr;</div></div></div><div ng-repeat="(deviceId, device) in getOutputs(rule)" ng-class="getCols(rule)" class="columns lr-padding-0"><div ng-class="{unknown: device.state&amp;&amp;!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}" class="device small tall full-width text-center"><div class="container"><i ng-class="device.iconClasses" class="icon"><div class="count">{{device.count}}</div></i></div><div class="name">{{device.name}}</div></div></div><div ng-if="getHiddenOutputCount(rule)&gt;0" ng-class="getCols(rule)" class="columns lr-padding-0 text-center"><div class="device small tall full-width text-center"><div class="separator">(+{{getHiddenOutputCount(rule)}})</div></div></div><a ng-class="getCols(rule)" class="columns rule-detail-arrow text-right"><i ng-if="ui.mode==MODE.EDIT" class="con medium"><div class="icon icon-editpen"></div></i><i ng-if="ui.mode==MODE.VIEW&amp;&amp;rule.hasScenes" ng-class="{on:rule.isOn}" class="con"><i class="con medium"><div class="icon icon-cornerarrow"></div></i></i></a></div></div></div></div></div></div>'),e.join("")}}),require.register("rules/template-rules-add-1-a.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row simple-list action-list"><div ng-if="action.show" ng-repeat="action in actions" ng-class="{selected:action.selected}" class="small-12 columns"><div co-tap="toggleAction(action)" class="a row valign-middle action-header"><div ng-if="action.selected" class="small-9 name columns"><div class="row"><div ng-class="{scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}" class="small-3 columns device small link-like"><div class="container"><i ng-class="action.icon" class="icon"></i></div></div><div class="small-9 columns"><div class="icon-center-line trunc">{{action.description}} :&nbsp;<div ng-repeat="option in action.state.isOn.options" ng-if="action.state.isOn.value==option.value" class="lowercase">{{option.label}}:&nbsp;</div><span ng-repeat="device in getSelectedDevices(action.devices) | orderBy:&quot;name&quot;"><span ng-if="$middle" class="link-color">,{{\' \'}}</span><span ng-if="!$first&amp;&amp;$last">{{\' \'}}{{\'and\'|tr}}{{\' \'}}</span><span co-tap="show(device)" class="link-like click-it">{{device.name}}</span></span></div></div></div></div><div ng-if="!action.selected" class="small-10 name columns"><div class="row light-font"><div ng-class="{scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}" class="small-3 columns device small link-like"><div class="container"><i ng-class="action.icon" class="icon"></i></div></div><div class="small-9 columns"><div class="icon-center-line">{{action.description}}</div></div></div></div><div class="small-2 columns link-color"><i class="con"><div ng-class="{down:ui.toggledAction!=action.id, up:ui.toggledAction==action.id}" class="icon icon-cornerarrow"></div></i></div></div><div ng-if="ui.toggledAction==action.id" class="row open action-row"><div ng-repeat="(deviceId, device) in action.devices" ng-class="{checked: device.selected, unknown: device.state&amp;&amp;!device.state.reachable, scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}" co-tap="selectDeviceForActionEdit(action, device)" class="device small small-3 tall text-center"><div class="container"><i ng-class="device.iconClasses" class="icon"><div class="count">{{device.count}}</div></i></div><div class="name">{{device.name}}</div><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></div><div ng-if="action.selected&amp;&amp;action.state.message" class="small-12 columns"><input type="text" ng-model="action.state.message.value" placeholder="{{action.state.message.label}}"/></div><div ng-if="action.selected&amp;&amp;action.state.isOn.type==&quot;radio&quot;" class="small-12 columns t-margin-XS"><label class="small-label"><a ng-repeat="option in action.state.isOn.options" ng-class="{off:action.state.isOn.value!=option.value}" co-tap="setActionValue(action.state.isOn, option.value)" class="button tiny groupped">{{option.label}}</a></label></div><div ng-if="action.selected&amp;&amp;action.extras" class="small-12 columnst t-margin-S"><a co-tap="showExtras(action)" class="button full-width"><i class="icon icon-settings"></i><span>{{\'Extra settings\'|tr}} ({{getExtraCounts(action)}})</span></a></div></div></div></div>'),e.join("")}}),require.register("rules/template-rules-add-2-a.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row simple-list action-list"><div ng-if="condition.show" ng-repeat="condition in conditions" ng-class="{selected:condition.selected}" class="small-12 columns"><div co-tap="toggleCondition(condition)" class="a row valign-middle action-header"><div ng-if="condition.selected" class="small-9 name columns"><div class="row"><div ng-class="{scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}" class="small-3 columns device small link-like"><div class="container"><i ng-class="condition.icon" class="icon"></i></div></div><div class="small-9 columns"><div class="icon-center-line trunc">{{condition.description}}:&nbsp;<div ng-repeat="option in condition.state.isOn.options" ng-if="condition.state.isOn.value==option.value" class="lowercase">{{option.label}}:&nbsp;</div><span ng-repeat="device in getSelectedDevices(condition.devices) | orderBy:&quot;name&quot;"><span ng-if="$middle" class="link-color">,{{\' \'}}</span><span ng-if="!$first&amp;&amp;$last">{{\' \'}}{{\'and\'|tr}}{{\' \'}}</span><span co-tap="show(device)" class="link-like click-it">{{device.name}}</span></span></div></div></div></div><div ng-if="!condition.selected" class="small-10 name columns"><div class="row light-font"><div ng-class="{scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}" class="small-3 columns device small link-like"><div class="container"><i ng-class="condition.icon" class="icon"></i></div></div><div class="small-9 columns"><div class="icon-center-line">{{condition.description}}</div></div></div></div><div class="small-2 columns link-color"><i class="con"><div ng-class="{down:ui.toggledCondition!=condition.id, up:ui.toggledCondition==condition.id}" class="icon icon-cornerarrow"></div></i></div></div><div ng-if="ui.toggledCondition==condition.id" class="row open action-row"><div ng-if="!condition.state.timeranges" ng-repeat="(deviceId, device) in condition.devices" ng-class="{checked: device.selected, unknown: device.state&amp;&amp;!device.state.reachable, scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}" co-tap="selectDeviceForConditionEdit(condition, device)" class="device small small-3 tall text-center"><div class="container"><i ng-class="device.iconClasses" class="icon"><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row1-temp-small">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;!device.features.humidity" class="count row-alone-small">{{device.state.temperature| number:1}}°C</div><div ng-if="device.features.temperature&amp;&amp;device.features.humidity" class="count row2-hum-small">{{device.state.humidity| number:1}}%</div><div ng-if="!device.features.temperature&amp;&amp;device.features.humidity" class="count row-alone-small"></div><div class="count">{{device.count}}</div></i></div><div class="name">{{device.name}}</div><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></div><div ng-if="condition.state.timeranges" class="small-12 columns"><div ng-repeat="timer in condition.state.timeranges.values" class="row"><div class="small-10 small-centered columns end"><a co-tap="selectTimer(condition, timer)" class="button tiny full-width">{{timer.daySelection}}</a></div><br/><div class="small-4 small-offset-1 columns text-right"><a co-tap="selectTimer(condition, timer)" class="button tiny full-width">{{timer.startTime}}</a></div><div class="small-2 columns text-center">-</div><div class="small-4 columns end text-left"><a co-tap="selectTimer(condition,timer)" class="button tiny full-width">{{timer.endTime}}</a></div></div><hr/><div class="row"><a co-tap="addTimer(condition)" class="button transparent small-12 columns text-center end"><i class="icon icon-circleaddnew">&nbsp;&nbsp;&nbsp;</i><span>{{\'Add new time\'|tr}}</span></a></div></div><div ng-if="condition.selected&amp;&amp;condition.state.isOn.type==&quot;radio&quot;" class="small-12 columns t-margin-XS"><label class="small-label"><a ng-repeat="option in condition.state.isOn.options" ng-class="{off:condition.state.isOn.value!=option.value}" co-tap="setActionValue(condition.state.isOn, option.value)" class="button tiny groupped">{{option.label}}</a></label></div><div ng-if="condition.selected&amp;&amp;condition.state.range" class="small-12 columns"><div class="row"><div class="small-3 small-offset-3 columns text-center"><label class="small-label">{{condition.state.range.options.min.label}}</label></div><div class="small-3 columns end text-center"><label class="small-label">{{condition.state.range.options.max.label}}</label></div><div co-tap="alert(&quot;Not in proto&quot;)" class="small-3 small-offset-3 columns text-center"><a co-tap="selectRangeMin(extra)" class="button tiny">{{condition.state.range.options.min.value}}&nbsp;{{condition.state.range.options.min.unit}}</a></div><div co-tap="alert(&quot;Not in proto&quot;)" class="small-3 columns end text-center"><a co-tap="selectRangeMax(extra)" class="button tiny">{{condition.state.range.options.max.value}}&nbsp;{{condition.state.range.options.max.unit}}</a></div></div></div><div ng-if="condition.selected&amp;&amp;condition.extras" class="small-12 columnst t-margin-S"><a co-tap="showExtras(condition)" class="button full-width"><i class="icon icon-settings"></i><span>{{\'Extra settings\'|tr}} ({{getExtraCounts(condition)}})</span></a></div></div></div></div>'),e.join("")}}),require.register("rules/template-rules-add-3-a.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row simple-list action-list checkbox"><div ng-class="{selected: ui.sceneAllSelected}" class="small-12 columns"><a class="row valign-middle action-header"><div co-tap="toggleScene(&quot;all&quot;)" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div co-tap="toggleScene(&quot;all&quot;)" class="small-11 name columns"><div class="icon-center-line">{{\'Always\'|tr}}</div></div></a></div></div><hr/><div class="row simple-list action-list checkbox"><div ng-repeat="(sceneId,scene) in getHomeScenes()" ng-class="{selected: scene.selected}" class="small-12 columns"><a class="row valign-middle action-header"><div co-tap="toggleScene(scene)" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div co-tap="toggleScene(scene)" class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div co-tap="toggleScene(scene)" class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div></a></div><div ng-repeat="(sceneId,scene) in getFavoriteScenes()" ng-class="{selected: scene.selected}" class="small-12 columns"><a class="row valign-middle action-header"><div co-tap="toggleScene(scene)" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div co-tap="toggleScene(scene)" class="small-9 name columns"><div class="icon-center-line">{{scene.name}}</div></div><div co-tap="toggleScene(scene)" class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div></a></div></div>'),e.join("")}}),require.register("rules/template-rules-add-4-a.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div class="row simple-list action-list checkbox"><div ng-repeat="extra in rule.config.sortedExtras" ng-class="{selected:extra[0].isOn}" class="small-12 columns"><div ng-if="extra[0].fieldType==&quot;TIME_DELTA_MS&quot;" class="row valign-middle action-header"><a co-tap="extra[0].isOn=!extra[0].isOn" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></a><a co-tap="extra[0].isOn=!extra[0].isOn" class="small-8 name columns"><div class="icon-center-line">{{extra[0].description}}</div></a><a ng-if="extra[0].isOn" co-tap="selectExtraTime(extra[0])" class="small-3 name columns"><div ng-disabled="!extra[0].isOn" class="icon-center-line button tiny">{{extra[0].value}}&nbsp;{{extra[0].unit}}</div></a><div ng-if="!extra[0].isOn" class="small-3 name columns"><div ng-disabled="!extra[0].isOn" class="icon-center-line button tiny">- &nbsp;{{extra[0].unit}}</div></div></div><div ng-if="extra[0].fieldType==&quot;FREE_TEXT&quot; " class="row valign-middle action-header"><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{extra[0].description}}</h3></div><div class="small-12 columns"><input type="text" ng-model="extra[0].text"/></div></div><div ng-if="extra[0].fieldType==&quot;CELSIUS&quot; || extra[0].fieldType==&quot;PERCENT&quot; || extra[0].fieldType==&quot;NUMBER&quot; || extra[0].fieldType==&quot;BUTTON_ID&quot; " class="row valign-middle action-header"><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{extra[0].description}}</h3></div><div class="small-12 columns"><div class="row collapse"><div class="small-4 columns"><input ng-if="extra[0].minCount" type="number" ng-model="extra[0].value" min="{{extra[0].minValue}}" max="{{extra[0].MaxValue}}" required="required" class="text-center"/><input ng-if="!extra[0].minCount" type="number" ng-model="extra[0].value" min="{{extra[0].minValue}}" max="{{extra[0].MaxValue}}" class="text-center"/></div><div class="small-2 columns end"><a ng-if="extra[0].fieldType==&quot;CELSIUS&quot;" class="button postfix">°C</a><a ng-if="extra[0].fieldType==&quot;PERCENT&quot;" class="button postfix">%</a></div></div></div></div><div ng-if="extra[0].fieldType==&quot;BOOL&quot;" class="row simple-list action-list checkbox"><div ng-class="{selected: extra[0].value}" class="small-12 columns"><a co-tap="extra[0].value = !extra[0].value" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-11 name columns"><h3 class="dark-font icon-center-line">{{extra[0].description}}</h3></div></a></div></div><div ng-if="extra[0].fieldType==&quot;OPTION&quot;" class="row simple-list action-list checkbox"><div class="small-12 columns"><h3 class="dark-font">{{extra[0].description}}</h3></div><div class="small-12 columns"><div ng-repeat="optio in extra[0].options" class="row simple-list action-list checkbox"><div ng-class="{selected: extra[0].value==value}" ng-repeat="(key, value) in optio" class="small-12 columns"><a co-tap="extra[0].value = value" class="row valign-middle action-header"><div class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i><span>&nbsp;</span></div><div class="small-11 name columns"><span>{{key}}</span></div></a></div></div></div></div><div ng-if="extra[0].fieldType==&quot;RULETIME&quot;" class="row valign-middle action-header"><div ng-repeat="currentTimer in extra" class="rule-border small-12 small-centered end"><a co-tap="showDateSelection(currentTimer, extra)" class="preset-list"><div class="row preset-row valign-middle"><div class="small-2 columns device"><i class="icon icon-time"></i></div><div class="small-8 columns"><div ng-if="isSameStartStopDays(currentTimer)" class="row text-center"><div class="small-12 inline-truncated"><span>{{getSelectedDays(currentTimer, "timerStart")}}</span></div><div ng-if="currentTimer.timerStart.time" class="small-5 inline-truncated t-margin-XXS upper-case"><span class="i">{{currentTimer.timerStart.time}}</span></div><div ng-if="currentTimer.timerStart.sun" class="small-5 inline-truncated icon-in t-margin-XXS"><i ng-if="currentTimer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="currentTimer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{currentTimer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated t-margin-XXS"><span>-</span></div><div ng-if="currentTimer.timerStop.time" class="small-5 inline-truncated t-margin-XXS upper-case"><span class="i">{{currentTimer.timerStop.time}}</span></div><div ng-if="currentTimer.timerStop.sun" class="small-5 inline-truncated icon-in t-margin-XXS end"><i ng-if="currentTimer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="currentTimer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{currentTimer.timerStop.sunTime}}</span></div></div><div ng-if="!isSameStartStopDays(currentTimer)" class="row text-center"><div class="small-5 inline-truncated upper-case"><span>{{getSelectedDays(currentTimer, "timerStart")}}</span></div><div class="small-1 inline-truncated"><span></span></div><div class="small-5 inline-truncated upper-case"><span>{{getSelectedDays(currentTimer, "timerStop")}}</span></div><div ng-if="currentTimer.timerStart.time" class="small-5 inline-truncated upper-case"><sapn>{{currentTimer.timerStart.time}}</sapn></div><div ng-if="currentTimer.timerStart.sun" class="small-5 inline-truncated icon-in"><i ng-if="currentTimer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="currentTimer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{currentTimer.timerStart.sunTime}}</span></div><div class="small-1 inline-truncated"><span>-</span></div><div ng-if="currentTimer.timerStop.time" class="small-5 inline-truncated upper-case"><span>{{currentTimer.timerStop.time}}</span></div><div ng-if="currentTimer.timerStop.sun" class="small-5 inline-truncated icon-in end"><i ng-if="currentTimer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="currentTimer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span class="i">{{currentTimer.timerStop.sunTime}}</span></div></div></div><div class="small-2 columns text-center"><i class="icon icon-cornerarrow"></i></div></div></a></div></div></div></div>'),e.join("")
}}),require.register("rules/template-rules-add.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="main-view row no-top"><div ng-if="!hideDeviceSelection" class="small-12 columns t-margin-S"><h3 class="dark-font">{{\'What would you like to control?\'|tr}}</h3></div><div ng-if="!hideDeviceSelection" class="small-12 columns"><div class="row simple-list action-list checkbox"><div ng-repeat="input in inputTypes" ng-if="input.type!=FIELDTYPE.RC&amp;&amp;input.type!=FIELDTYPE.KEYFOB" co-tap="selectInputTypes(input)" ng-class="{checked:input.selected, selected:input.selected, scene: input.icon==ICONS.SCENE, end: $last}" class="device small small-4 tall text-center columns"><div class="container"><i ng-class="input.icon" class="icon"></i></div><div class="name">{{input.name}}</div><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></div></div></div><div class="small-12 columns t-margin-S"><label>{{\'FOUND RULES\'|tr}}</label></div><div class="small-12 columns"><div class="row simple-list action-list"><div class="small-12 columns"><div ng-if="!isRuleTemplates()" class="row t-margin-S"><div class="small-12 columns">{{\'Suitable template not found\'|tr}}</div></div><a ng-repeat="(templateId, template) in ruleTemplates" co-tap="selectTemplate(templateId, fromDevice, toDevice)" ng-if="template.category!=&quot;CUSTOM_RULE&quot; " class="row valign-middle action-header"><div class="small-10 columns"><div class="icon-center-line trunc">{{template.description}}</div></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div><div ng-if="showUserRules" class="small-12 columns t-margin-M"><label>{{\'USER RULES\'|tr}}</label></div><div ng-if="showUserRules" class="small-12 columns"><div class="row simple-list action-list"><div class="small-12 columns"><div ng-if="!isRuleUserTemplates()" class="row t-margin-S"><div class="small-12 columns">{{\'Suitable template not found\'|tr}}</div></div><a ng-repeat="template in userTemplates" class="row valign-middle action-header"><div co-tap="selectUserTemplate(template)" class="small-6 columns"><div class="icon-center-line trunc">{{template.description}}</div></div><div co-tap="selectUserTemplate(template)" class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow"></div></i></div><div co-tap="openEditor(template.configType)" class="small-2 columns"><i class="con"><div class="icon icon-editpen"></div></i></div><div co-tap="removeCutomTemplate(template.configType)" class="small-2 columns"><i class="con"><div class="icon icon-trash"></div></i></div></a></div></div></div><div ng-if="showUserRules" class="small-12 columns t-margin-S"><div class="row"><a co-tap="openEditor()" class="button transparent small-12 columns text-center end"><i class="icon icon-circleaddnew">&nbsp;&nbsp;&nbsp;</i><span>{{\'ADD USER RULE\'|tr}}</span></a></div></div></form>'),e.join("")}}),require.register("rules/template-rules-edit.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="css-form main-view row no-top"><div class="small-12 columns t-margin-S"><h3>{{rule.config.description}}</h3><div class="light-font">{{rule.config.summary}}</div></div><div ng-include="\'/template-rules-add-2-a.tpl.html\'" ng-if="!isEmpty(conditions)" class="small-12 columns t-margin-S"></div><div ng-include="\'/template-rules-add-1-a.tpl.html\'" class="small-12 columns t-margin-M"></div><div ng-include="\'/template-rules-add-4-a.tpl.html\'" class="small-12 columns"></div><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{\'Name the rule\'|tr}}</h3></div><div class="small-12 columns"><input type="text" ng-model="ui.name"/></div><div class="small-12 columns t-margin-S"><h3 class="dark-font">{{\'When rule should be active\'|tr}}?</h3></div><div ng-include="\'/template-rules-add-3-a.tpl.html\'" class="small-12 columns"></div><div ng-if="rule.config.id" class="small-12 columns t-margin-M"><div class="row"><div class="small-10 columns"><h3 class="dark-font">{{\'DELETE RULE\'|tr}}</h3></div></div><div class="row"><div class="small-2 small-centered columns end"><a co-tap="rule.remove()"><i class="con"><div class="icon icon-trash"></div></i></a></div></div></div></form><div ng-if="menu.modalPage==&quot;ExtraSettings&quot;" class="fade"><form class="modal"><div class="content"><div class="row t-margin-S simple-list action-list checkbox"><div ng-repeat="extra in ui.currentExtras" ng-class="{selected:extra.selected}" class="small-12 columns"><div ng-if="extra.type==&quot;time&quot;" class="row valign-middle action-header"><a co-tap="extra.selected=!extra.selected" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></a><a co-tap="extra.selected=!extra.selected" class="small-8 name columns text-left">{{extra.label}}</a><div co-tap="" class="small-3 columns text-right"><a co-tap="extra.selected=true;selectExtraTime(extra)" class="button tiny">{{extra.value}}&nbsp;{{extra.unit}}</a></div></div><div ng-if="extra.type!=&quot;time&quot;" class="row valign-middle action-header"><a co-tap="extra.selected=!extra.selected" class="small-1 check columns text-left"><i class="icon icon-checkboxbg"><i class="icon icon-done"></i></i></a><a co-tap="extra.selected=!extra.selected" class="small-11 name columns text-left">{{extra.label}}</a></div></div></div></div></form></div><div ng-include="\'/template-roller-time.tpl.html\'" ng-if="menu.modalPage==&quot;TimeRoller&quot;" class="slide-animate"></div><div ng-include="\'/template-date-selection.tpl.html\'" ng-if="menu.modalPage==&quot;DateSelection&quot;" class="slide-animate"></div><div ng-include="\'/template-roller-clock.tpl.html\'" ng-if="menu.modalPage==&quot;ClockRoller&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("rules/template-rules-editor.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form ng-if="!menu.modalPage" class="main-view row no-top"><div class="small-12 columns t-margin-S"></div><div class="small-12 columns t-margin-S"><div id="python-editor"></div></div><div class="small-10 small-centered medium-6 medium-centered columns"><button type="submit" ng-click="saveEditor()" class="row-button bottom">{{\'DONE\'|tr}}</button></div><div class="small-10 small-centered medium-6 medium-centered columns text-center"><a ng-click="showLog()">{{\'Show log\'|tr}}<i class="con"><div ng-class="{down:ui.showLog}" class="icon icon-cornerarrow"></div></i></a></div><div ng-if="ui.showLog" class="small-12 small-centered medium-8 medium-centered columns max-10lines"><div ng-repeat="line in templateLog track by line" ng-class-odd="\'odd\'" ng-class-even="\'even\'" class="row log-lines pre info"><div class="small-12 columns">{{line}}</div></div></div><div class="small-10 small-centered medium-6 medium-centered columns text-center"><a ng-click="openDocumentation()">{{\'See documentation\'|tr}}<i class="con"><div class="icon icon-cornerarrow"></div></i></a></div></form>'),e.join("")}}),require.register("rules/template-rules-filter.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="row t-margin-S tabs"><a ng-class="{selected:search.kind==&quot;use&quot;}" co-tap="setSearchKind(&quot;use&quot;)" class="small-6 columns text-center">{{\'Use type\'|tr}}</a><a ng-class="{selected:search.kind==&quot;device&quot;}" co-tap="setSearchKind(&quot;device&quot;)" class="small-6 columns text-center">{{\'Device type\'|tr}}</a></div><div ng-if="search.kind==&quot;use&quot;" class="row"><div class="small-12 columns"><div class="row t-margin-XS simple-list"><div ng-class="{selected:search.scene==&quot;All rules&quot;}" class="small-12 columns"><a co-tap="setSceneSearch(&quot;All rules&quot;)" class="row valign-middle"><div class="small-2 columns text-center"><i class="con"><div class="icon icon-mainmenu"></div></i></div><div class="small-10 columns"><div class="icon-center-line trunc">{{\'All rules\'|tr}}</div></div></a></div></div><div class="row t-margin-XS simple-list"><div ng-class="{selected:search.scene==&quot;Recent rules&quot;}" class="small-12 columns"><a co-tap="setSceneSearch(&quot;Recent rules&quot;)" class="row valign-middle"><div class="small-2 columns text-center"><i class="con"><div class="icon icon-mainmenu"></div></i></div><div class="small-10 columns"><div class="icon-center-line trunc">{{\'Recent rules\'|tr}}</div></div></a></div></div><div class="row t-margin-XS"><div class="small-12 columns"><h3 class="dark-font">{{\'SCENES\'|tr}}</h3></div></div><div class="row t-margin-XS simple-list"><div ng-repeat="(id, scene) in getHomeScenes()" ng-class="{selected:search.scene==scene.name}" class="small-12 columns"><a co-tap="setSceneSearch(scene.name, scene.icon)" class="row valign-middle"><div class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div><div class="small-10 columns"><div class="icon-center-line trunc">{{scene.name}}</div></div></a></div></div><div class="row t-margin-XS simple-list"><div ng-repeat="(id, scene) in getFavoriteScenes()" ng-class="{selected:search.scene==scene.name}" class="small-12 columns"><a co-tap="setSceneSearch(scene.name, scene.icon)" class="row valign-middle"><div class="small-2 columns text-center"><i class="con"><div ng-class="scene.icon" class="icon"></div></i></div><div class="small-10 columns"><div class="icon-center-line trunc">{{scene.name}}</div></div></a></div></div></div></div><div ng-if="search.kind==&quot;device&quot;" class="row t-margin-S simple-list"><div ng-repeat="deviceType in sortedDeviceTypes" ng-class="{selected:search.device==deviceType.id}" ng-if="deviceType.id" class="small-12 columns"><a co-tap="setDeviceSearch(deviceType.id, deviceType.icon)" class="row t-margin-XS valign-middle"><div ng-class="{scene: deviceType.id==FIELDTYPE.SCENE, user: deviceType.id==FIELDTYPE.USER}" class="small-3 columns text-center device small"><div class="container"><i ng-class="deviceType.icon" class="icon"></i></div></div><div class="small-7 columns"><div class="icon-center-line">{{deviceType.id+\'-devices\'|tr}}</div></div><div class="small-2 columns"><div class="icon-center-line dark-font">{{deviceType.count}}</div></div></a></div></div></div></form>'),e.join("")}}),require.register("rules/template-rules-list.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view no-top"><div co-tap="openFilterModal()" class="row valign-middle top-page button"><div class="small-2 columns"><i class="con"><div ng-if="search.icon" ng-class="search.icon" class="icon type"></div></i></div><div class="small-8 columns"><h3 ng-if="search.kind==&quot;use&quot;"><div class="icon-center-line trunc">{{search.sceneName}}</div></h3><h3 ng-if="search.kind==&quot;device&quot;"><div class="icon-center-line trunc">{{(search.device+\'-devices\')|tr}}</div></h3></div><div class="small-2 columns"><i class="con"><div class="icon icon-cornerarrow down"></div></i></div></div><div ng-if="(search.kind == &quot;use&quot; &amp;&amp; (search.scene==&quot;All rules&quot; || search.scene==&quot;Recent rules&quot;) || search.kind == &quot;device&quot;) " class="row t-margin-XS tabs"><a ng-class="{selected:ui.ruleKind==&quot;root&quot;}" co-tap="setRuleKind(&quot;root&quot;)" class="small-6 columns text-center">{{\'Root rules\'|tr}}</a><a ng-class="{selected:ui.ruleKind==&quot;scene&quot;}" co-tap="setRuleKind(&quot;scene&quot;)" class="small-6 columns text-center">{{\'Scene rules\'|tr}}</a></div><div ng-if="!menu.isRules" class="waiting t-margin-S"><span></span><span></span><span></span></div><div ng-if="menu.isRules &amp;&amp; ui.ruleKind==&quot;root&quot; " ng-class="{first:$first}" ng-repeat="(ruleId,rule) in homeRules" co-include="\'/partitial-rules-filtered.tpl.html\'" class="row preset-list rule"></div><div ng-if="menu.isRules &amp;&amp; ui.ruleKind==&quot;scene&quot; " ng-class="{first:$first}" ng-repeat="(ruleId,rule) in sceneRules" co-include="\'/partitial-rules-filtered.tpl.html\'" class="row preset-list rule"></div><div ng-if="!isHomeRules &amp;&amp; !isSceneRules" class="row t-margin-S"><div class="small-12 columns"><h3 class="dark-font">{{\'NO RULES\'|tr}}</h3></div></div></form><div co-include="\'/template-rules-filter.tpl.html\'" ng-if="menu.modalPage==&quot;RuleFilter&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("rules/template-rules.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div id="rules" ui-view="rules" autoscroll="false"></div>'),e.join("")}}),require.register("rules/index.js",function(e,t){var n,i;t("./srv-rules"),i=t("./ctrl-rules-list"),n=t("./ctrl-rules-detail"),angular.module("appCtrls").controller("RulesDetailCtrl",["$rootScope","$scope","$state","$stateParams","$log","$q","$timeout","ConnectSrv","DevicesSrv","ScenesSrv","RulesSrv","i18nSrv","CronSrv",n]).controller("RulesListCtrl",["$rootScope","$scope","$state","$stateParams","$log","$q","$timeout","ConnectSrv","DevicesSrv","ScenesSrv","RulesSrv","i18nSrv",i])}),require.register("rules/ctrl-rules-list.js",function(e,t,n){var i,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},s={}.hasOwnProperty;i=window.lodash,n.exports=function(e,t,n,o,a,l,c,u,d,m,p,f){var v,h,g,y,b,E;return t.MODE={EDIT:"edit",VIEW:"view"},t.ICONS=p.ICONS,t.FIELDTYPE=p.FIELDTYPE,t.filteredRules={},t.homeRules={},t.sceneRules={},h=void 0,t.listRules=function(n){return p.getRules().then(function(r){var s,o,a,l;if(!n||!i.isEmpty(r)){for(t.rules=r,t.deviceTypes=p.getDeviceTypesFromRules(),o=Object.keys(t.deviceTypes).sort(function(e,n){return t.deviceTypes[n].count>t.deviceTypes[e].count}),t.sortedDeviceTypes=[],a=0,l=o.length;l>a;a++)s=o[a],t.deviceTypes[s].count>0&&s!==t.FIELDTYPE.RC&&s!==t.FIELDTYPE.KEYFOB&&t.sortedDeviceTypes.push({id:s,icon:t.deviceTypes[s].icon,count:t.deviceTypes[s].count});return t.search.device||(t.search.device=Object.keys(t.deviceTypes)[0]),t.setFilteredRules()}return h?void 0:h=e.$on("HUB_CONNECTED",function(){return t.listRules(n)})},function(n){return t.rules={},e.alert("Rule list failed",n,!0)})},t.listRules(!0),t.scenes=p.getScenes(),t.ui={ruleKind:"root",mode:t.MODE.VIEW,dummy:[]},t.search={kind:"use",scene:"All rules",sceneName:f.tr("All rules")},t.tapAction=function(r){return"c.home.scene-detail"===n.current.name?(e.swipeToRules(),void r.select()):t.ui.mode===t.MODE.EDIT&&i.isEmpty(r.scenes)?r.select():r.hasScenes?r.select():r.toggle()},t.holdAction=function(i){return"c.home.scene-detail"===n.current.name?(e.swipeToRules(),void i.select()):t.ui.mode===t.MODE.VIEW?i.select():void 0},t.setFilteredRules=function(){var e,n,i,s,o,a,l,c,u,d,m,f,v,h,g,y,b,E,w,A,S,T,j;if(v=t.search,o={},"use"===v.kind)if("All rules"===v.scene){b=t.rules;for(e in b)a=b[e],o[e]=a}else if("Recent rules"===v.scene)for(u=function(){var n,i;n=t.rules,i=[];for(e in n)a=n[e],i.push(a);return i}().sort(function(e,t){return e.timestamp<t.timestamp?1:-1}),n=g=0,y=u.length;y>g;n=++g)a=u[n],3>n&&(o[a.id]=a);else{h=void 0,E=t.scenes;for(e in E)if(d=E[e],v.scene===d.name){h=e;break}w=t.rules;for(e in w)if(a=w[e],h&&a.scenes){A=a.scenes;for(f in A)m=A[f],h===f&&(o[e]=a)}}else if("device"===v.kind){S=t.rules;for(l in S){a=S[l],c=p.getRuleTemplateInputCapabilities(a),T=v.device,r.call(c,T)>=0&&(o[l]=a),j=a.outputDevices;for(s in j)i=j[s],v.device===i.type&&(o[l]=a)}}return t.filteredRules=o,t.setHomeRules(),t.setSceneRules()},t.setHomeRules=function(){var e,n,r;t.homeRules={},r=t.filteredRules;for(n in r)e=r[n],e.hasScenes||(t.homeRules[n]=e);return t.isHomeRules=!i.isEmpty(t.homeRules)},t.setSceneRules=function(){var e,n,r;t.sceneRules={},r=t.filteredRules;for(n in r)e=r[n],e.hasScenes&&(t.sceneRules[n]=e);return t.isSceneRules=!i.isEmpty(t.sceneRules)},t.isFilteredRules=function(){return i.size(t.filteredRules)>0},t.getHomeScenes=p.getHomeScenes,t.getFavoriteScenes=p.getFavoriteScenes,t.openFilterModal=function(){return e.showModal("RuleFilter","Filter Rules By")},t.setSearchKind=function(e){return t.search.kind=e},t.setSceneSearch=function(n,i){return p.showRecent=n,p.showRecentIcon=i?i:void 0,t.search.scene=n,i?(t.search.sceneName=n,t.ui.ruleKind="scene"):(t.search.sceneName=f.tr(n),t.ui.ruleKind="root"),t.search.icon=i||void 0,t.search.kind="use",e.closeModal(),t.setFilteredRules()},t.setDeviceSearch=function(n,i){return t.search.kind="device",t.search.device=n,t.search.icon=i||void 0,e.closeModal(),t.setFilteredRules()},p.showRecent&&t.setSceneSearch(p.showRecent,p.showRecentIcon),t.ui.ruleKind=p.showScenes?"scene":"root",t.setRuleKind=function(e){return t.ui.ruleKind=e,p.showScenes="scene"===e?!0:!1},E=function(e){var t,n,r,o,a,l,c,u,d,m,p,f,v;o=0,u=0,m=e.inputDevices;for(a in m)s.call(m,a)&&o++;i.isEmpty(e.inputDevices)&&(null!=(p=e.config)&&null!=(f=p.extras)?f.timerElements:void 0)&&o++,v=e.outputDevices;for(a in v)s.call(v,a)&&u++;return r=2,2>u&&(r=3),c=2,2>o&&(c=3),n=o-r,0>n&&(n=0),l=u-c,0>l&&(l=0),t=Math.min(r,o)+Math.min(c,u)+2,n>0&&t++,l>0&&t++,d={cols:t,inputMax:r,inputHidden:n,outputMax:c,outputHidden:l}},t.getInputs=function(e){var t,n,r,s,o,a,l,c,u,d;if(o={},t=0,a=E(e).inputMax||0,i.isEmpty(e.inputDevices)&&(null!=(l=e.config)&&null!=(c=l.extras)?c.timerElements:void 0)){u=p.getDevices();for(r in u)n=u[r],"add-timer"===r&&(o.timer=n)}else{d=e.inputDevices;for(r in d)s=d[r],t++<a&&(o[r]=s)}return o},t.getHiddenInputCount=function(e){return E(e).inputHidden||0},t.isOutputs=function(e){return!i.isEmpty(e.outputDevices)},t.getOutputs=function(e){var t,n,i,r,s,o;s={},t=0,i=E(e).outputMax||0,o=e.outputDevices;for(n in o)r=o[n],t++<i&&(s[n]=r);return s},t.getHiddenOutputCount=function(e){return E(e).outputHidden||0},t.getCols=function(e){return"col-"+E(e).cols},g=e.$on("HEADER_MODE_CHANGED",function(e,i){var r,s;if("c.home"===(null!=n&&null!=(s=n.current)?s.name:void 0))return r=i.mode,r===t.MODE.EDIT?(c(function(){return t.ui.mode=t.MODE.EDIT}),a.debug("RulesListCtrl watch 'mode': Change detected "+t.ui.mode)):r===t.MODE.VIEW?(c(function(){return t.ui.mode=t.MODE.VIEW}),a.debug("RulesListCtrl watch 'mode': Change detected "+t.ui.mode)):void 0}),v=e.$on("HEADER_ADD_ACTION",function(){return e.menu.isRules?(p.resetActionsAndConditions(),a.debug("RulesListCtrl HEADER_ADD_ACTION"),n.go("c.home.rules-add")):void 0}),y=e.$on("RULES_LIST_CHANGED",function(){return t.listRules()}),b=e.$on("RE_READ_SCENES_LIST",function(){return t.scenes=p.getScenes(),t.setFilteredRules()}),t.$on("$destroy",function(){a.debug("RulesListCtrl: $destroy call"),h&&h(),g(),v(),y(),b()})}}),require.register("rules/ctrl-rules-detail.js",function(e,t,n){var i,r,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=window.lodash,i=t("vendors"),n.exports=function(e,t,n,o,a,l,c,u,d,m,p,f,v){var h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N,$,P,U,H,q,B,F,V,G,W,z,Y,Q,K,J,X,Z,et,tt,nt,it,rt,st,ot,at,lt,ct,ut,dt,mt,pt,ft,vt,ht,gt,yt,bt,Et,wt,At,St,Tt,jt,Ct;a.debug("Rules detail control"),c(function(){return e.noSwipe=!0}),t.ui={name:"",selectedTemplate:void 0,wizStep:p.wizard(),wizDisabled:!0,toggledAction:void 0,toggledScene:void 0,showLog:!1},t.ICONS=p.ICONS,t.FIELDTYPE=p.FIELDTYPE,t.actions=p.getActions(),t.conditions=p.getConditions(),t.scenes=p.getScenes(),t.isEmpty=r.isEmpty,t.ruleTemplates={},t.userTemplates=[],t.inputTypes=[],St=function(){var e,n,i,r,s;for(r=p.getInputTypes(),s=[],n=0,i=r.length;i>n;n++)e=r[n],s.push(t.inputTypes.push({type:e,name:f.tr(e+"-devices"),selected:!1,icon:t.ICONS[e]}));return s},St(),t.setInputType=function(e){var n,i,s,o,a;for(r.isEmpty(t.inputTypes)&&St(),o=t.inputTypes,a=[],i=0,s=o.length;s>i;i++)n=o[i],n.type===e&&a.push(t.selectInputTypes(n));return a},t.selectInputTypes=function(e){var n;return e.selected=!e.selected,n=function(){var n,i,r,s;for(r=t.inputTypes,s=[],n=0,i=r.length;i>n;n++)e=r[n],e.selected&&s.push(e.type);return s}(),t.ruleTemplates=p.getTemplates(n)},t.getListOfSelectedDeviceTypes=function(){var e,n,i,r,s,o,a;for(r=t.selectedDeviceTypes,s="",i=r.length-1,e=o=0,a=r.length;a>o;e=++o)switch(n=r[e],e){case 0:s+=f.tr(n+"-types");break;case i:s+=" "+f.tr("and")+" "+f.tr(n+"-types");break;default:s+=", "+f.tr(n+"-types")}return s},t.toggleAction=function(e){return null!=e?t.ui.toggledAction=t.ui.toggledAction===e.id?void 0:e.id:void 0},t.toggleCondition=function(e){return null!=e?t.ui.toggledCondition=t.ui.toggledCondition===e.id?void 0:e.id:void 0},t.isRuleTemplates=function(){var e,n,i,s;i={},s=t.ruleTemplates;for(e in s)n=s[e],"CUSTOM_RULE"!==n.category&&(i[e]=n);return!r.isEmpty(i)},t.isRuleUserTemplates=function(){return t.userTemplates=p.getUserTemplates(),!r.isEmpty(t.userTemplates)},t.toggleSelectedDeviceType=function(e){return s.call(t.selectedDeviceTypes,e)>=0?t.selectedDeviceTypes=t.selectedDeviceTypes.filter(function(t){return t!==e}):t.selectedDeviceTypes.push(e),t.ruleTemplates=p.getTemplates()},t.isDeviceTypeSelected=function(e){return s.call(t.selectedDeviceTypes,e)>=0},t.selectUserTemplate=function(e){return p.selectTemplate(e),n.go("c.home.rules-edit")},t.selectTemplate=function(e,i,r){var s;return s=t.ruleTemplates[e],p.selectTemplate(s,i,r),(null!=i?i.id:void 0)?n.go("c.home.rules-add-edit",{fromDeviceId:i.id,toDeviceId:r.id}):n.go("c.home.rules-edit")},t.selectTemplateForDevice=function(n,i,r){var s;return s=t.ruleTemplates[n],p.selectTemplate(s,i),e.$emit("TEMPLATE_SELECTED",{button:r})},t.selectAction=function(e){return e.selected=!e.selected},t.setActionValue=function(e,t){return e.value=t},t.toggleThenScene=function(e){return t.ui.toggledScene=t.ui.toggledScene===e.name?void 0:e.name},t.selectStateForThenScene=function(e,n){var i,r,s,o,a;n.selected=!n.selected,e.statesSelected=!1,s=e.states;for(r in s)if(n=s[r],n.selected){e.statesSelected=!0;break}t.ui.wizDisabled=!0,o=t.scenes,a=[];for(i in o)e=o[i],e.statesSelected&&a.push(t.ui.wizDisabled=!1);return a},O=function(){return n.go("c.home.scene-detail",{sceneId:null!=o?o.sceneId:void 0}),c(function(){return e.swipeToScenes(),c(function(){return e.noSwipe=!0},100)})},At=function(e,t){var n,i,r;t.selected=!t.selected,e.selected=!1,i=e.devices,r=[];for(n in i){if(t=i[n],t.selected){e.selected=!0;break}r.push(void 0)}return r},I=function(){var e;return e=p.testConditionsAndActionsReadiness(),t.ui.wizDisabled=!e},t.selectDeviceForActionEdit=function(e,n){var i;return i=p.toggleDeviceOrSceneOrUserOfAction(e,n),t.ui.wizDisabled=!0,i&&!r.isEmpty(t.ui.name)&&(t.ui.wizDisabled=!1),I()},t.selectDeviceForConditionEdit=function(e,n){var i;return i=p.toggleDeviceOrSceneOrUserOfCondition(e,n),t.ui.wizDisabled=!0,i&&!r.isEmpty(t.ui.name)&&(t.ui.wizDisabled=!1),I()},t.showExtras=function(n){return t.ui.currentExtras=n.extras,e.showModal("ExtraSettings","Extra settings")},t.getExtraCounts=function(e){var t,n,i,s;i=0,s=e.extras;for(n in s)t=s[n],t.selected&&i++;return""+i+" / "+r.size(e.extras)},Et=function(){var e,n,i,r;i=t.scenes,r=[];for(n in i)e=i[n],e.selected&&r.push(e.selected=!1);return r},bt=function(){var e,n,i,r,s,o,a,l;for(o=t.conditions,l=[],r=0,s=o.length;s>r;r++){e=o[r],a=e.devices;for(i in a)n=a[i],n.selected&&(n.selected=!1);e.selected=!1,l.push(e.show=!1)}return l},yt=function(){var e,n,i,r,s,o,a,l;for(o=t.actions,l=[],r=0,s=o.length;s>r;r++){e=o[r],a=e.devices;for(i in a)n=a[i],n.selected&&(n.selected=!1);e.selected=!1,l.push(e.show=!1)}return l},wt=function(){var e,n,i,r,s,o,a,l,c,u,d,m,p,f,v,h,g,y;for(s={},o={},u=[],v=t.conditions,d=0,p=v.length;p>d;d++){n=v[d],s[n.id]=[],h=n.devices;for(r in h)i=h[r],i.selected&&s[n.id].push(r);i.selected=!1,n.selected=!1}for(g=t.actions,m=0,f=g.length;f>m;m++){e=g[m],o[e.id]=[],y=e.devices;for(r in y)i=y[r],i.selected&&o[e.id].push(r);i.selected=!1,e.selected=!1}return u=function(){var e,n;e=t.scenes,n=[];for(c in e)l=e[c],l.selected&&n.push(c);return n}(),Et(),a={inputs:s,outputs:o,scenes:u}},jt=function(){var e,n,i,r,s,o,a,l,c;for(l=t.conditions,c=[],o=0,a=l.length;a>o;o++)e=l[o],c.push(function(){var o,a;o=e.devices,a=[];for(i in o)n=o[i],a.push(function(){var o,a;o=t.rule.inputDevices,a=[];for(s in o)r=o[s],s===i&&(e.selected=!0,a.push(n.selected=!0));return a}());return a}());return c},Tt=function(){var e,n,i,r,s,o,a,l,c;for(l=t.actions,c=[],o=0,a=l.length;a>o;o++)e=l[o],c.push(function(){var o,a;o=e.devices,a=[];for(i in o)n=o[i],a.push(function(){var o,a;o=t.rule.outputDevices,a=[];for(s in o)r=o[s],s===i&&(e.selected=!0,a.push(n.selected=!0));return a}());return a}());return c},Ct=function(){var e,n,i,s,o,a;if(t.ui.sceneAllSelected=!0,!r.isEmpty(t.rule.scenes)){o=t.scenes,a=[];for(s in o)i=o[s],a.push(function(){var r,o;r=t.rule.scenes,o=[];for(n in r)e=r[n],n===s&&(i.selected=!0,o.push(t.ui.sceneAllSelected=!1));return o}());return a}},t.devicesByCondition={},t.devicesByAction={},t.getNames=function(e){var t,n,i;i=[];for(n in e)t=e[n],i.push(t.name);return i.join(", ")},t.isPrevSelected=function(e,t){var n,i,r,s,o;if(r=!1,e&&t>0)for(n=s=0,o=e.length;o>s;n=++s)i=e[n],t>n&&i.selected&&(r=!0);return r},t.getSelectedDevices=function(e){var t,n,i;return i=function(){var i;i=[];for(n in e)t=e[n],t.selected&&i.push(t);return i}()},t.edit=void 0,t.editConditions=function(){return t.edit="conditions",jt(),e.showModal("EditConditions","Edit Conditions")},t.editActions=function(){return t.edit="actions",Tt(),e.showModal("EditActions","Edit Actions")},t.editScenes=function(){return t.edit="scenes",Ct(),e.showModal("EditScenes","Edit Scenes")},t.getHomeScenes=p.getHomeScenes,t.getFavoriteScenes=p.getFavoriteScenes,t.ui.sceneAllSelected=!0,tt=t.scenes;for(x in tt)C=tt[x],C.selected&&(t.ui.sceneAllSelected=!1);if(t.toggleScene=function(e){var n,i,r,s;if("all"===e){t.ui.sceneAllSelected=!t.ui.sceneAllSelected,r=t.scenes,s=[];for(i in r)n=r[i],s.push(n.selected=!1);return s}return t.ui.sceneAllSelected=!1,e.selected=!e.selected},t.showUserRules=!0,32!==(null!=(nt=e.selectedHub)?nt.role:void 0)&&(t.showUserRules=!1),("undefined"!=typeof device&&null!==device?device.platform:void 0)&&(t.showUserRules=!1),t.showLog=function(e){return t.ui.showLog=e?e:!t.ui.showLog,t.ui.showLog?p.readTemplateLog(t.editorConfigType).then(function(e){return t.templateLog=e,t.ui.showLog?c(function(){return t.ui.showLog?t.showLog(!0):void 0},5e3):void 0}):void 0},t.saveEditor=function(){return p.saveTemplate(t.editorContent).then(function(){return e.notifyOk(f.tr("Customer rule saved")),n.go("c.home.rules-from-editor",{editorRuleTypes:o.editorRuleTypes})},function(t){return e.modalAlert("Customer rule save failed: "+t)})},t.removeCutomTemplate=function(n){var i,r;return r=function(){var e,n,r,s;for(r=t.inputTypes,s=[],e=0,n=r.length;n>e;e++)i=r[e],i.selected&&s.push(i.type);return s}(),p.removeTemplate(n).then(function(){return t.ruleTemplates=p.getTemplates(r),e.notify(f.tr("Customer rule removed"))})},t.openDocumentation=function(){var e;try{return window.open("https://github.com/cozify/HubAPI/wiki","_system","location=yes,toolbar=yes")}catch(t){return e=t,a.warn("support link may failed")}},t.openEditor=function(i){var r;return r=i?[i]:[],n.go("c.home.rules-editor",{editorRuleTypes:r}),e.$emit("HEADER_PAGE",{show:!0,previous:function(){return n.go("c.home.rules-add")},title:f.tr("ADD USER RULE")},t.ui.wizardDisabled=!0)},"c.home.rules-editor"===(ut=null!=n&&null!=(dt=n.current)?dt.name:void 0)&&(n.params.editorRuleTypes?(t.editorConfigType=n.params.editorRuleTypes,p.readTemplate(n.params.editorRuleTypes).then(function(e){return t.editorContent=e,c(function(){var e;return e=document.getElementById("python-editor"),t.editor=i.CodeMirror(e,{lineNumbers:!0,autofocus:!0,mode:"python",value:t.editorContent}),t.editor.on("change",function(e){return t.editorContent=e.getValue()})},200)},function(){})):(t.editorContent="class OnFromMovement(Rule):\n   type = 'ON_FROM_MOVEMENT_RULE'\n   name = \"Turn on with movement\"\n   description = 'Put device on when movement.'\n   summary = 'When motion sensor reports movement, put device on. If movement stops, put device off.'\n\n   sensors = Input(field_type=None,\n                   capabilities=[Capability.MOTION],\n                   display_order=1,\n                   description='Motion sensor',\n                   min_count=1)\n\n   devices = Output(field_type=None,\n                    capabilities=[Capability.ON_OFF],\n                    display_order=2,\n                    description='Controlled device',\n                    min_count=1)\n\n   def send_commands(self, on: bool):\n       for device in self.devices:\n           if on:\n               self.send_command(DeviceOnCommand(device))\n           else:\n               self.send_command(DeviceOffCommand(device))\n\n   def on_event(self, ev):\n       self.send_commands(ev.state.motion)",c(function(){var e;return e=document.getElementById("python-editor"),t.editor=i.CodeMirror(e,{lineNumbers:!0,autofocus:!0,mode:"python",value:t.editorContent}),t.editor.on("change",function(e){return t.editorContent=e.getValue()})},200))),"c.home.rules-add"===(mt=null!=n&&null!=(pt=n.current)?pt.name:void 0)||"c.home.rules-from-editor"===mt){for(j=[],k=[],o.editorRuleTypes&&!r.isArray(o.editorRuleTypes)&&j.push(o.editorRuleTypes),U=0,F=j.length;F>U;U++)for(T=j[U],ft=t.inputTypes,H=0,V=ft.length;V>H;H++)E=ft[H],T===E.type&&(E.selected=!0,k.push(E.type));r.isEmpty(k)||(t.ruleTemplates=p.getTemplates(k))}if(e.$emit("HEADER_PAGE",{show:!0,previous:"^",title:f.tr("ADD NEW RULE")}),t.ui.wizDisabled=!0,t.selectRule=function(e,n){var i,r,s,o,l,u,d,m,v,h,g,y,b,w,A,S,T,j,C,x,k,D,O,R,_,M,L,N,$,P,U,H,q,B,F,V,G,W;if(e){if(t.rule={config:{},inputs:{},outputs:{},scenes:[]},yt(),bt(),g=f.tr("Edit Rule"),t.rule=p.selectRule(e),a.debug("'RulesListCtrl Edit rule ",t.rule),!t.rule||!t.rule.config)return;if(t.actions=p.getActions(),t.conditions=p.getConditions(),t.ui.name=t.rule.config.name,t.rule.config.sortedExtras=[],t.rule.config.extras)for(m=Object.keys(t.rule.config.extras).sort(function(e,n){return t.rule.config.extras[e][0].displayOrder>t.rule.config.extras[n][0].displayOrder}),y=0,w=m.length;w>y;y++)d=m[y],t.rule.config.extras[d].key=d,t.rule.config.sortedExtras.push(t.rule.config.extras[d]);for(t.ui.sceneAllSelected=!0,Et(),Ct(),F=t.conditions,b=0,A=F.length;A>b;b++){r=F[b],r.selected=!1,V=r.devices;for(o in V){s=V[o],s.selected=!1,G=t.rule.inputDevices;for(u in G)E=G[u],u===o&&(s.selected=!0,r.selected=!0,r.show=!0)}}for(N=t.actions,D=0,S=N.length;S>D;D++){i=N[D],i.selected=!1,$=i.devices;for(o in $){s=$[o],s.selected=!1,P=t.rule.outputDevices;for(h in P)v=P[h],h===o&&(s.selected=!0,i.selected=!0,i.show=!0)}}for(U=t.actions,O=0,T=U.length;T>O;O++)i=U[O],i.selected&&t.toggleAction(i);for(H=t.conditions,W=[],R=0,j=H.length;j>R;R++)r=H[R],W.push(r.selected?t.toggleCondition(r):void 0);return W}if(l=p.getDevices(),t.fromDevice=l[n],t.rule={config:p.getConfiguration(),scenes:[]},t.rule.config.sortedExtras=[],t.rule.config.extras)for(m=Object.keys(t.rule.config.extras).sort(function(e,n){return t.rule.config.extras[e][0].displayOrder>t.rule.config.extras[n][0].displayOrder}),_=0,C=m.length;C>_;_++)d=m[_],t.rule.config.extras[d].key=d,t.rule.config.sortedExtras.push(t.rule.config.extras[d]);for(q=t.actions,M=0,x=q.length;x>M;M++)i=q[M],i.selected&&t.toggleAction(i);for(B=t.conditions,L=0,k=B.length;k>L;L++)r=B[L],r.selected&&t.toggleCondition(r);return t.ui.name=t.rule.config.name,c(function(){return I()},100)},"c.home.rules-edit"===(null!=n&&null!=(vt=n.current)?vt.name:void 0)&&(null!=o?o.ruleId:void 0))t.selectRule(null!=o?o.ruleId:void 0),S="c.home",(null!=o?o.sceneId:void 0)&&(S="c.home.scene-detail?$stateParams?.sceneId"),e.$emit("HEADER_PAGE",{show:!0,previous:S,mode:"wizard-last",wizDisabled:!1,title:f.tr("Edit Rule")}),t.ui.toggledAction=null!=(ht=t.actions[0])?ht.id:void 0,t.ui.toggledCondition=null!=(gt=t.conditions[0])?gt.id:void 0;else if("c.home.rules-add"===(null!=n&&null!=(it=n.current)?it.name:void 0)&&(null!=o?o.fromDeviceId:void 0))y=p.getDevices(),b=y[null!=o?o.fromDeviceId:void 0],D=y[null!=o?o.toDeviceId:void 0],k=[],b.type&&k.push(b.type),D.type&&k.push(D.type),t.ruleTemplates=p.getTemplates(k),b&&D&&!r.isEmpty(t.ruleTemplates)&&(t.hideDeviceSelection=!0,t.fromDevice=b,t.toDevice=D),e.$emit("HEADER_PAGE",{show:!0,title:f.tr("ADD NEW RULE"),mode:"modal-kind",previous:function(){return n.go("c.home"),c(function(){return e.swipeToDevices(),c(function(){return e.noSwipe=!1
},100)})}});else if("c.home.rules-add-edit"===(null!=n&&null!=(rt=n.current)?rt.name:void 0)&&(null!=o?o.fromDeviceId:void 0)){if(y=p.getDevices(),t.fromDevice=y[o.fromDeviceId],t.toDevice=y[null!=o?o.toDeviceId:void 0],t.rule={config:p.getConfiguration(),scenes:[]},t.rule.config.sortedExtras=[],t.rule.config.extras)for(A=Object.keys(t.rule.config.extras).sort(function(e,n){return t.rule.config.extras[e][0].displayOrder>t.rule.config.extras[n][0].displayOrder}),q=0,G=A.length;G>q;q++)w=A[q],t.rule.config.extras[w].key=w,t.rule.config.sortedExtras.push(t.rule.config.extras[w]);for(st=t.actions,B=0,W=st.length;W>B;B++)h=st[B],h.selected&&t.toggleAction(h);for(ot=t.conditions,J=0,z=ot.length;z>J;J++)g=ot[J],g.selected&&t.toggleCondition(g);t.ui.name=t.rule.config.name,e.$emit("HEADER_PAGE",{show:!0,mode:"wizard-last",wizDisabled:!0,title:f.tr("ADD NEW RULE"),previous:"yes"}),c(function(){return I()},100)}else if("c.home.rules-edit"===(null!=n&&null!=(at=n.current)?at.name:void 0)&&!(null!=o?o.ruleId:void 0)){if(t.rule={config:p.getConfiguration(),scenes:[]},t.rule.config.sortedExtras=[],t.rule.config.extras)for(A=Object.keys(t.rule.config.extras).sort(function(e,n){return t.rule.config.extras[e][0].displayOrder>t.rule.config.extras[n][0].displayOrder}),X=0,Y=A.length;Y>X;X++)w=A[X],t.rule.config.extras[w].key=w,t.rule.config.sortedExtras.push(t.rule.config.extras[w]);for(lt=t.actions,Z=0,Q=lt.length;Q>Z;Z++)h=lt[Z],h.selected&&t.toggleAction(h);for(t.toggleAction(t.actions[0]),ct=t.conditions,et=0,K=ct.length;K>et;et++)g=ct[et],g.selected&&t.toggleCondition(g);t.toggleCondition(t.conditions[0]),t.ui.name=t.rule.config.name,e.$emit("HEADER_PAGE",{show:!0,previous:"yes",mode:"wizard-last",wizDisabled:!0,title:f.tr("ADD NEW RULE")}),c(function(){return I()},100)}return t.$watch("ui.wizDisabled",function(t,n){return t!==n&&void 0!==n?e.$emit("HEADER_UPDATE",{wizDisabled:t}):void 0}),t.$watch("ui.name",function(n,i){return n!==i&&void 0!==i?(I(),e.$emit("HEADER_UPDATE",{wizDisabled:t.ui.wizDisabled})):void 0}),t.timer=void 0,t.currentExtra=void 0,t.showDateSelection=function(n,i){return a.debug("RulesDetailCtrl showDateSelection() for timer:",t.timer),t.timer=angular.copy(n),t.currentExtra=i,e.showModal("DateSelection",["Rule timer"])},t.saveTimers=function(){return a.debug("RulesDetailCtrl saveTimers() for timer:",t.timer),t.currentExtra[0]=t.timer,e.closeModal()},t.isSameStartStopDays=v.isSameStartStopDays,t.getSelectedDays=v.getSelectedDays,t.getSelectedLongDays=v.getSelectedLongDays,t.selectDay=v.selectDay,t.isEveryDaySelected=function(e,t){return v.getSelectedDays(e,t)===f.tr("Every day")},t.isWeekdaysSelected=function(e,t){return v.getSelectedDays(e,t)===f.tr("Weekdays")},t.isWeekendSelected=function(e,t){return v.getSelectedDays(e,t)===f.tr("Weekend")},t.selectExtraDays=function(t,n){var i,r;if(t&&n&&t[n])return r=t[n],e.showModal("TimeRoller",["Select","Day"]),e.timeRoller.listItems=v.extendedDays.concat(v.extendedDays),i=v.getSelectedDays(t,n)||e.timeRoller.DATE_DEFAULT,e.timeRoller.selected=v.getLongDay(i),e.timeRoller.name="date",e.timeRoller.unit="",e.timeRoller.object=t,e.timeRoller.timer=r,e.timeRoller.timerType=n},t.selectExtraClock=function(t,n){var i;if(t&&n&&t[n])return i=t[n],a.debug("RuleDetailCtrl selectExtraClock",Date.now()),e.showModal("ClockRoller",["Select","clock time"]),i.sun?(e.setClockKind("sun"),e.clockRoller.sun.selected=i.sun,e.clockRoller.sunTime.selected=i.sunTime):(e.setClockKind("time"),e.clockRoller.minute.selected=f.localizedMin(i.minute)||f.localizedMin("0"),e.clockRoller.minute.unit="minutes",e.clockRoller.hour.selected=f.localizedHour(i.hour)||f.localizedHour("8"),e.clockRoller.hour.unit="hours"),e.clockRoller.minute.listItems=e.clockRoller.MIN_SELECTION,e.clockRoller.hour.listItems=e.clockRoller.HOUR_SELECTION,e.clockRoller.object=t,e.clockRoller.timer=i,e.clockRoller.timerType=n,a.debug('"RulesDetailCtrl selectExtraClock() for cronDef: ',e.clockRoller.object.cronDef)},t.setClockRollerOk=function(){var t;return"time"===e.clockKind?(e.clockRoller.timer.minute=e.clockRoller.minute.selected,e.clockRoller.timer.hour=f.get24hFormat(e.clockRoller.hour.selected),e.clockRoller.timer.time=f.localizedTime(""+e.clockRoller.timer.hour+":"+e.clockRoller.timer.minute),e.clockRoller.timer.sun&&delete e.clockRoller.timer.sun,e.clockRoller.timer.sunTime&&delete e.clockRoller.timer.sunTime):(e.clockRoller.timer.sun=e.clockRoller.sun.selected,e.clockRoller.timer.sunTime=e.clockRoller.sunTime.selected,e.clockRoller.timer.minute&&delete e.clockRoller.timer.minute,e.clockRoller.timer.hour&&delete e.clockRoller.timer.hour,e.clockRoller.timer.time&&delete e.clockRoller.timer.time),t=e.clockRoller.object,"timerStart"===e.clockRoller.timerType?"time"===e.clockKind?(t.cronDef.start=v.formatHourForCron(e.clockRoller.timer.hour,e.clockRoller.object.cronDef.start),t.cronDef.start=v.formatMinuteForCron(e.clockRoller.timer.minute,e.clockRoller.object.cronDef.start),t.startDays||(t.startDays=v.getSelectedDays(t,"timerStart")),(t.startDays===f.tr(v.WEEKEND)||t.startDays===f.tr(v.WEEKDAYS))&&v.selectDay(t.startDays,t,"timerStart")):"sun"===e.clockKind&&(t.cronDef.start=v.formatSunForCron(e.clockRoller.timer.sun,e.clockRoller.timer.sunTime,e.clockRoller.object.cronDef.start)):"timerStop"===e.clockRoller.timerType&&("time"===e.clockKind?(e.clockRoller.object.cronDef.stop=v.formatHourForCron(e.clockRoller.timer.hour,e.clockRoller.object.cronDef.stop),e.clockRoller.object.cronDef.stop=v.formatMinuteForCron(e.clockRoller.timer.minute,e.clockRoller.object.cronDef.stop),t.stopDays||(t.stopDays=v.getSelectedDays(t,"timerStop")),(t.stopDays===f.tr(v.WEEKEND)||t.stopDays===f.tr(v.WEEKDAYS))&&v.selectDay(t.stopDays,t,"timerStop")):"sun"===e.clockKind&&(t.cronDef.stop=v.formatSunForCron(e.clockRoller.timer.sun,e.clockRoller.timer.sunTime,e.clockRoller.object.cronDef.stop))),a.debug('"RulesDetailCtrl setClockRollerOk() for cronDef: ',e.clockRoller.object.cronDef),e.$emit("HEADER_PREV")},t.selectExtraTime=function(t){return e.showModal("TimeRoller",["Select","time"]),e.timeRoller?(e.timeRoller.listItems=e.timeRoller.TIME_SELECTION||[],e.timeRoller.selected=t.value||e.timeRoller.TIME_DEFAULT,e.timeRoller.name="time",e.timeRoller.unit="minutes",e.timeRoller.object=t):void 0},t.setTimeRollerOk=function(){return"timerStart"===e.timeRoller.timerType?(e.timeRoller.object.timerStart=v.selectDay(e.timeRoller.selected,e.timeRoller.object,"timerStart"),e.$emit("HEADER_PREV")):"timerStop"===e.timeRoller.timerType?(e.timeRoller.object.timerStop=v.selectDay(e.timeRoller.selected,e.timeRoller.object,"timerStop"),e.$emit("HEADER_PREV")):(e.timeRoller.object.value=e.timeRoller.selected,e.$emit("HEADER_PREV"))},_||(_=e.$on("HEADER_MODAL_CLOSE",function(){return t.edit?t.edit=void 0:void 0})),M||(M=e.$on("HEADER_WIZRD_NEXT",function(){return t.ui.wizStep=p.wizardNext(),a.debug("RulesListCtrl HEADER_WIZRD_NEXT is ",t.ui.wizStep),n.go("c.home.rules-add-"+t.ui.wizStep+"-a")})),L||(L=e.$on("HEADER_WIZRD_PREV",function(){var i,r;return t.ui.wizStep=p.wizardPrev(),a.debug("RulesListCtrl HEADER_WIZRD_PREV is ",t.ui.wizStep),(null!=o?o.sceneId:void 0)?void O():!t.ui.wizStep||t.ui.wizStep<1?(null!=o?o.ruleId:void 0)?(e.$emit("HUB_POLL_RELOAD_REQUEST"),n.go("c.home")):n.go("c.home.rules-add",{fromDeviceId:(null!=(i=t.fromDevice)?i.id:void 0)||void 0,toDeviceId:(null!=(r=t.toDevice)?r.id:void 0)||void 0}):n.go("c.home.rules-add-"+t.ui.wizStep+"-a")})),N||(N=e.$on("RULE_DONE",function(n,i){var r,s,o;return s=wt(),t.rule.scenes=s.scenes,t.rule.config.name=t.ui.name,t.rule.config.inputs=s.inputs,t.rule.config.outputs=s.outputs,r=i.button,r?(r.isOn?(t.rule.config.extras.on_button[0].value=r.id,t.rule.config.extras.off_button[0].value=r.id+1):(t.rule.config.extras.on_button[0].value=r.id-1,t.rule.config.extras.off_button[0].value=r.id),(null!=(o=r.rule)?o.id:void 0)?p.save(t.rule).then(function(){return e.notify("Rule saved",!0)},function(){return e.notify("Rule saving failed",!0)}):p.add(t.rule).then(function(){return e.notify("Rule created",!0)},function(){return e.notify("Rule creation failed",!0)})):void 0})),R||(R=e.$on("HEADER_WIZRD_DONE",function(){var i;return a.debug("RulesListCtrl HEADER_WIZRD_DONE"),p.wizard(1),i=wt(),p.showScenes=!r.isEmpty(i.scenes),t.rule.scenes=i.scenes,t.rule.config.name=t.ui.name,t.rule.config.inputs=i.inputs,t.rule.config.outputs=i.outputs,(null!=o?o.ruleId:void 0)?p.save(t.rule).then(function(){return e.notify("Rule saved",!0)},function(){return e.notify("Rule saving failed",!0)}):p.add(t.rule).then(function(){return e.notify("Rule created",!0)},function(){return e.notify("Rule creation failed",!0)}),(null!=o?o.sceneId:void 0)?O():n.go("c.home")})),$=e.$on("RULES_LIST_CHANGED",function(){return t.actions=p.getActions(),t.conditions=p.getConditions()}),P=e.$on("SCENES_LIST_CHANGED",function(){return t.scenes=p.getScenes()}),t.$on("$destroy",function(){a.debug("RulesDETAILCtrl: $destroy call"),_(),M(),L(),N(),R(),$(),P()})}}),require.register("rules/srv-rules.js",function(){var e,t,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=window.lodash,e=function(e,i,r,s,o,a,l,c,u,d,m,p){var f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N,$,P,U,H,q,B,F,V,G,W,z,Y,Q,K,J,X,Z,et,tt,nt,it,rt,st,ot,at;return i.debug("Init rulesSrv"),T="TIME_DELTA_MS",S="RULETIME",y="FREE_TEXT",E="NUMBER",A="PERCENT",h="CELSIUS",f="BOOL",w="OPTION",v="BUTTON_ID",z={},N=l.getHUBAddress(),b={DEVICE:"icon-devices",DEVICES:"icon-devices",SCENE:"icon-scene",USER:"icon-community"},g={TIMER:"TIMER",USER:"HUB_USER",SCENE:"SCENE",RC:"REMOTE_CONTROL",KEYFOB:"KEYFOB"},O={conditions:{},actions:{}},k=[],j=[],it=[g.TIMER,g.SCENE],W={},rt=[],M=function(e,t){var n,i,r,s,o,a,l,c,u,d,m,p,g,b,S,j;if(r={},!t)return r;if(t.extras.timerElements)for(r.timerElements=[],m=e.timerElements,l=0,u=m.length;u>l;l++)a=m[l],!(null!=(p=a.timerStart)?p.days:void 0)||a.timerStart.days.length<1?a.cronDef=void 0:(!(null!=(g=a.timerStop)?g.days:void 0)||(null!=(b=a.timerStop)?b.days.length:void 0)<1)&&(a.cronDef.stop=void 0),r.timerElements.push({cronDef:a.cronDef,type:a.fieldType});S=t.extras;for(s in S)if(o=S[s],"timerElements"!==s){switch(r[s]=[],i=void 0,o.fieldType){case E:case T:case A:case h:i=0;break;case v:i="?";break;case y:i="...";break;case f:i=!1;break;case w:i=void 0}if(e[s])for(j=e[s],c=0,d=j.length;d>c;c++)switch(n=j[c],n.fieldType){case E:case A:case h:i=n.value,r[s].push({type:n.fieldType,value:i});break;case v:i=n.value,r[s].push({type:n.fieldType,value:i});break;case y:i=n.text,r[s].push({type:n.fieldType,text:i});break;case f:i=n.value,r[s].push({type:n.fieldType,value:i});break;case w:i=n.value,r[s].push({type:n.fieldType,value:i});break;case T:i=0,n.isOn&&(i=6e4*n.value,i<n.minValue&&(i=n.minValue),i>n.maxValue&&(i=n.maxValue),r[s].push({type:n.fieldType,value:i}))}}return r},P=function(e){var t,i,r,s,o,a,l,c,u,d,m,p,f,v,h,y,b,E;for(O={conditions:{},actions:{}},k=[],j=[],it=[g.TIMER,g.SCENE],e&&(rt=e),E=[],u=0,m=rt.length;m>u;u++){a=rt[u],f=a.inputs;for(r in f)if(l=f[r],l.fieldType&&null==O.conditions[l.fieldType]&&(O.conditions[l.fieldType]=r,k.push(l.fieldType),v=l.fieldType,n.call(it,v)<0))for(s in _)if(i=_[s],i.type===l.fieldType){it.push(l.fieldType);break}h=a.inputs;for(r in h)if(l=h[r],!l.fieldType)for(y=l.capabilities,d=0,p=y.length;p>d;d++)if(t=y[d],O.conditions[t]=r,k.push(t),n.call(it,t)<0)for(s in _)if(i=_[s],i.capabilities&&n.call(null!=(b=i.capabilities)?b.values:void 0,t)>=0){it.push(t);break}E.push(function(){var e,t,r;e=a.outputs,r=[];for(o in e)c=e[o],c.fieldType&&null==O.actions[c.fieldType]&&(O.actions[c.fieldType]=o,j.push(c.fieldType),t=c.fieldType,r.push(n.call(it,t)<0?function(){var e;e=[];for(s in _)if(i=_[s],i.type===c.fieldType){it.push(c.fieldType);break}return e}():void 0));return r}())}return E},st=!1,$=function(){var t;if(null!=N)return st?void P():(st=!0,t=s.defer(),r({method:"GET",url:N+"/rules/templates"}).success(function(e,n){return i.debug("rulesSrv _loadTemplates: Ok "+n+", data: ",e),P(e),t.resolve(e)}).error(function(n,r){return st=!1,401!==r&&e.alert("Template list failed",r,!0),i.error("rulesSrv _loadTemplates: Error "+r+", data: ",n),t.reject(n)}),t.promise)},Y=function(e){var t;if(null!=N)return st=!1,t=s.defer(),r({method:"POST",url:N+"/rules/template",data:JSON.stringify(e)}).success(function(e,n){return i.debug("rulesSrv _saveTemplate: Ok "+n+", data: ",e),$().then(function(){return P(),t.resolve(e)},function(e){return t.resolve(e)})}).error(function(e,n){return st=!1,i.error("rulesSrv _saveTemplate: Error "+n+", data: ",e),t.reject(e)}),t.promise},F=function(t){var n;if(null!=N&&null!=t)return st=!1,n=s.defer(),r({method:"DELETE",url:N+("/rules/template?ruleType="+t)}).success(function(e,t){return i.debug("rulesSrv _removeTemplate: Ok "+t+", data: ",e),$().then(function(){return P(),n.resolve(e)},function(e){return n.resolve(e)})}).error(function(t,r){return st=!1,e.alert(d.tr("Customer rule remove failed"+(": "+r+" "+t))),i.error("rulesSrv _removeTemplate: Error "+r+", data: ",t),n.reject(t)}),n.promise},H=function(t){var n;if(null!=N&&null!=t)return st=!1,n=s.defer(),r({method:"GET",url:N+("/rules/template?ruleType="+t)}).success(function(e,t){return i.debug("rulesSrv _readTemplate: Ok "+t+", data: ",e),e=JSON.parse(e),n.resolve(e)}).error(function(t,r){return e.alert(d.tr("Customer rule read failed"+(": "+r+" "+t))),i.error("rulesSrv _readTemplate: Error "+r+", data: ",t),n.reject(t)}),n.promise},q=function(t){var n;if(null!=N&&null!=t)return n=s.defer(),r({method:"GET",url:N+("/rules/log?ruleType="+t)}).success(function(e,t){var r,s,o;return i.debug("rulesSrv _readTemplateLog: Ok "+t+", data: ",e),e.length>1&&(e=e.substring(1,e.length-1)),e=e.split("\\n"),o=[],o=function(){var t,n,i;for(i=[],r=t=0,n=e.length;n>t;r=++t)s=e[r],i.push(""+(r+1)+": "+s);return i}(),n.resolve(o)}).error(function(t,r){return e.alert(d.tr("Customer rule read failed"+(": "+r+" "+t))),i.error("rulesSrv _readTemplateLog: Error "+r+", data: ",t),n.reject(t)}),n.promise},U=function(t){var n;if(null!=N)return n=s.defer(),r({method:"PUT",url:N+"/rules",data:t}).success(function(e,t){return i.debug("rulesSrv put: Ok "+t+", data: ",e),n.resolve(e)}).error(function(t,r){return e.alert("Rule saving failed",r,!0),i.error("rulesSrv put: Error "+r+", data: ",t),n.reject(t)}),n.promise},R=function(n){var o;if(null!=N&&!t.isEmpty(n))return o=s.defer(),r({method:"DELETE",url:N+("/rules/?ruleId="+n),headers:{"Content-Type":"application/json"}}).success(function(t,n){return i.debug("rulesSrv _deleteRules: Ok "+n+", data: ",t),e.menu.isRules?a.go("^"):e.$emit("RULE_REMOVED"),o.resolve(t)}).error(function(t,n){return e.alert("Rule remove failed",n,!0),i.error("rulessSrv _deleteRules: Error "+n+", data: ",t),o.reject(t)}),o.promise},G=function(t,n){var o;if(null!=N)return n=n||"PUT",o=s.defer(),this.busy=!0,r({method:n,url:N+"/rules/command",data:[t]}).success(function(e,t){return i.debug("rulesSrv _ruleCommand: Ok "+t+", data: ",e),this.busy=!1,o.resolve(e)}).error(function(t,n){return e.alert("Rule saving failed",n,!0),i.error("rulesSrv _ruleCommand: Error "+n+", data: ",t),this.busy=!1,o.reject(t)}),o.promise},C=[],D=[],I={},Z=function(n,i,r){var s,o,a,l,c,u,p,g,b,j,C,x,k,D,O,I,R,_,M,L,N,$,P,U,H,q,B,F,V,G,W,z,Y,Q,K,J,X,Z,et,tt,nt,it,rt,st,ot,at,lt,ct;if(n&&i){if(u=i||{},null==u.extras&&(u.extras={}),u.configType=n.configType,u.name=i.name||n.description,u.description=n.description,u.summary=n.summary,null!=(I=n.extras)?I.timerElements:void 0){for(g=angular.copy((null!=(R=i.extras)?R.timerElements:void 0)||[]),u.extras.timerElements=[],c=0,n.extras.timerElements.minCount&&(c=n.extras.timerElements.minCount-1||0),l=1,n.extras.timerElements.maxCount&&(l=n.extras.timerElements.maxCount-1||1),(null!=(F=n.extras.timerElements.defaultValue)?F.cronDef:void 0)||(n.extras.timerElements.defaultValue={cronDef:{start:"0 18 * * *",stop:"0 22 * * *",type:"CRONDEF"},type:S}),a=x=c;l>=c?l>x:x>l;a=l>=c?++x:--x)u.extras.timerElements.push(angular.copy(n.extras.timerElements));for(a=k=c;l>=c?l>k:k>l;a=l>=c?++k:--k)(null!=(et=u.extras.timerElements[a])?et.fieldType:void 0)===S&&(u.extras.timerElements[a].cronDef=(null!=(rt=g[a])?rt.cronDef:void 0)||angular.copy(null!=(st=n.extras)&&null!=(ot=st.timerElements)&&null!=(at=ot.defaultValue)?at.cronDef:void 0)||{},g[a]&&!(null!=(lt=g[a])?lt.cronDef:void 0)?(b=n.extras.timerElements.defaultValue.cronDef.start.split(" "),b=b[0]+" "+b[1]+" "+b[2]+" "+b[3]):b=(null!=(ct=g[a])&&null!=(_=ct.cronDef)?_.start:void 0)||n.extras.timerElements.defaultValue.cronDef.start,b=m.cronElements(b),u.extras.timerElements[a].timerStart={days:b.daysOfWeek,time:b.time,hour:b.hour,minute:b.minute,enabled:!t.isEmpty(b.daysOfWeek)},!(null!=(M=g[a])?M.cronDef:void 0)||(null!=(L=g[a])?L.cronDef:void 0)&&!(null!=(N=g[a])&&null!=($=N.cronDef)?$.stop:void 0)?(C=n.extras.timerElements.defaultValue.cronDef.stop.split(" "),j=C[0]+" "+C[1]+" "+C[2]+" "+C[3]):j=(null!=(P=g[a])&&null!=(U=P.cronDef)?U.stop:void 0)||n.extras.timerElements.defaultValue.cronDef.stop,j=m.cronElements(j),u.extras.timerElements[a].timerStop={days:j.daysOfWeek,time:j.time,hour:j.hour,minute:j.minute,enabled:!t.isEmpty(j.daysOfWeek)},m.setTimers(angular.copy(u.extras.timerElements)),u.extras.timerElements=angular.copy(m.timers))}H=n.extras;for(s in H)if(o=H[s],"timerElements"!==s){if(p=angular.copy(null!=(q=i.extras)?q[s]:void 0)||[],u.extras[s]=[],c=0,o.minCount&&(c=o.minCount-1||0),l=1,o.maxCount&&(l=o.maxCount-1||1),!o.defaultValue)switch(o.fieldType){case E:case A:case h:o.defaultValue=0;break;case v:o.defaultValue=0;break;case T:o.defaultValue=6e4*(null!=(B=e.timeRoller)?B.TIME_DEFAULT:void 0)||0;break;case y:o.defaultValue="...";break;case f:o.defaultValue=!1;break;case w:o.defaultValue=void 0}for(a=D=c;l>=c?l>D:D>l;a=l>=c?++D:--D)u.extras[s].push(angular.copy(n.extras[s]));for(a=O=c;l>=c?l>O:O>l;a=l>=c?++O:--O)switch(null!=(V=u.extras[s][a])?V.fieldType:void 0){case E:case A:case h:case f:u.extras[s][a].value=null!=(G=null!=(W=p[a])?W.value:void 0)?G:n.extras[s].defaultValue;break;case w:u.extras[s][a].value=null!=(z=null!=(Y=p[a])?Y.value:void 0)?z:n.extras[s].defaultValue;break;case v:u.extras[s][a].value=null!=(Q=null!=(K=p[a])?K.value:void 0)?Q:n.extras[s].defaultValue;break;case T:u.extras[s][a].unit=d.tr("min"),t.isEmpty(p)?(u.extras[s][a].isOn=!1,n.extras.timeout.defaultValue>0&&r&&(u.extras[s][a].isOn=!0),u.extras[s][a].value=n.extras.timeout.defaultValue/6e4||0):(u.extras[s][a].value=(null!=(J=p[a])?J.fieldType:void 0)?(null!=(tt=p[a])?tt.value:void 0)||n.extras.timeout.defaultValue/6e4:(null!=(X=p[a])?X.value:void 0)&&0!==p[a].value?p[a].value/6e4:0===(null!=(Z=p[a])?Z.value:void 0)?0:n.extras[s].defaultValue/6e4,u.extras[s][a].isOn=!1,u.extras[s][a].value>0&&(u.extras[s][a].isOn=!0));break;case y:u.extras[s][a].text=null!=(nt=null!=(it=p[a])?it.text:void 0)?nt:n.extras[s].defaultValue}}return u}},_={},Q={},at={},L=function(e){var t,i,r,s,o,a,l,c,u,d,m,p;for(s=void 0,l=0,u=rt.length;u>l;l++)a=rt[l],a.configType===e.config.configType&&(s=a);o=[],m=null!=s?s.inputs:void 0;for(r in m)for(i=m[r],i.fieldType&&o.push(i.fieldType),p=i.capabilities,c=0,d=p.length;d>c;c++)t=p[c],n.call(o,t)>=0||o.push(t);return o},et=function(){var e,t,i,r,s,o,a,l,u,d,m,p;W={},p=[];for(u in z){l=z[u],m=l.inputDevices;for(s in m)if(r=m[s],(null!=l?l.inputDevices:void 0)&&r.type&&(i=!1,"GROUP"!==r.type))if(d=L(l),r.features.temperature&&W.TEMPERATURE&&n.call(d,"TEMPERATURE")>=0)W.TEMPERATURE.count++;else if(r.features.humidity&&W.HUMIDITY&&n.call(d,"HUMIDITY")>=0)W.HUMIDITY.count++;else if(r.features.motion&&W.MOTION&&n.call(d,"MOTION")>=0)W.MOTION.count++;else{for(e in W)if(t=W[e],e===r.type){t.count++,i=!0;break}i||(r.features.temperature&&n.call(d,"TEMPERATURE")>=0?W.TEMPERATURE={icon:c.ICONS.TEMPERATURE,count:1}:r.features.humidity&&n.call(d,"HUMIDITY")>=0?W.HUMIDITY={icon:c.ICONS.HUMIDITY,count:1}:r.features.motion&&n.call(d,"MOTION")>=0?W.MOTION={icon:c.ICONS.MOTION,count:1}:W[r.type]={icon:r.iconClasses,count:1})}p.push(function(){var n,r;n=l.outputDevices,r=[];for(a in n)if(o=n[a],(null!=l?l.outputDevices:void 0)&&o.type&&(i=!1,"GROUP"!==o.type)){for(e in W)if(t=W[e],e===o.type){t.count++,i=!0;break}r.push(i?void 0:W[o.type]={icon:o.iconClasses,count:1})}return r}())}return p},K=function(e,t,n){var i,r,s,o;n.selected=!n.selected,t.selected=!1,s=t.devices,o=[];for(i in s){if(r=s[i],r.selected){t.selected=!0;break}o.push(void 0)}return o},J=function(e,i){var r,s,o,a,l,c,u,m,p,f,v,h,g,y,E;a={id:e.id,description:null!=(f=e.description)?f:d.tr("Select"),show:!0,selected:!1,icon:null!=(v=b[e.fieldType])?v:b.DEVICES,devices:{}};for(s in i)if(o=i[s],t.isEmpty(o.groups))if(e.fieldType&&"DEVICE"!==e.fieldType)if(o.types&&o.types[e.fieldType]){if(l=!0,null!=(h=o.capabilities)?h.values:void 0)for(g=e.capabilities,c=0,m=g.length;m>c;c++)r=g[c],n.call(o.capabilities.values,r)<0&&(l=!1);l&&(a.devices[s]=angular.copy(o))}else(o.type===e.fieldType||o.type==="HUB_"+e.fieldType)&&(a.devices[s]=angular.copy(o));else{if(l=!1,null!=(y=o.capabilities)?y.values:void 0)for(l=!0,E=e.capabilities,u=0,p=E.length;p>u;u++)r=E[u],n.call(o.capabilities.values,r)<0?l=!1:"MOTION"===o.type&&(a.icon=b[r]);l&&(a.devices[s]=angular.copy(o))}return a},X=function(e){var t,n,i,r,s,o,a,l,c,u,d,m,p,f,v,h,y,b,E;C=[],D=[],a=[],y=e.inputs;for(o in y)s=y[o],s.id=o,a.push(s);d=a.sort(function(e,t){return t.displayOrder<e.displayOrder}),u=[],b=e.outputs;for(c in b)l=b[c],l.id=c,u.push(l);for(m=u.sort(function(e,t){return t.displayOrder<e.displayOrder}),r=p=0,v=d.length;v>p;r=++p){switch(s=d[r],s.fieldType){case g.USER:D[r]=J(s,at);break;case g.SCENE:D[r]=J(s,Q);break;default:D[r]=J(s,_)}i=function(){var e,i;e=D[r].devices,i=[];for(t in e)n=e[t],i.push(n);return i}(),0===i.length&&0===e.inputs[D[r].id].minCount?D[r].show=!1:1===i.length&&e.inputs[D[r].id].minCount>0&&K(e,D[r],i[0])}for(E=[],r=f=0,h=m.length;h>f;r=++f){switch(l=m[r],l.fieldType){case g.USER:C[r]=J(l,at);break;case g.SCENE:C[r]=J(l,Q);break;default:C[r]=J(l,_)}i=function(){var e,i;e=C[r].devices,i=[];for(t in e)n=e[t],i.push(n);return i}(),E.push(0===i.length&&0===e.outputs[C[r].id].minCount?C[r].show=!1:1===i.length&&e.outputs[C[r].id].minCount>0?K(e,C[r],i[0]):void 0)}return E},V=function(){return C=[],D=[]},ot=function(){var e;return e="RULE_ON_COMMAND",this.is_on?(this.is_on=!this.is_on,e="RULE_OFF_COMMAND"):this.is_on=!0,G({id:this.id,type:e})},B=function(){return R(this.id)},nt=function(){return a.go("c.home.rules-edit",{ruleId:this.id,sceneId:a.params.sceneId})},tt=function(e){var n,i,r,s,o,a,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C;if(t.isEmpty(e))return{};if(t.isEmpty(_))return{};e.busy=!1,e.inputDevices={},e.outputDevices={},e.inputDevicesNames=[],e.outputDevicesNames=[],w=e.config.inputs;for(r in w){for(i=w[r],c=0,p=i.length;p>c;c++)n=i[c],_[n]&&(e.inputDevices[n]=_[n],e.inputDevicesNames.push(_[n].name));for(u=0,f=i.length;f>u;u++)n=i[u],Q[n]&&(e.inputDevices[n]=Q[n],e.inputDevicesNames.push(Q[n].name));for(d=0,v=i.length;v>d;d++)n=i[d],at[n]&&(e.inputDevices[n]=at[n],e.inputDevicesNames.push(at[n].name))}A=e.config.outputs;for(r in A){for(o=A[r],m=0,h=o.length;h>m;m++)s=o[m],_[s]&&(e.outputDevices[s]=_[s],e.outputDevicesNames.push(_[s].name));for(b=0,g=o.length;g>b;b++)s=o[b],Q[s]&&(e.outputDevices[s]=Q[s],e.outputDevicesNames.push(Q[s].name));for(E=0,y=o.length;y>E;E++)s=o[E],at[s]&&(e.outputDevices[s]=at[s],e.outputDevicesNames.push(at[s].name))}e.toggle=ot,e.select=nt,e.remove=B,e.isOn=e.is_on,e.hasScenes=!t.isEmpty(e.scenes),("ONOFF_RC_RULE"===(S=null!=(T=e.config)?T.configType:void 0)||"SCENE_ON_RC_RULE"===S)&&(e.isHidden=!0),j=e.scenes;for(l in j)a=j[l],null!=(C=Q[l])&&(C.selected=!0);return e},e.$on("HUB_RULES_CHANGED",function(n,r){var s,a,l;if(t.isEmpty(_))return o(function(){return e.$emit("HUB_RULES_CHANGED",{rules:null!=r?r.rules:void 0})},500);if("yes"===(null!=r?r.reset:void 0)&&(z={}),null!=(null!=r?r.rules:void 0)){l=r.rules;for(s in l)a=l[s],s&&a?z[s]=tt(l[s]):s&&z[s]&&delete z[s];return et(),i.info("RulesSrv HUB_RULES_CHANGED ALL",z||null),e.$emit("RULES_LIST_CHANGED")}}),e.$on("HUBS_POLL_STOPPED",function(){return z={},rt=[],e.$emit("RULES_LIST_CHANGED")}),e.$on("HUB_ADDRESS_CHANGED",function(e,t){var n;return n=t.address,st=!1,n?N=n:void 0}),x=function(t){var n,i,r;if("c.home"===(r=a.current.name)||"c.home.connecting"===r||"c.home.preferences"===r||"c.home.devices-add"===r){for(n in z)i=z[n],i&&(z[n]=tt(i));return t&&$(),e.$emit("RULES_LIST_CHANGED")}},e.$on("DEVICES_LIST_CHANGED",function(){return c.list().then(function(e){var n,i,r;r=!1,t.isEmpty(e)||t.size(e)!==t.size(_)&&(r=!0),_=angular.copy(e);for(i in _)n=_[i],n.features.temperature&&(b.TEMPERATURE=c.ICONS.TEMPERATURE),n.features.humidity&&(b.HUMIDITY=c.ICONS.HUMIDITY),n.features.motion&&(b.MOTION=c.ICONS.MOTION),n.features.temperature||n.features.humidity||n.features.motion||b[n.type]||(b[n.type]=n.iconClasses);return x(r)})}),e.$on("LANGUAGE_UPDATED",function(){return x(!0)}),e.$on("USERS_LIST_CHANGED",function(){return p.list().then(function(e){var n;return n=!1,t.isEmpty(e)||t.size(e)!==t.size(at)&&(n=!0),at=angular.copy(e),x(n)})}),e.$on("SCENES_LIST_CHANGED",function(){return u.list().then(function(n){var i,r,s;r=!1,t.isEmpty(n)||t.size(n)!==t.size(Q)&&(r=!0),Q=angular.copy(n);for(i in Q)s=Q[i],s.iconClasses=s.icon;return x(r),e.$emit("RE_READ_SCENES_LIST")})}),{showRecent:void 0,showRecentIcon:void 0,showScenes:!1,selectedTemplate:void 0,controlTypes:["LIGHT","MUSIC"],ICONS:b,FIELDTYPE:g,resetActionsAndConditions:V,isMaxCount:function(e,t,n){var i,r,s,o,a,l;return s=!1,n=n||!1,this.selectedTemplate&&(o=function(){var t,n;t=e.devices,n=[];for(r in t)i=t[r],i.selected&&n.push(i);return n}().length,(null!=(a=this.selectedTemplate[t])&&null!=(l=a[e.id])?l.maxCount:void 0)&&(s=n?o>=this.selectedTemplate[t][e.id].maxCount:o>this.selectedTemplate[t][e.id].maxCount)),s},isMinCount:function(e,t,n){var i,r,s,o,a,l;return s=!1,n=n||!1,this.selectedTemplate&&(o=function(){var t,n;t=e.devices,n=[];for(r in t)i=t[r],i.selected&&n.push(i);return n}().length,(null!=(a=this.selectedTemplate[t])&&null!=(l=a[e.id])?l.minCount:void 0)&&(s=n?o<=this.selectedTemplate[t][e.id].minCount:o<this.selectedTemplate[t][e.id].minCount)),s},toggleDeviceOrSceneOrUserOfConditionOrAction:function(t,n,i){var r,s;return s=!0,i.selected?(this.isMinCount(t,n,!0)&&(r=d.tr("Minimum amount for _name_ not met",{name:t.description}),e.notify(r,status,!1),s=!1),K(this.selectedTemplate,t,i)):(this.isMaxCount(t,n,!0)&&(r=d.tr("Maximum amount for _name_ met",{name:t.description}),e.alert(r,status,!1),s=!1),s&&K(this.selectedTemplate,t,i)),s},testConditionsAndActionsReadiness:function(){var e,t,n,i,r,s,o,a,l,c;if(s=!0,r=!0,i=!0,n=!0,this.selectedTemplate){for(o=0,l=D.length;l>o;o++)t=D[o],s&&r&&(s=!this.isMinCount(t,"inputs"),r=!this.isMaxCount(t,"inputs"));for(a=0,c=C.length;c>a;a++)e=C[a],i&&n&&(i=!this.isMinCount(e,"outputs"),n=!this.isMaxCount(e,"outputs"))}return s&&r&&i&&n},toggleDeviceOrSceneOrUserOfAction:function(e,t){return this.toggleDeviceOrSceneOrUserOfConditionOrAction(e,"outputs",t)},toggleDeviceOrSceneOrUserOfCondition:function(e,t){return this.toggleDeviceOrSceneOrUserOfConditionOrAction(e,"inputs",t)},actions:C,getActions:function(){return C},getDevices:function(){return _},conditions:D,getConditions:function(){return D},configuration:I,getConfiguration:function(){return I},scenes:Q,getScenes:function(){return Q},selectTemplate:function(e,t,n){var i,r,s,o,a,l,c,u,d,m,p,f,v,h,y,b,E,w,A,S,T;if(!e)return void 0;this.selectedTemplate=e,I={},Z(this.selectedTemplate,I,!0),X(this.selectedTemplate);for(c in Q)l=Q[c],Q[c].selected=!1;for(u=0,m=D.length;m>u;u++){r=D[u],a=!1,t&&(null!=(f=r.devices[t.id])&&(f.selected=!0),(null!=(v=r.devices[t.id])?v.selected:void 0)&&(r.selected=!0,a=!0)),n&&a===!1&&(null!=(h=r.devices[n.id])&&(h.selected=!0),(null!=(y=r.devices[n.id])?y.selected:void 0)&&(r.selected=!0)),b=r.devices;for(o in b)s=b[o],s.type===g.SCENE&&(s.selected=!1)}for(T=[],d=0,p=C.length;p>d;d++)i=C[d],a=!1,n&&(null!=(E=i.devices[n.id])&&(E.selected=!0),(null!=(w=i.devices[n.id])?w.selected:void 0)&&(i.selected=!0,a=!0)),t&&a===!1&&(null!=(A=i.devices[t.id])&&(A.selected=!0),(null!=(S=i.devices[t.id])?S.selected:void 0)&&(i.selected=!0)),T.push(function(){var e,t;e=i.devices,t=[];for(o in e)s=e[o],t.push(s.type===g.SCENE?s.selected=!1:void 0);return t}());return T},getDefaultExtras:function(){var e,t,n,i;t={},i=this.selectedTemplate.extras;for(n in i)e=i[n],t[n]=[],t[n].push({type:e.fieldType,value:e.defaultValue||0});return t},selectRule:function(e){var t,n,i,r;if(!e)return void 0;if(t=z[e],!t||!t.config)return void 0;for(i=0,r=rt.length;r>i;i++)n=rt[i],n.configType===t.config.configType&&(this.selectedTemplate=n);return this.selectedTemplate?(Z(this.selectedTemplate,t.config,!1),tt(t),V(),X(this.selectedTemplate),t):void 0},getRules:function(){var e;return e=s.defer(),i.debug("RulesSrv getRules:  Rules from cache: ",z),e.resolve(z),e.promise},getRulesByDeviceInput:function(e,t){var r,o,a,l,c,u,d,m;r=s.defer(),l={};for(u in z)if(c=z[u],d=c.config.configType,n.call(t,d)>=0){m=c.inputDevices;for(a in m)o=m[a],a===e.id&&(l[u]=angular.copy(c))}return i.debug("RulesSrv getRulesByDeviceInput:  Rules fround: ",l),r.resolve(l),r.promise},getDeviceTypesFromRules:function(){return W},getHomeScenes:function(){var e,t,n;n={};for(e in Q)t=Q[e],"FACTORY"===t.category&&(n[e]=t);return n},getFavoriteScenes:function(){var e,t,n;n={};for(e in Q)t=Q[e],"FACTORY"!==t.category&&(n[e]=t);return n},prepareRulesForSave:function(e,t){var n,i,r,s;for(i=[],r=0,s=e.length;s>r;r++)n=e[r],i.push({id:n.id||null,configType:n.config.configType,name:n.config.name,inputs:n.config.inputs,outputs:n.config.outputs,extras:t?M(n.config.extras,t):n.config.extras,type:"CONFIG"});return i},save:function(e){var t,n;return n=s.defer(),i.debug("RulesSrv saveRule: ",e),e?(t={rules:this.prepareRulesForSave([e],this.selectedTemplate),scenes:e.scenes},U(t).then(function(e){return n.resolve(e)},function(e){return n.rejcet(e)})):n.rejected(null),n.promise},saveTemplate:Y,removeTemplate:F,readTemplate:H,readTemplateLog:q,add:function(e){var t,n,r;return n=s.defer(),i.debug("RulesSrv addRule: ",e),r=this.selectedTemplate,r||e?(t={rules:this.prepareRulesForSave([e],this.selectedTemplate),scenes:e.scenes},U(t).then(function(e){return n.resolve(e)},function(e){return n.reject(e)})):n.rejected(null),n.promise},get:function(e){return z[e]},getConditionConfigTypeOfDeviceType:function(e){var t;return null!=(t=O.conditions)[e]?t[e]:t[e]=void 0},getActionConfigTypeOfDeviceType:function(e){var t;return null!=(t=O.actions)[e]?t[e]:t[e]=void 0},getInputTypes:function(){return it},parseTemplates:P,getRuleTemplateInputCapabilities:L,getUserTemplates:function(){var e,t,n,i;for(t=[],n=0,i=rt.length;i>n;n++)e=rt[n],"CUSTOM_RULE"===e.category&&t.push(e);return t},getTemplates:function(e){var r,s,o,a,l,c,u,d,m,p,f,v,h,y,b,E,w,A,S;if(u=[],!t.isEmpty(e)&&!t.isEmpty(rt))for(p=0,y=rt.length;y>p;p++){for(c=rt[p],m=!0,f=0,b=e.length;b>f;f++)if(l=e[f],m&&(l!==g.TIMER||!c.extras.timerElements)){for(d=!1,A=["inputs","outputs"],v=0,E=A.length;E>v;v++){s=A[v],S=c[s];for(o in S)if(a=S[o],l===a.fieldType||n.call(a.capabilities,l)>=0){console.log("Found! "+l),d=!0;break}d||(c[s].devices?("LIGHT"===l||"MEDIA_RENDERER"===l||"POWER_SOCKET"===l)&&(d=!0):c[s].alerters&&"LIGHT"===l&&(d=!0))}d||(m=!1)}if(m)for(h=0,w=u.length;w>h;h++)r=u[h],c.configType===r.configType&&(m=!1);m&&u.push(c)}return i.debug("rulesSrv getTemplates:  templates: ",u),u},selectedButton:void 0,testTemplateInputOrOutputForDevice:function(e,t){var r,s,o,a,l,c,u,d,m,p;if(s=!1,o=!0,(null!=e?e.fieldType:void 0)&&"DEVICE"!==e.fieldType)if(t.types[e.fieldType]){if(e.capabilities)for(d=e.capabilities,a=0,c=d.length;c>a;a++)r=d[a],(null!=(m=t.capabilities)?m.values:void 0)&&n.call(t.capabilities.values,r)<0&&(i.debug("SrvRules testTemplateInputOrOutputForDevice: capability "+r+" not in "+t.name),o=!1)
}else i.debug("SrvRules testTemplateInputOrOutputForDevice: fieldType "+e.fieldType+" not in "+t.name+" ["+t.types+"]"),o=!1;else if(t.capabilities&&(null!=e?e.capabilities:void 0))for(p=e.capabilities,l=0,u=p.length;u>l;l++)r=p[l],t.capabilities.values&&n.call(t.capabilities.values,r)<0&&(i.debug("SrvRules testTemplateInputOrOutputForDevice: capability "+r+" not in "+t.name),o=!1);else o=!1;return o&&(s=!0),s},wizard:function(){},wizardNext:function(){},wizardPrev:function(){}}},angular.module("appSrvs").factory("RulesSrv",["$rootScope","$log","$http","$q","$timeout","$state","ConnectSrv","DevicesSrv","ScenesSrv","i18nSrv","CronSrv","UserSrv",e])}),require.register("rules/srv-helpers.js",function(e,t,n){var i,r,s;i="TIME_DELTA_MS",r=function(e){var t,n,i,r,s,o,a,l;for(i=[],r=0,o=e.length;o>r;r++)if(t=e[r],t.groups&&void 0!==t.groups.id)if("0"!==t.groups.id)i.push(t.groups);else for(l=t.groups.members,s=0,a=l.length;a>s;s++)n=l[s],i.push(n);return i},s=function(e,t,n){var s,o,a,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C;for(h=0,b=n.length;b>h;h++)m=n[h],m.configType===e.configType&&(p=m);if(p){if(c={},p.extras.timerElements)for(c.timerElements=[],A=e.extras.timerElements,g=0,E=A.length;E>g;g++)v=A[g],!(null!=(S=v.timerStart)?S.days:void 0)||v.timerStart.days.length<1?v.cronDef=void 0:(!(null!=(T=v.timerStop)?T.days:void 0)||(null!=(j=v.timerStop)?j.days.length:void 0)<1)&&(v.cronDef.stop=void 0),c.timerElements.push({cronDef:v.cronDef,type:v.fieldType});if(p.extras.timeout)for(c.timeout=[],l=0,C=e.extras.timeout,y=0,w=C.length;w>y;y++)f=C[y],f.fieldType===i&&f.isOn&&(l=6e4*f.value,l<f.minValue&&(l=f.minValue),l>f.maxValue&&(l=f.maxValue)),c.timeout.push({type:f.fieldType,value:l});return u={},p.inputs.motions?(a=r(e.inputs),u.motions=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push(o.id);return n}()):p.inputs.speakers&&(a=r(e.inputs),u.speakers=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push(o.id);return n}()),d={},p.outputs.lights&&(a=r(e.outputs),d.lights=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push({id:o.id,type:"CMD_"+o.type,state:o.state});return n}()),p.outputs.speakers?(a=r(e.outputs),d.speakers=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push({id:o.id,type:"CMD_AV_PLAY_TRACK",state:o.state});return n}()):p.outputs.switches&&(a=r(e.outputs),d.switches=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push({id:o.id,type:"CMD_"+o.type,state:o.state});return n}()),s={config:{id:e.id||null,configType:p.configType,name:e.name,inputs:u,outputs:d,extras:c,type:"CONFIG"},sceneIds:t}}},n.exports={getDevices:r,makeConfigurationData:s}}),require.register("connection/srv-mock-polls.js",function(){}),require.register("connection/template-connecting.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div ng-if="ui.showList" class="small-12 columns lighter-background"><div class="row t-margin-XS"><div class="small-7 name columns"><label class="top secondary">{{\'HUB\'|tr}}</label></div><div class="small-5 name columns end"><label class="top secondary">{{\'ROLE\'|tr}}</label></div></div><div class="row simple-list action-list t-margin-XS"><div ng-repeat="hub in hubs" ng-class="{selected:hub.id == selectedHub.id, blink: hub.busy}" class="small-12 columns"><a co-tap="selectHub(hub)" class="row valign-middle action-header"><div class="small-2 name columns"><i ng-if="hub.connState!=undefined &amp;&amp; (hub.connState == HUB_STATE.LOCAL_UNCLAIMED || hub.connState != HUB_STATE.REMOTE &amp;&amp; hub.connState != HUB_STATE.NO_CONN)" class="con"><div class="icon icon-hub"></div></i><i ng-if="hub.connState==undefined || hub.connState == HUB_STATE.REMOTE" class="con"><div class="icon icon-hub-remote"></div></i><i ng-if="hub.connState == HUB_STATE.NO_CONN" class="con"><div class="icon icon-clear-values"></div></i></div><div class="small-5 name columns"><div class="icon-center-line"><span class="text">{{hub.name}}</span></div></div><div class="small-3 name columns"><span ng-if="hub.connState!=0" class="icon-center-line"><div class="label"> {{hub.roleName}}</div></span><span ng-if="hub.connState==0" class="icon-center-line explanation">{{\'New\' |tr}}!</span></div><div ng-if="hub.connState!=HUB_STATE.NO_CONN&amp;&amp;hub.connState!=HUB_STATE.LOCAL_NO_ACCESS" class="small-2 columns text-right link-color"><i class="con"><div class="icon icon-cornerarrow"></div></i></div><div ng-if="hub.connState==HUB_STATE.LOCAL_NO_ACCESS" class="small-2 columns text-center lr-padding-0"><span class="icon-center-line explanation">{{\'No access\'|tr}}</span></div><div ng-if="hub.connState==HUB_STATE.NO_CONN" class="small-2 columns text-center lr-padding-0"><span>&nbsp;</span></div></a></div><div ng-if="hubs.length&lt;1" class="small-10 small-centered medium-6 medium-centered columns end text-center t-margin-S">{{\'No hub found - are you connected to correct network?\'|tr}}</div></div></div><div ng-if="ui.showList" class="small-12 columns"><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button ng-if="hubs.length&lt;1" type="button" co-tap="reConnect()" class="full-width"><i class="con button"><i class="icon icon-refresh"></i></i><div class="inline">{{\'SEARCH HUB\'|tr}}</div></button><button ng-if="hubs.length&gt;0" type="button" co-tap="reConnect()" class="full-width"><i class="con button"><i class="icon icon-refresh"></i></i><div class="inline">{{\'REFRESH LIST\'|tr}}</div></button></div></div></div><hr ng-if="ui.showList"/><div ng-if="ui.showList" class="small-12 columns"><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><button type="button" co-tap="logout()" class="full-width">{{\'LOGOUT\'|tr}}</button></div></div></div><div ng-if="!ui.showList" class="small-12 columns"><div class="row"><a ng-tap="ui.showList = true" class="block row t-margin-XL"><div class="small-8 small-centered columns end text-center"><i ng-if="selectedLanguage==&quot;en&quot;" class="icon icon-cozifyen big"></i><i ng-if="selectedLanguage==&quot;fi&quot;" class="icon icon-cozifyfi big"></i><div class="spinner top-logo size200"></div></div></a></div></div></form>'),e.join("")}}),require.register("connection/template-claim.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end">{{\'Register HUB _name_ ?\' | tr : \'name\': selectedHub.name}}</div></div><div class="row t-margin-M"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="claimingAccepted()" class="full-width bottom">{{\'DONE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("connection/template-timezone.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal"><div class="content"><div class="row t-margin-L"><div class="small-12 small-centered medium-6 medium-centered text-center columns end"><label class="top text-center">{{\'Search capitals\'|tr}}</label></div><div class="small-12 small-centered medium-6 medium-centered text-center columns end"><input type="text" required="required" ng-model="searchTimeZone" placeholder=" {{&quot;City&quot;|tr}}" class="text-center"/></div></div><div ng-if="searchTimeZone.length&gt;1" class="row t-margin-XS"><div class="small-12 columns"><h3 class="dark-font">{{\'SELECT\'|tr}}</h3></div></div><div ng-if="searchTimeZone.length&gt;1" class="row"><div ng-repeat="zone in ui.timeZones | filter:searchTimeZone" class="small-12 columns"><a co-tap="selectTimeZone(zone)" class="row valign-middle action-header"><div class="small-10 name columns text-left"><div class="icon-center-line">{{zone}}</div></div><div class="small-2 columns text-center link-color"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div></form>'),e.join("")}}),require.register("connection/template-zigbee.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal"><div class="content"><div class="row t-margin-S">&nbsp;</div><div class="row t-margin-L"><div class="small-4 columns"><label class="top right inline text-left">{{\'Status\'|tr}}</label></div><div class="small-8 columns"><label ng-if="ui.zigbeeStatus.hasNetwork" class="top right inline text-left">{{\'OK\'|tr}}</label><label ng-if="!ui.zigbeeStatus.hasNetwork||!ui.zigbeeStatus.connected" class="top right inline text-left">{{\'Failure\'|tr}}</label></div></div><div ng-if="ui.zigbeeStatus.hasNetwork&amp;&amp;ui.zigbeeStatus.connected" class="row"><div class="small-4 columns"><label class="top right inline text-left">{{\'Zigbee channel\'|tr}}</label></div><div class="small-8 columns"><select ng-model="ui.zigbeeStatus.channel" convert-to-number="convert-to-number" ng-change="setZigbeeChannel()"><option>11</option><option>12</option><option>13</option><option>14</option><option>15</option><option>16</option><option>17</option><option>18</option><option>19</option><option>20</option><option>21</option><option>22</option><option>23</option><option>24</option><option>25</option><option>26</option></select></div></div><div ng-if="ui.zigbeeStatus.hasNetwork&amp;&amp;ui.zigbeeStatus.connected" class="row"><div class="small-4 columns"><label class="top right inline text-left">{{\'Zigbee power\'|tr}}</label></div><div class="small-8 columns"><select ng-model="ui.zigbeeStatus.power" convert-to-number="convert-to-number" ng-change="setZigbeePower()"><option value="3">{{\'Normal\'|tr}}</option><option value="6">{{\'Increased\'|tr}}</option><option value="8">{{\'High\'|tr}}</option></select></div></div><div class="row"><div class="small-4 columns"><label class="top right inline text-left">{{\'Firmware\'|tr}}</label></div><div class="small-8 columns"><label class="top right inline text-left">{{ui.zigbeeStatus.firmware}}</label></div></div></div></form>'),e.join("")}}),require.register("connection/template-appstore.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><h2>{{\'Load new application\'|tr}}</h2></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><p>{{\'HUB version _version1_ is too new for your application _version2_\' |tr :  \'version1\': ui.HUBVersion :  \'version2\':ui.UIVersion}}</p></div></div><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="appStoreOk()" class="full-width bottom">{{\'OK\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("connection/template-access.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><h2 ng-if="selectedHub.name">{{\'Ask access for this HUB _hub_?\' |tr  : \'hub\': selectedHub.name}}</h2></div><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><p>{{\'Wait wait until admin accepts your access\'|tr}}</p></div></div><div class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="askAccess()" class="full-width bottom">{{\'OK\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("connection/template-login.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div ng-if="ui.mode==&quot;email&quot; " class="small-10 small-centered medium-6 medium-centered text-center columns end">{{\'Login with email\'|tr}}</div><div ng-if="ui.mode==&quot;code&quot; " class="small-10 small-centered medium-6 medium-centered text-center columns end">{{\'Login by activation code sent to your email _email_\'|tr : \'email\': ui.mailSent }}</div></div><div class="row t-margin-S"><div ng-if="ui.mode==&quot;email&quot; " class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="email" required="required" ng-model="ui.email" placeholder="email.address@domain.com" class="text-center"/><small ng-if="ui.mailSuggestion" class="error">{{\'Did you mean\'|tr}} {{ui.mailSuggestion}} ?</small></div><div ng-if="ui.mode==&quot;code&quot; " class="small-10 small-centered medium-6 medium-centered text-center columns end"><input type="text" minlength="6" maxlength="6" size="6" ng-model="ui.activationCode" reguired="reguired" class="upper-case text-center"/></div></div><div ng-if="ui.mode==&quot;email&quot; " class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="emailDone()" class="full-width bottom">{{\'DONE\'|tr}}</button></div></div><div ng-if="ui.mode==&quot;code&quot; " class="row t-margin-S"><div class="small-10 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="loginDone()" class="full-width bottom">{{\'DONE\'|tr}}</button></div></div></div></form>'),e.join("")}}),require.register("connection/index.js",function(e,t){var n;t("./srv-connect"),t("./srv-connection-state"),n=t("./ctrl-connection"),angular.module("appCtrls").controller("ConnectionCtrl",["$rootScope","$scope","$timeout","$log","$state","i18nSrv","Mailcheck","PreferencesSrv","ConnectSrv","ConnectionState",n])}),require.register("connection/ctrl-connection.js",function(e,t,n){var i;i=window.lodash,n.exports=function(e,t,n,r,s,o,a,l,c,u){var d,m,p,f,v,h,g,y,b,E;if(t.hubs=[],t.ui={email:s.params.email||localStorage.getItem("email")||void 0,mailSent:void 0,activationCode:s.params.code||void 0,pinCode:void 0,mode:"email",message:void 0,HUBName:null!=(g=e.selectedHub)?g.name:void 0,HUBZone:void 0,timeZones:[],zigbeeStatus:{channel:15,power:3,connected:!1,firmware:"0.0.0.0",hasNetwork:void 0},showList:!1,HUBVersion:void 0,UIVersion:void 0},t.HUB_STATE=u.HUB_STATE,c.getUIVersion().then(function(e){return t.ui.UIVersion=e}),b=function(){var n;return n=function(n){return t.ui.HUBVersion=n,t.ui.HUBVersion>="0.3"?t.ui.HUBZone||c.getTimeZone().then(function(n){return t.ui.HUBZone=n,e.features.isTimeZone=!0}):e.features.isTimeZone=!1,t.ui.HUBVersion>="0.4"?t.ui.zigbeeStatus.hasNetwork||(e.features.isZigbeeSettings=!0,e.features.isAdvancedSettings=!0,c.getZigbeeStatus().then(function(e){return e.hasNetwork?(t.ui.zigbeeStatus=e,t.ui.zigbeeStatus.orgChannel=e.channel):void 0})):(e.features.isAdvancedSettings=!1,e.features.isZigbeeSettings=!1),e.features.isRooms=t.ui.HUBVersion>="0.7"?!0:!1},"c.home.appstore"===s.current.name?u.getHUBVersion(!0).then(n):u.getHUBVersion().then(n)},b(),t.showTimeZones=function(){return t.ui.HUBVersion>="0.3"?c.getTimeZones().then(function(n){return e.showModal("TimeZone","Select Timezone"),t.ui.timeZones=n}):void 0},t.selectTimeZone=function(n){return c.setTimeZone(n).then(function(){return t.ui.HUBZone=n,e.closeModal()})},t.selectHub=function(e){return e.id?(u.selectHub(e.id),b()):void 0},t.showZigbeeSettings=function(){return t.ui.HUBVersion>="0.4"?e.showModal("ZigbeeSettings","Connection settings of Zigbee"):void 0},t.setZigbeeChannel=function(){var n;return t.ui.zigbeeStatus.orgChannel,n=o.tr("Are you sure to change channel?"),e.modalConfirm(n,function(n){return n?c.setZigbeeChannel(t.ui.zigbeeStatus.channel).then(function(){return e.notify("Zigbee settings changed",!0)}):t.ui.zigbeeStatus.channel=t.ui.zigbeeStatus.orgChannel})},t.setZigbeePower=function(){return c.setZigbeePower(t.ui.zigbeeStatus.power).then(function(){return e.notify("Zigbee settings changed",!0)})},t.logout=c.logout,t.appStoreOk=function(){var t,n;t="http://www.cozify.fi/pages/support","en"===e.selectedLanguage&&(t="http://shop.cozify.fi/pages/support"),navigator.userAgent.match(/iPod|iPhone|iPad/)?t="https://itunes.apple.com/fi/app/cozify/id912778880?mt=8":navigator.userAgent.match(/IEMobile/)?t="http://www.windowsphone.com/s?appid=bb1b69c5-caab-4670-969e-443f38a1bfe7":navigator.userAgent.match(/Android/)&&(t="https://play.google.com/store/apps/details?id=fi.cozify.app");try{window.open(t,"_system","location=yes,toolbar=yes")}catch(i){n=i,r.warn("forum link may failed")}return e.gotoHUBSelection(),!1},t.reConnect=function(){return e.$emit("HUBS_LIST_REQUESTED")},t.nameHUBOk=function(){return c.renameHub(t.ui.HUBName).then(function(){return e.$emit("HUBS_LIST_REQUESTED"),e.notify("Hub name changed",!0)})},t.resetView=function(){return e.$emit("HEADER_PAGE",{show:!0,title:o.tr("Welcome"),mode:"modal-kind",previous:"-"}),t.ui.email=s.params.email||localStorage.getItem("email")||void 0,t.ui.mailSent=void 0,t.ui.activationCode=void 0,t.ui.pinCode=void 0,t.ui.mode="email"},E=function(e){var n,i,r;n=[];for(r in e)i=e[r],n.push(i);return t.hubs=n,t.ui.showList=!0},y=function(){return t.ui.email&&t.ui.mailSent!==t.ui.email?(t.ui.mailSuggestion=void 0,t.ui.mailSuggested=void 0,t.ui.mailSent=t.ui.email,c.requestEmailLogin(t.ui.email).then(function(){return e.$emit("HEADER_PAGE",{show:!0,title:o.tr("Welcome"),mode:"modal-kind",previous:t.resetView}),t.ui.mode="code",e.notify("Activation mail sent",!0)})):void 0},t.askAccess=function(){return c.askAccess(e.selectedHub).then(function(){return r.info("ConnectionCtrl askAccess(): Ok"),e.gotoHUBSelection(),e.$emit("HUBS_LIST_REQUESTED")},function(){return r.info("ConnectionCtrl askAccess(): Failed"),e.gotoHUBSelection(),e.$emit("HUBS_LIST_REQUESTED")})},t.emailDone=function(){return t.ui.email?t.ui.mailSuggestion?t.ui.email===t.ui.mailSuggested||t.ui.email===t.ui.mailSuggestion?y():(t.ui.mailSuggestion=void 0,t.ui.mailSuggested=void 0,t.emailDone()):a.run({email:t.ui.email,suggested:function(e){return t.ui.mailSuggestion=e.full,t.ui.mailSuggested=t.ui.email},empty:function(){return y()}}):e.alert("Invalid activation code or email",null,!0)},t.loginDone=function(){return t.ui.activationCode=t.ui.activationCode.toUpperCase(),t.ui.email===t.ui.mailSent||t.ui.activationCode?t.ui.activationCode&&t.ui.email?void c.login(t.ui.email,t.ui.activationCode).then(function(){return r.info("ConnectionCtrl loginDone(): Logged in")},function(){return r.info("ConnectionCtrl loginDone(): Login failed"),t.ui.email=s.params.email||localStorage.getItem("email")||void 0,t.ui.mailSent=void 0,t.ui.activationCode=void 0,t.ui.mode="email"}):(t.ui.activationCode||e.alert("Invalid activation code or email",null,!0),t.ui.mailSuggestion=void 0,t.ui.mailSuggested=void 0):void t.emailDone()},t.claimingAccepted=function(){return c.claimHub(t.ui.email,e.selectedHub).then(function(){return r.info("ConnectionCtrl claimingAccepted(): Ok"),e.gotoHUBSelection(),e.$emit("HUBS_LIST_REQUESTED")},function(){return r.info("ConnectionCtrl claimingAccepted(): Failed"),e.gotoHUBSelection(),e.$emit("HUBS_LIST_REQUESTED")})},f=sessionStorage.getItem("startwith"),f&&"voice"===f)r.debug("connectSrv startWith VOICE ",f),sessionStorage.setItem("startwith",null),n(function(){return e.recognizeSpeech()},2e3);else if(f&&f.indexOf(!0)&&(r.debug("connectSrv startWith ACTIVATE ",f),p=f.split("/"),3===p.length))return m=p[1]||void 0,d=p[2]||void 0,sessionStorage.setItem("startWith",null),void c.login(m,d).then(function(){return r.info("ConnectionCtrl startwith loginDone(): Logged in")},function(e){return r.info("ConnectionCtrl startwith loginDone(): Login failed: ",e),t.ui.email=s.params.email||localStorage.getItem("email")||void 0,t.ui.mailSent=void 0,t.ui.activationCode=void 0,t.ui.mode="email"});return"c.home.connecting"===s.$current.name&&u.state===u.STATE_LIST_HUBS&&n(function(){return t.ui.showList?void 0:t.reConnect()},3e3),h=e.$on("SHOW_HUBS_LIST",function(e,t){var n,s,o,a;o=null!=t?t.hubs:void 0,a={};for(s in o)n=o[s],a[s]=i.omit(n,"hubKey");return r.debug("ConnectionCtrl SHOW_HUBS_LIST: knownHubs",a),E(o)}),v=e.$on("UI_READY",function(){return b()}),t.$on("$destroy",function(){return r.debug("ConnectionCtrl: $destroy call"),h(),v()})}}),require.register("connection/srv-helpers.js",function(e,t,n){var i,r,s,o;o=["Admin","User","Guest","Anonymous"],i="/cc/0.1",r="0.7",s="/cc/"+r,n.exports={roleNames:o,CLOUD_URL_1:"https://cloud.cozify.fi/cc/0.0/",CLOUD_URL:"https://cloud2.cozify.fi"+i+"/",PROTOCOL:"http://",PORT:"8893",HUB_API_VERSION:s,HUB_MIN_API_VERSION:"0.1.000",HUB_MAX_API_VERSION:r,getHUB:function(){var e,t;if(t=localStorage.getItem("selectedHub"))try{t=JSON.parse(t),t.id&&(t=t)}catch(n){e=n,t=void 0}return t},roleNameOf:function(e,t){switch(t){case 32:return e.tr(o[0]);case 8:return e.tr(o[1]);case 2:return e.tr(o[2]);default:return e.tr(o[3])}},roleNumberOf:function(e,t){var n;return n=1,t===e.tr(o[0])?n=32:t===e.tr(o[1])?n=8:t===e.tr(o[2])&&(n=2),n},urlBase64Decode:function(e){var t,n,i;switch(n=e.replace("-","+").replace("_","/"),n.length%4){case 0:case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}i={};try{i=window.atob(e)}catch(r){t=r,i=window.atob(n)}return i},isWifi:function(){var e,t;return"undefined"==typeof Connection||null===Connection?!0:("undefined"!=typeof Connection&&null!==Connection?Connection.WIFI:void 0)&&!("undefined"!=typeof navigator&&null!==navigator?navigator.connection:void 0)||("undefined"!=typeof navigator&&null!==navigator&&null!=(e=navigator.connection)?e.type:void 0)&&("undefined"!=typeof navigator&&null!==navigator&&null!=(t=navigator.connection)?t.type:void 0)===Connection.WIFI},getAPIversion:function(e){var t,n,i;return i="0.0",t=e.indexOf("."),n=-1,-1!==t&&(n=e.indexOf(".",++t)),-1!==n&&(i=e.slice(0,n)),i>r&&(i=r),i},setPollMaps:function(e,t,n){var i,r,s,o,a,l,c;for("undefined"!=typeof dump&&null!==dump&&dump("POLL: ",t),o="no",0===n&&(o="yes"),c=[],a=0,l=t.length;l>a;a++)if(r=t[a],null!=r?r.type:void 0)switch(r.type){case"DEVICE_DELTA":c.push(e.$emit("HUB_DEVICES_CHANGED",{devices:r.devices,reset:o}));break;case"GROUP_DELTA":c.push(e.$emit("HUB_GROUPS_CHANGED",{groups:r.groups,reset:o}));break;case"SCENE_DELTA":c.push(e.$emit("HUB_SCENES_CHANGED",{scenes:r.scenes,reset:o}));break;case"RULE_DELTA":c.push(e.$emit("HUB_RULES_CHANGED",{rules:r.rules,reset:o}));break;case"USER_DELTA":c.push(e.$emit("HUB_USERS_CHANGED",{zones:r.users,reset:o}));break;case"ZONE_DELTA":c.push(e.$emit("HUB_ZONE_CHANGED",{users:r.zones,reset:o}));break;case"ROOM_DELTA":c.push(e.$emit("HUB_ROOMS_CHANGED",{rooms:r.rooms,reset:o}));break;case"ALERT_DELTA":c.push(function(){var t,n;t=r.alerts,n=[];for(s in t)i=t[s],i(i),n.push(e.alert(i));return n}());break;default:c.push(void 0)}else c.push(void 0);return c}}}),require.register("connection/srv-connection-state.js",function(e,t){var n,i,r,s,o,a,l,c,u,d,m,p,f,v=function(e,t){return function(){return e.apply(t,arguments)}};a=window.lodash,s=t("./srv-helpers"),o=localStorage.getItem("selectedHUBPollTime"),("null"===o||"undefined"===o)&&(o=void 0),o&&(o=1*o),d="undefined"==typeof Connection||null===Connection?o||1e3:("undefined"!=typeof Connection&&null!==Connection?Connection.WIFI:void 0)&&!("undefined"!=typeof navigator&&null!==navigator&&null!=(p=navigator.connection)?p.type:void 0)||("undefined"!=typeof navigator&&null!==navigator&&null!=(f=navigator.connection)?f.type:void 0)===("undefined"!=typeof Connection&&null!==Connection?Connection.WIFI:void 0)?navigator.userAgent.match(/IEMobile/)?o||2e3:o||1e3:navigator.userAgent.match(/IEMobile/)?o||3e3:o||2e3,m=2*d,l=d,u=4,c=u*l,i={TOO_NEW_HUB:-3,NO_CONN:-2,LOCAL_NO_ACCESS:-1,LOCAL_UNCLAIMED:0,REMOTE:1,LOCAL:2},r=function(){function e(){}return e.id=void 0,e.name=void 0,e.hubKey=void 0,e.url=void 0,e.connState=void 0,e}(),n=function(){function e(e,t,n,i,r,s,o,a,l){this.$rootScope=e,this.$timeout=t,this.$log=n,this.$interval=i,this.$http=r,this.$q=s,this.$state=o,this.ConnectSrv=a,this.i18nSrv=l,this.listenBonjour=v(this.listenBonjour,this),this.remoteHubFound=v(this.remoteHubFound,this),this.localHubFound=v(this.localHubFound,this),this.connectionLostInPolling=v(this.connectionLostInPolling,this),this.connectionLostInConnecting=v(this.connectionLostInConnecting,this),this.doClaimHub=v(this.doClaimHub,this),this.STATE_SET_LANGUAGE="SET_LANGUAGE",this.STATE_LOGGED_OUT="LOGGED_OUT",this.STATE_LIST_HUBS="LIST_HUBS",this.STATE_CONNECTING_HUB="CONNECT_HUB",this.STATE_CONNECTED_REMOTE="CONNECTED_REMOTE",this.STATE_CONNECTED_LOCAL="CONNECTED:LOCAL",this.STATE_CLAIMING_HUB="CLAIMING_HUB",this.STATE_ASKING_ACCESS="ASKING_ACCESS",this.STATE_UPDATING_UI="UPDATING_UI",this.selectedHub=void 0,this.hubs={},this.bonjourInterval=void 0,this.polling=void 0,this.lastPollTime=void 0,this.pollRetryCnt=0,this.bonjourOn=!1,this.bonjourTime=void 0,this.setState(this.STATE_SET_LANGUAGE),this.$rootScope.$on("LOGGED_IN",function(e){return function(){return e.showConnectingView(),e.doLogin()}}(this)),this.$rootScope.$on("HUBS_LIST_REQUESTED",function(e){return function(){return e.doListHubs()}}(this)),this.$rootScope.$on("HUBS_SELECTION_REQUESTED",function(e){return function(t,n){var i;return i=null!=n?n.hubId:void 0,e.$log.info("HUBS_SELECTION_REQUESTED ",i),i?e.selectHub(i):void 0}}(this)),this.$rootScope.$on("HUB_POLL_RELOAD_REQUEST",function(e){return function(){return e.lastPollTime=0}}(this)),this.$rootScope.$on("LANGUAGE_SET",function(e){return function(){return e.state===e.STATE_SET_LANGUAGE?e.setState(e.STATE_LOGGED_OUT):void 0}}(this)),this.$rootScope.$on("SHOW_VERSION_UPDATE",function(e){return function(){return e.doUpdateUI(),e.selectedHub=void 0,localStorage.setItem("selectedHub",null),e.doListHubs()}}(this))}return e.prototype.HUB_STATE=i,e.prototype.CLOUD_URL=s.CLOUD_URL,e.prototype.getPollTime=function(){return l},e.prototype.setState=function(e){switch(this.$log.debug("connectionStateSrv: setState() - newState ",e),this.stopBonjour(),this.stopPolling(),this.stopKeyPolling(),this.state=e,e){case this.STATE_SET_LANGUAGE:return this.doLanguage();case this.STATE_LOGGED_OUT:return this.doLogin();case this.STATE_LIST_HUBS:return this.doListHubs();case this.STATE_CONNECTING_HUB:return this.doConnectHub();case this.STATE_CLAIMING_HUB:return this.doClaimHub();case this.STATE_UPDATING_UI:return this.doUpdateUI();case this.STATE_ASKING_ACCESS:return this.doAskAccess();case this.STATE_CONNECTED_REMOTE:return this.doConnectedRemote();case this.STATE_CONNECTED_LOCAL:return this.doConnectedLocal()}},e.prototype.doLanguage=function(){var e,t;return e=localStorage.getItem("languageSet"),(null===e||"null"===e||"false"===e||a.isEmpty(e))&&(e=!1),t=this.i18nSrv.tr("Establish connection"),e===!1&&(t=this.i18nSrv.tr("Welcome")),this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:t,mode:"modal-kind",previous:"-"}),e===!1?(this.$state.go("c.home.welcome"),t=this.i18nSrv.tr("Welcome")):this.setState(this.STATE_LOGGED_OUT)},e.prototype.doLogin=function(){var e,t;if(this.hubs={},this.selectedHub=void 0,this.userToken=localStorage.getItem("userToken"),("undefined"===this.userToken||"null"===this.userToken)&&(this.userToken=void 0),this.userToken)try{this.user=JSON.parse(s.urlBase64Decode(this.userToken.split(".")[1]))}catch(n){e=n,this.user=void 0,this.$log.error("connectionStateSrv: doLogin() - Invalid user token ",this.userToken)}return(null!=(t=this.user)?t.user_id:void 0)?this.loggedIn():this.showLoginView()},e.prototype.loggedIn=function(){var e,t,n;if(this.selectedHub=this.getHUB(),n=localStorage.getItem("hubs")){this.hubs={};try{t=JSON.parse(n),t&&(this.hubs=t)}catch(r){e=r,this.$log.error("connectionStateSrv: loggedIn() - Invalid hubs token ")}}return this.$rootScope.$emit("START_LOGGED_IN_SERVICES"),null!=this.selectedHub?(this.selectedHub.connState===i.TOO_NEW_HUB&&(this.selectedHub.connState=i.REMOTE),this.setState(this.STATE_CONNECTING_HUB)):this.setState(this.STATE_LIST_HUBS)},e.prototype.doListHubs=function(){return this.hubs&&this.$rootScope.$emit("SHOW_HUBS_LIST",{hubs:this.hubs}),this.queryHubKeys().then(function(e){return function(t){return e.listHubKeys(t),e.startBonjour(2e3,e.localHubFound),e.doCloudDiscovery(e.localHubFound,!0)}}(this),function(e){return function(t){return 401===t?e.setState(e.STATE_LOGGED_OUT):(e.startBonjour(2e3,e.localHubFound),e.doCloudDiscovery(e.localHubFound,!0))}}(this))},e.prototype.doConnectHub=function(){var e,t;return this.$rootScope.setSelectedHub(this.selectedHub),this.$log.info("connectionStateSrv: doConnectHub() - selectedHub id",null!=(t=this.selectedHub)?t.id:void 0),e=s.CLOUD_URL+"hub/remote",null==this.selectedHub?void this.setState(this.STATE_LIST_HUBS):(this.$log.info("connectionStateSrv: doConnectHub() - selectedHub connState",this.selectedHub.connState),this.selectedHub.connState===i.NO_CONN?void this.setState(this.STATE_LIST_HUBS):this.selectedHub.connState===i.TOO_NEW_HUB?void this.setState(this.STATE_UPDATING_UI):this.selectedHub.connState===i.LOCAL_NO_ACCESS?void this.setState(this.STATE_ASKING_ACCESS):this.selectedHub.connState===i.LOCAL_UNCLAIMED?void this.setState(this.STATE_CLAIMING_HUB):this.selectedHub.connState===i.LOCAL?void this.setState(this.STATE_CONNECTED_LOCAL):this.selectedHub.connState===i.REMOTE?(this.doIdQuery(e).then(this.remoteHubFound,this.connectionLostInConnecting),void this.setState(this.STATE_CONNECTED_REMOTE)):(this.startBonjour(1e3,this.localHubFound),this.doCloudDiscovery(this.localHubFound(!1)),this.doIdQuery(e).then(this.remoteHubFound,this.connectionLostInConnecting)))},e.prototype.doClaimHub=function(){return"c.home.claim"!==this.$state.current.name?(this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:this.i18nSrv.tr("Register"),mode:"modal-kind",previous:function(e){return function(){return e.setState(e.STATE_LIST_HUBS),e.$rootScope.gotoHUBSelection()}}(this)}),this.$rootScope.offcanvas=!0,this.$state.go("c.home.claim")):void 0},e.prototype.doUpdateUI=function(){return"c.home.appstore"!==this.$state.current.name?(this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:this.i18nSrv.tr("Check application version"),mode:"modal-kind",previous:function(e){return function(){return e.$rootScope.gotoHUBSelection()}}(this)}),this.$rootScope.offcanvas=!0,this.$state.go("c.home.appstore")):void 0},e.prototype.doAskAccess=function(){return"c.home.access"!==this.$state.current.name?(this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:this.i18nSrv.tr("Establish connection"),mode:"modal-kind",previous:function(e){return function(){return e.setState(e.STATE_LIST_HUBS),e.$rootScope.gotoHUBSelection()}}(this)}),this.$rootScope.offcanvas=!0,this.$state.go("c.home.access")):void 0},e.prototype.doConnectedRemote=function(){var e;return(null!=(e=this.selectedHub)?e.id:void 0)&&this.hubs&&(this.selectedHub=a.extend(this.selectedHub,this.hubs[this.selectedHub.id]),this.hubs[this.selectedHub.id]=this.selectedHub,localStorage.setItem("hubs",JSON.stringify(this.hubs))),this.$rootScope.setSelectedHub(this.selectedHub),this.startBonjour(1e4,this.localHubFound),this.doCloudDiscovery(this.localHubFound,!1),l=m,c=u*l,this.startPolling(),this.startKeyPolling(),this.$timeout(function(e){return function(){return e.$rootScope.noSwipe=!1,e.$rootScope.offcanvas&&(e.$rootScope.offcanvas=!1),e.$state.go("c.home"),e.$rootScope.$emit("UI_READY")}}(this),50)},e.prototype.doConnectedLocal=function(){return this.$rootScope.setSelectedHub(this.selectedHub),this.hubs[this.selectedHub.id]=this.selectedHub,localStorage.setItem("hubs",JSON.stringify(this.hubs)),l=d,c=u*l,this.startPolling(),this.startKeyPolling(),this.$timeout(function(e){return function(){return e.$rootScope.noSwipe=!1,e.$rootScope.offcanvas&&(e.$rootScope.offcanvas=!1),e.$state.go("c.home"),e.$rootScope.$emit("UI_READY")}}(this),50)},e.prototype.selectHub=function(e){var t;return t=this.hubs[e],null!=t?(this.selectedHub=t,this.setState(this.STATE_CONNECTING_HUB)):(this.$rootScope.alert("Invalid HUB address",status,!0),this.$log.debug("connectionStateSrv: selectHub() - invalid hub selected ",e))},e.prototype.connectionLostInConnecting=function(e){return this.selectedHub&&this.state===this.STATE_CONNECTING_HUB?(403===e&&this.selectedHub.role<8?(this.$rootScope.notify("Visitor has no remote access rights",!0),this.selectedHub.connState=i.LOCAL_NO_ACCESS):401===e?(this.$rootScope.notify("No access rights",!0),this.selectedHub.connState=i.LOCAL_NO_ACCESS):(this.selectedHub.connState=i.NO_CONN,this.$rootScope.alert("HUB connection failed",status,!0)),this.$rootScope.$emit("SHOW_HUBS_LIST",{hubs:this.hubs})):void 0
},e.prototype.connectionLostInPolling=function(e){return null!=this.selectedHub?(this.selectedHub.connState=i.NO_CONN,302===e?(this.selectedHub.connState=void 0,void this.setState(this.STATE_CONNECTING_HUB)):(400===e?this.$rootScope.alert("Invalid HUB address",status,!0):500===e&&this.$rootScope.alert("HUB connection failed",status,!0),this.setState(this.STATE_LIST_HUBS),this.$rootScope.gotoHUBSelection())):void 0},e.prototype.queryHubKeys=function(){var e,t;return t=this.$q.defer(),e={},this.$http({method:"GET",url:s.CLOUD_URL+"user/hubkeys",timeout:5e3}).success(function(e){return function(n){return e.$log.debug("connectionStateSrv: queryHubKeys() - Ok "),t.resolve(n)}}(this)).error(function(e){return function(n,i){return 401===i?t.reject(i):(e.$log.error("connectionStateSrv: queryHubKeys() - Error #{status}, status: ",i),t.reject(i))}}(this)),t.promise},e.prototype.listHubKeys=function(e){var t,n,i,o;this.hubs={};for(i in e)n=e[i],o=JSON.parse(s.urlBase64Decode(n.split(".")[1])),t=new r,t.id=o.hubId||o.hub_id,t.name=o.hubName||o.hub_name,t.hubKey=n,t.connState=void 0,o.role&&(t.role=o.role,t.roleName=s.roleNameOf(this.i18nSrv,o.role)),this.hubs[t.id]=t;return localStorage.setItem("hubs",JSON.stringify(this.hubs)),this.$rootScope.$emit("SHOW_HUBS_LIST",{hubs:this.hubs})},e.prototype.localHubFound=function(e){var t,n,o,a,l;if(e.url&&e.hubData)return n=void 0,o=e.hubData,o.hubId&&(n=null!=(a=this.hubs)?a[o.hubId]:void 0),n?n.connState!==i.LOCAL_UNCLAIMED&&(n.connState=n.hubKey&&n.role&&1!==n.role?i.LOCAL:i.LOCAL_NO_ACCESS):(n=new r,o.hubId&&(n.id=o.hubId,o.state&&"factory_new"===o.state?n.connState=i.LOCAL_UNCLAIMED:o.hubKey&&o.role&&1!==o.role?o.state&&"claimed"===o.state&&o.connected&&(n.connState=i.LOCAL):n.connState=i.LOCAL_NO_ACCESS),this.hubs[n.id]=n,localStorage.setItem("hubs",JSON.stringify(this.hubs))),n.url=e.url,t=s.getAPIversion(o.version),n.url+="/cc/"+t,n.version=o.version,n.role||(n.role=1,n.roleName=s.roleNameOf(this.i18nSrv,1)),n.name=o.name,this.$rootScope.$emit("SHOW_HUBS_LIST",{hubs:this.hubs}),(null!=(l=this.selectedHub)?l.id:void 0)!==n.id||this.state!==this.STATE_CONNECTING_HUB&&this.state!==this.STATE_CONNECTED_REMOTE?void 0:(this.selectedHub=n,this.setState(this.STATE_CONNECTED_LOCAL))},e.prototype.remoteHubFound=function(e){var t,n,r,o;if(e.url&&e.hubData&&(r=e.hubData,n=null!=(o=this.hubs)?o[r.hubId]:void 0)){if(n.name=r.name,t=s.getAPIversion(r.version),n.url=e.url+("/cc/"+t),n.version=r.version,n.connState=i.REMOTE,this.hubs[n.id]=n,localStorage.setItem("hubs",JSON.stringify(this.hubs)),!this.selectedHub.role||1===this.selectedHub.role||2===this.selectedHub.role)return this.selectedHub.connState=STATE_ASKING_ACCESS;if(this.selectedHub.id===n.id&&this.state===this.STATE_CONNECTING_HUB)return this.setState(this.STATE_CONNECTED_REMOTE)}},e.prototype.doCloudDiscovery=function(e,t){return this.$log.info("connectionStateSrv doCloudDiscovery() is wifi",s.isWifi()),!s.isWifi()||navigator.mdnsClient&&!t?void 0:this.$http({method:"GET",timeout:2e3,url:s.CLOUD_URL+"hub/lan_ip"}).success(function(t){return function(n){var i,r,o,a,l;for(t.$log.info("connectionStateSrv doCloudDiscovery() reply: ",n),r=n,l=[],o=0,a=r.length;a>o;o++)i=r[o],l.push(t.doIdQuery(s.PROTOCOL+i+":"+s.PORT).then(e));return l}}(this)).error(function(e){return function(t,n){return e.$log.error("connectionStateSrv doCloudDiscovery() error: "+n+" ")}}(this))},e.prototype.startBonjour=function(e,t){return this.$log.debug("connectionStateSrv: startBonjour() - is wifi: ",s.isWifi()),navigator.mdnsClient&&s.isWifi()&&(this.$log.info("connectionStateSrv:  startBonjour() @bonjourOn = "+this.bonjourOn),this.bonjourOn===!1)?(this.bonjourInterval&&this.$interval.cancel(this.bonjourInterval),this.bonjourTime=e,this.listenBonjour(this.bonjourTime,t),this.bonjourInterval=this.$interval(function(e){return function(){return e.$log.info("connectionStateSrv:  startBonjour() in "+e.bonjourTime+"ms interval @bonjourOn = "+e.bonjourOn),e.bonjourOn===!1?e.listenBonjour(e.bonjourTime,t):void 0}}(this),this.bonjourTime,0,!1)):void 0},e.prototype.listenBonjour=function(e,t){var n;return navigator.mdnsClient?(n="_cozify._tcp.local",this.$log.info("connectionStateSrv: listenBonjour() - MDSN starting interval of "+e+"ms to query for: ",n),s.isWifi()&&(navigator.mdnsClient.mdnsListen(n,function(n){return function(i,r){var o,a,l,c,u,d;for(d=[],a=0,l=i.length;l>a;a++)o=i[a],(null!=(c=o.srv)?c.port:void 0)&&(null!=(u=o.srv)?u.target:void 0)&&r[o.srv.target]?(n.$log.debug("connectionStateSrv: listenBonjour() -  interval of "+e+"ms, MDSN address found",r[o.srv.target]),d.push(n.doIdQuery(s.PROTOCOL+r[o.srv.target]+":"+o.srv.port).then(t))):d.push(void 0);return d}}(this)),this.bonjourOn=!0,navigator.mdnsClient.mdnsQuery(n)),this.$timeout(function(e){return function(){return navigator.mdnsClient.mdnsStopListen(),e.$log.info("connectionStateSrv: listenBonjour() stopping when @bonjourOn=",e.bonjourOn),e.bonjourOn=!1}}(this),500)):void 0},e.prototype.stopBonjour=function(){return navigator.mdnsClient?(this.$log.info("connectionStateSrv: stopBonjour() when @bonjourOn=",this.bonjourOn),null!=this.bonjourInterval&&(this.$interval.cancel(this.bonjourInterval),this.bonjourInterval=void 0),navigator.mdnsClient.mdnsStopListen(),this.bonjourOn=!1):void 0},e.prototype.doIdQuery=function(e){var t,n;return n=void 0,this.$log.debug("connectionStateSrv: doIdQuery() - URL ",e),t=this.$q.defer(),this.$http({method:"GET",timeout:5e3,url:e+"/hub",headers:n?n:void 0}).success(function(n){return function(i){return n.$log.debug("connectionStateSrv: doIdQuery() - data ",i),t.resolve({url:e,hubData:i})}}(this)).error(function(e){return function(n,i){return e.$log.error("connectionStateSrv doIdQuery: Error "+i+" connecting: ",n),t.reject(401===i||403===i?i:i)}}(this)),t.promise},e.prototype.sendPoll=function(e){var t,n,r,o,a,u,d,m,p,f;return e&&(this.lastPollTime=0),t=this.$q.defer(),(null!=(p=this.selectedHub)?p.url:void 0)?this.polling&&!e?(this.$log.debug("connectionStateSrv sendPoll() - already polling with timeout "+c/1e3+"s "),this.$timeout(function(e){return function(){return e.polling=!1,e.$log.debug("connectionStateSrv sendPoll() - already polling resetted with timeout "+c/1e3+"s")}}(this),c),t.resolve("already polling")):(this.polling=!0,u=0===this.lastPollTime||void 0===this.lastPollTime,r=null!=(f=this.intervalHandle)?f.$$intervalId:void 0,d=""+this.selectedHub.url+"/hub/poll?ts="+this.lastPollTime,("undefined"!=typeof device&&null!==device?device.uuid:void 0)?d=d.concat("&cozify_uuid="+device.uuid):(o="?",n=localStorage.getItem("email"),n&&(m=n.split("@")),(null!=m?m[0]:void 0)&&(o=m[0]),(null!=m?m[1]:void 0)&&(o=o+"."+m[1]),o=o.replace(/\./g,"-"),d=d.concat("&cozify_uuid=web-"+o)),this.$log.debug("connectionStateSrv sendPoll() - polling "+d+"  every "+l/1e3+"s with timeout "+c/1e3+"s"),a=new Date,this.$http({method:"GET",timeout:c,url:d}).success(function(e){return function(n){var i,o;return r&&r!==(null!=(o=e.intervalHandle)?o.$$intervalId:void 0)?(e.$log.info("connectionStateSrv sendPoll() - invalid intervalHandle:"),e.polling=!1,e.sendPoll(!0)):u&&null==n.full?(e.pollRetry(),e.polling=!1,t.reject("Not full reply")):((null!=n?n.timestamp:void 0)&&(s.setPollMaps(e.$rootScope,n.polls,e.lastPollTime),e.lastPollTime=null!=n?n.timestamp:void 0),i=new Date-a,i>.8*c&&e.$log.error("connectionStateSrv sendPoll() - Polling longish ",i),e.polling=!1,t.resolve("ok"))}}(this)).error(function(e){return function(n,r){return e.$log.error("connectionStateSrv sendPoll() - Polling error",r),e.polling=!1,403===r&&(e.selectedHub.connState=i.LOCAL_NO_ACCESS,e.setState(e.STATE_CONNECTING_HUB),t.reject("Unauth")),410===r?e.selectedHub.version<s.HUB_MAX_API_VERSION||e.selectedHub.version>e.selectedHub.url.substring(e.selectedHub.url.length-3)?(e.selectedHub.version=s.HUB_MAX_API_VERSION,e.selectedHub.url=e.selectedHub.url.substring(0,e.selectedHub.url.length-3)+s.HUB_MAX_API_VERSION,e.$rootScope.setSelectedHub(e.selectedHub),e.pollRetry(),t.reject("retry")):(e.selectedHub.connState=i.TOO_NEW_HUB,e.setState(e.STATE_CONNECTING_HUB),t.reject("Too new hub")):(e.pollRetry(),t.reject(r))}}(this))):(this.$log.warn("connectionStateSrv sendPoll() - no selectedHub.url in polling"),this.connectionLostInPolling(404),t.reject(404)),t.promise},e.prototype.pollRetry=function(){if(this.pollRetryCnt++,this.pollRetryCnt>3){if(this.pollRetryCnt=0,this.stopPolling(),this.selectedHub.connState===i.REMOTE)return l=m,c=u*l,this.connectionLostInPolling(500);if(this.selectedHub.connState===i.LOCAL)return l=d,c=u*l,this.connectionLostInPolling(302)}},e.prototype.startPolling=function(){var e;return(null!=(e=this.selectedHub)?e.connState:void 0)?(this.$log.info("connectionStateSrv startPolling() - @intervalHandle:",this.intervalHandle),this.intervalHandle?void 0:(this.$rootScope.$emit("HUBS_POLL_STARTED"),this.lastPollTime=0,this.sendPoll(),this.intervalHandle=this.$interval(function(e){return function(){return e.sendPoll()}}(this),l,0,!1))):(this.$log.warn("connectionStateSrv startPolling() - not selectedHub.connState"),this.selectedHub.connState=i.NO_CONN,this.$rootScope.alert("HUB connection failed",status,!0),void this.$rootScope.$emit("SHOW_HUBS_LIST",{hubs:this.hubs}))},e.prototype.stopPolling=function(){return this.$log.info("connectionStateSrv stopPolling() - @intervalHandle:",this.intervalHandle),this.lastPollTime=0,this.intervalHandle?(this.$interval.cancel(this.intervalHandle),this.intervalHandle=void 0,this.$rootScope.$emit("HUBS_POLL_STOPPED")):void 0},e.prototype.startKeyPolling=function(){return"TBD"},e.prototype.stopKeyPolling=function(){return"TBD"},e.prototype.showConnectingView=function(){return"c.home.connecting"!==this.$state.current.name?(this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:this.i18nSrv.tr("Establish connection"),mode:"modal-kind",previous:"-"}),this.$rootScope.offcanvas=!0,this.$state.go("c.home.connecting")):void 0},e.prototype.showLoginView=function(){return"c.home.login"!==this.$state.current.name?(this.$rootScope.$emit("HEADER_PAGE",{show:!0,title:this.i18nSrv.tr("Login"),mode:"modal-kind",previous:"-"}),this.$rootScope.offcanvas=!0,this.$state.go("c.home.login")):void 0},e.prototype.getHUB=s.getHUB,e.prototype.getHUBVersion=function(e){var t,n,i;return t=this.$q.defer(),i=this.getHUB(),(null!=i?i.version:void 0)&&!e?t.resolve(null!=i?i.version:void 0):(n=s.CLOUD_URL+"hub/remote",this.doIdQuery(n).then(function(e){var n;return t.resolve((null!=e&&null!=(n=e.hubData)?n.version:void 0)?e.hubData.version:s.HUB_PILOT2_MIN_VERSION)},function(){return t.resolve(s.HUB_PILOT2_MIN_VERSION)})),t.promise},e}(),angular.module("appSrvs").factory("ConnectionState",["$rootScope","$timeout","$log","$interval","$http","$q","$state","ConnectSrv","i18nSrv",function(e,t,i,r,s,o,a,l,c){var u;return u=new n(e,t,i,r,s,o,a,l,c)}])}),require.register("connection/srv-connect.js",function(e,t){var n,i,r;r=window.lodash,i=t("./srv-helpers"),n=function(e,t,n,r,s,o,a,l,c,u,d){var m,p,f,v;return m=void 0,f=[],p=void 0,v=function(t){var n,r,o,a,l,c,u;if(f.length>0)return o=angular.copy(e.selectedHub.url),o&&(r=o.split("//")[1]),r&&(n=r.split(":")[0]),u=void 0,("undefined"!=typeof device&&null!==device?device.uuid:void 0)?u=device.uuid:(l="?",a=localStorage.getItem("email"),a&&(c=a.split("@")),(null!=c?c[0]:void 0)&&(l=c[0]),(null!=c?c[1]:void 0)&&(l=l+"."+c[1]),l=l.replace(/\./g,"-"),u="web-"+l),n?s({timeout:500,url:i.CLOUD_URL+("hub/ui_logs?ui_id="+u+"&lan_ip="+n),method:"PUT",data:t,headers:{"Content-Type":"text/plain"}}).success(function(){return null}).error(function(e){return console.warn&&console.warn("connectionSrv logging hub/ui_logs?: Error "+e),null}):void 0},e.$on("ADD_LOG",function(n,i){var r,s,o;if(s=i.json,s.level){if(r=u.getLevel(),u.LEVELS.NONE!==r){if(!u.shouldShowLevel(s.level))return}else if(u.LEVELS.ERROR!==s.level)return;if((null!=s?s.msg:void 0)&&"debug"!==(null!=s?s.level:void 0)){if(-1!==s.msg.indexOf("hub/ui_logs?"))return;if(o=localStorage.getItem("userToken"),("undefined"===o||"null"===o)&&(o=void 0),!o||!e.selectedHub)return;if(f.length<10)return f.push(s),p=new Date,void t(function(){var e;return e=0,p&&(e=(new Date).getTime()-p.getTime()),e>1e4&&f.length>0?(v(angular.copy(f)),f=[]):void 0},1e4);if(!(f.length>0))return;return v(angular.copy(f)),f=[]}}}),{CLOUD_URL:i.CLOUD_URL,roleNames:i.roleNames,roleNameOf:i.roleNameOf,setHUBConnectionStatusConnected:function(){return null},setHUBAddress:function(){return null},requestEmailLogin:function(t){var r;return r=o.defer(),t?s({method:"POST",url:i.CLOUD_URL+"user/requestlogin?email="+t}).success(function(e,t){return n.debug("connectionSrv requestEmailLogin: Ok "+t+", data: ",e),r.resolve(t)}).error(function(t,i){return e.alert("Login failed",i,!0),n.error("connectionSrv requestEmailLogin: Error "+i+", data: ",t),r.reject(i)}):r.reject(null),r.promise},logout:function(){var t;return t=d.tr("Are you sure to logout?"),e.modalConfirm(t,function(t){var r;return t?(r=o.defer(),localStorage.setItem("selectedHub",null),localStorage.removeItem("selectedHub"),localStorage.setItem("hubs",null),localStorage.removeItem("hubs"),localStorage.setItem("email",null),localStorage.removeItem("email"),s({method:"PUT",url:i.CLOUD_URL+"user/logout"}).success(function(t,i){return e.isLoggedIn=!1,localStorage.setItem("userToken",null),localStorage.removeItem("userToken"),n.debug("connectionSrv logout: Ok "+i+", data: ",t),location.reload(),r.resolve(i)}).error(function(t,i){return e.isLoggedIn=!1,localStorage.setItem("userToken",null),localStorage.removeItem("userToken"),e.alert("Logout failed",i,!0),n.error("connectionSrv logout: Error "+i+", data: ",t),location.reload(),r.reject(i)}),r.promise):void 0})},renameHub:function(t){var i,r;return i=o.defer(),r=e.selectedHub,(null!=r?r.url:void 0)&&(null!=t?t.length:void 0)>0?s({method:"PUT",url:r.url+("/hub/name?name="+t)}).success(function(e,s){return r.name=t,n.debug("connectionSrv renameHub: Ok "+s+", data: ",e),i.resolve(s)}).error(function(t,r){return e.alert("Name changing failed",r,!0),n.error("connectionSrv renameHub: Error "+r+", data: ",t),i.reject(r)}):(e.alert("Name changing failed",status,!0),n.error("connectionSrv renameHub: no HUB Id or new name"),i.reject(null)),i.promise},getTimeZones:function(){var t,i;return t=o.defer(),i=e.selectedHub,(null!=i?i.url:void 0)?s({method:"GET",url:i.url+"/hub/timezones"}).success(function(e,i){return n.debug("connectionSrv getTimeZonesHub: Ok "+i+", data: ",e),t.resolve(e)}).error(function(e,i){return n.error("connectionSrv getTimeZonesHub: Error "+i+", data: ",e),t.reject(i)}):(n.error("connectionSrv getTimeZonesHub: no HUB Id or new name"),t.reject(null)),t.promise},getTimeZone:function(){var t,i;return t=o.defer(),i=e.selectedHub,(null!=i?i.url:void 0)?s({method:"GET",url:i.url+"/hub/tz"}).success(function(e,i){var r;return n.debug("connectionSrv getTimeZoneHub: Ok "+i+", data: ",e),r=e.slice(1,-1),t.resolve(r)}).error(function(e,i){return n.error("connectionSrv getTimeZoneHub: Error "+i+", data: ",e),t.reject(i)}):(n.error("connectionSrv getTimeZoneHub: no HUB Id or new name"),t.reject(null)),t.promise},setTimeZone:function(t){var i,r;return i=o.defer(),r=e.selectedHub,(null!=r?r.url:void 0)?s({method:"PUT",url:r.url+("/hub/tz?timezone="+t)}).success(function(e,t){return n.debug("connectionSrv setTimeZonesHub: Ok "+t+", data: ",e),i.resolve(e)}).error(function(e,t){return n.error("connectionSrv setTimeZonesHub: Error "+t+", data: ",e),i.reject(t)}):(n.error("connectionSrv setTimeZonesHub: no HUB Id or new name"),i.reject(null)),i.promise},getZigbeeStatus:function(){var t,i;return t=o.defer(),i=e.selectedHub,(null!=i?i.url:void 0)?s({method:"GET",url:i.url+"/hub/zigbeestatus"}).success(function(e,i){return n.debug("connectionSrv getZigbeeStatus: Ok "+i+", data: ",e),e.hasNetwork=e.has_network,t.resolve(e)}).error(function(e,i){return n.error("connectionSrv getZigbeeStatus: Error "+i+", data: ",e),t.reject(i)}):(n.error("connectionSrv getZigbeeStatus: no HUB Id or new name"),t.reject(null)),t.promise},setZigbeeChannel:function(t){var i,r;return i=o.defer(),r=e.selectedHub,(null!=r?r.url:void 0)?s({method:"POST",url:r.url+("/hub/zigbeechannel?channel="+t)}).success(function(e,t){return n.debug("connectionSrv setZigbeePower: Ok "+t+", data: ",e),i.resolve(e)}).error(function(t,r){return n.error("connectionSrv setZigbeePower: Error "+r+", data: ",t),e.alert("Zigbee settings failed",!0),i.reject(r)}):(n.error("connectionSrv setZigbeePower: no HUB Id or new name"),i.reject(null)),i.promise},setZigbeePower:function(t){var i,r;return i=o.defer(),r=e.selectedHub,(null!=r?r.url:void 0)?s({method:"POST",url:r.url+("/hub/zigbeepower?power="+t)}).success(function(e,t){return n.debug("connectionSrv setZigbeePower: Ok "+t+", data: ",e),i.resolve(e)}).error(function(t,r){return n.error("connectionSrv setZigbeePower: Error "+r+", data: ",t),e.alert("Zigbee settings failed",!0),i.reject(r)}):(n.error("connectionSrv setZigbeePower: no HUB Id or new name"),i.reject(null)),i.promise},claimHub:function(t,r){var a;return a=o.defer(),(null!=r?r.url:void 0)&&t?s({method:"POST",url:r.url+("/hub/claim?email="+t)}).success(function(){return function(e,t){return n.debug("connectionSrv claimHub: Ok "+t+", data: ",e),r.key=e,r.state="claimed",r.role=32,r.roleName=i.roleNameOf(d,r.role),a.resolve(t)}}(this)).error(function(){return function(t,i){return e.alert("Hub registration failed",i,!0),n.error("connectionSrv claimHub: Error "+i+", data: ",t),a.reject(i)}}(this)):(e.alert("Hub registration failed",status,!0),n.error("connectionSrv claim: no HUB Id or email"),a.reject(null)),a.promise},login:function(t,r){var a;return a=o.defer(),s({method:"POST",url:i.CLOUD_URL+"user/emaillogin",data:{email:t,password:r}}).success(function(){return function(i,r){var s;return n.debug("connectionSrv login: Ok "+r),200===r&&i.length>10?(e.isLoggedIn=!0,s=i,t&&localStorage.setItem("email",t),s&&localStorage.setItem("userToken",s),e.$emit("LOGGED_IN")):void 0}}(this)).error(function(t,i){return 401===i||403===i?e.alert("Invalid activation code or email",i,!0):e.alert("Login failed",i,!0),n.error("connectionSrv login: Error "+i+", data: ",t),a.reject(t)}),a.promise},askAccess:function(t){var r;return t=t,r=o.defer(),(null!=t?t.id:void 0)?s({method:"POST",url:i.CLOUD_URL+("user/requestauthorization?hubId="+t.id)}).success(function(){return function(t,i){return n.debug("connectionSrv askAccess: Ok "+i),e.$emit("HUB_ACCESS_ASKED"),r.resolve(i)}}(this)).error(function(t,i){return e.alert("Access request failed",i,!0),n.error("connectionSrv askAccess: Error "+i+", data: ",t),r.reject(t)}):(e.alert("Access request failed",null,!0),n.error("connectionSrv askAccess: hub.id error ",t),r.reject(data)),r.promise},selectedUserId:void 0,listUsers:function(){var t,r;return r=e.selectedHub,t=o.defer(),(null!=r?r.id:void 0)?s({method:"GET",url:i.CLOUD_URL+("user/authorization?hubId="+r.id)}).success(function(){return function(e,i){return n.debug("connectionSrv listUsers: Ok "+i),t.resolve(e)}}(this)).error(function(i,r){return e.alert("User management request failed",r,!0),n.error("connectionSrv listUsers: Error "+r+", data: ",i),t.reject(i)}):(e.alert("User management request failed",null,!0),n.error("connectionSrv askAccess: hub.id error ",r),t.reject(data)),t.promise},updateUser:function(t,r){var a,l;return l=e.selectedHub,a=o.defer(),(null!=l?l.id:void 0)&&r&&t?s({method:"POST",url:i.CLOUD_URL+"user/authorization",data:{hubId:l.id,email:t,role:i.roleNumberOf(d,r)}}).success(function(){return function(e,t){return n.debug("connectionSrv updateUser: Ok "+t),a.resolve(e)}}(this)).error(function(t,i){return e.alert("User management request failed",i,!0),n.error("connectionSrv updateUser: Error "+i+", data: ",t),a.reject(t)}):(e.alert("User management request failed",null,!0),n.error("connectionSrv updateUser: hub.id error ",l),a.reject(data)),a.promise},revokeUser:function(t){var r,a;return a=e.selectedHub,r=o.defer(),(null!=a?a.id:void 0)&&t?s({method:"DELETE",url:i.CLOUD_URL+"user/authorization",headers:{"Content-Type":"application/json"},data:{hubId:a.id,email:t}}).success(function(){return function(e,t){return n.debug("connectionSrv revokeUser: Ok "+t),r.resolve(e)}}(this)).error(function(t,i){return e.alert("User management request failed",i,!0),n.error("connectionSrv revokeUser: Error "+i+", data: ",t),r.reject(t)}):(e.alert("User management request failed",null,!0),n.error("connectionSrv revokeUser: hub.id error ",a),r.reject(data)),r.promise},getHUBConnectionStatus:function(){var e;return e=this.getHUBAddress(),null!=e},getHUB:i.getHUB,getHUBAddress:function(){var e;return e=this.getHUB(),null!=e?e.url:void 0},getUIVersion:function(){var e;return e=o.defer(),!m||"?"===m&&"undefined"!=typeof Connection&&null!==Connection||"?"===m&&!("undefined"!=typeof device&&null!==device?device.platform:void 0)?(m="?",s({method:"GET",url:"dist/assets/config-bak.xml?123"}).success(function(t){var n,i,r,s,o,a,l,c,u;return i=new DOMParser,m=i.parseFromString(t,"application/xml"),r=null!=(s=m.getElementsByTagName("widget"))&&null!=(o=s[0])?o.getAttribute("version"):void 0,n=null!=(a=m.getElementsByTagName("widget"))&&null!=(l=a[0])?l.getAttribute("versionCode"):void 0,navigator.userAgent.match(/Android/)&&(n=(null!=(c=m.getElementsByTagName("widget"))&&null!=(u=c[0])?u.getAttribute("android-versionCode"):void 0)||n),m=r,n&&(m+="/"+n),e.resolve(m||void 0)}).error(function(){return e.resolve(m)})):e.resolve(m||"?"),e.promise}}},angular.module("appSrvs").factory("ConnectSrv",["$rootScope","$timeout","$log","$interval","$http","$q","$state","Stately","PreferencesSrv","LoggerSrv","i18nSrv",n])}),require.register("utils/index.js",function(e,t){t("./cron-srv"),t("./push-srv"),t("./user-srv"),t("./map-fltr")}),require.register("utils/cron-srv.js",function(){var e,t,n,i,r,s,o,a=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t){return(e%t+ +t)%t},c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=window.lodash,r="Weekdays",s="Weekend",e="Every day",n="Never",i="Own period",t=function(){function t(e,t,n){this.rootScope=e,this.log=t,this.i18nSrv=n,this.isSameStartStopDays=a(this.isSameStartStopDays,this),this.getSelectedLongDays=a(this.getSelectedLongDays,this),this.getLongDay=a(this.getLongDay,this),this.getSelectedDays=a(this.getSelectedDays,this),this.selectDay=a(this.selectDay,this),this.selectDayAll=a(this.selectDayAll,this),this.selectDayNone=a(this.selectDayNone,this),this.isSelectedDay=a(this.isSelectedDay,this),this.shortDays=this.i18nSrv.getShortDays(),this.longDays=this.i18nSrv.getDays(),this.extendedDays=angular.copy(this.longDays),this.log.debug("CronSrv: Extended days ",this.extendedDays),this.rootScope.$on("LANGUAGE_UPDATED",function(e){return function(){return e.shortDays=e.i18nSrv.getShortDays(),e.longDays=e.i18nSrv.getDays(),e.extendedDays=angular.copy(e.longDays)}}(this))}var u,d;return u=function(e,t){return Math.round(e*Math.pow(10,t||4))/Math.pow(10,t||4)},d=function(e){var t;return e.time?e={days:e.daysOfWeek,time:e.time,hour:e.hour,minute:e.minute,enabled:!o.isEmpty(e.daysOfWeek)}:(t=u(e.sunTime/60,1),t=0>t?2===(""+t).length?""+t+".0h":""+t+"h":t>0&&3===(""+t).length?"+"+t+"h":"+"+t+".0h",e={days:e.daysOfWeek,sun:e.sun,sunTime:t,enabled:!o.isEmpty(e.daysOfWeek)})},t.prototype.timers=[],t.prototype.initTimers=function(e){var t,n,i,r,s;if(e)for(t=[],i=0,r=e.length;r>i;i++)n=e[i],(null!=(s=e[0])?s.cronDef:void 0)?(n.cronDef.start=n.cronDef.start||"0 8 * *",n.cronDef.stop=n.cronDef.stop||"0 22 * *",n.cronDef.type=n.cronDef.type||"CRONDEF",n.timerStart=d(this.cronElements(n.cronDef.start)),n.timerStop=d(this.cronElements(n.cronDef.stop)),n.type=n.type||"RULETIME"):t=this.initTimers(null),t.push(n);else t=[{cronDef:{start:"0 8 * * 1",stop:"0 22 * * 5",type:"CRONDEF"},timerStart:void 0,timerStop:void 0,type:"RULETIME"}],t[0].timerStart=d(this.cronElements(t[0].cronDef.start)),t[0].timerStart.enabled=!0,t[0].timerStop=d(this.cronElements(t[0].cronDef.stop)),t[0].timerStop.enabled=!0;return t},t.prototype.setTimers=function(e){return this.timers=this.initTimers(e)},t.prototype.addTimer=function(){var e;return e=this.initTimers()[0],this.timers.push(e),e},t.prototype.removeTimer=function(e){var t,n,i,r,s;for(n=[],s=this.timers,i=0,r=s.length;r>i;i++)t=s[i],t!==e&&n.push(t);return this.timers=n},t.prototype.cronElements=function(e){var t,n,i,r;return o.isEmpty(e)&&(e="0 * * * *"),t=e.split(" "),i=[],t[4]&&(i="*"!==t[4]?t[4].split(","):[0,1,2,3,4,5,6]),i=function(){var e,t,r;for(r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push(this.shortDays[n]);return r}.call(this),r={dayOfMonth:t[2]||0,month:t[3]||0,daysOfWeek:i},"sun_up"===t[0]?(r.sun="sunrise",r.sunTime=t[1]||0):"sun_down"===t[0]?(r.sun="sunset",r.sunTime=t[1]||0):(r.minute=t[0]||0,r.hour=t[1]||0,r.time=this.i18nSrv.localizedTime(""+r.hour+":"+r.minute)),r},t.prototype.formatSunForCron=function(e,t,n){var i,r,s,o;return o=n.split(" "),o[0]="sunset"===e?"sun_down":"sun_up",t.indexOf("h")&&(s=t.slice(0,+(t.length-2)+1||9e9),t=Math.abs(s),i=Math.floor(t),r=i>0?l(t,i):t,o[1]=60*i+60*r,0>s&&(o[1]*=-1)),o.join(" ")},t.prototype.formatHourForCron=function(e,t){var n;return 2===e.length&&"0"===e[0]&&(e=e[1]),n=t.split(" "),n[1]=e,n.join(" ")},t.prototype.formatMinuteForCron=function(e,t){var n;return 2===e.length&&"0"===e[0]&&(e=e[1]),n=t.split(" "),n[0]=e,n.join(" ")},t.prototype.formatDatesForCron=function(e,t){var n;return n=t.split(" "),n[4]=e,n.join(" ")},t.prototype.isSelectedDay=function(e,t){var n;return n=!1,e&&t&&(n=c.call(t,e)>=0),n},t.prototype.selectDayNone=function(e,t){var n;return n=e[t],n.enabled=!1,n.days=[],"timerStart"===t?e.cronDef.start=this.formatDatesForCron("",e.cronDef.start):"timerStop"===t?e.cronDef.stop=this.formatDatesForCron("",e.cronDef.stop):void 0},t.prototype.selectDayAll=function(e,t){var n,i,r,s;return s=e[t],s.enabled=!0,s.days=angular.copy(this.shortDays),n=function(){var e,t,n,o;for(n=s.days,o=[],r=e=0,t=n.length;t>e;r=++e)i=n[r],o.push(r);return o}(),"timerStart"===t?e.cronDef.start=this.formatDatesForCron(n,e.cronDef.start):"timerStop"===t?e.cronDef.stop=this.formatDatesForCron(n,e.cronDef.stop):void 0},t.prototype.selectDay=function(t,a,l){var u,d,m,p,f,v,h,g,y,b;return h=a.timerStart,g=a.timerStop,y=!1,v=a[l],v.days=[this.shortDays[this.longDays.indexOf(t)]],v.enabled=!0,c.call(this.longDays,t)>=0?v.enabled=!o.isEmpty(v.days):t===e||t===this.i18nSrv.tr(e)?(h.days=function(){var e,t,n,i;for(n=[0,1,2,3,4,5,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),g.days=function(){var e,t,n,i;for(n=[0,1,2,3,4,5,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),y=!0):t===r||t===this.i18nSrv.tr(r)?(+h.hour>+g.hour||+h.hour===+g.hour&&+h.minute>+g.minute?(h.days=function(){var e,t,n,i;for(n=[1,2,3,4,5],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),g.days=function(){var e,t,n,i;for(n=[1,2,3,4,5,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this)):(h.days=function(){var e,t,n,i;for(n=[1,2,3,4,5],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),g.days=function(){var e,t,n,i;for(n=[1,2,3,4,5],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this)),y=!0):t===s||t===this.i18nSrv.tr(s)?(+h.hour>+g.hour||+h.hour===+g.hour&&+h.minute>+g.minute?(h.days=function(){var e,t,n,i;for(n=[0,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),g.days=function(){var e,t,n,i;for(n=[0,1,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this)):(h.days=function(){var e,t,n,i;for(n=[0,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this),g.days=function(){var e,t,n,i;for(n=[0,6],i=[],e=0,t=n.length;t>e;e++)p=n[e],i.push(this.shortDays[p]);return i}.call(this)),y=!0):t===i||t===this.i18nSrv.tr(i)?((null!=(b=v.days)?b.length:void 0)>1&&(h.days=[this.shortDays[1]],g.days=[this.shortDays[1]]),y=!0):(t===n||t===this.i18nSrv.tr(n))&&(h.days=[],g.days=[],y=!0),y?(u=function(){var e,t,n,i;for(n=this.shortDays,i=[],f=e=0,t=n.length;t>e;f=++e)m=n[f],-1!==h.days.indexOf(m)&&i.push(f);return i}.call(this).join(","),d=function(){var e,t,n,i;for(n=this.shortDays,i=[],f=e=0,t=n.length;t>e;f=++e)m=n[f],-1!==g.days.indexOf(m)&&i.push(f);return i}.call(this).join(","),a.cronDef.start||(a.cronDef.start="* * * *"),a.cronDef.start=this.formatDatesForCron(u,a.cronDef.start),a.cronDef.stop||(a.cronDef.stop="* * * *"),a.cronDef.stop=this.formatDatesForCron(d,a.cronDef.stop)):"timerStart"===l?(u=function(){var e,t,n,i;for(n=this.shortDays,i=[],f=e=0,t=n.length;t>e;f=++e)m=n[f],-1!==h.days.indexOf(m)&&i.push(f);return i}.call(this).join(","),a.cronDef.start||(a.cronDef.start="* * * *"),a.cronDef.start=this.formatDatesForCron(u,a.cronDef.start),this.log.debug("CronSrv selectDay: Crondef start= "+a.cronDef.start)):"timerStop"===l&&(d=function(){var e,t,n,i;for(n=this.shortDays,i=[],f=e=0,t=n.length;t>e;f=++e)m=n[f],-1!==g.days.indexOf(m)&&i.push(f);return i}.call(this).join(","),a.cronDef.stop||(a.cronDef.stop="* * * *"),a.cronDef.stop=this.formatDatesForCron(d,a.cronDef.stop),this.log.debug("CronSrv selectDay: Crondef stop= "+a.cronDef.stop)),v},t.prototype.getSelectedDays=function(t,i){var a,l,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j;if(f="",!t)return f;if(!i)return f;if(v=t[i],!v)return f;for(a=function(){var e,t;for(t=[],d=e=0;7>e;d=++e)t.push(this.shortDays[d]);return t}.call(this),g=[this.shortDays[0],this.shortDays[6]],h=function(){var e,t;for(t=[],d=e=1;6>e;d=++e)t.push(this.shortDays[d]);return t}.call(this),p=!0,y=0,w=g.length;w>y;y++)l=g[y],c.call(v.days,l)<0&&(p=!1);for(m=!0,b=0,A=h.length;A>b;b++)l=h[b],c.call(v.days,l)<0&&(m=!1);if(o.isEmpty(v.days))f=this.i18nSrv.tr(n);else if(JSON.stringify(v.days)===JSON.stringify(a))f=this.i18nSrv.tr(e);else if(p)f=this.i18nSrv.tr(s);else if(m)f=this.i18nSrv.tr(r);else{if(u=[],null!=v?v.days:void 0){for(T=this.shortDays.slice(1),E=0,S=T.length;S>E;E++)l=T[E],c.call(v.days,l)>=0&&u.push(l);j=this.shortDays[0],c.call(v.days,j)>=0&&u.push(this.shortDays[0])}o.isEmpty(u)||(f=u.join(", "))}return this.log.debug("CronSrv getSelectedDays:  "+i,f),f},t.prototype.getLongDay=function(e){var t,n;return n=this.longDays[0],t=this.shortDays.indexOf(e),t&&(n=this.longDays[t]),n},t.prototype.getSelectedLongDays=function(e,t){var n,i;return n=this.getSelectedDays(e,t),i=n.split(","),1===i.length&&(n=this.getLongDay(i[0])),n},t.prototype.WEEKDAYS=r,t.prototype.WEEKEND=s,t.prototype.isSameStartStopDays=function(e){var t,n,i,r,s,o;return e&&(null!=(s=e.timerStart)?s.days:void 0)&&(null!=(o=e.timerStop)?o.days:void 0)?(t=function(){var e,t;for(t=[],n=e=0;7>e;n=++e)t.push(this.shortDays[n]);return t}.call(this),r=[this.shortDays[0],this.shortDays[6]],i=function(){var e,t;for(t=[],n=e=1;6>e;n=++e)t.push(this.shortDays[n]);return t}.call(this),JSON.stringify(e.timerStart.days)===JSON.stringify(t)||JSON.stringify(e.timerStart.days)===JSON.stringify(r)||JSON.stringify(e.timerStart.days)===JSON.stringify(i)?!0:!1):!1},t}(),angular.module("appSrvs").factory("CronSrv",["$rootScope","$log","i18nSrv",function(e,n,i){return new t(e,n,i)}])}),require.register("utils/push-srv.js",function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};t=window.lodash,window.pushServer=void 0,e=function(){function e(e,t,i,r,s,o,a){var l;this.rootScope=e,this.log=t,this.http=i,this.timeout=r,this.i18nSrv=s,this.ConnectSrv=o,this.PreferencesSrv=a,this.unregister=n(this.unregister,this),this.storeDeviceToken=n(this.storeDeviceToken,this),this.errorHandler=n(this.errorHandler,this),this.onNotificationWP8=n(this.onNotificationWP8,this),this.onNotificationAPN=n(this.onNotificationAPN,this),this.onNotificationAndroid=n(this.onNotificationAndroid,this),this.successHandler=n(this.successHandler,this),this.tokenHandler=n(this.tokenHandler,this),this.errcb=n(this.errcb,this),this.channelHandler=n(this.channelHandler,this),this.askMobile=n(this.askMobile,this),this.registerDisabled=!1,this.regId=void 0,this.wpRegistryRetryCount=0,this.pushNotification=null!=(l=window.plugins)?l.pushNotification:void 0,this.tip=void 0,this.pushNotification&&"android"===("undefined"!=typeof device&&null!==device?device.platform:void 0)||"Android"===("undefined"!=typeof device&&null!==device?device.platform:void 0)||"amazon-fireos"===("undefined"!=typeof device&&null!==device?device.platform:void 0)||"iOS"===("undefined"!=typeof device&&null!==device?device.platform:void 0)?this.rootScope.$on("START_LOGGED_IN_SERVICES",function(e){return function(){return e.timeout(function(){return e.register()
},1e3)}}(this)):(this.rootScope.$on("LOGGED_IN",function(e){return function(){return e.askMobile(!0)}}(this)),this.rootScope.$on("START_LOGGED_IN_SERVICES",function(e){return function(){return e.askMobile(!1)}}(this))),this.rootScope.$on("UI_READY",function(e){return function(){return void 0===e.tip?e.rootScope.tip("Tip: Select by tap, edit by long press",!0):void 0}}(this))}return e.prototype.askMobile=function(e){var t,n,i,r;return t=localStorage.getItem("email"),r={email:t},i=void 0,n={},t?this.PreferencesSrv.getUser(r,this.ConnectSrv.CLOUD_URL).then(function(t){return function(r){var s,o,a;return(null!=(o=r.phone)?o[0]:void 0)&&("+"===(null!=(a=r.phone)?a[0]:void 0)&&(r.phone=r.phone.slice(1)),n=t.PreferencesSrv.getCountryCodeOutOfMobile(r.phone)),s=t.i18nSrv.tr("Give mobile number with country prefix for notifications"),e=!1,n.phone&&n.code?i="+"+n.code+n.phone:n.code?(e=!0,i="+"+n.code):(e=!0,i="+358",n.phone&&(i+=n.phone)),e?t.rootScope.modalPrompt(s,i,function(e){return"+"===(null!=e?e[0]:void 0)&&(e=e.slice(1)),n=t.PreferencesSrv.getCountryCodeOutOfMobile(e),n.code&&n.phone?(t.regId="+"+n.code+n.phone,t.storeDeviceToken("SMS"),r.phone=n.code+n.phone,t.PreferencesSrv.setUser(r,t.ConnectSrv.CLOUD_URL)):t.askMobile(!0)}):(t.regId="+"+n.code+n.phone,t.storeDeviceToken("SMS"))}}(this)):void 0},e.prototype.register=function(){if(this.pushNotification){if("android"===("undefined"!=typeof device&&null!==device?device.platform:void 0)||"Android"===("undefined"!=typeof device&&null!==device?device.platform:void 0)||"amazon-fireos"===("undefined"!=typeof device&&null!==device?device.platform:void 0))return this.pushNotification.register(this.successHandler,this.errorHandler,{senderID:"135122589474",ecb:"pushServer.onNotificationAndroid"});if("iOS"===("undefined"!=typeof device&&null!==device?device.platform:void 0))return this.pushNotification.register(this.tokenHandler,this.errorHandler,{badge:"true",sound:"false",alert:"true",ecb:"pushServer.onNotificationAPN"})}},e.prototype.channelHandler=function(e){return e?(this.log.info("PushSrv: WP channelHandler The application is now set to receive notifications URI.",e),this.registerDisabled=!0,this.regId=e,this.storeDeviceToken("WNS")):void this.rootscope.alert(this.i18nSrv.tr("Notification service not available",null,!0))},e.prototype.errcb=function(e){return this.log.error("PushSrv: WP errcb error ",e.message)},e.prototype.tokenHandler=function(e){return this.log.info("PushSrv: iOS tokenHandler: ",e),e?(this.registerDisabled=!0,this.regId=e,this.storeDeviceToken("APNS")):this.rootscope.alert(this.i18nSrv.tr("Notification service not available",null,!0))},e.prototype.successHandler=function(e){return this.log.info("PushSrv: Android successHandler ",e)},e.prototype.onNotificationAndroid=function(e){var t,n,i,r,s,o,a;switch(this.log.info("PushSrv: onNotificationAndroid",e),e.event){case"registered":return(null!=(n=e.regid)?n.length:void 0)>0?(this.log.info("PushSrv: onNotificationAndroid egID = ",e.regid),this.registerDisabled=!0,this.regId=e.regid,this.storeDeviceToken("GCM")):this.rootscope.alert(this.i18nSrv.tr("Notification service not available",null,!0));case"message":return e.foreground?(t=e.soundname||e.payload.sound,this.doAction(void 0,void 0,null!=(i=e.payload)?i.action:void 0,null!=(r=e.payload)?r.message:void 0),this.log.info("PushSrv: onNotificationAndroid INLINE NOTIFICATION",t)):(this.doAction(null!=(s=e.payload)?s.hub_id:void 0,void 0,null!=(o=e.payload)?o.action:void 0,null!=(a=e.payload)?a.message:void 0),this.log.info(e.coldstart?"PushSrv: onNotificationAndroid COLDSTART NOTIFICATION":"PushSrv: onNotificationAndroid BACKGROUND NOTIFICATION"));case"error":return this.log.error("PushSrv: onNotificationAndroid ERROR: ",e.msg);default:return this.log.error("PushSrv: onNotificationAndroid ERROR: EVENT -> Unknown")}},e.prototype.onNotificationAPN=function(e){var t,n;return this.log.info("PushSrv: onNotificationAPN",e),"1"===e.foreground?(this.doAction(void 0,void 0,e.action,e.body),this.log.info("PushSrv: onNotificationAPN foreground")):(this.doAction(e.hub_id,void 0,e.action,e.body),this.log.info("PushSrv: onNotificationAPN background")),e.sound&&this.log.info("PushSrv: onNotificationAPN sound ",e.sound),e.badge?(this.log.info("PushSrv: onNotificationAPN badge",e.badge),n=function(){return this.log.info("PushSrv: onNotificationAPN Set badge success "+resultr)},t=function(e){return this.log.info("PushSrv: onNotificationAPN Set badge err "+e)},this.pushNotification.setApplicationIconBadgeNumbe(n,t,e.badge)):void 0},e.prototype.onNotificationWP8=function(e){switch(e.type){case"toast":this.log.info("PushSrv: onNotificationWP8 toast",e.jsonContent.innerText);break;case"tile":this.log.info("PushSrv: onNotificationWP8 title",e.jsonContent.innerText);break;case"raw":this.log.info("PushSrv: onNotificationWP8 raw",e.jsonContent.innerText);break;default:this.log.info("PushSrv: onNotificationWP8 Unkonwn push message type: "+e.type)}return this.log.info("PushSrv: onNotificationWP8 ",JSON.stringify(e.jsonContent)),this.rootscope.alert("Push"+e.jsonContent.innerText)},e.prototype.errorHandler=function(e){return this.log.error("PushSrv: Registration Error ",e)},e.prototype.storeDeviceToken=function(e){var t,n,i,r,s;return n="?",t=localStorage.getItem("email"),t&&(r=t.split("@")),(null!=r?r[0]:void 0)&&(n=r[0]),(null!=r?r[1]:void 0)&&(n=n+"."+r[1]),n=n.replace(/\./g,"-"),i={uuid:null!=(s="undefined"!=typeof device&&null!==device?device.uuid:void 0)?s:"web-"+n,type:"SNS_ENDPOINT",service:e,token:this.regId},this.http({method:"POST",url:this.ConnectSrv.CLOUD_URL+"push-notification/subscribe",data:i}).success(function(t){return function(){var n;return t.log.info("PushSrv: storeDeviceToken() - Post token for registered device with data "+JSON.stringify(i)),n=t.i18nSrv.tr("Application is now set to receive notifications"),"SMS"===e?(n=n+" "+t.regId,t.rootScope.notify(n,!1)):void 0}}(this)).error(function(e){return function(t,n){return e.rootScope.alert("Saving user information failed",n,!0),$log.error("PushSrv: storeDeviceToken() - Error "+n+", data: ",t)}}(this))},e.prototype.unregister=function(){var e;return e={token:this.regId},this.http({method:"POST",url:this.ConnectSrv.CLOUD_URL+"push-notification/unsubscribe",data:e}).success(function(e){return function(){return e.log.info("PushSrv: unregister  - done"),e.rootScope.notify(e.i18nSrv.tr("Application notifications disabled"))}}(this)).error(function(e){return function(t,n){return e.rootScope.alert("Saving user information failed",n,!0),e.log.error("PushSrv: unregister() - Error "+n+", data: ",t)}}(this))},e.prototype.doAction=function(e,t,n,i){var r;return this.log.info("PushSrv: doAction hubId ",e),this.log.info("PushSrv: doAction view ",t),this.log.info("PushSrv: doAction action ",n),this.log.info("PushSrv: doAction msg ",i),e&&(r=localStorage.getItem("selectedHub"),r&&(r=JSON.parse(r)),this.log.info("PushSrv: doAction currentHub ",r.id),e!==(null!=r?r.id:void 0)&&(this.log.info("PushSrv: doAction selectedHub ",e),this.rootScope.$emit("HUBS_SELECTION_REQUESTED",{hubId:e}),t||this.timeout(function(e){return function(){return e.rootScope.swipeToDevices()}}(this),1e3))),this.timeout(function(e){return function(){return e.tip=i,e.tip?e.rootScope.notify(e.tip,null,!1):void 0}}(this),200)},e}(),angular.module("appSrvs").factory("PushSrv",["$rootScope","$log","$http","$timeout","i18nSrv","ConnectSrv","PreferencesSrv",function(t,n,i,r,s,o,a){return window.pushServer=new e(t,n,i,r,s,o,a),window.pushServer}])}),require.register("utils/user-srv.js",function(){var e,t;t=window.lodash,e=function(){function e(e,t,n,i){this.rootScope=e,this.q=t,this.log=n,this.i18nSrv=i,this.log.debug("UserSrv: Init "),this.users={},this.rootScope.$on("HUB_USERS_CHANGED",function(e){return function(t,n){var i,r,s;if("yes"===(null!=n?n.reset:void 0)&&(e.users={}),null!=(null!=n?n.users:void 0)){s=n.users;for(i in s)r=s[i],i&&r?e.users[i]=e.setUser(r):i&&e.users[i]&&delete e.users[i];return e.log.info("UserSrv HUB_USERS_CHANGED",e.users||null),e.rootScope.$emit("USERS_LIST_CHANGED")}}}(this)),this.rootScope.$on("HUBS_POLL_STOPPED",function(e){return function(){return e.users={},e.rootScope.$emit("USERS_LIST_CHANGED")}}(this))}return e.prototype.setUser=function(e){var t,n,i;return t=e,t.info=null!=(n=e.user_info)?n:e.userInfo,t.name=(null!=t&&null!=(i=t.info.user)?i.nickname:void 0)||"?",t.icon="icon-motiondetector",t},e.prototype.list=function(){var e;return e=this.q.defer(),this.log.debug("UserSrv list:  Users from cache: ",this.users),e.resolve(this.users),e.promise},e}(),angular.module("appSrvs").factory("UserSrv",["$rootScope","$q","$log","i18nSrv",function(t,n,i){return new e(t,n,i)}])}),require.register("utils/map-fltr.js",function(e,t,n){var i;i=function(e){var t;return t=e("filter"),function(e,n,i){var r;return n?(r={},angular.forEach(e,function(e,s){return t([e],n,i).length?r[s]=e:void 0}),r):e}},n.exports=angular.module("appFltrs").filter("mapFilter",["$filter","$log",i])}),require.register("drv-color-picker/index.js",function(e,t,n){var i,r,s,o;o=window.lodash,s=window.Spectra,i=function(){return{controller:["$log",function(e){return e.debug("getting co-color")}]}},n.exports=angular.module("appDrvs").directive("coColor",["$log",i]),r=function(e,t,n,i,r){return{restrict:"A",require:"^coColor",template:'<div class=\'colorpicker\' style="height:310px; width:100%" >\n    <canvas width="310px" height="310px" style="position: absolute; left: 0; top: 0px; z-index: 0;"></canvas>\n    <canvas width="140px" height="140px" style="position: absolute; left: 0; top: 80px; margin-left: 80px; z-index: 1;border: 5px solid transparent"></canvas>\n</div>',scope:{coColor:"="},controller:["$scope","$log",function(){}],link:function(e,t){var a,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N,$,P;return S=angular.element(t.children()[0]),g=S.children()[0],k=S.children()[1],g.style.cursor="crosshair",k.style.cursor="crosshair",g.getContext?(y=g.getContext("2d"),D=k.getContext("2d"),b=document.createElement("canvas"),E=b.getContext("2d"),b.width=g.width,b.height=g.height,w=document.createElement("canvas"),A=w.getContext("2d"),w.width=k.width,w.height=k.height,T=155,a=l=2*T,h=0,x=140,O=void 0,N=void 0,L=function(e,t){var n,i,r;return r=x,i=x,e.rect(0,0,r,i),e.fillStyle=t,e.fill(),n=e.createLinearGradient(r,i,0,i),n.addColorStop(0,"rgba(255,255,255,0)"),n.addColorStop(1,"#FFFFFF"),e.fillStyle=n,e.fill(),n=e.createLinearGradient(r,0,r,i),n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"#000000"),e.fillStyle=n,e.fill()},M=function(e){var t,n,i,r;for(r=2*Math.PI/360,i=.1,t=0;360>t;)n=t*r,e.strokeStyle="hsl("+t+", 100%, 50%)",e.beginPath(),e.moveTo(T,T),e.lineTo(T+T*Math.cos(n),T+T*Math.sin(n)),e.stroke(),t+=i;return e.strokeStyle="#1d1f21",e.lineWidth=6,e.beginPath(),e.arc(T,T,T+1,0,2*Math.PI,!0),e.closePath(),e.stroke(),e.strokeStyle="#1d1f21",e.lineWidth=1,e.beginPath(),e.arc(T,T,.85*T,0,2*Math.PI,!0),e.closePath(),e.stroke(),e.strokeStyle="#1d1f21",e.lineWidth=16,e.beginPath(),e.arc(T,T,.765*T,0,2*Math.PI,!0),e.closePath(),e.stroke()},f=function(e,t,n){var i,r,s,o,a;return s=e.getImageData(t,n,1,1).data,o=("0"+s[0].toString(16)).substr(-2),r=("0"+s[1].toString(16)).substr(-2),i=("0"+s[2].toString(16)).substr(-2),a={rgb:{r:o,g:r,b:i},hex:"#"+o+r+i}},p=function(e,t,n){var i,r,s,o,a;return r=T-5,i=2*T-1,0>t&&(t=0),t>=i&&(t=i),0>n&&(n=0),n>=i&&(n=i),o=t-T,a=T-n,s=Math.atan2(a,o),0>s&&(s+=2*Math.PI),o=Math.cos(s)*r,a=Math.sin(s)*r,o+=T,a=T-a,f(e,o,a)},R=function(t){return O=t.hex,e.$apply(function(){return N=(new Date).getTime()}),n.$emit("PICKED_COLOR",t)},I=function(t,i){return O=void 0,L(A,i.hex),t.drawImage(w,0,0),m(t,{x:139,y:0}),e.$apply(function(){return N=(new Date).getTime()}),n.$emit("PICKED_COLOR",i)},_=function(e){var t;if(e)return t=s(e),d(y,t.hue())},v=function(e,n){var i,r,s,o,a,l;return t=e,o=0,a=0,r=void 0,s=void 0,i=e.getBoundingClientRect(),r=n.pageX-i.left,s=n.pageY-i.top,l={x:r,y:s}},m=function(e,t){return e.drawImage(w,0,0),e.lineWidth=2,e.strokeStyle="#fff",e.beginPath(),e.arc(t.x,t.y,6,0,2*Math.PI,!0),e.closePath(),e.stroke(),e.lineWidth=.5,e.strokeStyle="#fff",e.beginPath(),e.arc(t.x,t.y,30,0,2*Math.PI,!0),e.closePath(),e.stroke()},d=function(e,t){var n,i;return e.drawImage(b,0,0),e.lineWidth=5,e.strokeStyle="#fff",i=2*Math.PI/360,n=t*i,e.beginPath(),e.moveTo(T,T),e.lineTo(T+T*Math.cos(n),T-3+T*Math.sin(n)),e.stroke(),e.fillStyle="rgb(29, 31, 33)",e.beginPath(),e.arc(T,T,.8*T,0,2*Math.PI,!0),e.closePath(),e.fill()},C=function(e,t){return m(e,t)},P=o.debounce(C,10),j=function(e,t){var n,i,r;return i=t.x-l/2,r=t.y-a/2,n=180*Math.atan2(r,i)/Math.PI,0>n&&(n=360+n),h=n,d(e,h)},$=o.debounce(j,10),c=function(e,t){var n,i,r,s,o;return r=Hammer(e,{drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:0}),n=e.getContext("2d"),r.on("tap dragstart drag dragend",function(t){var r,s,o;switch(t.type){case"tap":return t.gesture.preventDefault(),s=t.gesture.touches[0],r=v(e,s),o=p(E,r.x,r.y),I(i,o);case"drag":return t.gesture.preventDefault(),s=t.gesture.touches[0],r=v(e,s),$(n,r);case"dragend":return t.gesture.preventDefault(),s=t.gesture.touches[0],r=v(e,s),o=p(E,r.x,r.y),I(i,o)}}),s=Hammer(t,{drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:0}),i=t.getContext("2d"),o=function(e){return e.x-=5,e.y-=5,e.x<0&&(e.x=0),e.x>139&&(e.x=139),e.y<0&&(e.y=0),e.y>139&&(e.y=139),e},s.on("tap dragstart drag dragend",function(e){var n,r,s;switch(e.type){case"tap":return e.gesture.preventDefault(),r=e.gesture.touches[0],n=v(t,r),n=o(n),s=f(i,n.x,n.y),R(s),m(i,n);case"drag":return e.gesture.preventDefault(),r=e.gesture.touches[0],n=v(t,r),n=o(n),P(i,n);case"dragend":return e.gesture.preventDefault(),r=e.gesture.touches[0],n=v(t,r),n=o(n),s=f(A,n.x,n.y),R(s)}})},L(A,e.coColor),D.drawImage(w,0,0),M(E,e.coColor),y.drawImage(b,0,0),_(e.coColor),D.drawImage(w,0,0),m(D,{x:139,y:0}),c(g,k),e.$watch("coColor",function(t,n){var s,o;return o=r.getPollTime(),s=(new Date).getTime(),N&&o>s-N?void i.debug("Picker value "+t+" discarded "+(s-N)+" when polltime is "+o):t!==n&&(_(t),t!==O&&(L(A,t),D.drawImage(w,0,0),m(D,{x:139,y:0})),e.coColor)?i.debug("Color watch ",e.coColor):void 0}),u=n.$on("RESIZE",function(e,t){var n;return n=t.page,"c.home.devices-detail"===n?i.debug("COLOR_PICKER RESIZE or ORIENTATION from ",n):void 0}),e.$on("$destroy",function(){return"undefined"!=typeof _hammertimeSaturation&&null!==_hammertimeSaturation&&_hammertimeSaturation.dispose(),"undefined"!=typeof _hammertime&&null!==_hammertime&&_hammertime.dispose(),u()})):alert("Sorry we can't show color picker for your device")}}},n.exports=angular.module("appDrvs").directive("coColorPicker",["$window","$parse","$rootScope","$log","ConnectionState",r])}),require.register("drv-drag-drop/index.js",function(e,t,n){var i,r,s,o;i=window.Hammer,o=window.lodash,s=function(e,t,n,i){var r,s,a,l;return a={},r=void 0,s=void 0,l=function(){return a={},localStorage.setItem("gridElements",JSON.stringify(a)),a},r||(r=t.$on("GRID_CHANGE_REQUEST",function(){return i(function(){return l(),t.$emit("GRID_CHANGED")},100)})),s||(s=t.$on("RESIZE",function(e,r){var s;return s=r.page,n.debug("D&D RESIZE or ORIENTATION from ",s),i(function(){return l(),t.$emit("GRID_CHANGED")},100)})),{getItems:function(){return o.isEmpty(a)&&(a=localStorage.getItem("gridElements"),a&&"{"===a[0]?a&&(a=JSON.parse(a)):a={},a||l()),a},setItem:function(e,t){return i(function(){return a[e]=t,localStorage.setItem("gridElements",JSON.stringify(a))},10)}}},angular.module("appDrvs").service("ddGrid",["$window","$rootScope","$log","$timeout",s]),r=function(e,t,n,r,s,o,a){return{restrict:"A",scope:{coDdItemId:"@",coDdUnDraggable:"@",coDdDropCb:"&"},link:function(e,t,r){var l,c,u,d,m,p,f,v,h,g;return m=void 0,d=void 0,c=void 0,u=void 0,l=35,g=function(e,t){var n;return n="translate3d("+t.x+"px,"+t.y+"px, 0) ",e.style.transform=n,e.style.oTransform=n,e.style.msTransform=n,e.style.mozTransform=n,e.style.webkitTransform=n},v=function(t){var n;if(t&&e.coDdItemId)return a.setItem(e.coDdItemId,t),n=a.getItems()[e.coDdItemId]},p=function(e,t,n,i,r,s){var o,l,c,u,d,m,p,f,v;return o=a.getItems(),u=Math.floor(r/n),d=10,f=e.x-t.x,v=e.y-t.y,l=Math.round(f/n),0>l&&(l=0),l>u&&(l=u),p=Math.round(v/i),0>p&&(p=0),p>d&&(p=d),m={x:l*n+t.x,y:p*i+t.y},n===r&&(l=void 0),c={id:s,coords:m,col:l,row:p}},f=function(e,t,n,i,r,s){var o;return o=p(e,t,n,i,r,s),v(o),o},h=function(){var n,s,o,c,u,v,h,y,b,E,w,A,S,T;if(d=void 0,o=void 0,n={x:0,y:0},s={x:0,y:0},c={x:0,y:0},h={x:0,y:0},d=t[0],null!=d?d.parentElement:void 0){for(h={x:d.parentElement.offsetLeft,y:d.parentElement.offsetTop-l},u=d.parentElement.offsetWidth,o=t.children()[0],o.draggable=e.coDdUnDraggable?!1:!0,o.style.position="absolute",o.style.width=d.offsetWidth+"px",o.style.heigth=d.offsetHeight+"px",n.x=d.offsetLeft,n.y=d.offsetTop,v=f(n,h,d.offsetWidth,d.offsetHeight,u,r.coDd),n=v.coords,o.style.left=n.x+"px",o.style.top=n.y+"px",S=d.parentElement.querySelectorAll('[draggable="true"]'),b=0,w=S.length;w>b;b++)y=S[b],y.classList.remove("drag-over");for(T=d.parentElement.querySelectorAll('[draggable="false"]'),E=0,A=T.length;A>E;E++)y=T[E],y.classList.remove("drag-over");return o.draggable?(m=i(o,{drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:5}),m.on("drag dragend dragstart",function(t){var i,l,c,m,b,E,w,A,S,T,j,C,x,k,D,O,I;switch(t.type){case"dragend":o.classList.remove("drag"),n.x+=s.x,n.y+=s.y,s={x:0,y:0},g(o,s),v=f(n,h,d.offsetWidth,d.offsetHeight,u,r.coDd),n=v.coords,h.y-n.y<=0&&(n.y=h.y+d.height+d.offsetHeight),o.style.left=n.x+"px",o.style.top=n.y+"px",b=void 0,C=a.getItems();for(w in C)if(E=C[w],E.row===v.row&&(E.col===v.col||void 0===E.col)){b=w;break}if(b&&b!==e.coDdItemId&&(i={from:e.coDdItemId,to:b},e.coDdDropCb))return e.coDdDropCb(i);break;case"dragstart":return o.classList.add("drag");case"drag":for(x=d.parentElement.querySelectorAll('[draggable="true"]'),A=0,T=x.length;T>A;A++)y=x[A],y.classList.remove("drag-over");for(k=d.parentElement.querySelectorAll('[draggable="false"]'),S=0,j=k.length;j>S;S++)y=k[S],y.classList.remove("drag-over");s={x:t.gesture.deltaX,y:t.gesture.deltaY},m={x:n.x+s.x,y:n.y+s.y},v=p(m,h,d.offsetWidth,d.offsetHeight,u,r.coDd),l=void 0,D=a.getItems();for(c in D)if(y=D[c],y.row===v.row&&(y.col===v.col||null==y.col)){l=c;break}return l&&l!==e.coDdItemId&&-1===l.indexOf("group:")&&null!=(O=d.parentElement)&&null!=(I=O.querySelector("#"+l))&&I.classList.add("drag-over"),g(o,s)}})):void 0}},c||(c=n.$on("GRID_CHANGED",function(){return null!=m&&m.dispose(),h()})),u||(u=n.$on("INIT",function(){return null!=m&&m.dispose(),h()})),o.addClass(t,"rendered",function(){return s(function(){return h()})}),e.$on("$destroy",function(){return null!=m&&m.dispose(),c(),u()})}}},n.exports=angular.module("appDrvs").directive("coDd",["$window","$parse","$rootScope","$log","$timeout","$animate","ddGrid",r])}),require.register("drv-gauge/index.js",function(e,t,n){var i,r,s,o,a,l;l=window.lodash,i=window.Hammer,a=window.Spectra,o=function(){return{controller:["$log",function(e){return e.debug("getting co-value")}]}},n.exports=angular.module("appDrvs").directive("coGaugeValue",["$log",o]),s=function(){return{controller:["$log",function(e){return e.debug("getting co-color")}]}},n.exports=angular.module("appDrvs").directive("coGaugeColor",["$log",s]),r=function(e,t,n,r,s,o,c){return{restrict:"A",require:["^coGaugeValue","^coGaugeColor"],template:'<canvas class="canvas-gauge" width="{{W}}" height="{{H}}"></canvas>',scope:{coGaugeValue:"=",coGaugeColor:"=",coGaugeScale:"=",coGaugeScaleMin:"=",coGaugeUnit:"@",coGaugeHideTitle:"@",coGaugeType:"@",coGaugeFontColor:"@",coGaugeBgColor:"@"},controller:["$scope","$log",function(){}],link:function(e,t){var u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k,D,O,I,R,_,M,L,N,$,P,U,H,q,B,F,V;return u={SLIDER:"slider",GAUGE:"gauge"},v=t.children()[0],y=t[0],P=null!=(O=e.coGaugeScale)?O:100,U=null!=(I=e.coGaugeScaleMin)?I:0,V=null!=(R=e.coGaugeUnit)?R:"%",j=e.coGaugeHideTitle,N=!1,q=void 0,g="#fff",E="#000",p=0,m=0,T=void 0,e.coGaugeColor&&(l.isArray(e.coGaugeColor)?g=e.coGaugeColor[0]:(g=e.coGaugeColor,d=a(g),E=d.darken(30).hex())),f=null!=(_=e.coGaugeBgColor)?_:"#ccc",A=null!=(M=e.coGaugeFontColor)?M:g,b=v.getContext("2d"),F=u.SLIDER,e.coGaugeType===u.GAUGE&&(F=u.GAUGE),C=e.coGaugeValue,x=!1,H=function(){return p="100",(null!=y?y.offsetWidth:void 0)&&(p=""+y.offsetWidth),m="60",e.coGaugeType===u.GAUGE&&(m=p),e.W=p,e.H=m},w=function(t){var n,i,r,s,o,a,c,d,v,h,y,w;if(b.clearRect(0,0,p,m),F!==u.GAUGE){if(b.font="22px lato",b.beginPath(),n=m-30,j||(b.fillStyle=A,a=Math.round(t/100*(P-U)+U)+V,c=b.measureText(a).width,b.fillText(a,p-c-5,m/2-10)),b.moveTo(10,n),b.lineTo(p-10,n),b.lineWidth=6,b.strokeStyle=f,b.lineCap="round",b.stroke(),l.isArray(e.coGaugeColor)){for(d=p-10,T=b.createLinearGradient(10,n-15,d,n-5),w=e.coGaugeColor,r=h=0,y=w.length;y>h;r=++h)i=w[r],T.addColorStop(r,i);b.strokeStyle=T}else d=p-10,T=b.createLinearGradient(10,n-15,d,n-5),T.addColorStop(0,E),T.addColorStop(1,e.coGaugeColor),b.strokeStyle=T;return b.lineCap="round",b.lineWidth=6,v=t*(p-20)/100+10,b.beginPath(),b.moveTo(10,n),b.lineTo(v,n),b.stroke(),o=8,d=t*(p-20)/100+10,b.beginPath(),b.arc(d,n,o,0,2*Math.PI,!1),b.fillStyle=g,b.fill(),b.lineWidth=.5,b.strokeStyle="#666",b.stroke()}return b.font="25px lato",b.beginPath(),b.strokeStyle=f,b.lineWidth=30,b.arc(p/2,m/2,m/2-b.lineWidth,0,2*Math.PI,!1),b.stroke(),s=360*t/100*Math.PI/180,b.beginPath(),b.strokeStyle=g,b.arc(p/2,m/2,m/2-b.lineWidth,0-90*Math.PI/180,s-90*Math.PI/180,!1),b.stroke(),j?void 0:(b.fillStyle=A,a=Math.round(t/100*(P-U)+U)+V,c=b.measureText(a).width,b.fillText(a,p/2-c/2,m/2+10))},k=function(e){var t,n,i;return n=e.x-p/2,i=e.y-m/2,t=180*Math.atan2(i,n)/Math.PI+90,0>t&&(t=360+t),C=t/360*100,w(C)},D=function(e){return C=100*(e.x-10)/(p-20),0>=C&&(C=0),C>=100&&(C=100),w(C)},B=F===u.GAUGE?l.debounce(k,10):l.debounce(D,10),$=function(){return e.$apply(function(){return r.debug("Gauge value set ",C),q=(new Date).getTime(),e.coGaugeValue=C})},S=function(e){var n,i,r,s,o,a;return t=v,s=0,o=0,i=void 0,r=void 0,n=v.getBoundingClientRect(),i=e.pageX-n.left,r=e.pageY-n.top,a={x:i,y:r}},s(function(){var e;return e=i(v,{drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:0}),e.on("tap dragstart drag dragend",function(e){var t,n;switch(e.type){case"tap":return e.gesture.preventDefault(),n=e.gesture.touches[0],t=S(n),D(t),$();case"dragstart":return x=!0;case"drag":return e.gesture.preventDefault(),n=e.gesture.touches[0],t=S(n),B(t);case"dragend":return x=!1,$()}})}),v.draggable=!0,v.style.cursor="crosshair",e.$watch("coGaugeValue",function(t){var n,i;return i=c.getPollTime(),n=(new Date).getTime(),q&&i>n-q?void r.debug("Gauge value "+t+" discarded "+(n-q)+" when polltime is "+i):void 0!==e.coGaugeValue?(e.coGaugeValue<0&&(e.coGaugeValue=0),e.coGaugeValue>100&&(e.coGaugeValue=100),r.debug("Gauge value ",e.coGaugeValue),N===!0?w(e.coGaugeValue):C=e.coGaugeValue):void 0}),e.$watch("coGaugeColor",function(t,n){return void 0===e.coGaugeValue||t===n||N!==!0||l.isArray(e.coGaugeColor)?void 0:(r.debug("Gauge WATCH coGaugeColor",t),g=t,d=a(g),E=d.darken(30).hex(),w(e.coGaugeValue))}),L=function(){return H(),s(function(){return w(C)})},o.addClass(t,"rendered",function(){return s(function(){return N=!0,L()})}),h=n.$on("RESIZE",function(e,t){var n;return n=t.page,"c.home.devices-detail"===n?(r.debug("GAUGE RESIZE or ORIENTATION from ",n),L()):void 0}),e.$on("$destroy",function(){return"undefined"!=typeof _hammertime&&null!==_hammertime&&_hammertime.dispose(),h()})}}},n.exports=angular.module("appDrvs").directive("coGauge",["$window","$parse","$rootScope","$log","$timeout","$animate","ConnectionState",r])}),require.register("drv-roller/index.js",function(e,t,n){var i,r,s;s=window.lodash,r=function(){return{controller:["$log",function(e){return e.debug("getting co-selection")}]}},n.exports=angular.module("appDrvs").directive("coSelection",["$log",r]),i=function(e,t,n,i,r,s,o){return{restrict:"A",require:"^coSelection",template:"<div style='position:relative'>\n    <div class='roller-list' style='opacity:0'>\n        <a ng-if='rendered && coVisibleCount' class='small-12 small-centered text-center columns list-item hideit' ng-repeat='item in rollerList track by $index' ng-class='{selected: coSelection==item , showit: selectionThis==$index || selectionNext==$index || selectionPrev==$index, border: !roll}' co-tap='select(item)'>\n\n                <i class='icon icon-{{item}}' style=''></i>\n\n        </a>\n        <a ng-if='rendered && !coVisibleCount' class='small-12 small-centered text-center columns list-item' ng-repeat='item in rollerList track by $index' ng-class='{selected: coSelection==item, border: !roll}' co-tap='select(item)'>\n            <i ng-if='coIcons' class='icon icon-{{item}}' style=''>\n            </i>\n            <span ng-if='!coIcons' > {{item}} <span>\n        </a>\n        <a  ng-if='!rendered' class='small-12 small-centered text-center columns list-item'>...</a>\n    </div>\n    <div class='roller-selection' ng-show='roll'></div>\n    <div class='roller-list-virtual' ng-if='roll'>\n        <div class='roller-list-virtual-content'></div>\n    </div>\n</div>",scope:{coSelection:"=",coVisibleCount:"=",coIcons:"=",coRollerList:"&"},controller:["$scope","$log",function(){}],link:function(e,t){var n,a,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A,S,T,j,C,x,k;return e.coVisibleCount?(x=angular.copy(e.coRollerList()),f=x.concat(x).concat(x).concat(x).concat(x)):f=angular.copy(e.coRollerList()),p=f.slice(-10).concat(f).concat(f.slice(0,10)),c=void 0,e.rollerList=angular.copy(p),e.rollerListLength=e.rollerList.length,e.roll=!1,e.rendered=!1,l=t,n=angular.element(t.children()[0]),b=n.children()[0],y=angular.element(b),S=void 0,E=void 0,A=void 0,w=void 0,T=void 0,d=void 0,m=void 0,v=void 0,u=void 0,h=function(){return S.scrollTop=v/2-m/2},C=function(e){var t;return e||0===e?f.length>T?(t=f.indexOf(e),t=t+10-Math.floor(T/2),console.log("currentIndex: "+t),S.scrollTop=t*m):void 0:h()},e.select=function(t){return e.coSelection=t},k=function(){var t,n,i;return c=S.scrollTop,t=f.indexOf(e.coSelection),c+d>=S.scrollHeight?void C(f[t++]):0>=c?void C(f[t--]):(i=Math.round(c/m)*m,b.scrollTop=i,n=i/m+Math.floor(T/2),s(function(){return e.selectionThis=n,e.selectionPrev=n-1,e.selectionNext=n+1,e.coSelection=e.rollerList[n]}))},j=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),k()},g=function(){var t,i,o;if(null!=(o=b.children)?o[0]:void 0){if(m=b.children[0].getBoundingClientRect().height+2,T=0,f.length<6&&!e.coVisibleCount)T=f.length,e.rollerList=angular.copy(f),d=Math.round(m*T),S=n.children()[2],b.style.opacity="1";else{for(d=Math.round(.55*document.body.offsetHeight),t=i=2;10>i;t=i+=2)d>t*m&&(T=t);T++,d=Math.round(m*T),e.roll=!0}if(b.parentElement.style.height=d+"px",v=e.rollerList.length*m,e.roll)return s(function(){var t,i;return i=n.children()[1],t=angular.element(i),S=n.children()[2],E=angular.element(S),A=E.children()[0],w=angular.element(A),S&&(null!=A?A.style:void 0)?(E.bind("scroll",j),A.style.height=v+"px",b.style.opacity="1",C(e.coSelection),r.debug("ROLLER RENDERED",Date.now()),u=Hammer(S,{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300}),u.on("tap",function(t){var n,i,r,o;return t.gesture.stopDetect(),n=t.gesture.center.pageY,n?(r=(null!=(o=S.getBoundingClientRect())?o.top:void 0)||114,n=n+S.scrollTop-r,i=Math.floor(n/m),s(function(){return e.rollerList[i]&&(e.coSelection=e.rollerList[i]),C(e.coSelection)})):void 0})):void 0},100)}},o.addClass(l,"rendered",function(){return s(function(){return r.debug("ROLLER RENDERER",Date.now()),s(function(){return e.rendered=!0,s(function(){return g()})})})}),a=i.$on("RESIZE",function(e,t){var n;return n=t.page,r.debug("ROLLER RESIZE or ORIENTATION from ",n),g()}),e.$on("$destroy",function(){return a(),u?u.dispose():void 0})}}},n.exports=angular.module("appDrvs").directive("coRoller",["$window","$document","$parse","$rootScope","$log","$timeout","$animate",i])}),require.register("drv-video/index.js",function(e,t,n){var i,r,s;s=t("vendors"),r=s.jwplayer,i=function(e,t,n,i,s,o,a){return{restrict:"A",template:'<div id="videocontainer">\n    Loading the player\n</div>',scope:{coVideoSrc:"=",coVideoFramespersecond:"=",coVideoImageURL:"=",coVideoFullscreenbtn:"="},controller:["$scope","$log",function(){}],link:function(t,n){var o,l,c,u,d,m,p,f,v,h;return c=angular.element(n.children()[0]),h=angular.element(c.children()[0]),f=null!=(d=t.coVideoSrc)?d:"http://samplestreamseu.streaming.mediaservices.windows.net/60d15401-a440-4f1f-bb97-0e1ffa2ff17d/76474ddb-f917-4b1a-9f13-042ed1365e4e.ism/manifest",v=h,u=null!=(m=t.coVideoFramespersecond)?m:10,t.isHidden=!1,t.rendered=!1,o=void 0,p=function(){var e,n,i;return n=window.getComputedStyle(c[0],null),i=parseInt(n.getPropertyValue("width")),e=6*i/9,t.rendered=!0,o=r("videocontainer"),o.setup({flashplayer:"./dist/assets/jwplayer.flash.swf",file:"http://content.jwplatform.com/videos/HkauGhRi-640.mp4",width:i,height:e,title:"Basic Video Embed",description:"A video with a basic title and description!"})},a.addClass(c,"rendered",function(){return i(function(){return i(function(){return t.rendered=!0,i(function(){return p()})})})}),l=e.$on("RESIZE",function(e,t){var n;return n=t.page,s.debug("VIDEO RESIZE or ORIENTATION from ",n),p()}),t.$on("$destroy",function(){return l()})}}},n.exports=angular.module("appDrvs").directive("coVideo",["$rootScope","$window","$parse","$timeout","$log","$interval","$animate",i])}),require.register("drv-swipe/index.js",function(e,t,n){var i,r,s;i=window.Hammer,s=window.lodash,r=function(e,t,n,r,s,o,a){return{restrict:"A",scope:{coSwipeTopNav:"=",coSwipeStartPage:"=",coSwipeCb:"&"},link:function(e,t){var n,l,c,u,d,m,p,f,v,h,g,y,b,E,w,A;return A=t[0],u=t.children()[0],f=angular.element(u).children(),g=0,h=f.length,d=0,E=function(){var e,t,n,i,r,s,o,a,l,c,d,m,p,f,v;for(A.classList.add("invisible"),g=A.offsetWidth,n=A.offsetHeight,i=g*h,u.style.width=i+"px",u.style.height=n+"px",o=n-55,p=u.children,l=0,d=p.length;d>l;l++){for(s=p[l],s.style.width=g+"px",s.style.height=o+"px",a=0,t=angular.element(s).children(),r=c=0,m=t.length;m>c;r=++c)e=t[r],a+=null!=(f=null!=(v=t[r])?v.offsetHeight:void 0)?f:0;s.style["overflow-y"]="auto",s.style["touch-action"]="pan-y",s.style["-ms-touch-action"]="pan-y",s.style["-webkit-overflow-scrolling"]="touch"}return A.classList.remove("invisible")},p=navigator.msMaxTouchPoints,b=function(e,t){var n,i;return u.classList.remove("animate"),p?(n=g*h/100*e,u.style.left=n+"px"):(t&&u.classList.add("animate"),i="translate3d("+e+"%,0,0) scale3d(1,1,1)",u.style.transform=i,u.style.oTransform=i,u.style.msTransform=i,u.style.mozTransform=i,u.style.webkitTransform=i)},w=function(t,n){var i;return t=Math.max(0,Math.min(t,h-1)),d=t,i=-(100/h*d),b(i,n),e.coSwipeCb({number:d})},v=function(e){var t;return t=e||!0,w(d+1,t)},y=function(e){var t;return t=e||!0,w(d-1,t)},m=i(A,{stop_browser_behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"},drag_min_distance:2,correct_for_drag_min_distance:!0,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:20}),m.on("release dragleft dragright swipeleft swiperight",function(t){var n,i,o,a,l;if(e.coSwipeTopNav===!0&&!(r.noSwipe||"up"===t.gesture.direction||"down"===t.gesture.direction||(null!=(a=t.gesture)?a.target:void 0)&&(t.gesture.target.draggable||(null!=(l=t.gesture.target.parentElement)?l.draggable:void 0))))switch(o=function(){var e;return(null!=(e=t.gesture)?e.preventDefault:void 0)?t.gesture.preventDefault():void 0},t.type){case"dragright":case"dragleft":return o(),i=-(100/h)*d,n=100/g*t.gesture.deltaX/h,b(n+i);case"swipeleft":return o(),s.debug("swipe left"),v(),t.gesture.stopDetect();case"swiperight":return o(),s.debug("swipe right"),y(),t.gesture.stopDetect();
case"release":return Math.abs(t.gesture.deltaX)>20?"right"===t.gesture.direction?y():v():w(d,!0)}}),a.addClass(t,"rendered",function(){return o(function(){return E(),void 0!==e.coSwipeStartPage?w(e.coSwipeStartPage,!1):void 0})}),n=r.$on("SCENES_LIST_CHANGED",function(){return o(function(){return E()},200)}),c=r.$on("SWIPE_TO_PAGE",function(e,t){var n,i,r;return i=t.page,n=null!=(r=t.animate)?r:!1,i>-1&&10>i?w(i,n):void 0}),l=r.$on("RESIZE",function(e,t){var n;return n=t.page,s.debug("SWIPE RESIZE or ORIENTATION from ",n),E()}),e.$on("$destroy",function(){return m.dispose(),n(),c(),l()})}}},n.exports=angular.module("appDrvs").directive("coSwipe",["$window","$document","$parse","$rootScope","$log","$timeout","$animate",r])}),require.register("drv-input/index.js",function(e,t,n){var i,r,s;s=window.lodash,r=function(e,t,n,i,r,o){return{restrict:"A",scope:{scrollTo:"@coOkFocusScroll",fn:"&coOk"},link:function(e,t){var a,l,c,u,d;return a="",l=t.attr("size"),l&&(l=Number(l)),n(function(){return a=t.val()},50,!1),c=!1,d=function(){var e,i,r;return i=void 0,e=t.attr("ok-index"),e&&(r=Number(e)+1,i=document.querySelector("[ok-index='"+r+"']")),i?n(function(){return i.focus()}):void 0},u=function(r){return r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.hasClass("ng-invalid")?i.debug("coOk: element value invalid, can not save yet"):n(function(){var n;return a=t.val(),d(),s.isFunction(e.fn())?(n={$event:r},e.fn(n)):t[0].blur()})},t.bind("focus",function(){var i,s;return i=navigator.userAgent.match(/(Android 4.4)/),e.scrollTo&&i&&(s=angular.element(document.getElementById(e.scrollTo)),(null!=s?s.length:void 0)>0&&(o.hash(e.scrollTo),r())),1===l?n(function(){return t[0].setSelectionRange(0,10)},50,!1):void 0}),t.bind("blur",function(e){return n(function(){return t.val()!==a||t.val().length===l?u(e):void 0},50,!1)}),t.bind("keyup",function(n){var i,r;if(i=n.charCode||n.keyCode,13===i||108===i)u(n);else if(27===i)t.val(a);else if(9===i||16===i||17===i||18===i)return;return r=t.val(),r.length>=l&&(r.length>l&&(r=r.slice(0,l),e.$apply(function(){return t.val(r)})),r!==a||r.length===l)?e.$apply(function(){return u(n)}):void 0})}}},i=function(){return{restrict:"A",scope:{coFocus:"="},link:function(e,t){return e.$watch("coFocus",function(){return t[0].focus()})}}},n.exports=angular.module("appDrvs").directive("coOk",["$window","$parse","$timeout","$log","$anchorScroll","$location",r]).directive("coFocus",["$window","$parse","$timeout","$log","$anchorScroll","$location",i])}),require.register("drv-modals/index.js",function(e,t,n){var i,r,s,o,a,l,c,u;u=window.lodash,i=window.Hammer,r=function(e,t,n){var i;return i=t.params(),e.message=i.message||n.tr("Ups!"),e.confirmButton=i.confirmButton||n.tr("Ok"),e.confirm=t.resolve},angular.module("appDrvs").controller("ModalsAlert",["$scope","ModalsSrv","i18nSrv",r]),o=function(e,t,n){var i;return i=t.params(),e.message=i.message||n.tr("Are you sure?"),e.confirmButton=i.confirmButton||n.tr("Yes!"),e.denyButton=i.denyButton||n.tr("No"),e.confirm=t.resolve,e.deny=t.reject},angular.module("appDrvs").controller("ModalsConfirm",["$scope","ModalsSrv","i18nSrv",o]),c=function(e,t,n){var i;return i=t.params(),e.message=i.message||n.tr("Enter"),e.confirmButton=i.confirmButton||n.tr("Ok"),e.denyButton=i.denyButton||n.tr("Cancel"),e.form={input:i.placeholder||""},e.errorMessage=null,e.cancel=t.reject,e.submit=function(){return e.form.input?t.resolve(e.form.input):e.errorMessage=n.tr("Please provide something!")}},angular.module("appDrvs").controller("ModalsPrompt",["$scope","ModalsSrv","i18nSrv",c]),a=function(e,t,n){var i;return i=t.params(),e.message=i.message||n.tr("Enter"),e.confirmButton=i.confirmButton||n.tr("Ok"),e.list=i.list||[],e.errorMessage=null,e.cancel=t.reject,e.submit=function(e){return t.resolve(e)}},angular.module("appDrvs").controller("ModalsList",["$scope","ModalsSrv","i18nSrv",a]),l=function(e,t,n,i){var r;return r={deferred:null,params:null},{params:function(){return r.params||{}},open:function(e,n,s){var o;return o=r.deferred,r.deferred=i.defer(),r.params=n,o&&s?r.deferred.promise.then(o.resolve,o.reject):o&&o.reject(),t.$emit("OPEN_MODAL",e),r.deferred.promise},proceedTo:function(e,t){return open(e,t,!0)},reject:function(e){return r.deferred?(r.deferred.reject(e),r.deferred=r.params=null,t.$emit("CLOSE_MODAL")):void 0},resolve:function(e){return r.deferred?(r.deferred.resolve(e),r.deferred=r.params=null,t.$emit("CLOSE_MODAL")):void 0}}},angular.module("appDrvs").service("ModalsSrv",["$window","$rootScope","$log","$q",l]),s=function(e,t,n,r){return{restrict:"A",link:function(t,n){var s,o;return t.subview=null,s=n[0],o=i(s,{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300}),o.on("tap",function(e){var i;return e.gesture.stopDetect(),n[0]===(null!=(i=e.gesture)?i.target:void 0)?(console.log("REJECT MODAL OUTSIDE MODAL 0",e.target),t.$apply(r.reject)):void 0}),t.$on("$destroy",function(){return null!=o?o.dispose():void 0}),e.$on("OPEN_MODAL",function(e,n){return t.subview=n}),e.$on("CLOSE_MODAL",function(){return t.subview=null})}}},n.exports=angular.module("appDrvs").directive("coModals",["$rootScope","$log","$timeout","ModalsSrv",s])}),require.register("drv-img/index.js",function(e,t,n){var i,r;r=window.lodash,i=function(){return{restrict:"A",link:function(e,t,n){return n.$observe("coBgImg",function(e){return t.css({"background-image":"url("+e+")","background-size":"cover"})})}}},n.exports=angular.module("appDrvs").directive("coBgImg",["$window","$parse","$timeout",i])}),require.register("drv-include/index.js",function(e,t,n){var i,r;r=window.lodash,i=function(e,t,n,i){return{restrict:"A",transclude:!0,replace:!0,scope:!1,link:function(e,r,s){var o,a;a=s.coInclude;try{a=e.$eval(a)}catch(l){throw o=l,new Error(s.coInclude+" is not a valid object")}return t.get(a,{cache:n}).success(function(t){var n;return n=r.html(t).contents(),i(n)(e.$parent)})}}},n.exports=angular.module("appDrvs").directive("coInclude",["$window","$http","$templateCache","$compile",i])}),require.register("drv-tap-hold/index.js",function(e,t,n){var i,r,s,o,a,l;l=window.lodash,i=window.Hammer,a=function(e,t){return{restrict:"A",link:function(e,n,r){var s,o,a;return s=t(r.coTap),o=n[0],a=i(o,{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300}),a.on("tap",function(t){return t.gesture.stopDetect(),angular.element(o).hasClass("disabled")||angular.element(o).attr("disabled")?void 0:l.isFunction(s)?e.$apply(function(){return s(e,{$event:t})}):void 0}),e.$on("$destroy",function(){return null!=a?a.dispose():void 0})}}},r=function(e,t){return{restrict:"A",link:function(e,n,r){var s,o,a;return s=t(r.coHold),o=n[0],a=i(o,{hold_threshold:2,hold_timeout:300}),a.on("hold",function(t){return t.gesture.stopDetect(),angular.element(o).hasClass("disabled")||angular.element(o).attr("disabled")?void 0:l.isFunction(s)?e.$apply(function(){return s(e,{$event:t})}):void 0}),e.$on("$destroy",function(){return null!=a?a.dispose():void 0})}}},o=function(e,t){return{restrict:"A",link:function(e,n,r){var s,o,a,c;return s=void 0,"true"!==r.coSwipeX&&(s=t(r.coSwipeX)),o=n[0],a=i(o,{drag_min_distance:2,correct_for_drag_min_distance:!0,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!0,drag_lock_min_distance:10}),c=o.scrollLeft,a.on("dragstart drag dragend",function(t){var n,i,r,a;switch(t.type){case"dragstart":return l.isFunction(s)?((null!=(i=t.gesture)?i.preventDefault:void 0)&&t.gesture.preventDefault(),e.$apply(function(){return s(e,{$event:t})})):c=o.scrollLeft;case"drag":if(!l.isFunction(s))return n=t.gesture.deltaX,o.scrollLeft=c-n;if(null!=(r=t.gesture)?r.preventDefault:void 0)return t.gesture.preventDefault();break;case"dragend":if(!l.isFunction(s))return c=o.scrollLeft;if(null!=(a=t.gesture)?a.preventDefault:void 0)return t.gesture.preventDefault()}}),e.$on("$destroy",function(){return null!=a?a.dispose():void 0})}}},s=function(){return{restrict:"A",link:function(e,t){var n,r,s,o;return r=t[0],s=i(r,{drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:3}),o=void 0,n={},s.on("drag dragend dragstart",function(e){var t,n;switch(e.type){case"dragstart":if(t=angular.element(e.srcElement))return t.scope().$apply(t.attr("co-tap")),o=t[0];break;case"drag":if(n=document.elementFromPoint(e.gesture.center.pageX,e.gesture.center.pageY),t=void 0,n&&(t=angular.element(n)),!(t&&t.attr("co-over")&&"true"===t.attr("co-over")&&t.attr("co-tap")))return void(o=void 0);if(t[0]!==o)return o=t[0],t.scope().$apply(t.attr("co-tap"));break;case"dragend":return o=void 0}}),e.$on("$destroy",function(){return null!=s?s.dispose():void 0})}}},n.exports=angular.module("appDrvs").directive("coTap",["$window","$parse","$timeout","$log",a]).directive("coHold",["$window","$parse","$timeout","$log",r]).directive("coSwipeX",["$window","$parse","$timeout","$log",o]).directive("coOver",["$window","$parse","$timeout","$log",s])}),require.register("boot/template-menu.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div id="menu" ui-view="menu" autoscroll="false"></div>'),e.join("")}}),require.register("boot/template-left-menu.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<nav id="slide-in-menu" ng-class="{active: menuOpen==true}" co-tap="closeMenu()" class="menu-background"><div class="row"><div class="small-12 columns text-center"><i ng-if="currentLanguage==&quot;en&quot;" class="icon icon-cozifyen"></i><i ng-if="currentLanguage==&quot;fi&quot;" class="icon icon-cozifyfi"></i></div></div><div class="row"><div co-tap="gotoHUBSelection()" ng-controller="ConnectionCtrl" class="small-10 small-centered columns end"><div class="row hub-selection valign-middle"><div class="small-2 columns text-left lr-padding-0"><i ng-if="selectedHub.connState!=undefined &amp;&amp; (selectedHub.connState == HUB_STATE.LOCAL_UNCLAIMED || selectedHub.connState != HUB_STATE.REMOTE &amp;&amp; selectedHub.connState != HUB_STATE.NO_CONN)" class="con"><div class="icon icon-hub"></div></i><i ng-if="!selectedHub.connState==undefined || selectedHub.connState == HUB_STATE.REMOTE" class="con"><div class="icon icon-hub-remote"></div></i><i ng-if="selectedHub.connState == HUB_STATE.NO_CONN" class="con"><div class="icon icon-clear-values"></div></i></div><div class="small-8 columns text-center"><div class="icon-center-line">{{selectedHub.name}}</div></div><div class="small-2 columns text-right lr-padding-0"><i class="con"><div class="icon icon-cornerarrow down"></div></i></div></div></div><button co-tap="swipeToRules()" ng-class="{on: menu.isRules, select: !menu.isRules}" class="small-4 button main"><i class="con"><div class="icon icon-rule"></div></i><span>{{\'RULES\'|tr}}</span></button><button co-tap="swipeToScenes()" ng-class="{on: menu.isScenes, select: !menu.isScenes}" class="small-4 button main"><i class="con"><div class="icon icon-scene"></div></i><span>{{\'SCENES\'|tr}}</span></button><button co-tap="swipeToDevices()" ng-class="{on: menu.isDevices, select: !menu.isDevices}" class="small-4 button main"><i class="con"><div class="icon icon-devices"></div></i><span>{{\'DEVICES\'|tr}}</span></button><button ng-if="features.isRooms" co-tap="gotoRooms()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-room"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'ROOMS\'|tr}}</span></div></div></div></button><button co-tap="gotoSupportAndFeedback()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-guide"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'SUPPORT AND FEEDBACK\'|tr}}</span></div></div></div></button></div><button co-tap="gotoHubSettings()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-hub-settings"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'HUB SETTINGS\'|tr}}</span></div></div></div></button><button co-tap="gotoPreferences()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-my-settings"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'MY SETTINGS\'|tr}}</span></div></div></div></button><button co-tap="gotoLogs()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-mainmenu"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'LOGS\'|tr}}</span></div></div></div></button><button ng-controller="ConnectionCtrl" class="small-12 button"><div class="explanation">{{\'HUB VERSION\'|tr}} {{ui.HUBVersion}}, {{\'APP VERSION\'|tr}} {{ui.UIVersion}}</div></button></nav>'),e.join("")}}),require.register("boot/template-left-support.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="row"><div class="small-10 small-centered columns end"><button co-tap="sendFeedback()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-notification"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'FEEDBACK\'|tr}}</span></div></div></div></button><button co-tap="goToSupport()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-guide"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'SUPPORT\'|tr}}</span></div></div></div></button><button co-tap="gotoForum()" class="small-12 button"><div class="row valign-middle"><div class="small-2 lr-padding-0 columns text-center"><i class="con"><div class="icon icon-community"></div></i></div><div class="small-10 columns text-left"><div class="icon-center-line"><span>{{\'WEB FORUM\'|tr}}</span></div></div></div></button></div></div></form>'),e.join("")}}),require.register("boot/template-left-hub-settings.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view"><div class="row t-margin-S"><div class="small-12 columns"><div class="HUBInput small-10 small-centered medium-6 medium-centered columns end"><div class="row"><div class="small-12 small-centered medium-6 medium-centered text-center columns end"><label class="top text-center">{{\'HUB NAME\'|tr}}</label></div><div class="small-12 columns"><div ng-if="selectedHub.role==32" class="row collapse"><div class="small-10 columns"><input type="text" ng-model="ui.HUBName" co-ok="nameHUBOk()" co-ok-focus-scroll="HUBInput" placeholder="{{&quot;Enter name&quot;|tr}}" class="text-center"/></div><div class="small-2 columns"><a co-tap="nameHUBOk()" class="button postfix">Ok</a></div></div><div ng-if="selectedHub.role!=32" class="row b-margin-M"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><span>{{ui.HUBName}}</span></div></div></div></div><div ng-if="features.isTimeZone" class="row"><div class="small-12 small-centered text-center columns end"><label class="top text-center">{{\'TIMEZONE\'|tr}}</label></div><div co-tap="showTimeZones()" class="small-12 small-centered text-center columns end"><button ng-if="selectedHub.role==32" class="row-button t-margin-0">{{ui.HUBZone}}</button><span ng-if="selectedHub.role!=32">{{ui.HUBZone}}</span></div></div><div ng-if="features.isAdvancedSettings" class="row"><div class="small-12 small-centered text-center columns end"><label class="top text-center">{{\'ADVANCED SETTINGS\'|tr}}</label></div><div co-tap="showZigbeeSettings()" class="small-12 small-centered text-center columns end"><button ng-if="selectedHub.role==32" ng-class="{disabled:!ui.zigbeeStatus.hasNetwork}" class="row-button t-margin-0">{{\'ZIGBEE CONNECTION\'|tr}}</button></div></div></div></div></div><hr/><div ng-controller="UsersCtrl" ng-if="!menu.modalPage" class="row t-margin-M"><div class="small-12 columns"><h3 class="dark-font">{{\'USERS\'|tr}}</h3></div><div class="small-6 name columns"><label class="top secondary">{{\'ACCOUNT\'|tr}}</label></div><div class="small-4 name columns end"><label class="top secondary">{{\'ROLE\'|tr}}</label></div><div class="small-12 columns lighter-background"><div class="row simple-list action-list"><div class="small-12 columns selected"><a co-tap="gotoPreferences()" class="row valign-middle action-header"><div class="small-6 name columns text-left"><div ng-if="me.email.length&gt;=14" class="icon-center-line">{{me.email | limitTo:14}}...({{\'you\'|tr}})</div><div ng-if="me.email.length&lt;14" class="icon-center-line">{{me.email}} ({{\'you\'|tr}})</div></div><div class="small-4 name columns"><div class="icon-center-line"><span>{{me.roleName}}</span></div></div><div class="small-2 columns text-center link-color"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div><div ng-repeat="user in users" class="small-12 columns"><a co-tap="userDetails(user.id)" class="row valign-middle action-header"><div class="small-6 name columns text-left"><div ng-if="user.email.length&gt;=20" class="icon-center-line">{{user.email | limitTo:20}}...</div><div ng-if="user.email.length&lt;20" class="icon-center-line">{{user.email}}</div></div><div class="small-4 name columns"><div class="icon-center-line"><span>{{user.roleName}}</span></div></div><div class="small-2 columns text-center link-color"><i class="con"><div class="icon icon-cornerarrow"></div></i></div></a></div></div></div></div></form><div ng-include="\'/template-users.tpl.html\'" ng-controller="UsersCtrl" ng-if="menu.modalPage==&quot;Users&quot;" class="slide-animate"></div><div ng-include="\'/template-timezone.tpl.html\'" ng-if="menu.modalPage==&quot;TimeZone&quot;" class="slide-animate"></div><div ng-include="\'/template-zigbee.tpl.html\'" ng-if="menu.modalPage==&quot;ZigbeeSettings&quot;" class="slide-animate"></div>'),e.join("")}}),require.register("boot/template-offcanvas.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<div id="offcanvas" ui-view="offcanvas" autoscroll="false"></div>'),e.join("")}}),require.register("boot/template-header.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<nav id="header-menu" ng-if="ui.show&amp;&amp;ui.mode!=MODE.MODAL&amp;&amp;ui.mode!=MODE.MODAL_KIND&amp;&amp;!menu.modalPage" ng-class="{bymenu:menuOpen, preset:ui.preset}" class="row header-bar background movable"><a ng-if="!ui.previous" co-tap="toggleMenu()" class="header-bar-height small-2 columns l-padding-0"><i ng-if="!isRemote" class="con"><div class="icon icon-mainmenu"></div></i><i ng-if="isRemote" class="con"><div class="icon icon-mainmenu-remote"></div></i></a><a ng-if="ui.previous" co-tap="ui.prev()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-backarrow"></div></i></a><div ng-if="!ui.mode&amp;&amp;!ui.add" class="header-bar-height small-8 columns"><div ng-class="{long:ui.longTitle}" class="header-center title"><i ng-if="ui.icon" class="right-padded icon {{ui.icon}}"></i><span class="name-title">{{ui.title}}</span></div></div><div ng-if="!ui.mode&amp;&amp;!ui.add" class="header-bar-height small-2 columns"></div><div ng-if="ui.add&amp;&amp;!ui.mode" class="header-bar-height small-8 columns"><div class="header-center title"><i ng-if="ui.icon" class="right-padded icon {{ui.icon}}"></i><span class="name-title">{{ui.title}}</span></div></div><div ng-if="ui.mode==MODE.WIZARD_NEXT||ui.mode==MODE.WIZARD_LAST" class="header-bar-height small-7 columns small"><div class="header-center title"><span class="name-title">{{ui.title}}</span></div></div><a ng-if="ui.mode==MODE.WIZARD_NEXT" co-tap="wizNext()" ng-disabled="ui.wizDisabled" class="header-bar-height small-3 columns text-center lr-padding-0"><div ng-class="{disabled: ui.wizDisabled}" class="header-center header-button">{{\'Next\'|tr}}</div></a><a ng-if="ui.mode==MODE.WIZARD_LAST" co-tap="wizLast()" ng-disabled="ui.wizDisabled" class="header-bar-height small-3 columns text-center lr-padding-0"><div ng-class="{disabled: ui.wizDisabled}" class="header-center header-button">{{\'Done\'|tr}}</div></a><div ng-if="!ui.add&amp;&amp;ui.mode&amp;&amp;ui.mode!=MODE.WIZARD_NEXT&amp;&amp;ui.mode!=MODE.WIZARD_LAST&amp;&amp;(!ui.settings&amp;&amp;ui.onoff!=MODE.NONE)" class="header-bar-height small-8 columns"><div ng-if="ui.mode==MODE.VIEW" ng-class="{icon:ui.icon}" class="header-center title view"><i ng-if="ui.icon" class="right-padded icon {{ui.icon}}"></i><span class="name-title for-icon">{{ui.title}}</span></div><div ng-if="ui.mode==MODE.EDIT" class="title edit"><input type="text" ng-model="ui.title" palceholder="{{ui.placeholder}}" co-ok="setTitle()" class="header-center header-control"/></div></div><div ng-if="ui.add&amp;&amp;ui.mode&amp;&amp;ui.mode!=MODE.WIZARD_NEXT&amp;&amp;ui.mode!=MODE.WIZARD_LAST" class="header-bar-height small-7 name columns"><div class="header-center title main trunc"><span>{{ui.title}}</span></div></div><div ng-if="ui.settings&amp;&amp;ui.onoff&amp;&amp;ui.onoff!=MODE.NONE" class="header-bar-height small-7 name columns"><div class="header-center title main trunc"><span>{{ui.title}}</span></div></div><div ng-if="!ui.settings&amp;&amp;ui.onoff==MODE.NONE" class="header-bar-height small-7 end name columns"><div class="header-center title main trunc"><span>{{ui.title}}</span></div></div><div ng-if="ui.settings&amp;&amp;ui.onoff==MODE.NONE" class="header-bar-height small-8 end name columns"><div class="header-center title main trunc"><span>{{ui.title}}</span></div></div><a ng-if="!ui.add&amp;&amp;ui.mode==MODE.VIEW&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="setEdit()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-editpen"></div></i></a><a ng-if="!ui.add&amp;&amp;ui.mode==MODE.EDIT&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="setView()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-done"></div></i></a><a ng-if="!ui.add&amp;&amp;ui.mode==MODE.EDIT&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff==MODE.NONE" co-tap="setView()" class="header-bar-height small-2 columns text-center"><i class="con">&nbsp;</i></a><a ng-if="ui.add&amp;&amp;ui.mode==MODE.VIEW&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="setEdit()" class="header-bar-height small-1 columns text-center lr-padding-0"><i class="con"><div class="icon icon-editpen"></div></i></a><a ng-if="ui.add&amp;&amp;ui.mode==MODE.VIEW&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="add()" class="header-bar-height small-2 columns text-right r-padding-0"><i class="con"><div class="icon icon-plus"></div></i></a><a ng-if="ui.add&amp;&amp;ui.mode==MODE.EDIT&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="setView()" class="header-bar-height small-1 columns text-center lr-padding-0"><i class="con"><div class="icon icon-done"></div></i></a><a ng-if="ui.add&amp;&amp;ui.mode==MODE.EDIT&amp;&amp;ui.onoff!=MODE.ON&amp;&amp;ui.onoff!=MODE.OFF&amp;&amp;ui.onoff!=MODE.NONE" co-tap="add()" class="header-bar-height small-2 columns text-right r-padding-0"><i class="con"><div class="icon icon-plus"></div></i></a><a ng-if="ui.settings&amp;&amp;!ui.onoff" co-tap="toggleSettings()" class="header-bar-height small-2 columns text-left"><i class="con"><div class="icon icon-settings"></div></i></a><a ng-if="ui.settings&amp;&amp;ui.onoff==MODE.NONE" co-tap="toggleSettings()" class="header-bar-height small-2 columns text-left"><i class="con"><div class="icon icon-settings"></div></i></a><a ng-if="!ui.settings&amp;&amp;ui.onoff==MODE.ON" co-tap="setOff()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-power on"></div></i></a><a ng-if="!ui.settings&amp;&amp;ui.onoff==MODE.OFF" co-tap="setOn()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-power off"></div></i></a><a ng-if="ui.settings&amp;&amp;ui.onoff&amp;&amp;ui.onoff!=MODE.NONE" co-tap="toggleSettings()" class="header-bar-height small-1 columns text-center"><i class="con"><div class="icon icon-settings"></div></i></a><a ng-if="ui.settings&amp;&amp;ui.onoff==MODE.ON" co-tap="setOff()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-power on"></div></i></a><a ng-if="ui.settings&amp;&amp;ui.onoff==MODE.OFF" co-tap="setOn()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-power off"></div></i></a><a ng-if="ui.mode!=MODE.VIEW&amp;&amp;ui.mode!=MODE.EDIT&amp;&amp;ui.add" co-tap="add()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-plus"></div></i></a></nav><nav id="header-menu" ng-if="!ui.show&amp;&amp;ui.mode==MODE.LOGO" class="row header-bar black-background"><a ng-if="!ui.previous" co-tap="toggleMenu()" class="header-bar-height small-2 columns text-center"><i class="header-center icon icon-mainmenu"></i></a><div class="header-bar-height small-10 columns"><div class="cozify-icon"><i ng-if="selectedLanguage==&quot;en&quot;" class="icon icon-cozifyen"></i><i ng-if="selectedLanguage==&quot;fi&quot;" class="icon icon-cozifyfi"></i></div></div></nav><nav id="header-menu" ng-if="ui.show&amp;&amp;(ui.mode==MODE.MODAL||ui.mode==MODE.MODAL_KIND)" class="row header-bar black-background"><div class="small-8 small-offset-2 small-centered columns"><div class="header-center title in-modal"><span class="name-title">{{ui.title}}</span></div></div><a ng-if="ui.previous &amp;&amp; ui.previous!=&quot;-&quot;" co-tap="ui.prev()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-close"></div></i></a><a ng-if="ui.previous==&quot;-&quot;" class="header-bar-height small-2 columns text-center">&nbsp;</a><a ng-if="!ui.previous &amp;&amp; ui.previous!=&quot;-&quot;" co-tap="closeModal()" class="header-bar-height small-2 columns text-center"><i class="con"><div class="icon icon-close"></div></i></a></nav>'),e.join("")}}),require.register("boot/template-logger.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="main-view row"><div class="small-12 columns"><div class="row"><div class="small-3 columns text-center"><a co-tap="setLevel(LEVELS.NONE)" ng-class="{success: logLevel==LEVELS.NONE}" class="label">NONE</a></div><div class="small-3 columns text-center"><a co-tap="setLevel(LEVELS.ERROR)" ng-class="{success: logLevel==LEVELS.ERROR}" class="label">ERROR</a></div><div class="small-3 columns text-center"><a co-tap="setLevel(LEVELS.INFO)" ng-class="{success: logLevel==LEVELS.INFO}" class="label">INFO</a></div><div class="small-3 columns text-center"><a co-tap="setLevel(LEVELS.DEBUG)" ng-class="{success: logLevel==LEVELS.DEBUG}" class="label">DEBUG</a></div></div><div class="row"><div class="small-10 small-centered medium-6 medium-centered text-center columns end"><label class="text-center">{{uuid}}</label></div></div><div class="row log-headers"><div class="small-2 columns">Time</div><div class="small-2 columns">Level</div><div class="small-8 columns">Msg</div></div><div ng-repeat="line in logs" ng-class-odd="\'odd\'" ng-class-even="\'even\'" class="row log-lines {{line.level}}"><div class="small-2 columns">{{line.time}}</div><div class="small-2 columns">{{line.level}}</div><a ng-if="line.arg1" co-tap="alertDialog(&quot;Args: &quot; +line.arg1)" class="small-8 columns">{{line.msg}}...</a><div ng-if="!line.arg1" class="small-8 columns">{{line.msg}}</div></div></div></form>'),e.join("")}}),require.register("boot/template-roller-time.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div ng-class="{long: timeRoller.getRollerList().length&gt;5}" class="align-middle"><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns end text-center"><label>{{timeRoller.unit|tr}}</label></div></div><div class="row collapse select-list"><div co-roller="true" co-selection="timeRoller.selected" co-roller-list="timeRoller.getRollerList()" class="small-8 small-centered medium-6 medium-centered large-4 large-centered columns end"></div></div><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="setTimeRollerOk()" class="row-button">{{\'SELECT\'|tr}}</button></div></div></div></div></form>'),e.join("")}}),require.register("boot/template-roller-clock.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="align-middle long"><div class="row tabs"><a ng-class="{selected:clockKind==&quot;time&quot;}" co-tap="setClockKind(&quot;time&quot;)" class="small-6 columns text-center"><i class="con"><div class="icon icon-time"></div></i></a><a ng-class="{selected:clockKind==&quot;sun&quot;}" co-tap="setClockKind(&quot;sun&quot;)" class="small-6 columns text-center"><i class="con"><div class="icon icon-time-sun"></div></i></a></div><div ng-if="clockKind==&quot;time&quot;" class="row"><div class="small-4 small-offset-2 columns text-center"><label class="inline-mt0 right">{{clockRoller.hour.unit|tr}}</label></div><div class="small-4 columns end text-center"><label class="inline-mt0 right">{{clockRoller.minute.unit|tr}}</label></div></div><div ng-if="clockKind==&quot;time&quot;" class="row collapse select-list"><div co-roller="true" co-selection="clockRoller.hour.selected" co-roller-list="clockRoller.hour.getRollerList()" class="small-4 small-offset-2 columns"></div><span class="roller-divider clock">:</span><div co-roller="true" co-selection="clockRoller.minute.selected" co-roller-list="clockRoller.minute.getRollerList()" class="small-4 columns end"></div></div><div ng-if="clockKind==&quot;sun&quot;" class="row"><div class="small-6 small-offset-0 columns text-center"><label class="small inline-mt0 right">{{\'rise or set\'|tr}}</label></div><div class="small-6 columns end text-center"><label class="small inline-mt0">{{clockRoller.sunTime.unit|tr}}</label></div></div><div ng-if="clockKind==&quot;sun&quot;" class="row collapse select-list"><div co-roller="true" co-icons="true" co-selection="clockRoller.sun.selected" co-roller-list="clockRoller.sun.getRollerList()" class="small-5 small-offset-1 columns roller-sunrise"></div><span class="roller-divider sunrise">:</span><div co-roller="true" co-selection="clockRoller.sunTime.selected" co-roller-list="clockRoller.sunTime.getRollerList()" class="small-6 columns end l-margin-50-percent"></div></div><div class="row"><div class="small-12 small-centered medium-6 medium-centered columns end"><button type="submit" ng-click="setClockRollerOk(); ui.prev()" class="row-button">{{\'SELECT\'|tr}}</button></div></div></div></div></form>'),e.join("")}}),require.register("boot/template-date-selection.js",function(e,t,n){n.exports=function(){var e=[];return e.push('<form class="modal overlay"><div class="content"><div class="align-middle long"><div class="row"><div class="small-12 small-centered medium-8 medium-centered columns text-center"><label>{{\'Date(s)\'|tr}}:</label></div></div><div class="row"><div class="small-12 small-centered medium-8 medium-centered columns"><ul class="plain-list text-center"><li co-tap="selectDay(&quot;Every day&quot;, timer, &quot;timerStart&quot;)" ng-class="{selected:isEveryDaySelected(timer, &quot;timerStart&quot;)}"><a class="upper-case">{{\'Every day\'|tr}}</a></li><li co-tap="selectDay(&quot;Weekdays&quot;, timer, &quot;timerStart&quot;)" ng-class="{selected:isWeekdaysSelected(timer, &quot;timerStart&quot;)}"><a class="upper-case">{{\'Weekdays\'|tr}}</a></li><li co-tap="selectDay(&quot;Weekend&quot;, timer, &quot;timerStart&quot;)" ng-class="{selected:isWeekendSelected(timer, &quot;timerStart&quot;)}"><a class="upper-case">{{\'Weekend\'|tr}}</a></li><li co-tap="selectDay(&quot;Own period&quot;, timer, &quot;timerStart&quot;)" ng-class="{selected:!isSameStartStopDays(timer)}"><a class="upper-case">{{\'Own period\'|tr}}</a></li></ul></div><hr/></div><div class="row"><div class="small-12 small-centered medium-8 medium-centered columns text-center"><label>{{\'Time period\'|tr}}:</label></div></div><div class="row t-margin-S"><div class="small-12 small-centered medium-8 medium-centered columns end"><div ng-if="isSameStartStopDays(timer)" class="row text-center"><div class="small-5-5 columns"><a ng-if="timer.timerStart.time" co-tap="selectExtraClock(timer, &quot;timerStart&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button small-5"><sapn class="i">{{timer.timerStart.time}}</sapn></a><a ng-if="timer.timerStart.sun" co-tap="selectExtraClock(timer, &quot;timerStart&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span>{{timer.timerStart.sunTime}}</span></a></div><div class="small-1 columns"><a class="separator-button">-</a></div><div class="small-5-5 columns"><a ng-if="timer.timerStop.time" co-tap="selectExtraClock(timer, &quot;timerStop&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button small-5"><span class="i">{{timer.timerStop.time}}</span></a><a ng-if="timer.timerStop.sun" co-tap="selectExtraClock(timer, &quot;timerStop&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span>{{timer.timerStop.sunTime}}</span></a></div></div><div ng-if="!isSameStartStopDays(timer)" class="row text-center"><div class="small-5-5 columns"><a co-tap="selectExtraDays(timer, &quot;timerStart&quot;)" class="button date-button">{{getSelectedLongDays(timer, "timerStart")}}</a><br/><a ng-if="timer.timerStart.time" co-tap="selectExtraClock(timer, &quot;timerStart&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button">{{timer.timerStart.time}}</a><a ng-if="timer.timerStart.sun" co-tap="selectExtraClock(timer, &quot;timerStart&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button"><i ng-if="timer.timerStart.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStart.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span>{{timer.timerStart.sunTime}}</span></a></div><div class="small-1 columns"><a class="separator-button">-</a></div><div class="small-5-5 columns"><a co-tap="selectExtraDays(timer, &quot;timerStop&quot;)" class="button date-button">{{getSelectedLongDays(timer, "timerStop")}}</a><br/><a ng-if="timer.timerStop.time" co-tap="selectExtraClock(timer, &quot;timerStop&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button">{{timer.timerStop.time}}</a><a ng-if="timer.timerStop.sun" co-tap="selectExtraClock(timer, &quot;timerStop&quot;)" ng-class="{disabled:!timer.timerStart.enabled}" class="button time-button"><i ng-if="timer.timerStop.sun==&quot;sunrise&quot;" class="con button sun"><div class="icon icon-sunrise"></div></i><i ng-if="timer.timerStop.sun==&quot;sunset&quot;" class="con button sun"><div class="icon icon-sunset"></div></i><span>{{timer.timerStop.sunTime}}</span></a></div></div></div></div><div class="row"><div class="small-12 small-centered medium-8 medium-centered columns end"><button type="submit" ng-click="saveTimers()" class="row-button">{{\'DONE\'|tr}}</button></div></div></div></div></form>'),e.join("")
}}),require.register("boot/index.js",function(e,t,n){var i,r,s,o,a,l,c,u,d,m,p,f,v=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};d=localStorage.getItem("features"),d&&(d=JSON.parse(d)),p=t("vendors"),f=p.lodash,window.lodash=f,window.Hammer=p.Hammer,window.Spectra=p.Spectra,c=angular.module("appSrvs",[]),o=angular.module("appCtrls",[]),a=angular.module("appDrvs",[]),l=angular.module("appFltrs",[]),angular.module("appSrvs").factory("Stately",["$window",function(){var e;return e=p.Stately}]),angular.module("appSrvs").factory("Mailcheck",["$window",function(){var e;return e=p.Mailcheck,e.defaultDomains.push("netikka.fi","inet.fi","dnainternet.net","auriamail.net","auria.net","mbnet.fi","netsonic.fi","song.fi","welho.com","saunalahti.fi","iki.fi","elisanet.fi","kolumbus.fi"),e.defaultTopLevelDomains.push("fi","ru","de"),e}]),t("i18n"),t("utils"),t("drv-color-picker"),t("drv-drag-drop"),t("drv-gauge"),t("drv-roller"),t("drv-swipe"),t("drv-tap-hold"),t("drv-input"),t("drv-modals"),t("drv-img"),t("drv-include"),t("drv-video"),t("connection"),t("devices"),t("scenes"),t("rules"),t("preferences"),t("./ctrl-alert"),t("./ctrl-logger"),t("./ctrl-speech"),t("./srv-logger"),t("./ctrl-header"),t("./http-auth"),r=t("./dec-logger"),i=t("./dec-exception"),s=angular.module("app",["ui.router","ngAnimate","as.sortable","ngIOS9UIWebViewPatch","appSrvs","appCtrls","appDrvs","appFltrs"]),s.constant("CLOUD_URL","https://cloud.cozify.fi/cc/0.0/hub/"),s.config(["$compileProvider","$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$provide",function(e,t,n,s,o,a){return a.decorator("$exceptionHandler",i),a.decorator("$log",r),e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|tel):/),o.interceptors.push("AuthInterceptor"),n.otherwise("/c/home"),t.state("c",{url:"/c","abstract":!0,views:{viewMenu:{templateUrl:"/template-menu.tpl.html"},viewOffcanvas:{templateUrl:"/template-offcanvas.tpl.html"},viewRules:{templateUrl:"/template-rules.tpl.html"},viewScenes:{templateUrl:"/template-scenes.tpl.html"},viewDevices:{templateUrl:"/template-devices.tpl.html"}}}),t.state("c.home",{url:"/home/{searchSceneForRules}",views:{menu:{templateUrl:"/template-left-menu.tpl.html",controller:"PreferencesCtrl"},offcanvas:{templateUrl:"/template-connecting.tpl.html",controller:"ConnectionCtrl"},rules:{templateUrl:"/template-rules-list.tpl.html",controller:"RulesListCtrl"},scenes:{templateUrl:"/template-scenes-list.tpl.html",controller:"SceneListCtrl"},devices:{templateUrl:"/template-devices-list.tpl.html",controller:"DeviceListCtrl"}}}),t.state("c.home.connecting",{url:"/offcanvas/connecting/{list}",views:{"offcanvas@c":{templateUrl:"/template-connecting.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.login",{url:"/offcanvas/login/{email}",views:{"offcanvas@c":{templateUrl:"/template-login.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.access",{url:"/offcanvas/access/{email}",views:{"offcanvas@c":{templateUrl:"/template-access.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.appstore",{url:"/offcanvas/appstore/{hubId}",views:{"offcanvas@c":{templateUrl:"/template-appstore.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.claim",{url:"/offcanvas/claim/{email}",views:{"offcanvas@c":{templateUrl:"/template-claim.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.rooms",{url:"/offcanvas/rooms",views:{"offcanvas@c":{templateUrl:"/template-rooms.tpl.html",controller:"RoomsCtrl"}}}),t.state("c.home.support",{url:"/offcanvas/support",views:{"offcanvas@c":{templateUrl:"/template-left-support.tpl.html",controller:"PreferencesCtrl"}}}),t.state("c.home.hubsettings",{url:"/offcanvas/hubsettings",views:{"offcanvas@c":{templateUrl:"/template-left-hub-settings.tpl.html",controller:"ConnectionCtrl"}}}),t.state("c.home.user",{url:"/offcanvas/user/{userId}",views:{"offcanvas@c":{templateUrl:"/template-user.tpl.html",controller:"UsersCtrl"}}}),t.state("c.home.welcome",{url:"/offcanvas/welcome",views:{"offcanvas@c":{templateUrl:"/template-welcome.tpl.html",controller:"PreferencesCtrl"}}}),t.state("c.home.connect",{url:"/offcanvas/connect",views:{"offcanvas@c":{templateUrl:"/template-connect.tpl.html",controller:"PreferencesCtrl"}}}),t.state("c.home.preferences",{url:"/offcanvas/preferences",views:{"offcanvas@c":{templateUrl:"/template-preferences.tpl.html",controller:"UsersCtrl"}}}),t.state("c.home.logs",{url:"/offcanvas/logs",views:{"offcanvas@c":{templateUrl:"/template-logger.tpl.html",controller:"LoggerCtrl"}}}),t.state("c.home.scene-detail",{url:"/scenes/{sceneId}",views:{"scenes@c":{templateUrl:"/template-scene-detail.tpl.html",controller:"SceneDetailCtrl"}}}),t.state("c.home.rules-add",{url:"/rule/add-rule/{fromDeviceId}/{toDeviceId}",views:{"rules@c":{templateUrl:"/template-rules-add.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-from-editor",{url:"/rule/add-rule-from-editor/{editorRuleTypes}",views:{"rules@c":{templateUrl:"/template-rules-add.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-editor",{url:"/rule/rules-editor/{editorRuleTypes}",views:{"rules@c":{templateUrl:"/template-rules-editor.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-edit",{url:"/rule/add-rule-edit/{ruleId}/{sceneId}",views:{"rules@c":{templateUrl:"/template-rules-edit.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-add-edit",{url:"/rule/add-rule-add-edit/{fromDeviceId}/{toDeviceId}",views:{"rules@c":{templateUrl:"/template-rules-edit.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-add-1-a",{url:"/rule/add-rule-1a",views:{"rules@c":{templateUrl:"/template-rules-add-1-a.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-add-2-a",{url:"/rule/add-rule-2-a",views:{"rules@c":{templateUrl:"/template-rules-add-2-a.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-add-3-a",{url:"/rule/add-rule-3-a",views:{"rules@c":{templateUrl:"/template-rules-add-3-a.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.rules-add-4-a",{url:"/rules/add-rule-4-a",views:{"rules@c":{templateUrl:"/template-rules-add-4-a.tpl.html",controller:"RulesDetailCtrl"}}}),t.state("c.home.devices-add",{url:"/devices/add-device",views:{"devices@c":{templateUrl:"/template-devices-add.tpl.html",controller:"DeviceAddCtrl"}}}),t.state("c.home.devices-add-group",{url:"/devices/add-group/{fromDeviceId}/{toDeviceId}",views:{"devices@c":{templateUrl:"/template-devices-add-group.tpl.html",controller:"DeviceGroupCtrl"}}}),t.state("c.home.devices-detail",{url:"/devices/{deviceId}",views:{"devices@c":{templateUrl:"/template-devices-detail.tpl.html",controller:"DeviceDetailCtrl"}}}),t.state("c.home.devices-name",{url:"/devices/name/{deviceId}",views:{"devices@c":{templateUrl:"/template-devices-name.tpl.html",controller:"DeviceDetailCtrl"}}}),t.state("c.home.devices-detail-scene",{url:"/devices/{deviceId}/{sceneId}",views:{"devices@c":{templateUrl:"/template-devices-detail.tpl.html",controller:"DeviceDetailCtrl"}}}),t.state("c.home.devices-detail-rule",{url:"/devices/{deviceId}/{ruleId}",views:{"devices@c":{templateUrl:"/template-devices-detail.tpl.html",controller:"DeviceDetailCtrl"}}}),t.state("c.home.devices-detail-scene-rule",{url:"/devices/{deviceId}/{sceneId}/{ruleId}",views:{"devices@c":{templateUrl:"/template-devices-detail.tpl.html",controller:"DeviceDetailCtrl"}}})}]),m="PreferencesSrv",u="ConnectSrv",s.run(["$window","$document","$rootScope","$log","$q","$location","$templateCache","$timeout","$state","$stateParams",m,u,"i18nSrv","ModalsSrv","PushSrv",function(e,n,i,r,s,o,a,l,c,u,d,m,h,g){var y,b,E,w,A,S;return b=0,E=1,y=2,document.addEventListener("pause",function(){return function(){return i.$emit("APP_PAUSE")}}(this),!0),document.addEventListener("resume",function(){return function(){return i.$emit("APP_RESUME")}}(this),!0),document.addEventListener("offline",function(){return function(){return i.tip("Offline"),i.$emit("APP_OFFLINE")}}(this),!1),document.addEventListener("online",function(){return function(){return i.tip("Online"),i.$emit("APP_ONLINE")}}(this),!1),a.put("/template-menu.tpl.html",t("./template-menu")()),a.put("/template-left-menu.tpl.html",t("./template-left-menu")()),a.put("/template-left-support.tpl.html",t("./template-left-support")()),a.put("/template-left-hub-settings.tpl.html",t("./template-left-hub-settings")()),a.put("/template-offcanvas.tpl.html",t("./template-offcanvas")()),a.put("/template-header.tpl.html",t("./template-header")()),a.put("/template-scenes.tpl.html",t("../scenes/template-scenes")()),a.put("/template-scene-detail.tpl.html",t("../scenes/template-scene-detail")()),a.put("/template-scene-create.tpl.html",t("../scenes/template-scene-create")()),a.put("/template-scenes-list.tpl.html",t("../scenes/template-scenes-list")()),a.put("/template-devices.tpl.html",t("../devices/template-devices")()),a.put("/template-devices-list.tpl.html",t("../devices/template-devices-list")()),a.put("/template-devices-filter.tpl.html",t("../devices/template-devices-filter")()),a.put("/template-devices-add.tpl.html",t("../devices/template-devices-add")()),a.put("/template-devices-add-group.tpl.html",t("../devices/template-devices-add-group")()),a.put("/partitial-devices-settings.tpl.html",t("../devices/partitial-devices-settings")()),a.put("/partitial-devices-uidev.tpl.html",t("../devices/partitial-devices-uidev")()),a.put("/partitial-devices-camera.tpl.html",t("../devices/partitial-devices-camera")()),a.put("/partitial-devices-media.tpl.html",t("../devices/partitial-devices-media")()),a.put("/partitial-devices-media-options.tpl.html",t("../devices/partitial-devices-media-options")()),a.put("/partitial-devices-media-scenes.tpl.html",t("../devices/partitial-devices-media-scenes")()),a.put("/partitial-devices-add.tpl.html",t("../devices/partitial-devices-add")()),a.put("/partitial-devices-light.tpl.html",t("../devices/partitial-devices-light")()),a.put("/partitial-devices-color.tpl.html",t("../devices/partitial-devices-color")()),a.put("/partitial-devices-remote-control.tpl.html",t("../devices/partitial-devices-remote-control")()),a.put("/partitial-devices-remote-control-rule.tpl.html",t("../devices/partitial-devices-remote-control-rule")()),a.put("/template-devices-detail.tpl.html",t("../devices/template-devices-detail")()),a.put("/template-devices-name.tpl.html",t("../devices/template-devices-name")()),a.put("/template-rules.tpl.html",t("../rules/template-rules")()),a.put("/template-rules-list.tpl.html",t("../rules/template-rules-list")()),a.put("/template-rules-filter.tpl.html",t("../rules/template-rules-filter")()),a.put("/partitial-rules-filtered.tpl.html",t("../rules/partitial-rules-filtered")()),a.put("/template-rules-add.tpl.html",t("../rules/template-rules-add")()),a.put("/template-rules-editor.tpl.html",t("../rules/template-rules-editor")()),a.put("/template-rules-edit.tpl.html",t("../rules/template-rules-edit")()),a.put("/template-rules-add-1-a.tpl.html",t("../rules/template-rules-add-1-a")()),a.put("/template-rules-add-2-a.tpl.html",t("../rules/template-rules-add-2-a")()),a.put("/template-rules-add-3-a.tpl.html",t("../rules/template-rules-add-3-a")()),a.put("/template-rules-add-4-a.tpl.html",t("../rules/template-rules-add-4-a")()),a.put("/template-connect.tpl.html",t("../preferences/template-connect")()),a.put("/template-features.tpl.html",t("../preferences/template-features")()),a.put("/template-owner.tpl.html",t("../preferences/template-owner")()),a.put("/template-user.tpl.html",t("../preferences/template-user")()),a.put("/template-hub-pin.tpl.html",t("../preferences/template-hub-pin")()),a.put("/template-preferences.tpl.html",t("../preferences/template-preferences")()),a.put("/template-welcome.tpl.html",t("../preferences/template-welcome")()),a.put("/template-rooms.tpl.html",t("../preferences/template-rooms")()),a.put("/template-login.tpl.html",t("../connection/template-login")()),a.put("/template-appstore.tpl.html",t("../connection/template-appstore")()),a.put("/template-access.tpl.html",t("../connection/template-access")()),a.put("/template-claim.tpl.html",t("../connection/template-claim")()),a.put("/template-connecting.tpl.html",t("../connection/template-connecting")()),a.put("/template-timezone.tpl.html",t("../connection/template-timezone")()),a.put("/template-zigbee.tpl.html",t("../connection/template-zigbee")()),a.put("/template-logger.tpl.html",t("./template-logger")()),a.put("/template-roller-time.tpl.html",t("./template-roller-time")()),a.put("/template-roller-clock.tpl.html",t("./template-roller-clock")()),a.put("/template-date-selection.tpl.html",t("./template-date-selection")()),i.selectedHub=void 0,i.isLoggedIn=!1,i.setSelectedHub=function(e){return i.selectedHub=e,i.isRemote=!e.connState||1===e.connState,localStorage.setItem("selectedHub",JSON.stringify(this.selectedHub)),i.$emit("HUB_CONNECTED"),i.$emit("HUB_ADDRESS_CHANGED",{address:e.url})},i.$state=c,c.go("c.home.connecting"),i.$emit("HEADER_PAGE",{show:!0,title:h.tr("Welcome"),mode:"modal-kind",previous:"-"}),i.noSwipe=!0,i.offcanvas=!0,i.showSwipeViewNo=E,i.$on("$stateChangeStart",function(e,t,n,s){var o,a,l,c,u;return r.debug("$stateChangeStart from",s),r.debug("$stateChangeStart to",t),"c.home.scene"!==(o=t.name)&&"c.home.scene-detail"!==o||!i.menu.isDevices&&!i.menu.isRules?"c.home.rule"!==(a=t.name)&&"c.home.rules-detail"!==a||!i.menu.isDevices&&!i.menu.isScenes?"c.home.device"!==(l=t.name)&&"c.home.devices-detail"!==l&&"c.home.devices-detail-scene"!==l&&"c.home.devices-detail-rule"!==l&&"c.home.devices-detail-scene-rule"!==l||!i.menu.isScenes&&!i.menu.isRules?"c.home"===(c=t.name)&&i.menu.isRules?i.swipeToRules():"c.home"===(u=t.name)&&i.menu.isScenes?i.offcanvas=!1:void 0:i.swipeToDevices():i.swipeToRules():i.swipeToScenes()}),i.$on("$stateChangeError",function(e,t,n){return r.error("State change Error "+n+" -> "+t)}),i.$on("$stateChangeSuccess",function(e,t,n,s,o){return"c.home"===t.name&&(i.noSwipe=!1,l(function(){return i.$emit("HOME_VIEW_SHOWED")}),i.closeAllModals(),i.menu.isRules?i.$emit("HEADER_VIEW",{view:"rules"}):i.menu.isScenes?i.$emit("HEADER_VIEW",{view:"scenes"}):i.menu.isDevices&&i.$emit("HEADER_VIEW",{view:"devices"})),r.debug("$stateChangeSuccess ",t),i.menu.toStatePrev=void 0,f.isEmpty(s.name)?void 0:(i.menu.toStatePrev=s,i.menu.toParamsPrev=o||void 0)}),i.menu={isRules:!1,isScenes:!0,isDevices:!1,show:!0,title:{devices:"",scenes:"",preferences:""},previous:!1,previousParams:{}},i.timeRoller={listItems:[],selected:void 0,unit:void 0,name:"",TIME_SELECTION:[.1,1,2,3,5,10,15,20,30,40,50,60,90,120,240],TIME_DEFAULT:5,DATE_SELECTION:h.getShortDays(),DATE_DEFAULT:h.getShortDays()[0],getRollerList:function(){return i.timeRoller.listItems}},i.clockKind="time",i.setClockKind=function(e){return i.clockKind=e},i.clockRoller={name:"",MIN_SELECTION:function(){var e,t;for(t=[],w=e=0;60>e;w=e+=5)t.push(h.localizedMin(w));return t}(),HOUR_SELECTION:function(){var e,t;for(t=[],w=e=0;24>e;w=++e)t.push(h.localizedHour(w));return t}(),sun:{listItems:["sunrise","sunset"],selected:"sunrise",unit:void 0,getRollerList:function(){return i.clockRoller.sun.listItems}},sunTime:{listItems:["-5.0h","-4.5h","-4.0h","-3.5h","-3.0h","-2.5h","-2.0h","-1.5h","-1.0h","-0.5h","+0.0h","+0.5h","+1.0h","+1.5h","+2.0h","+2.5h","+3.0h","+3.5h","+4.0h","+4.5h","+5.0h"],selected:"+0.0h",unit:"hours",getRollerList:function(){return i.clockRoller.sunTime.listItems}},minute:{listItems:[],selected:void 0,unit:void 0,getRollerList:function(){return i.clockRoller.minute.listItems}},hour:{listItems:[],selected:void 0,unit:void 0,getRollerList:function(){return i.clockRoller.hour.listItems}}},i.$on("LANGUAGE_UPDATED",function(){return l(function(){return i.clockRoller.MIN_SELECTION=function(){var e,t;for(t=[],w=e=0;60>e;w=e+=5)t.push(h.localizedMin(w));return t}(),i.clockRoller.HOUR_SELECTION=function(){var e,t;for(t=[],w=e=0;24>e;w=++e)t.push(h.localizedHour(w));return t}(),i.timeRoller.DATE_SELECTION=h.getShortDays(),i.timeRoller.DATE_DEFAULT=h.getShortDays()[0]})}),i.closeMenu=function(){return i.menuOpen=!1,i.noSwipe=!1},i.swipeToRules=function(){return i.$emit("SWIPE_TO_PAGE",{page:b,animate:!0})},i.swipeToScenes=function(){return i.$emit("SWIPE_TO_PAGE",{page:E,animate:!0})},i.swipeToDevices=function(){return i.$emit("SWIPE_TO_PAGE",{page:y,animate:!0})},i.toggleMenu=function(){return i.offcanvas?(i.offcanvas=!1,i.noSwipe=!1,i.menuOpen=!0):i.menuOpen=i.menuOpen?!1:!0},i.gotoHUBSelection=function(){return i.$emit("HEADER_PAGE",{show:!0,title:h.tr("DISCOVERED HUBs")}),i.offcanvas=!0,i.noSwipe=!0,c.go("c.home.connecting"),i.$emit("HUBS_LIST_REQUESTED")},i.gotoHubSettings=function(){return i.$emit("HEADER_PAGE",{show:!0,title:h.tr("HUB SETTINGS")}),i.offcanvas=!0,i.noSwipe=!0,c.go("c.home.hubsettings")},i.gotoSupportAndFeedback=function(){return i.$emit("HEADER_PAGE",{show:!0,title:h.tr("SUPPORT&FEEDBACK")}),i.offcanvas=!0,i.noSwipe=!0,c.go("c.home.support")},i.gotoRooms=function(){return i.offcanvas=!0,i.noSwipe=!0,c.go("c.home.rooms")},i.sendFeedback=function(){var e;return e=h.tr("Cozify Support or Feedback"),window.location.href="mailto:support@cozify.fi?subject="+e},i.goToSupport=function(){var e,t;e="http://www.cozify.fi/pages/support","en"===i.selectedLanguage&&(e="http://en.cozify.fi/pages/support");try{window.open(e,"_system","location=yes,toolbar=yes")}catch(n){t=n,r.warn("support link may failed")}return!1},i.gotoForum=function(){var e,t;e="http://forum.cozify.fi/";try{window.open(e,"_system","location=yes,toolbar=yes")}catch(n){t=n,r.warn("forum link may failed")}return!1},i.gotoPreferences=function(){return i.offcanvas=!0,i.noSwipe=!0,i.$emit("HEADER_PAGE",{show:!0,title:h.tr("MY SETTINGS")}),c.go("c.home.preferences")},i.gotoLogs=function(){return i.offcanvas=!0,i.noSwipe=!0,i.$emit("HEADER_PAGE",{show:!0,title:h.tr("LOGS")}),c.go("c.home.logs")},i.menu.modalPages=[],i.menu.modalPage=void 0,i.isInModals=function(e){return v.call(i.menu.modalPages,e)>=0},i.swipeToView=function(e){return l(function(){return i.showSwipeViewNo=e,e===b?(r.debug("swipeToView rules"),i.noSwipe=!1,i.menu.isRules=!0,i.menu.isScenes=!1,i.menu.isDevices=!1,i.closeAllModals(),i.$emit("RULES_PAGE_RELOAD_REQUEST"),i.$emit("HEADER_VIEW",{view:"rules"})):e===E?(r.debug("swipeToView scenes"),i.noSwipe=!1,i.menu.isRules=!1,i.menu.isScenes=!0,i.menu.isDevices=!1,i.closeAllModals(),i.$emit("SCENES_PAGE_RELOAD_REQUEST"),i.$emit("HEADER_VIEW",{view:"scenes"})):e===y?(r.debug("swipeToView devices"),i.noSwipe=!1,i.menu.isRules=!1,i.menu.isScenes=!1,i.menu.isDevices=!0,i.closeAllModals(),i.$emit("DEVICES_PAGE_RELOAD_REQUEST"),i.$emit("HEADER_VIEW",{view:"devices"})):(i.menuOpen=!0,i.closeAllModals())})},i.showModal=function(e,t,n,r){var s;return i.noSwipe=!0,i.menu.modalPages.push(e),i.menu.modalPage=e,t?(t=f.isArray(t)?function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)s=t[e],i.push(h.tr(s));return i}().join(" "):h.tr(t),n=n||void 0,r=r||void 0,l(function(){return i.$emit("HEADER_MODAL",{title:t,previous:n,previousPar:r})},50)):void 0},i.closeModal=function(){var e,t,n;return i.menu.modalPages.length>0&&(e=i.menu.modalPages.pop(),i.menu.modalPage=i.menu.modalPages.slice().pop(),i.menu.modalPage&&r.debug("rootScope closeModal: $rootScope.menu.modalPage: ",i.menu.modalPage),i.$emit("HEADER_MODAL_CLOSE",{oldPage:e}),!(i.menu.modalPages.length>0)&&"c.home"===(t=null!=c&&null!=(n=c.current)?n.name:void 0))?i.noSwipe=!1:void 0},i.closeAllModals=function(){return i.menu.modalPages=[],i.menu.modalPage=void 0},S=function(){return r.debug("RESIZE or ORIENTATION"),i.$emit("RESIZE",{page:c.$current.name})},A=f.debounce(S,100),angular.element(e).bind("resize",A),angular.element(e).bind("orientationchange",A),i.is=function(e,t){return angular["is"+e](t)},i.alertDialog=function(e){return alert(e)},i.log=function(e){return("undefined"!=typeof console&&null!==console?console.log:void 0)?console.log(e):void 0},i.alertOff=function(){return i.$emit("ALERT_OFF")},i.alert=function(e,t,n,r){return n&&(e=h.tr(e)),i.$emit("ALERT",{type:"alert",msg:e,timeout:r})},i.notify=function(e,t,n){return t&&(e=h.tr(e)),i.$emit("ALERT",{type:"success",msg:e,timeout:n})},i.notifyOk=function(e,t,n){return t&&(e=h.tr(e)),i.$emit("ALERT",{type:"success",msg:e,timeout:n})},i.demoOff=function(){return d.setFeature(d.FEATURES.DEMO,d.FEATURES.OFF)},i.tip=function(e,t){return t&&(e=h.tr(e)),i.$emit("ALERT",{type:"tip",msg:e})},i.modalAlert=function(e,t){var n;return e=e||void 0,n=g.open("alert",{message:e}),n.then(function(){return r.info("Alert resolved."),t?t(!0):void 0},function(){return r.info("Alert rejected!"),t?t(!1):void 0})},i.modalConfirm=function(e,t){var n;return e=e||void 0,n=g.open("confirm",{message:e}),n.then(function(){return r.info("Confirm resolved."),t?t(!0):void 0},function(){return r.info("Confirm rejected!"),t?t(!1):void 0})},i.modalPrompt=function(e,t,n){var i;return e=e||void 0,t=t||void 0,i=g.open("prompt",{message:e,placeholder:t}),i.then(function(e){return r.info("Prompt resolved with ",e),n?n(e):void 0},function(){return r.info("Prompt rejected!"),n?n(!1):void 0})},i.modalList=function(e,t,n,i){var s;return e=e||void 0,t=t||[],s=g.open("list",{confirmButton:n,message:e,list:t}),s.then(function(e){return r.info("List resolved with ",e),i?i(e):void 0},function(){return r.info("List rejected!"),i?i(!1):void 0})},i.selectedLanguage=h.language,i.features={isZigbeeSettings:!1,isAdvancedSettings:!1,isTimeZone:!1,isRooms:!1},p.FastClick(document.body)}]),n.exports=s,window.app=s}),require.register("boot/http-auth.js",function(){var e;e=function(e,t,n,i){return{request:function(e){var t,n,r;return r=function(){var e,t;if(t=localStorage.getItem("selectedHub"))try{t=JSON.parse(t),t.id&&(t=t)}catch(n){e=n,t=void 0}return null!=t?t.hubKey:void 0},"http"===e.url.slice(0,4)&&(e.headers=e.headers||{},i.language&&(e.headers["Accept-Language"]=i.language),-1!==e.url.indexOf("cozify.fi")?(n=localStorage.getItem("userToken"),("undefined"===n||"null"===n)&&(n=void 0),e.headers.Authorization=n,-1!==e.url.indexOf("hub/remote")&&(e.headers["X-Hub-Key"]||(t=r(),t&&(e.headers["X-Hub-Key"]=t)))):-1!==e.url.indexOf(":8893")&&("/hub"===e.url.slice(-4)?e.headers.Authorization="000000":(t=r(),t?e.headers.Authorization=t:-1===e.url.indexOf("claim")&&(e.headers.Authorization="000000")))),e},response:function(e){return e||n.when(e)},requestError:function(e){return n.reject(e)},responseError:function(t){var i,r;return 410!==t.status||(null!=t&&null!=(i=t.config)&&null!=(r=i.url)?r.indexOf("poll"):void 0)||e.$emit("SHOW_VERSION_UPDATE"),n.reject(t)}}},angular.module("appSrvs").factory("AuthInterceptor",["$rootScope","$log","$q","i18nSrv",e])}),require.register("boot/dec-logger.js",function(e,t,n){n.exports=["$delegate","$injector",function(e,t){var n,i,r,s,o,a,l,c;return n=void 0,i=void 0,c=function(e,n,i){var r,s,o;return r=t.get("$rootScope"),o=JSON.stringify(e[0]||void 0),-1!==o.indexOf("hub/ui_logs?")?void(console.warn&&console.warn("dec-logger logging: recuresive logging")):(s={level:i,time:new Date,msg:o,arg1:JSON.stringify(e[1]||void 0),arg2:JSON.stringify(e[2]||void 0),arg3:JSON.stringify(e[4]||void 0)},r.$emit("ADD_LOG",{json:s}),n.apply(null,e))},a=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),c(t,e,"info")}},r=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),c(t,e,"debug")}},o=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),c(t,e,"info")}},l=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),c(t,e,"warn")}},s=function(e){return function(){var t;return t=Array.prototype.slice.call(arguments),c(t,e,"error")}},e.log=a(e.log),e.log.logs=[],e.debug=r(e.debug),e.debug.logs=[],e.info=o(e.info),e.info.logs=[],e.warn=l(e.warn),e.warn.logs=[],e.error=s(e.error),e.error.logs=[],e}]}),require.register("boot/dec-exception.js",function(e,t,n){n.exports=["$delegate","$injector",function(e,t){return function(n,i){var r,s;return r=t.get("$rootScope"),-1!==n.message.indexOf("hub/ui_logs?")?void(console.warn&&console.warn("dec-exception logging: recuresive logging")):(s={level:"error",time:new Date,msg:n.message||void 0},r.$emit("ADD_LOG",{json:s}),e(n,i))}}]}),require.register("boot/ctrl-header.js",function(){var e,t;t=window.lodash,e=function(e,t,n,i,r,s,o){var a,l,c,u,d,m,p,f,v,h,g,y;return t.MODE={ON:"on",OFF:"off",NONE:"none",EDIT:"edit",VIEW:"view",UNKNOWN:"unknown",MODAL:"modal",MODAL_KIND:"modal-kind",LOGO:"logo",WIZARD_NEXT:"wizard-next",WIZARD_LAST:"wizard-last"},v=[],i.debug("Header Cntr INIT"),t.ui={show:!1,logo:!1,mode:void 0,add:!1,onoff:void 0,settings:void 0,title:void 0,longTitle:!1,icon:void 0,placeholder:void 0,previous:void 0,previousPar:void 0,modalPrevious:void 0,modalPreviousPar:void 0,view:void 0,wizDisabled:!1,prev:function(){var n,i,s;if(t.ui.mode===t.MODE.MODAL)return e.closeModal();if(t.ui.previous&&"prev"!==t.ui.previous){if((n=t.ui.mode)===t.MODE.WIZARD_NEXT||n===t.MODE.WIZARD_LAST)return void e.$emit("HEADER_WIZRD_PREV");"function"==typeof t.ui.previous?t.ui.previous():r.go(t.ui.previous,t.ui.previousPar)}else e.menu.toStatePrev?r.go(e.menu.toStatePrev,e.menu.toParamsPrev):r.go("^");return e.menu.toStatePrev=void 0,"c.home"===(i=null!=r&&null!=(s=r.current)?s.name:void 0)?e.noSwipe=!1:void 0}},h=function(){var e;return v.length>0&&(e=t.ui.onoff,t.ui=v.pop(),t.ui.onoff=e),t.ui.modalPrevious?(r.go(t.ui.modalPrevious,t.ui.modalPreviousPar),t.ui.modalPrevious=void 0,t.ui.modalPreviousPar=void 0):void 0},y=function(e){var n;if("c.home"===(n=r.current.name)||"c.home.preferences"===n||"c.home.logs"===n||"c.home.connecting"===n||"c.home.support"===n||"c.home.hubsettings"===n||"c.home.rooms"===n)switch(e){case"rules":if(t.ui.show=!0,t.ui.title=o.tr("RULES"),t.ui.icon=void 0,t.ui.onoff=void 0,t.ui.settings=void 0,t.ui.add=!0,t.ui.placeholder=void 0,t.ui.previous=void 0,t.ui.previousPar=void 0,t.ui.modalPrevious=void 0,t.ui.modalPreviousPar=void 0,t.ui.mode!==t.MODE.EDIT||t.ui.mode!==t.MODE.VIEW)return t.setView();break;case"devices":if(t.ui.show=!0,t.ui.title=o.tr("DEVICES"),t.ui.icon=void 0,t.ui.onoff=void 0,t.ui.settings=void 0,t.ui.add=!0,t.ui.placeholder=void 0,t.ui.previous=void 0,t.ui.previousPar=void 0,t.ui.modalPrevious=void 0,t.ui.modalPreviousPar=void 0,t.ui.mode!==t.MODE.EDIT||t.ui.mode!==t.MODE.VIEW)return t.setView();break;case"scenes":if(t.ui.show=!0,t.ui.title=o.tr("SCENES"),t.ui.icon=void 0,t.ui.onoff=void 0,t.ui.settings=void 0,t.ui.add=!0,t.ui.placeholder=void 0,t.ui.previous=void 0,t.ui.previousPar=void 0,t.ui.modalPrevious=void 0,t.ui.modalPreviousPar=void 0,t.ui.mode!==t.MODE.EDIT||t.ui.mode!==t.MODE.VIEW)return t.setView()}},g=function(){return n(function(){var e,t,n,i,r;for(t=document.getElementsByClassName("swipe-page"),r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(e.scrollTop=0);return r},50)},t.setTitle=function(){var n;return n=t.ui.title,void 0!==n&&t.ui.mode===t.MODE.EDIT?(i.debug("headerCtrl watch 'title': Change detected "+n),e.$emit("HEADER_TITLE_CHANGED",{title:n})):void 0},t.add=function(){return i.debug("headerCtrl watch 'add' detected"),e.$emit("HEADER_ADD_ACTION")},t.wizNext=function(){return t.ui.wizDisabled?void 0:(i.debug("headerCtrl watch 'wiz' next"),e.$emit("HEADER_WIZRD_NEXT"))},t.wizLast=function(){return t.ui.wizDisabled?void 0:(i.debug("headerCtrl watch 'wiz' last"),e.$emit("HEADER_WIZRD_DONE"))},t.toggleSettings=function(){return"function"==typeof t.ui.settings?t.ui.settings(!0):(t.ui.settings=!t.ui.settings,e.$emit("HEADER_SETTINGS_CHANGED",{settings:t.ui.settings}))},t.setOn=function(){return t.ui.onoff=t.MODE.ON,i.debug("headerCtrl setOn"),e.$emit("HEADER_ONOFF_CHANGED",{onoff:t.ui.onoff})},t.setOff=function(){return t.ui.onoff=t.MODE.OFF,i.debug("headerCtrl setOff"),e.$emit("HEADER_ONOFF_CHANGED",{onoff:t.ui.onoff})},t.setView=function(){return t.ui.mode=t.MODE.VIEW,i.debug("headerCtrl setView mode"),e.$emit("HEADER_MODE_CHANGED",{mode:t.ui.mode})},t.setEdit=function(){return t.ui.mode=t.MODE.EDIT,i.debug("headerCtrl setEdit mode"),e.$emit("HEADER_MODE_CHANGED",{mode:t.ui.mode})},d=e.$on("HEADER_PAGE",function(e,n){var i;return g(),t.ui.show=void 0||!!n.show,t.ui.preset=n.preset?!!n.preset:void 0,t.ui.logo=void 0||!!n.logo,t.ui.title=void 0||n.title,t.ui.longTitle=!1,(null!=(i=t.ui.title)?i.length:void 0)>25&&(t.ui.longTitle=!0),t.ui.icon=void 0||n.icon,t.ui.add=void 0||!!n.add,t.ui.onoff=void 0||n.onoff,t.ui.settings=n.settings?!!n.settings:void 0,t.ui.placeholder=void 0||n.placeholder,t.ui.previous=void 0||n.previous,t.ui.previousPar=void 0||n.previousPar,t.ui.modalPrevious=void 0||n.modalPrevious,t.ui.modalPreviousPar=void 0||n.modalPreviousPar,t.ui.mode=void 0||n.mode,t.ui.wizDisabled=n.wizDisabled===!0||n.wizDisabled===!1?n.wizDisabled:void 0}),p=e.$on("HEADER_UPDATE",function(e,n){return g(),n.show&&(t.ui.show=!0),t.ui.preset=n.preset?!!n.preset:t.ui.preset,t.ui.logo=n.logo||t.ui.logo,t.ui.title=n.title||t.ui.title,t.ui.icon=n.icon||t.ui.icon,t.ui.add=!!n.add,t.ui.onoff=n.onoff||t.ui.onoff,t.ui.settings=n.settings?!!n.settings:t.ui.settings,t.ui.placeholder=n.placeholder||t.ui.placeholder,t.ui.previous=n.previous||t.ui.previous,t.ui.previousPar=n.previousPar||t.ui.previousPar,t.ui.modalPrevious=n.modalPrevious||t.ui.modalPrevious,t.ui.modalPreviousPar=n.modalPreviousPar||t.ui.modalPreviousPar,t.ui.mode=n.mode||t.ui.mode,n.wizDisabled===!0||n.wizDisabled===!1?t.ui.wizDisabled=n.wizDisabled:void 0}),c=e.$on("HEADER_MODAL",function(e,n){return g(),v.push(angular.copy(t.ui)),t.ui.preset=n.preset?!!n.preset:!1,t.ui.title=n.title||t.ui.title,t.ui.add=n.add||!1,t.ui.previous=n.previous||t.ui.previous,t.ui.previousPar=n.previousPar||t.ui.previousPar,t.ui.modalPrevious=n.modalPrevious||t.ui.modalPrevious,t.ui.modalPreviousPar=n.modalPreviousPar||t.ui.modalPreviousPar,t.ui.mode=t.MODE.MODAL}),u=e.$on("HEADER_MODAL_CLOSE",function(){return g(),h()}),m=e.$on("HEADER_SHOW",function(){return t.ui.show=!0}),l=e.$on("HEADER_HIDE",function(){return t.ui.show=!1}),f=e.$on("HEADER_VIEW",function(e,n){return g(),t.ui.view=void 0||n.view,t.ui.view?y(t.ui.view):void 0}),a=e.$on("HEADER_PREV",function(){return g(),t.ui.prev()}),t.$on("$destroy",function(){return d(),p(),c(),u(),m(),l(),f(),a()})},angular.module("appCtrls").controller("HeaderCtrl",["$rootScope","$scope","$timeout","$log","$state","$stateParams","i18nSrv",e])}),require.register("boot/ctrl-alert.js",function(){var e,t;t=window.lodash,e=function(e,t,n){var i,r,s;return t.alerts=[],t.closeAlert=function(e){var n,i,r,s,o,a;for(i=void 0,a=t.alerts,r=s=0,o=a.length;o>s;r=++s)if(n=a[r],n.id===e){i=r;break}return i||0===i?t.alerts.splice(i,1):void 0},i=function(e,i,r){var s,o,a,l,c,u,d;for(s=!0,a=(new Date).getTime(),d=t.alerts,c=0,u=d.length;u>c;c++)o=d[c],o.msg===i&&(s=!1);return s?(t.alerts.push({type:e+" radius",msg:i,id:a}),l=r||3e3,"notify-box alert"===e&&(l=r||4e3),"notify-box secondary"===e&&(l=r||5e3),n(function(){return t.closeAlert(a)},l)):void 0},r=e.$on("ALERT",function(e,t){var n,r,s;return s=t.type,n=t.msg,r=t.timeout,s="alert"===s?"notify-box alert":"tip"===s?"notify-box secondary":"notify-box",i(s,n,r)}),s=e.$on("ALERT_OFF",function(){return t.alerts=[]}),t.$on("$destroy",function(){return r(),s()})},angular.module("appCtrls").controller("AlertCtrl",["$rootScope","$scope","$timeout","$log",e])}),require.register("boot/ctrl-logger.js",function(){var e,t;t=window.lodash,e=function(e,t,n,i,r){return t.uuid=("undefined"!=typeof device&&null!==device?device.uuid:void 0)||"-",t.LEVELS=r.LEVELS,t.logLevel=r.getLevel(),t.setLevel=function(e){return t.logLevel=r.setLevel(e),t.logs=r.list()},t.logs=r.list()},angular.module("appCtrls").controller("LoggerCtrl",["$rootScope","$scope","$timeout","$log","LoggerSrv",e])}),require.register("boot/ctrl-speech.js",function(){var e,t;t=window.lodash,e=function(e,n,i,r,s,o,a,l){var c,u,d,m,p,f,v;return n.ui={isSpeechRecognizer:!1},n.deviceNames={},n.sceneNames={},f=function(){return n.sceneNames={},a.list().then(function(e){var t,i,r;
e=angular.copy(e);for(t in e)r=e[t],r.name&&(i=r.name.toLowerCase(),n.sceneNames[i]=r.id);return s.debug("SpeechCtrl sceneNames",n.sceneNames)},function(t){return e.alert("SpeechCtrl scene list failed",t,!0)})},p=function(){return n.deviceNames={},l.list().then(function(e){var t,i,r;e=angular.copy(e);for(i in e)t=e[i],t.name&&(r=t.name.toLowerCase(),n.deviceNames[r]=i);return s.debug("SpeechCtrl deviceNames",n.deviceNames)},function(t){return e.alert("SpeechCtrl device list failed",t,!0)})},v=function(e,t){var n,i,r,s,o,a,l;for(r=e.length,s=t.length,n=0,a=e.length>t.length?t.length:e.length,o=e.length<t.length?t.length:e.length,i=0;a>i;)e[i]===t[i]&&n++,i++;return l=n/o},m=e.$on("SPEECH_RECOGNIZER_READY",function(){return"c.home"===i.current.name?(n.ui.isSpeechRecognizer=!0,f(),p()):void 0}),u=e.$on("HOME_VIEW_SHOWED",function(){var e;return s.debug("SpeechCtrl HOME_VIEW_SHOWED -> i18nSrv.speechRecognizer "+o.speechRecognizer),e=!1,t.isEmpty(o.speechRecognizer)||(e=!0),e&&(f(),p()),n.ui.isSpeechRecognizer=e}),c=e.$on("DEVICES_LIST_CHANGED",function(){return p()}),d=e.$on("SCENES_LIST_CHANGED",function(){return f()}),e.recognizeSpeech=function(){var t,i,r,a,l;if(null!=(null!=(a=window.plugins)&&null!=(l=a.speechrecognizer)?l.startRecognize:void 0))return i=1,r=o.tr("Toggle device, group or theme by saying its name"),t="en-US","fi"===o.language&&(t="fi-FI"),window.plugins.speechrecognizer.startRecognize(function(t){var i,r,a,l,c,u,d,m,p,f,h,g;if(d=t[0],u=void 0,c=void 0,m=n.sceneNames[d])u=d;else{h=n.sceneNames;for(p in h)l=h[p],f=v(d,p),s.debug(""+f+" of "+d+" and "+p+" ("+l+")"),f>.3&&(void 0===c||f>c)&&(m=l,u=p,c=f)}if(m)return i=o.tr("Voice command scene"),e.notify(""+i+" '"+d+"' -> '"+u+"'"),e.$emit("SCENE_TOGGLE_REQUEST",{sceneId:m});if(r||(r=n.deviceNames[d]),u=void 0,c=void 0,r)u=d;else{g=n.deviceNames;for(a in g)l=g[a],f=v(d,a),s.debug(""+f+" of "+d+" and "+a+" ("+l+")"),f>.3&&(void 0===c||f>c)&&(r=l,u=a,c=f)}return r?(i=o.tr("Voice command device"),e.notify(""+i+" '"+d+"' -> '"+u+"'"),e.$emit("DEVICES_TOGGLE_REQUEST",{deviceId:r})):(i=o.tr("Unknown voice command"),e.notify(""+i+" '"+d+"'"))},function(t){var n;return t&&0!==t&&"0"!==t&&(n=o.tr("Voice command error"),e.alert(""+n+" "+t)),s.error("SpeechCtrl recognizeSpeech() Error : "+t)},i,r,t)},n.$on("$destroy",function(){return c(),d(),u(),m()})},angular.module("appCtrls").controller("SpeechCtrl",["$rootScope","$scope","$state","$timeout","$log","i18nSrv","ScenesSrv","DevicesSrv",e])}),require.register("boot/srv-logger.js",function(){var e,t;t=window.lodash,e=function(e,t,n){var i,r,s,o,a,l,c;return i={NONE:"none",ERROR:"error",WARN:"warn",INFO:"info",LOG:"log",DEBUG:"debug"},n.debug("Logger Cntr INIT"),a=[],s=localStorage.getItem("loglevel"),s||(s=i.ERROR),c=function(e){var t,n,r;n=!1;for(t in i){if(r=i[t],r===e){n=!0;break}if(r===s)break}return n},e.$on("ADD_LOG",function(e,t){var n,i,r,s;if(i=t.json){r=i.time;try{i.time=null!=(s=i.time)?s.toLocaleTimeString("en-US",{hour12:!1}):void 0}catch(o){n=o,i.time=r}if(c(i.level))return a.length>99&&a.shift(),a.push(i)}}),o=function(){return a},l=function(e){var t,n,r,o,l,u;for(n in i)o=i[n],e===o&&(s=e);for(localStorage.setItem("loglevel",s),t=[],l=0,u=a.length;u>l;l++)r=a[l],c(r.level)&&t.push(r);return a=angular.copy(t),s},r=function(){return s},{LEVELS:i,list:o,shouldShowLevel:c,setLevel:l,getLevel:r}},angular.module("appSrvs").factory("LoggerSrv",["$rootScope","$timeout","$log",e])}),require.register("app-ui/jade-runtime.js",function(e,t){jade=function(e){function n(e){return null!=e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),e.merge=function(e,t){var i=e["class"],r=t["class"];(i||r)&&(i=i||[],r=r||[],Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]),i=i.filter(n),r=r.filter(n),e["class"]=i.concat(r).join(" "));for(var s in t)"class"!=s&&(e[s]=t[s]);return e},e.attrs=function(t,n){var i=[],r=t.terse;delete t.terse;var s=Object.keys(t),o=s.length;if(o){i.push("");for(var a=0;o>a;++a){var l=s[a],c=t[l];"boolean"==typeof c||null==c?c&&i.push(r?l:l+'="'+l+'"'):i.push(0==l.indexOf("data")&&"string"!=typeof c?l+"='"+JSON.stringify(c)+"'":"class"==l&&Array.isArray(c)?l+'="'+e.escape(c.join(" "))+'"':n&&n[l]?l+'="'+e.escape(c)+'"':l+'="'+c+'"')}}return i.join(" ")},e.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(e,n,i){if(!n)throw e;var r=3,s=t("fs").readFileSync(n,"utf8"),o=s.split("\n"),a=Math.max(i-r,0),l=Math.min(o.length,i+r),r=o.slice(a,l).map(function(e,t){var n=t+a+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+r+"\n\n"+e.message,e},e}({})}),require.register("app-ui/index.js",function(e,t,n){n.exports=function(){var e;return e=t("boot")}}),require.register("preferences/template-connect.jade",function(e,t,n){n.exports="//-\n//- Welcome page\n//- .slide-animate(ng-if='isInModals(\"RuleTemplateSelection\")')\n\nform.main-view.row\n    .small-12.columns\n            .row.t-margin-S\n                 div(ng-include=\"'/template-hub-pin.tpl.html'\")\n\n"}),require.register("preferences/template-features.jade",function(e,t,n){n.exports="//- Features dialog in 'overlay modal'\n\nform.modal.overlay\n      .content\n            .align-middle\n\n             .row.simple-list\n                .small-12.columns.end(ng-repeat='(featureId, feature) in features')\n                    .row(ng-if='feature.type == \"radio\"')\n                        .small-12.columns\n                            label.small-label {{feature.label}}: {{feature.value}}\n                        .small-12.columns.t-margin-S\n                                a.button.tiny.groupped(ng-repeat='option in feature.options', ng-class='{off:feature.value!=option.value}', co-tap='setFeature(featureId, option.value)') {{option.label}}\n                    hr\n\n\n            .row\n                {{feature}}\n\n"}),require.register("preferences/template-owner.jade",function(e,t,n){n.exports="//- Users  page in modal\n\nform.css-form(novalidate)\n      .content\n            .align-middle\n\n                .row\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'EMAIL'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        input.text-center(type='email', required=true, ng-model='myself.email', placeholder='{{\"Email address\"|tr}}')\n\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'NICKNAME'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        input.text-center(type='text', ng-model='myself.nickname', placeholder='{{\"Nickname\"|tr}}', required=true)\n\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'MOBILE'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        .row.collapse\n                            .small-2.columns\n                                input.text-center(type='text', disabled=true, readonly='true', value='+')\n                                //-span.prefix '+'\n                            .small-3.columns\n                                input.text-center(type='text', ng-model='myself.code', required=true)\n                            .small-7.columns\n                                input.text-left(type='text', ng-model='myself.phone', placeholder='{{\"Mobile\"|tr}}', required=true)\n\n                .row.t-margin-S\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='ownerDetailsDone()') {{'DONE'|tr}}\n\n                .row.t-margin-M\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='logout()') {{'LOGOUT'|tr}}\n\n\n                //-.row\n                    pre {{selected|json}}\n                    pre {{selectedRole}}\n                    pre {{roleNames }}\n\n\n\n\n\n\n\n\n\n"}),require.register("preferences/template-rooms.jade",function(e,t,n){n.exports="//- Users  page\n\nform.main-view\n    //- List view\n    .content(ng-if='ui.mode==MODE.LIST')\n        .align-middle.t-margin-S-iOS\n            .row.simple-list.action-list.top(as-sortable='dragControlListeners' data-ng-model='rooms')\n                .small-12.columns.end(ng-repeat='room in rooms', ng-if='room.id' as-sortable-item)\n                    .row.valign-middle.icon-action-header(co-tap='openRoom(room)')\n                        //-.small-1.columns(co-tap='moveUp(room)' )\n                                span.icon-center-line(ng-if='$first') &#8593;\n                                span.icon-center-line(ng-if='!$first') &nbsp;\n\n                        .small-2.columns\n                                i.con.left\n                                    .icon.icon-room\n\n                        //-.small-1.columns(co-tap='moveDown(room)')\n                                span.icon-center-line(ng-if='!$last') &#8595;\n                                span.icon-center-line(ng-if='!$last') &nbsp;\n\n                        .small-8.columns(as-sortable-item-handle)\n                            .icon-center-line.data\n                                span {{room.name}}\n\n                        .small-2.columns\n                                i.con.arrow\n                                    .icon.icon-cornerarrow\n\n            //-.row.t-margin-XL\n                pre {{ui|json}}\n            //-.row.t-margin-M\n                pre {{rooms|json}}\n\n    //- New / edit view\n    .content(ng-if='ui.mode==MODE.SET')\n        .top-section\n            .row.t-margin-XL\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    label.small.text-center {{'ROOM NAME'|tr}}\n\n            .row\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    input.text-center(type='text', ng-model='ui.roomName', co-focus,  ng-change='changeRoom()')\n\n             .row\n                .small-10.small-centered.medium-6.medium-centered.columns(ng-if='ui.changed')\n                    button.row-button.success(type='submit', ng-click='setRoom()', ng-class='{spin:ui.saveBusy}') {{ui.saveButtonText}}\n\n\n\n        .bottom-section.separator\n            .row(ng-if='ui.selectedRoom.id')\n                .small-12.medium-6.medium-centered.columns.l-padding-0.r-padding-0\n                    button.row-button.alert(type='submit', ng-click='removeRoom()', ng-class='{spin:ui.deleteBusy}') {{ui.deleteButtonText}}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"}),require.register("preferences/template-user.jade",function(e,t,n){n.exports="//- Users  page\n\nform.main-view\n      .content\n            .align-middle\n\n                .row\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        h2(ng-if='!selected.id'){{'Add user'|tr}}\n                        h2(ng-if='selected.id'){{selectedEmail}}\n\n\n                .row.t-margin-S\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.text-center {{'ROLE'|tr}}\n                        div(co-roller='true', co-selection='selectedRole', co-roller-list='roleNames')\n\n                .row.t-margin-M(ng-if='selected.id')\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='detailsDone(selectedRole)') {{'DONE'|tr}}\n\n                .row.t-margin-M(ng-if='selected.id')\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='revoke(selectedEmail)') {{'REVOKE ALL'|tr}}\n\n\n                //-.row\n                    pre {{selected|json}}\n                    pre {{selectedRole}}\n                    pre {{roleNames }}\n\n\n\n\n\n\n\n\n"}),require.register("preferences/template-hub-pin.jade",function(e,t,n){n.exports="\n.row.t-margin-S\n    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n        //-ul.plain-list.inline\n            li\n                //- Factory reset\n                i.icon.icon-trash.M(co-tap='reset()')\n\n"}),require.register("preferences/template-preferences.jade",function(e,t,n){n.exports="//- Preferences (=settings) page for language selection and other settings\nform.main-view.css-form(novalidate)\n\n      .content\n            .align-middle\n\n                .row\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'EMAIL'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        input.text-center(type='email', required=true, ng-model='myself.email', placeholder='{{\"Email address\"|tr}}')\n\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'NICKNAME'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        input.text-center(type='text', ng-model='myself.nickname', placeholder='{{\"Nickname\"|tr}}', required=true)\n\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'MOBILE'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        .row.collapse\n                            .small-2.columns\n                                input.text-center(type='text', disabled=true, readonly='true', value='+')\n                                //-span.prefix '+'\n                            .small-3.columns\n                                input.text-center(type='text', ng-model='myself.code', required=true)\n                            .small-7.columns\n                                input.text-left(type='text', ng-model='myself.phone', placeholder='{{\"Mobile\"|tr}}', required=true)\n\n                .row(ng-controller='PreferencesCtrl')\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.top {{'LANGUAGE'|tr}}\n\n                        div(co-roller='true', co-selection='selectedLanguage', co-roller-list='getLanguages()')\n\n                .row.t-margin-S\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='ownerDetailsDone()') {{'DONE'|tr}}\n\n                .row.t-margin-M\n                    .small-10.small-centered.medium-6.medium-centered.columns.end\n                        button.full-width(type='button', co-tap='logout()') {{'LOGOUT'|tr}}\n\n\n\n.slide-animate(ng-include=\"'/template-features.tpl.html'\", ng-controller='FeaturesCtrl', ng-if='menu.modalPage==\"Features\"')\n//-.slide-animate(ng-include=\"'/template-users.tpl.html'\", ng-controller='UsersCtrl', ng-if='menu.modalPage==\"Users\"')\n//-.slide-animate(ng-include=\"'/template-owner.tpl.html'\", ng-controller='UsersCtrl', ng-if='menu.modalPage==\"Admin\"')\n"}),require.register("preferences/template-welcome.jade",function(e,t,n){n.exports="//-\n//- Welcome page\n//- .slide-animate(ng-if='isInModals(\"RuleTemplateSelection\")')\n\nform.main-view.row\n    .small-12.columns\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                label.text-center.med-horiz-padding {{'SELECT'|tr}} {{'LANGUAGE'|tr}}:\n                div(co-roller='true', co-selection='selectedLanguage', co-roller-list='getLanguages()')\n\n\n        .row.t-margin-M\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='languageDone()') {{'DONE'|tr}}\n\n"}),require.register("devices/partitial-devices-add.jade",function(e,t,n){n.exports=".row\n\n\ndiv(ng-if='ui.state==STATES.SELECT_MAIN')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{'Adding device by technology'|tr}}\n\n    .row.simple-list.action-list\n        .small-12.columns\n            a.row.valign-middle.action-header(co-tap='selectZigbeeDevice() ')\n                .small-10.columns\n                    .icon-center-line.trunc {{'Adding Zigbee devices'|tr}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\n        .small-12.columns(ng-if='ui.is433s')\n            a.row.valign-middle.action-header(co-tap='show433Manufacturers()')\n                .small-10.columns\n                    .icon-center-line.trunc {{'Adding 433 MHz'|tr}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\n\n    .row.t-margin-M\n        .small-12.columns\n            h3.dark-font.upper-case {{'Adding device by manufacturer'|tr}}\n\n\n    .row.simple-list.action-list\n        .small-12.columns(ng-repeat='(manufacturer, devices) in ui.manufacturers')\n            a.row.valign-middle.action-header(co-tap='showDevices(manufacturer, devices) ')\n                .small-10.columns\n                    .icon-center-line.trunc {{manufacturer}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\n        .small-12.columns(ng-repeat='(manufacturer, devices) in ui.manufacturersFor433')\n            a.row.valign-middle.action-header(co-tap='show433Devices(manufacturer, devices) ')\n                .small-10.columns\n                    .icon-center-line.trunc {{manufacturer}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\n\ndiv(ng-if='ui.state==STATES.SELECT_ZIGBEE')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{ui.selectedManufacturer}}\n        .small-2.columns\n            .number 1\n        .small-10.columns\n            .number.instruction {{'Adding Zigbee instructions 1'|tr}}\n        .small-12.columns(ng-if='ui.zigbeeConnectionTime>0')\n            .pie-wrapper\n                .pie.spinner\n                .pie.filler\n                .mask\n                .inset {{ui.zigbeeConnectionTime}} {{'sec'|tr}}\n        .small-10.small-centered.medium-6.medium-centered.columns.text-center(ng-if='ui.zigbeeConnectionTime <= 0')\n            .explanation {{'Device connection time ended'|tr}}\n        .small-10.small-centered.medium-6.medium-centered.columns(ng-if='ui.zigbeeConnectionTime <= 0')\n            button.row-button.bottom.upper-case(type='submit', co-tap='selectZigbeeDevice()') {{'Search again'|tr}}\n\n       .small-2.columns\n            .number 2\n        .small-10.columns\n            .number.instruction {{'Adding instructions last'|tr}}\n\n        .small-6.columns\n            button.row-button.bottom.upper-case(type='submit', ng-click='returnToMain()') {{'OK'|tr}}\n        .small-6.columns\n            button.row-button.bottom.upper-case(type='button', ng-click='cancelToMain()') {{'Cancel'|tr}}\n\n\ndiv(ng-if='ui.state==STATES.SELECT_433_MANUFACTURER')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{'Select 433 MHz device manufacturer'|tr}}\n\n    .row.simple-list.action-list\n        .small-12.columns(ng-repeat='(manufacturer, devices) in ui.manufacturersFor433')\n            a.row.valign-middle.action-header(co-tap='show433Devices(manufacturer, devices) ')\n                .small-10.columns\n                    .icon-center-line.trunc {{manufacturer}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\ndiv(ng-if='ui.state==STATES.SELECT_433_DEVICES')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{ui.selectedManufacturer}}\n\n        .small-12.columns\n            h3.dark-font.upper-case {{'Select 433 MHz device type'|tr}}\n\n    .row.simple-list.action-list\n        .small-12.columns(ng-repeat='device in ui.devicesFor433')\n            a.row.valign-middle.action-header(co-tap='add433Device(device.id, device.name) ')\n                .small-10.columns\n                    .icon-center-line.trunc {{device.name}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\ndiv(ng-if='ui.state==STATES.SELECT_DEVICES')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{ui.selectedManufacturer}}\n\n        .small-12.columns\n            h3.dark-font.upper-case {{'Select device type'|tr}}\n\n    .row.simple-list.action-list\n        .small-12.columns(ng-repeat='(id, device) in ui.devices')\n            a.row.valign-middle.action-header(co-tap='device.action() ')\n                .small-10.columns\n                    .icon-center-line.trunc {{device.name}}\n                .small-2.columns\n                    i.con\n                        .icon.icon-cornerarrow\n\n\ndiv(ng-if='ui.state==STATES.SELECT_DEVICE_1')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{ui.selectedDeviceName}}\n\n    .row(ng-if='ui.wizard.view1.note0')\n        .small-2.columns\n            .number {{ui.wizard.view1.note0.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view1.note0.text}}\n\n    .row(ng-if='ui.wizard.view1.step1')\n        .small-2.columns\n            .number {{ui.wizard.view1.step1.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view1.step1.text}}\n\n    .row(ng-if='ui.wizard.view1.step2')\n        .small-2.columns\n            .number {{ui.wizard.view1.step2.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view1.step2.text}}\n\n    .row(ng-if='ui.wizard.view1.step3')\n        .small-2.columns\n            .number {{ui.wizard.view1.step3.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view1.step3.text}}\n\n    .row(ng-if='ui.wizard.view1.action')\n        .small-6.columns\n            button.row-button.bottom.upper-case(type='submit', ng-click='ui.wizard.view1.action()') {{'OK'|tr}}\n\n        .small-6.columns\n            button.row-button.bottom.upper-case(type='button', ng-click='ui.wizard.view1.cancel()') {{'Cancel'|tr}}\n\ndiv(ng-if='ui.state==STATES.SELECT_DEVICE_2')\n    .row\n        .small-12.columns\n            h3.dark-font.upper-case {{ui.selectedDeviceName}}\n\n    .row(ng-if='ui.wizard.view1.note0')\n        .small-2.columns\n            .number {{ui.wizard.view2.note0.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view2.note0.text}}\n\n    .row(ng-if='ui.wizard.view2.step1')\n        .small-2.columns\n            .number {{ui.wizard.view2.step1.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view2.step1.text}}\n\n        .small-12.columns(ng-if='ui.wizard.view2.step1.connectionTime>0')\n            .pie-wrapper\n                .pie.spinner\n                .pie.filler\n                .mask\n                .inset {{ui.wizard.view2.step1.connectionTime}} {{'sec'|tr}}\n        .small-10.small-centered.medium-6.medium-centered.columns.text-center(ng-if='ui.wizard.view2.step1.connectionTime <= 0')\n            .explanation {{'Device connection time ended'|tr}}\n        .small-10.small-centered.medium-6.medium-centered.columns(ng-if='ui.wizard.view2.step1.connectionTime <= 0')\n            button.row-button.bottom.upper-case(type='submit', co-tap='ui.wizard.view1.action()') {{'Search again'|tr}}\n\n    .row(ng-if='ui.wizard.view2.step2')\n        .small-2.columns\n            .number {{ui.wizard.view2.step2.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view2.step2.text}}\n\n\n    .row(ng-if='ui.wizard.view2.step3')\n        .small-2.columns\n            .number {{ui.wizard.view2.step3.index}}\n        .small-10.columns\n            .number.instruction {{ui.wizard.view2.step3.text}}\n\n    .row(ng-if='ui.wizard.view2.action')\n        .small-10.small-centered.medium-6.medium-centered.columns\n            button.row-button.bottom.upper-case(type='submit', ng-click='ui.wizard.view2.action()') {{'OK'|tr}}\n\n\n.row.t-margin-L(ng-if='ui.state==STATES.SELECT_MAIN')\n        .small-10.small-centered.medium-6.medium-centered.columns.end.text-center\n                label {{'Return ignored devices'|tr}}?\n                .explanation {{'Return ignored devices instructions'|tr}}\n\n.row(ng-if='ui.state==STATES.SELECT_MAIN')\n    .small-10.small-centered.medium-6.medium-centered.columns\n        button.row-button.bottom(type='submit', ng-click='returnIgnoredDevices()') {{'RETURN IGNORED DEVICES'|tr}}\n"}),require.register("devices/partitial-devices-camera.jade",function(e,t,n){n.exports=".small-12.columns(ng-if=\"viewMode=='controls' \")\n    .row Camera:  {{device|json}}\n\n"}),require.register("devices/partitial-devices-color.jade",function(e,t,n){n.exports="//-\n//- Color picker in 'modal'\n//-\nform.modal()\n    .content\n        .row\n            .small-12.text-center.columns\n                .color-picker(co-color-picker='true', co-color='light.pickerHex')\n\n        //-.row\n          .small-10.small-centered.small-offset-2.columns.color-history(co-swipe-x='true')\n            .color-history-item(ng-repeat='color in light.historyColors track by $index')\n                .circle-outer(ng-class='{selected: light.historyColorsSelected==color}', co-tap='selectHistoryColor(color)')\n                    .circle-inner(class='color-picker-icon', ng-style='{background: color}')\n\n        //- brightness\n        .row.t-margin-XS\n            .small-2.large-1.text-center.columns\n                i.property-label.icon.icon-brightness\n\n            .small-10.large-11.columns\n                .gauge(co-gauge='true', co-gauge-type='slider', co-gauge-value='light.brightness',  co-gauge-color='brightColor()', co-gauge-bg-color='#000', co-gauge-font-color='#555')\n\n        //-.row.colors-done\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='submit', ng-click='closeModal();setColorState(true, false)') {{'DONE'|tr}}\n\n\n        //-.row\n           .small-4.columns  {{light.brightness}}\n           .small-4.columns  {{light.temperature}}\n           .small-4.columns {{light.pickerHex}}\n           .small-6.columns  {{light.hue}}\n           .small-6.columns  {{light.saturation}}\n"}),require.register("devices/partitial-devices-light.jade",function(e,t,n){n.exports="\n\n//-.small-12.columns()\n    .row Light:  {{device.features}}\n\n\n//- color/bw selection\n.small-12.columns(ng-if=\"viewMode=='controls' \")\n    //- hs\n    .row(ng-if='device.features.colorHS')\n        .small-2.large-1.text-center.columns\n            i.property-label.icon.icon-color\n\n        //- b/w selection\n        //-.small-2.columns(ng-if='device.features.colorTemperature')\n            #bw.circle-outer(ng-class='{selected: !light.colorsSelected}', co-tap='setColorState(false)')\n                .circle-inner.white\n\n        //-.small-2.columns.end\n            #color.circle-outer(ng-class='{selected: light.colorsSelected}', co-tap='showModal(\"ColorPalette\", \"Choose Color\");setColorState(true)')\n                .circle-inner(ng-style='{background: brightColor()}', ng-if='isHueOrSaturation()', title='{{light.pickerHex}}')\n                circle-inner(class='color-picker-icon', ng-if='!isHueOrSaturation()', title='{{light.pickerHex}}')\n\n        .small-10.small-centered.columns.color-history(co-swipe-x='true')\n            //- B/w circle\n            .color-history-item(ng-if='device.features.colorTemperature')\n                #bw.circle-outer(ng-class='{selected: !light.colorsSelected}', co-tap='setColorState(false)')\n                    .circle-inner.white\n                        //-i.icon.icon-b-w.color-icon &#9682;\n            //- Color circle\n            .color-history-item\n                #color.circle-outer(co-tap='showModal(\"ColorPalette\", \"Choose Color\");setColorState(true)')\n                    .circle-inner(class='color-picker-icon', title='{{light.pickerHex}}')\n            //- Color history circles\n            .color-history-item(ng-repeat='color in light.historyColors track by $index')\n                .circle-outer(ng-class='{selected:light.colorsSelected&&light.historyColorsSelected==color}', co-tap='selectHistoryColor(color)')\n                    .circle-inner(class='color-picker-icon', ng-style='{background: color}')\n            //- Remove\n            .color-history-item\n                #color.circle-outer(co-tap='removeColorHistory()')\n                    i.icon.icon-trash.color-icon\n\n\n    //- brightness\n    .row(ng-if='device.features.brightness')\n        .small-2.large-1.text-center.columns\n            i.property-label.icon.icon-brightness\n\n        .small-10.large-11.columns\n            .gauge(ng-if='!light.colorsSelected', co-gauge='true', co-gauge-type='slider', co-gauge-value='light.brightness',  co-gauge-color='[\"#555555\", \"#ffffff\"]', co-gauge-bg-color='#000', co-gauge-font-color='#555')\n            .gauge(ng-if='light.colorsSelected', co-gauge='true', co-gauge-type='slider', co-gauge-value='light.brightness',  co-gauge-color=' brightColor()', co-gauge-bg-color='#000', co-gauge-font-color='#555')\n\n    //- temperature\n    .row(ng-if='device.features.colorTemperature && ! light.colorsSelected')\n        .small-2.large-1.text-center.columns\n            i.property-label.icon.icon-temperature\n\n        .small-10.large-11.columns\n            .gauge(co-gauge='true', co-gauge-type='slider', co-gauge-value='light.temperature',  co-gauge-color='[ \"#fa2e27\", \"#7cd4fc\" ]', co-gauge-scale='light.maxTemperature', co-gauge-scale-min='light.minTemperature', co-gauge-unit='K', co-gauge-font-color='#555')\n\n    //- transition time\n    .row(ng-if='device.features.transition && device.state.isOn ')\n        a.small-10.small-offset-2.columns(ng-class='{selected: light.transitionChecked}', co-tap='selectTransition100Msec() ')\n                .row.valign-middle\n                    .small-2.columns\n                        i.icon.icon-checkboxbg\n                            i.icon.icon-done\n                    .small-10.columns\n                        span {{'Use as Wake Up Light with themes'|tr}}...\n                        span(ng-if='light.transitionChecked') ({{light.transitionMin}}&nbsp;{{'min'|tr}})\n\n\n    //-  SCENE, RULE etc that should be moved to partial\n\n    //- Save to rule button\n        .row(ng-if='ui.sceneId&&ui.ruleId', ng-controller='RuleDetailCtrl' )\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='saveDeviceToRuleAndGoIntoIt(device, $parent.ui.sceneId, $parent.ui.ruleId)') {{'USE THIS STATE IN RULE'|tr}}\n\n\n    //- Save to scene button\n    .row(ng-if='ui.sceneId && !ui.ruleId && device.state.reachable', ng-controller='SceneListCtrl' )\n        .small-12.small-centered.medium-6.medium-centered.columns\n            button.row-button(type='button', ng-click='saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)') {{'USE THIS STATE IN SCENE'|tr}}\n\n    //- Scene button\n    .row(ng-if='!ui.sceneId && !ui.ruleId && device.state.reachable')\n        .small-12.small-centered.medium-6.medium-centered.columns\n            button.row-button(type='button', ng-click='showModal(\"SceneSelection\", \"Choose Scene(s)\")')  {{'SAVE TO SCENES'|tr}}\n\n    //- Ignore button\n        .row\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='device.ignore()') {{'IGNORE THIS DEVICE'|tr}}\n\n    //- Ignore if reachable (=normal)\n        .row(ng-if='device.state.reachable')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='device.ignore()') {{'IGNORE THIS DEVICE'|tr}}\n        //- Remove if not reachable (=gray)\n        .row(ng-if='!device.state.reachable')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='removeDevices([device.id])') {{'REMOVE THIS DEVICE'|tr}}\n\n    //- Add Timer\n        .row(ng-if='!ui.sceneId&&!ui.ruleId')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='addTimer()')  {{'ADD TIMER RULE'|tr}}\n\n    //- Group's device list\n    .row(ng-if='device.types.GROUP')\n        .small-12.columns\n            h3.dark-font {{'DEVICES'|tr}}\n\n        .small-12.columns.t-margin-L\n            ul.dd-grid.small-block-grid-4.medium-block-grid-6.large-block-grid-8\n\n                //-li.grid-item(ng-repeat='(id,subdevice) in device.members', co-dd='group:{{device.id}}:{{$index}}', co-dd-item-id='group:{{device.id}}:{{id}}', co-dd-drop-cb='dropDev(from, to)')\n                li.grid-item(ng-repeat='(id,subdevice) in device.members', co-tap='subdevice.toggle()', co-hold='subdevice.select()', co-dd='group:{{device.id}}:{{$index}}', co-dd-item-id='group:{{device.id}}:{{id}}', co-dd-drop-cb='dropDev(from, to)')\n                    .device(id='group:{{device.id}}:{{id}}', title='{{subdevice.id}}={{id}}', ng-class='{unknown: !subdevice.state.reachable, blink: subdevice.busy==true}')\n                        .container\n                            i.icon(ng-class='subdevice.iconClasses')\n                                .circle(ng-if='subdevice.styleClasses' ng-class='subdevice.styleClasses')\n                        .name(ng-class='{unknown: !subdevice.state.reachable}') {{subdevice.name}}\n\n                li.recyle-drop-zone(co-dd='2000', co-dd-item-id='group-remove', co-dd-un-draggable='true')\n                    #group-remove.recyle-bin\n                        i.icon.icon-trash\n"
}),require.register("devices/partitial-devices-media-options.jade",function(e,t,n){n.exports="//- Media options like 'save to...'' in 'modal'\n//-\nform.modal()\n    .content\n        //-.row\n            .code {{media.source}}\n\n\n        //- Image\n        .row\n            .small-6.small-centered.columns.end.text-center\n                img(ng-src='{{media.source.albumArtURI}}')\n\n        //- Name\n        .row.t-margin-S\n            .small-10.columns.small-centered.text-center\n                    h2.inline-truncated-header {{media.source.title}}\n                    h3.inline-truncated-header {{media.source.creator}} - {{media.source.album}}\n\n                    //-h2.inline-truncated-header  {{media.currentTrackAlbumTitle}}\n                    //-h3.inline-truncated-header {{media.currentTrackCreator}} - {{media.currentTrackAlbum}}\n\n        //- Options\n        //-.row.t-margin-M(ng-if='media.sourceMode==\"player\"')\n        .row.t-margin-M\n            //-.small-11.medium-8.large-6.columns.small-centered.text-center\n                    a.button.full-width.group.first(ng-click='showSearch()') {{'SEARCH NEW'|tr}}\n\n            //-.small-11.medium-8.large-6.columns.small-centered.text-center\n                    a.button.full-width.group(ng-click='') Buutton2\n\n            //- .small-11.medium-8.large-6.columns.small-centered.text-center(ng-if='!ui.sceneId && !ui.ruleId && device.state.reachable')\n                    a.button.full-width.group.last(ng-click='saveToScenes()') {{'SAVE TO SCENES'|tr}}\n\n            .small-11.medium-8.large-6.columns.small-centered.text-center(ng-if='!ui.sceneId && !ui.ruleId && device.state.reachable')\n                    a.button.full-width(ng-click='openSaveToScenes(media)') {{'Add To Scenes'|tr}}\n\n"}),require.register("devices/partitial-devices-media-scenes.jade",function(e,t,n){n.exports="//- Media saving to scenes\n//-\nform.modal.overlay\n    .content\n\n        .row.t-margin-S\n            //- Repeat, shuffle ym\n            .small-8.small-centered.columns(ng-if='media.source.currentTrackPlayMode')\n                .row\n                    //-.small-6.columns.text-right(co-tap='repeat(media.source)')\n                        i.media.icon.icon-repeat(ng-class='{selected: media.source.currentTrackPlayMode==\"REPEAT_ALL\"||media.source.currentTrackPlayMode==\"SHUFFLE\"}')\n                        i.media.icon.icon-shuffle(ng-class='{selected: media.source.currentTrackPlayMode==\"SHUFFLE\"||media.source.currentTrackPlayMode==\"SHUFFLE_NOREPEAT\"}')\n                    .small-6.columns.text-right(co-tap='repeat(media)')\n                        i.media.icon.icon-repeat(ng-class='{selected: media.currentTrackPlayMode==\"REPEAT_ALL\"||media.source.currentTrackPlayMode==\"SHUFFLE\"}')\n                    //-.small-6.columns.text-left(co-tap='shuffle(media.source)')\n                    .small-6.columns.text-left(co-tap='shuffle(media)')\n                        i.media.icon.icon-shuffle(ng-class='{selected: media.currentTrackPlayMode==\"SHUFFLE\"||media.source.currentTrackPlayMode==\"SHUFFLE_NOREPEAT\"}')\n\n            //- album Art + link\n            .small-12.columns.text-center\n                a\n                    //-img.music(ng-src='{{media.source.albumArtURI}}')\n                    img.music(ng-src='{{media.currentTrackAlbumArtUri}}')\n\n        //- Name, title etc\n        .row.t-margin-S\n            .small-10.columns.small-centered.text-center\n                h3 {{media.source.title}}\n                span {{media.source.creator}} - {{media.source.album}}\n                //-h3 {{media.currentTrackAlbumTitle}}\n                //-span {{media.currentTrackCreator}} - {{media.currentTrackAlbum}}\n\n\n        .row.t-margin-S\n            .small-2.large-1.text-center.columns\n                i.con\n                    .media.icon.icon-volume.full\n\n            .small-10.large-11.columns\n                //-.gauge(co-gauge='true', co-gauge-value='media.source.volume',  co-gauge-type='slider',  co-gauge-color='[\"#ffffff\", \"#ffffff\"]', co-gauge-bg-color='#666', co-gauge-font-color='#555', co-gauge-hide-title=true)\n                .gauge(co-gauge='true', co-gauge-value='media.volume',  co-gauge-type='slider',  co-gauge-color='[\"#ffffff\", \"#ffffff\"]', co-gauge-bg-color='#666', co-gauge-font-color='#555', co-gauge-hide-title=true)\n\n\n\n\n        .row(ng-controller='SceneListCtrl', ng-if='!ui.sceneId && !ui.ruleId')\n            .small-12.columns\n                .row.simple-list.action-list.checkbox.t-margin-S\n                    .small-12.columns(ng-repeat='(id, scene) in ui.newScenes', ng-class='{selected:scene.addStatus}', ng-if='scene.factory>0')\n                        //- Checkbox & name\n                        a.row.valign-middle.action-header(co-tap='scene.addStatus = !scene.addStatus')\n                            .small-1.check.columns.text-left\n                                i.icon.icon-checkboxbg\n                                    i.icon.icon-done\n                                span &nbsp;\n                            .small-9.name.columns\n                                .icon-center-line {{scene.name}}\n                            .small-2.columns.text-center\n                                 i.con\n                                    .icon(ng-class='scene.icon')\n\n\n                    .small-12.columns(ng-repeat='(id, scene) in ui.newScenes', ng-class='{selected:scene.addStatus}', ng-if='!scene.factory>0')\n                        //- Checkbox & name\n                        a.row.valign-middle.action-header(co-tap='scene.addStatus = !scene.addStatus')\n                            .small-1.check.columns.text-left\n                                i.icon.icon-checkboxbg\n                                    i.icon.icon-done\n                                span &nbsp;\n                            .small-9.name.columns\n                                .icon-center-line {{scene.name}}\n                            .small-2.columns.text-center\n                                 i.con\n                                    .icon(ng-class='scene.icon')\n\n\n                .row.t-margin-S\n                      //- Add new\n                    .small-12.small-centered.medium-6.medium-centered.columns\n                        button.full-width(type='button', co-tap='showModal(\"SceneCreation\", \"Create New Scene\")')\n                            i.con.button\n                                .icon.icon-addsmall\n                            .inline {{'Create New Scene'|tr}}\n\n\n                .row.t-margin-S\n                    .small-12.small-centered.medium-6.medium-centered.columns\n                        button.row-button.bottom(type='button', ng-click='addPresetToScenes(device);showSearch()') {{'DONE'|tr}}\n\n        //- Save\n        .row(ng-if='ui.sceneId && !ui.ruleId', ng-controller='SceneListCtrl')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                //-button.full-width(type='button', co-tap='closeModal()')   {{'USE THIS STATE IN SCENE'|tr}}\n                button.full-width(type='button', co-tap='saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)')   {{'USE THIS STATE IN SCENE'|tr}}\n\n"}),require.register("devices/partitial-devices-media.jade",function(e,t,n){n.exports=".small-12.columns(ng-if=\"viewMode=='controls' \")\n\n\n    .t-margin-S(ng-if='media.mode==\"scene\"', ng-include=\"'/partitial-devices-media-scenes.tpl.html'\")\n\n    //- Tabs\n    .row.tabs.media-tabs(ng-if='media.mode!=\"player\"&&media.mode!=\"scene\"')\n        //- Search-link\n        a.small-6.columns.text-center(ng-class='{selected:media.mode==\"search\"}', co-tap='showSearch()')\n            i.icon.block.icon-search\n        //- Playlist-link\n        a.small-4.columns.text-center(ng-class='{selected:media.mode==\"queue\"}', co-tap='showQueue()')\n            i.icon.block.icon-queue\n        a.small-2.columns.text-left(ng-class='{selected:media.mode==\"queue\"}', co-tap='showQueue()')\n            span.explanation {{media.currentTrack}}/{{media.numberOfTracks}}\n\n    //- Queue\n    .row(ng-if=\"media.mode == 'queue'\")\n        .small-12.columns.media-list.without-search\n            .row.simple-list.action-list.for-music\n                .small-12.columns(ng-repeat='item in playQueue')\n                     a.row.action-header.text-left(co-tap='queueAction(QUEUE_COMMAND.SEEK, $index+1) ')\n                        //-  {{$index+1}} {{media.currentTrack}}\n                        .small-10.name.columns(ng-if='$index+1==media.currentTrack')\n                            i.media.icon.block.icon-volume.selected\n                            span.selected-color &nbsp; &nbsp;  &nbsp; &nbsp; {{item.title}}\n                            br\n                            span.explanation.selected-color {{item.creator}} - {{item.album}}\n\n                        .small-10.name.columns(ng-if='$index+1!=media.currentTrack')\n                            span.link-color  {{item.title}}\n                            br\n                            span.explanation {{item.creator}} - {{item.album}}\n\n                        //- todo when we have content to be used\n                            .small-2.columns.link-color\n                                i.media.icon.icon-cornerarrow\n\n                        .small-2.columns.link-color(co-tap='showOptions(item, \"queue\", $index+1)')\n                            i.con\n                                .icon.icon-ball-options\n\n                 //- padding to show last ones under player\n                .small-12.columns.t-margin-XL &nbsp;\n                .small-12.columns.t-margin-XL &nbsp;\n\n    //- Search\n    .row(ng-if=\"media.mode == 'search'\")\n        .small-12.columns.text-center.media-list.search\n            input.text-left(type='search', ng-model='media.search', placeholder='{{\"Search phrase\"|tr}}', required=true, results=5, autosave='mediasearch', co-ok='doSearch(media.search)'))\n\n\n        .small-12.columns.media-list.with-search\n            .row.simple-list.action-list.for-music\n                .small-12.columns(ng-repeat='result in searchResults', ng-class='{selected:result.uri  && result.uri == media.currentTrackUri, blink: result.busy}')\n                    a.row.action-header(co-tap='playIt(result)')\n                        .small-3.columns.media-image\n                            img(ng-src='{{result.albumArtURI}}')\n                        .small-7.name.columns\n                            span.link-color {{result.title}}{{result.description}}\n                            br\n                            span.explanation {{result.creator}}-{{result.album}}\n\n                        //- todo when we have content to be used\n                            .small-2.columns.link-color\n                                i.media.icon.icon-cornerarrow\n\n                        .small-2.columns.link-color(co-tap='showOptions(result, \"search\")')\n                            i.con\n                                .icon.icon-ball-options\n\n                //- padding to show last ones under player\n                .small-12.columns.t-margin-XL &nbsp;\n                .small-12.columns.t-margin-XL &nbsp;\n\n\n        .small-8.small-centered.columns.media-list.with-search.text-center.t-margin-M(ng-if='!searchResults || searchResults.length < 1') {{'No search results'|tr}}\n\n        .clearfix\n\n    //- miniplayer\n    .row.miniplayer(ng-if=\"media.mode == 'search' || media.mode == 'queue'\")\n        .small-12.columns.r-padding-0(ng-class='{blink: device.busy}')\n            .row.first-row\n                .small-3.columns.media-image(co-tap='toggleDevice()')\n                    img(ng-src='{{media.currentTrackAlbumArtUri}}')\n                    i.media.icon.overlay.block.icon-player-pause.hi(ng-if='media.isPlay')\n                    i.media.icon.overlay.block.icon-player-play.hi(ng-if='!media.isPlay')\n                .small-7.name.columns\n                    //-span.inline-truncated {{media.currentTrackAlbumTitle}}\n                    .link-color.trunc.inline(co-tap='showFullPlayer()') {{media.currentTrackAlbumTitle}}\n                    br\n                    .explanation.trunc.inline(co-tap='showFullPlayer()') {{media.currentTrackCreator}} - {{media.currentTrackAlbum}}\n\n                .small-2.columns.link-color.scrollbar-padding(co-tap='showOptions(media, \"mini-player\")')\n                    i.con\n                        .icon.icon-ball-options\n\n            .row.second-row\n                .small-2.text-left.columns.media-image\n                    i.con\n                        .media.icon.icon-volume\n\n                .small-9.columns.end.l-padding-0\n                    .gauge(co-gauge='true', co-gauge-value='media.volume',  co-gauge-type='slider',  co-gauge-color='[\"#ffffff\", \"#ffffff\"]', co-gauge-bg-color='#666', co-gauge-font-color='#555', co-gauge-hide-title=true)\n\n    //- Player\n    //-.background-image(ng-style=\"{'background-image': 'url({{ media.currentTrackAlbumArtUri }})'}\", ng-if=\"media.mode == 'player'\")\n    .background-image(co-bg-img='{{ media.currentTrackAlbumArtUri }}', ng-if=\"media.mode == 'player'\")\n    .full-page(ng-if=\"media.mode == 'player'\")\n\n        .row\n            //- Repeat, shuffle ym\n            .small-8.small-centered.columns\n                .row\n                    .small-4.columns.text-right(co-tap='repeat(media)')\n                        i.media.icon.icon-repeat(ng-if='media.currentTrackPlayMode', ng-class='{selected: media.currentTrackPlayMode==\"REPEAT_ALL\"||media.currentTrackPlayMode==\"SHUFFLE\"}')\n                    .small-4.columns.text-center(co-tap='shuffle(media)')\n                        i.media.icon.icon-shuffle(ng-if='media.currentTrackPlayMode', ng-class='{selected: media.currentTrackPlayMode==\"SHUFFLE\"||media.currentTrackPlayMode==\"SHUFFLE_NOREPEAT\"}')\n                    .small-4.columns.text-left(co-tap='showOptions(media, \"player\")')\n                        i.media.icon.icon-ball-options\n\n            //- album Art + link\n            .small-12.columns.text-center(co-tap='doSearch()')\n                a\n                    img.music.big(ng-src='{{media.currentTrackAlbumArtUri}}')\n\n        //- Name, title etc\n        .row.media.t-margin-S\n            .small-10.columns.small-centered.text-center\n                h3 {{media.currentTrackAlbumTitle}}\n                span {{media.currentTrackCreator}} - {{media.currentTrackAlbum}}\n\n        //- Play, prev, next\n        .row.media.t-margin-S(ng-class='{blink: device.busy==true}')\n            .small-10.small-centered.columns\n                .row\n                    .small-4.columns.text-right(co-tap='prev()')\n                        i.media.icon.icon-player-prev.hi.full\n                    .small-4.columns.text-center(co-tap='toggleDevice()')\n                        i.media.icon.icon-player-pause.hi.full(ng-if='media.isPlay')\n                        i.media.icon.icon-player-play.hi.full(ng-if='!media.isPlay')\n                    .small-4.columns.end.text-left(co-tap='next()')\n                        i.media.icon.icon-player-next.hi.full\n\n\n        .row.media.t-margin-S\n            .small-2.large-1.text-center.columns\n                i.media.icon.icon-volume.full\n\n            .small-10.large-11.columns\n                .gauge(co-gauge='true', co-gauge-value='media.volume',  co-gauge-type='slider',  co-gauge-color='[\"#ffffff\", \"#ffffff\"]', co-gauge-bg-color='#666', co-gauge-font-color='#555', co-gauge-hide-title=true)\n\n        //-.row.t-margin-XL\n            .small-12.columns.text-left\n                pre {{device.state.avtData|json}}\n            .small-12.columns.text-left\n                pre {{content|json}}\n\n"}),require.register("devices/partitial-devices-remote-control.jade",function(e,t,n){n.exports=".small-12.columns(ng-if=\"viewMode=='controls' \")\n    //-.row\n        .pre DEV: {{device|json}}\n\n\n    //- .action-list\n    .row.simple-list.action-list()\n        //-.small-12.columns\n            .row.valign-middle.action-header\n                span(ng-repeat='button in device.buttons', ng-class='{end: $odd}')\n                    .small-5.columns.text-center\n                        a.button.group.icon-center-line(ng-if='button.hasRule', ng-click='device.pressButton(button.id)', ng-class='{blink: device.busy==true}') {{button.label}}&nbsp;&nbsp;&nbsp;\n                            //-i.con(ng-if='!button.isOn' ng-click='showRulesFor(button)')\n                                .icon.icon-ball-options\n\n                        a.button.group.icon-center-line(ng-if='!button.hasRule', ng-click='notify(\"No rule for button\", true)', ng-class='{blink: device.busy==true}') {{button.label}}&nbsp;&nbsp;&nbsp;\n                            //-i.con(ng-if='!button.isOn' ng-click='showRulesFor(button)')\n                                .icon.icon-add-to-rule\n\n        .small-12.columns(ng-repeat='button in device.buttons')\n\n             a.row.valign-middle.action-header(ng-if='$even', ng-click='showRulesFor(button)')\n                .small-2.columns\n                    h2 {{button.shortLabel}}\n\n                .small-8.columns(ng-if='button.hasRule')\n                    //- output icons\n                    .device.small.tall.one-third.text-center(ng-repeat='(deviceId, device) in button.outputs', ng-if='$index<3', ng-class='{unknown: device.state&&!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}' )\n                        .container\n                            i.icon(ng-class='device.iconClasses')\n                                .count\n                                    {{device.count}}\n                        .name {{device.name}}\n\n                    .more-devices(ng-if='button.outputsCount>3') ... (+{{button.outputsCount-3}})\n\n                .small-9.columns.end(ng-if='!button.hasRule')\n                    i.con\n                        .icon.icon-addsmall\n                    .inline {{'Device or scene to be controlled'|tr}}\n\n                .small-1.columns.end.text-center(ng-if='button.hasRule')\n                        i.con\n                            .icon.icon-cornerarrow\n\n\n\n                 //-.small-5.columns\n                    select ng-options=\"item.subItem as item.label for item in buttonOptions track by item.id\" ng-model=\"button.selected\"></select>\n\n\n\n    //- Ignore button\n        .row\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='device.ignore()') {{'IGNORE THIS DEVICE'|tr}}\n"}),require.register("devices/partitial-devices-remote-control-rule.jade",function(e,t,n){n.exports="form.modal()\n    //-code selectedButton {{selectedButton}}\n    //- ADD RULE\n    .content(ng-if='!selectedButton.hasRule && !selectedButton.hasTemplate')\n        .row(ng-controller='RulesDetailCtrl' ng-init='setInputType(\"REMOTE_CONTROL\")')\n            .small-12.columns.t-margin-S\n                label {{'FOUND RULES'|tr}}\n            .small-12.columns\n                .row.simple-list.action-list\n                    .small-12.columns\n                        .row.t-margin-S(ng-if='!isRuleTemplates()' )\n                            .small-12.columns {{'Suitable template not found'|tr}}\n\n                        a.row.valign-middle.action-header(ng-repeat='(templateId, template) in ruleTemplates' co-tap='selectTemplateForDevice(templateId, device, selectedButton)')\n                            .small-10.columns\n                                .icon-center-line.trunc {{template.description}}\n                            .small-2.columns\n                                i.con\n                                    .icon.icon-cornerarrow\n\n    //- EDIT RULE\n    .content(ng-if='selectedButton.hasRule || selectedButton.hasTemplate')\n\n        .row(ng-controller='RulesDetailCtrl' ng-init='selectRule(selectedButton.rule.id, device.id)')\n            //-p TESTI {{selectedButton | json}}\n\n\n            //-.small-12.columns.t-margin-S\n                h3{{rule.config.description}}\n                .light-font {{rule.config.summary}}\n\n            //-\n            //- CONDITIONS\n            //-\n                .small-12.columns.t-margin-S(ng-include=\"'/template-rules-add-2-a.tpl.html'\", ng-if='!isEmpty(conditions)')\n            .small-12.columns\n                .text-center\n                    h3.dark-font {{$parent.device.name}} {{'button'|tr}} {{selectedButton.shortLabel}}\n\n\n            //-\n            //- ACTIONS\n            //-\n            .small-12.columns.t-margin-S(ng-include=\"'/template-rules-add-1-a.tpl.html'\")\n\n            //-\n            //- NAME\n            //-\n            .small-12.columns.t-margin-S\n                h3.dark-font {{'Name the rule'|tr}}\n\n            .small-12.columns\n                input(type='text', ng-model='ui.name')\n\n\n            //-\n            //- DELETE\n            //-\n            .small-12.columns.t-margin-S(ng-if='rule.config.id')\n                .row\n                    .small-10.columns\n                        h3.dark-font {{'DELETE RULE'|tr}}\n\n                .row\n                    .small-2.small-centered.columns.end\n                        a(co-tap='rule.remove()')\n                            i.con\n                                .icon.icon-trash\n\n         .row\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='saveRule(selectedButton)') {{'READY'|tr}}\n\n"}),require.register("devices/partitial-devices-settings.jade",function(e,t,n){n.exports="//- Device settings\n//-\nform.main-view\n    .content\n\n        .top-section\n            //- Name\n            .row.t-margin-S(ng-if='device.isNameable')\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    label.small.text-center {{'TYPE IN DEVICE NAME'|tr}}\n\n            .row(ng-if='device.isNameable')\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end.l-padding-0.r-padding-0\n                    input.text-center(type='text', ng-model='ui.name', palceholder='{{\"Device name\"|tr}}', ng-change='changeName()')\n\n            .row.t-margin-S(ng-if='features.isRooms', ng-controller='RoomsCtrl')\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    label.small.text-center {{'ROOM'|tr}}\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end.l-padding-0.r-padding-0\n                    //-select(ng-options='room.name for room in rooms track by room.id' ng-model='ui.selectedRoom')\n                    .select-kind.text-center( co-tap='selectRoom($parent.ui.room)', co-hold='selectRoom($parent.ui.room)') {{$parent.ui.room.name}}\n\n            //- .row(ng-if='device.isNameable || features.isRooms')\n                .small-10.small-centered.medium-6.medium-centered.columns.l-padding-0.r-padding-0(ng-if='ui.settingsChanged')\n                    button.row-button.success(type='submit', ng-click='saveSettings()', ng-class='{spin:ui.saveBusy}') {{ui.saveButtonText}}\n\n            .row.t-margin-L(ng-if='device.lastSeen')\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end.l-padding-0.r-padding-0 {{'Last device detection time'|tr}}: {{device.lastSeen | date:\"medium\"}}\n\n            //- Ignore button\n        .bottom-section\n            .row.separator(ng-if='device.removable')\n                .small-12.medium-6.medium-centered.columns.l-padding-0.r-padding-0\n                    button.alert.row-button(type='button', ng-click='ignoreDevice()', ng-class='{spin:ui.deleteBusy}') {{ui.deleteButtonText}}\n\n.slide-animate(ng-include=\"'/template-rooms.tpl.html'\",  ng-if='menu.modalPage==\"ShowAddRooms\"',  ng-controller='RoomsCtrl')\n"}),require.register("devices/partitial-devices-uidev.jade",function(e,t,n){n.exports=".small-12.columns(ng-if=\"viewMode=='controls' \")\n    //-.row\n        .pre{{uiDev|json}}\n\n    .row\n        .small-12.small-centered.columns\n            p {{'When on standby mode, mobile device may cut the WiFi connection, thus informing infrequently its presence to the hub.'|tr}}\n            p {{'In case of unnecessary notifications, increase the device detection timeout.'|tr}}\n    //- transition time\n\n    //- .action-list\n    .row.simple-list\n        .small-12.columns\n            .row.valign-middle.action-header\n                .small-7.columns\n                    .icon-center-line {{'Away treshold'|tr}}\n                 .small-5.columns(co-tap='selectTime() ')\n                    .icon-center-line.button.tiny {{uiDev.awayThreshold}}&nbsp;{{'min'|tr}}\n"}),require.register("devices/template-devices-add-group.jade",function(e,t,n){n.exports="//- Modal kind of add group -dialog\nform.modal.overlay\n     .content\n        .row.t-margin-S\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                label.text-center {{'TYPE IN GROUP NAME'|tr}}\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                input(type='text', ng-model='ui.name', palceholder='{{\"Group name\"|tr}}', autofocus='autofocus')\n\n         .row\n            .small-10.small-centered.medium-6.medium-centered.columns\n                button.row-button.bottom(type='submit', ng-click='ok()') {{'DONE'|tr}}\n"}),require.register("devices/template-devices-add.jade",function(e,t,n){n.exports="//- Modal kind of add group -dialog\nform.modal.overlay\n     .content\n        .t-margin-S(ng-include=\"'/partitial-devices-add.tpl.html'\")\n"}),require.register("devices/template-devices-detail.jade",function(e,t,n){n.exports="form.row.main-view(ng-if='!menu.modalPage')\n    //-.small-12.columns\n        pre {{device.types | json}}\n\n    div(ng-include=\" '/partitial-devices-settings.tpl.html' \", ng-if='viewMode==\"settings\" ')\n    div(ng-include=\"'/partitial-devices-light.tpl.html'\", ng-if='(device.types.LIGHT || (device.types.POWER_SOCKET && device.features.brightness) ) && device.state.reachable', ng-controller='DeviceDetailCtrl.Light')\n    div(ng-include=\"'/partitial-devices-media.tpl.html'\", ng-if='device.types.MEDIA_RENDERER && device.state.reachable',  ng-controller='DeviceDetailCtrl.Media')\n    div( ng-include=\"'/partitial-devices-uidev.tpl.html'\", ng-if='device.types.UI_DEVICE', ng-controller='DeviceDetailCtrl.UIDev')\n    div(ng-include=\"'/partitial-devices-camera.tpl.html'\", ng-if='device.types.CAMERA', ng-controller='DeviceDetailCtrl.Camera')\n    div(ng-include=\"'/partitial-devices-remote-control.tpl.html'\", ng-if='device.types.REMOTE_CONTROL || device.types.DOORBELL  || device.types.KEYFOB || device.types.WALLSWITCH', ng-controller='DeviceDetailCtrl.RemoteControl')\n\n    //- Don't handle here if included above\n    .small-12.columns(ng-if=\"viewMode=='controls' && (!device.state.reachable || !device.types.MEDIA_RENDERER && !device.types.LIGHT && !device.types.UI_DEVICE && !device.types.CAMERA && !device.types.REMOTE_CONTROL && !device.types.DOORBELL  && !device.types.KEYFOB && !device.types.WALLSWITCH && !(device.types.POWER_SOCKET && device.features.brightness))\")\n        //- Save to rule button\n            .row(ng-if='ui.sceneId&&ui.ruleId', ng-controller='RuleDetailCtrl' )\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.row-button(type='button', ng-click='saveDeviceToRuleAndGoIntoIt(device, $parent.ui.sceneId, $parent.ui.ruleId)') {{'USE THIS STATE IN RULE'|tr}}\n\n        //- Just for video test\n        //-.row\n            .small-12(co-video='true', co-video-src='ui.cameraUrl')\n\n\n        //- Save to scene button\n        .row(ng-if='ui.sceneId && !ui.ruleId && device.state.reachable', ng-controller='SceneListCtrl' )\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='saveDeviceToSceneAndGoIntoIt(device, $parent.ui.sceneId)') {{'USE THIS STATE IN SCENE'|tr}}\n\n        //- Scene button\n        .row(ng-if='!ui.sceneId && !ui.ruleId && device.state.reachable')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='button', ng-click='showModal(\"SceneSelection\", \"Choose Scene(s)\")')  {{'SAVE TO SCENES'|tr}}\n\n        //- Ignore if reachable (=normal)\n            .row(ng-if='device.state.reachable')\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.row-button(type='button', ng-click='device.ignore()') {{'IGNORE THIS DEVICE'|tr}}\n            //- Remove if not reachable (=gray)\n            .row(ng-if='!device.state.reachable')\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.row-button(type='button', ng-click='removeDevices([device.id])') {{'REMOVE THIS DEVICE'|tr}}\n\n        //- Add Timer\n            .row(ng-if='!ui.sceneId&&!ui.ruleId')\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.row-button(type='button', ng-click='addTimer()')  {{'ADD TIMER RULE'|tr}}\n\n        //- Group's device list\n        .row(ng-if='device.types.GROUP')\n            .small-12.columns\n                h3.dark-font {{'DEVICES'|tr}}\n\n            .small-12.columns\n                ul.dd-grid.small-block-grid-4.medium-block-grid-6.large-block-grid-8\n\n                    //-li.grid-item(ng-repeat='(id,subdevice) in device.members', co-dd='group:{{device.id}}:{{$index}}', co-dd-item-id='group:{{device.id}}:{{id}}', co-dd-drop-cb='dropDev(from, to)')\n                    li.grid-item(ng-repeat='(id,subdevice) in device.members', co-tap='subdevice.toggle()', co-hold='subdevice.select()', co-dd='group:{{device.id}}:{{$index}}', co-dd-item-id='group:{{device.id}}:{{id}}', co-dd-drop-cb='dropDev(from, to)')\n                        .device(id='group:{{device.id}}:{{id}}', title='{{subdevice.id}}={{id}}', ng-class='{unknown: !subdevice.state.reachable, blink: subdevice.busy==true}')\n                            .container\n                                i.icon(ng-class='subdevice.iconClasses')\n                                    .circle(ng-if='subdevice.styleClasses' ng-class='subdevice.styleClasses')\n                            .name(ng-class='{unknown: !subdevice.state.reachable}') {{subdevice.name}}\n\n                    li.recyle-drop-zone(co-dd='2000', co-dd-item-id='group-remove', co-dd-un-draggable='true')\n                        #group-remove.recyle-bin\n                            i.icon.icon-trash\n\n\n\n\n\n\n//- SCENE SELECTION\n//- Scene selection in 'modal'\n//- Note that $parent referes to device in DeviceDetailCtrl\n//- .slide-animate(ng-if='menu.modalPage==\"ColorPalette\"')\n.fade(ng-if='isInModals(\"SceneSelection\")')\n    form.modal(ng-controller='SceneListCtrl')\n        .content\n            .row.t-margin-S\n                h3.sub-header {{'SAVE TO SCENES'|tr}}\n\n            //- Scenes\n            .row.simple-list.action-list.checkbox.t-margin-S\n                //-.small-12.columns(ng-repeat='(id, scene) in ui.newScenes', ng-class='{half: scene.isPreset(device)==\"half\", selected:scene.addStatus}', ng-if='scene.factory>0')\n                .small-12.columns(ng-repeat='(id, scene) in ui.newScenes', ng-class='{selected:scene.addStatus}', ng-if='scene.factory>0')\n                    //- Checkbox & name\n                    a.row.valign-middle.action-header(co-tap='scene.addStatus = !scene.addStatus')\n                        .small-1.check.columns.text-left\n                            i.icon.icon-checkboxbg\n                                i.icon.icon-done\n                            span &nbsp;\n                        .small-9.name.columns\n                            .icon-center-line {{scene.name}}\n                        .small-2.columns.text-center\n                             i.con\n                                .icon(ng-class='scene.icon')\n\n                .small-12.columns(ng-repeat='(id, scene) in ui.newScenes', ng-class='{selected:scene.addStatus}', ng-if='!scene.factory>0')\n                    //- Checkbox & name\n                    a.row.valign-middle.action-header(co-tap='scene.addStatus = !scene.addStatus')\n                        .small-1.check.columns.text-left\n                            i.icon.icon-checkboxbg\n                                i.icon.icon-done\n                            span &nbsp;\n                        .small-9.name.columns\n                            .icon-center-line {{scene.name}}\n                        .small-2.columns.text-center\n                            i.icon(ng-class='scene.icon')\n\n            //- Add new\n            .row\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.full-width(type='button', co-tap='showModal(\"SceneCreation\", \"Create New Scene\")')\n                        i.con.button\n                            .icon.icon-addsmall\n                        .inline {{'Create New Scene'|tr}}\n\n            .\n\n            .row\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    button.row-button.bottom(type='button', ng-click='addPresetToScenes(device); closeModal()') {{'DONE'|tr}}\n\n\n\n//- Include  templates\n//-.slide-animate(ng-include=\"'/partitial-devices-settings.tpl.html'\", ng-if='menu.modalPage==\"DeviceSettings\"')\n.slide-animate(ng-include=\"'/partitial-devices-color.tpl.html'\", ng-if='menu.modalPage==\"ColorPalette\"', ng-controller='DeviceDetailCtrl.Light')\n.slide-animate(ng-include=\"'/template-roller-time.tpl.html'\", ng-if='device.types.LIGHT && menu.modalPage==\"TimeRoller\"', ng-controller='DeviceDetailCtrl.Light')\n.slide-animate(ng-include=\"'/template-roller-time.tpl.html'\", ng-if='device.types.UI_DEVICE && menu.modalPage==\"TimeRoller\"', ng-controller='DeviceDetailCtrl.UIDev')\n.slide-animate(ng-include=\"'/template-scene-create.tpl.html'\", ng-if='menu.modalPage==\"SceneCreation\"')\n.slide-animate(ng-include=\"'/partitial-devices-media-options.tpl.html'\", ng-if='menu.modalPage==\"MediaOptions\"',  ng-controller='DeviceDetailCtrl.Media')\n.slide-animate(ng-include=\"'/partitial-devices-media-scenes.tpl.html'\", ng-if='menu.modalPage==\"MediaScenes\"',  ng-controller='DeviceDetailCtrl.Media')\n.slide-animate(ng-include=\"'/partitial-devices-remote-control-rule.tpl.html'\",  ng-if='menu.modalPage==\"ShowRCRule\"',  ng-controller='DeviceDetailCtrl.RemoteControl')\n.slide-animate(ng-include=\"'/template-rooms.tpl.html'\",  ng-if='menu.modalPage==\"ShowAddRooms\"',  ng-controller='RoomsCtrl')\n\n\n\n\n"
}),require.register("devices/template-devices-filter.jade",function(e,t,n){n.exports="form.modal.overlay\n    .content\n        //- Device types as list\n            .row.simple-list.action-list.checkbox.t-margin-S\n                .small-12.columns(ng-repeat='deviceType in sortedDeviceTypes', ng-class='{selected:deviceType.selected}')\n                    //- Checkbox & name\n                    a.row.valign-middle.action-header(co-tap='toggleDeviceType(deviceType.id)')\n                        .small-1.check.columns.text-left\n                            i.icon.icon-checkboxbg\n                                i.icon.icon-done\n                            span &nbsp;\n                        .small-9.name.columns\n                            .icon-center-line {{deviceType.id+'-devices'|tr}} ({{deviceType.count}})\n                        .small-2.columns.text-center\n                             i.con\n                                .icon(ng-class='deviceType.icon')\n\n\n        .row.simple-list.action-list.checkbox.t-margin-M(ng-if='features.isRooms')\n            .small-6.small-centered.columns.end(ng-class='{selected: ui.showRooms}')\n                //- Checkbox & name\n                a.row.valign-middle.action-header(co-tap='toggleShowRooms()')\n                    .small-2.check.columns.text-left\n                        i.icon.icon-checkboxbg\n                            i.icon.icon-done\n                        span &nbsp;\n                    .small-10.name.columns.text-center\n                        .icon-center-line {{'Show rooms'|tr}}\n\n        hr(ng-if='features.isRooms')\n        .row.simple-list.action-list.checkbox.t-margin-S\n            .device.small.small-4.tall.text-center.columns(ng-repeat='deviceType in sortedDeviceTypes', co-tap='toggleDeviceType(deviceType.id)', ng-class='{checked:deviceType.selected, selected:ideviceType.selected, end: $last}')\n                .container\n                    i.icon(ng-class='deviceType.icon')\n                .name  {{deviceType.id+'-devices'|tr}} ({{deviceType.count}})\n                //- .name  {{deviceType.id+'-devices'|tr}}\n                i.icon.icon-checkboxbg\n                     i.icon.icon-done\n\n        .row.simple-list.action-list.checkbox.t-margin-S\n            .small-6.small-centered.columns.end(ng-class='{selected: isAllDeviceTypesSelected}')\n                //- Checkbox & name\n                a.row.valign-middle.action-header(co-tap='toggleAllDeviceTypes(!isAllDeviceTypesSelected)')\n                    .small-2.check.columns.text-left\n                        i.icon.icon-checkboxbg\n                            i.icon.icon-done\n                        span &nbsp;\n                    .small-10.name.columns.text-center\n                        .icon-center-line {{'Select all'|tr}}\n"}),require.register("devices/template-devices-list.jade",function(e,t,n){n.exports="\n//-.small-12.columns\n    //-pre {{devices|json}}\n    //-pre showRooms: {{ui.showRooms|json}}\n.row.main-view.no-top.valign-middle.top-page.button(co-tap='openFilterModal()')\n\n    .small-2.columns\n         i.con\n            .icon.type(ng-if='filter.icon', ng-class='filter.icon')\n    .small-8.columns\n        h3\n            .icon-center-line.trunc {{filter.deviceTypeNames}}\n\n    .small-2.columns\n        i.con\n            .icon.icon-cornerarrow.down\n\n.row(ng-if='!features.isRooms||!ui.showRooms')\n    small-12.columns(ng-if='ui.mode==MODE.VIEW')\n        .row.waiting(ng-if='!isDevices()')\n            span\n            span\n            span\n\n        ul.small-block-grid-4.medium-block-grid-6.large-block-grid-12.scroll-y(ng-if='isDevices()')\n            li.grid-item(ng-repeat='device in sortedDevices', ng-if='!device.hide', co-tap=\"tapAction(device)\", co-hold=\"holdAction(device)\")\n                .device(id='dd-{{device.id}}', ng-class='{unknown: !device.state.reachable, blink: device.busy==true}')\n                    .container\n                        i.icon(ng-class='device.iconClasses')\n                            .circle(ng-if='device.styleClasses' ng-class='device.styleClasses')\n                            //- temperature on first line\n                            .count.row1-temp(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- just temperature\n                            .count.row-alone(ng-if='device.features.temperature&&!device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- humidity on second line\n                            .count.row2-hum(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            //- just humidity\n                            .count.row-alone(ng-if='!device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            .count(ng-if='device.types.GROUP')\n                                {{device.count}}\n\n                    .name(ng-class='{unknown: !device.state.reachable}')\n                        span {{device.name}}\n                    //-.name(ng-class='{unknown: !device.state.reachable}') {{device.count}}\n\n    .small-12.columns(ng-if='ui.mode==MODE.EDIT')\n\n        ul.small-block-grid-4.medium-block-grid-6.large-block-grid-12.scroll-y(ng-if='isDevices()')\n            li.grid-item(ng-repeat='device in sortedDevices', ng-if='!device.hide', co-tap=\"tapAction(device)\", co-hold=\"holdAction(device)\", co-dd='{{$index}}', co-dd-item-id='dd-{{device.id}}', co-dd-drop-cb='dropDev(from, to)')\n                .device(id='dd-{{device.id}}', ng-class='{unknown: !device.state.reachable, blink: device.busy==true}')\n                    .container\n                        i.icon(ng-class='device.iconClasses')\n                            .circle(ng-if='device.styleClasses' ng-class='device.styleClasses')\n                            //- temperature on first line\n                            .count.row1-temp(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- just temperature\n                            .count.row-alone(ng-if='device.features.temperature&&!device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- humidity on second line\n                            .count.row2-hum(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            //- just humidity\n                            .count.row-alone(ng-if='!device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            .count(ng-if='device.types.GROUP')\n                                {{device.count}}\n\n\n                    .name(ng-class='{unknown: !device.state.reachable}', draggable='true')\n                        i.con.small(ng-if='ui.mode==MODE.EDIT')\n                            .icon.icon-editpen\n                        span {{device.name}}\n                    //-.name(ng-class='{unknown: !device.state.reachable}') {{device.count}}\n\n\n.row(ng-if='features.isRooms&&ui.showRooms')\n    .small-12.columns.lr-padding-0(ng-if='ui.mode==MODE.VIEW')\n        .row.waiting(ng-if='!isDevices()')\n            span\n            span\n            span\n\n        ul.small-block-grid-4.medium-block-grid-6.large-block-grid-12.scroll-y.simple-list.action-list(ng-if='isDevices()', ng-repeat='room in rooms track by room.id')\n            li.grid-item-header.valign-middle.action-header(ng-class='{open:room.selected}', co-tap='selectRoom(room)')\n                .row\n                    .small-10.columns\n                        .icon-center-line {{room.name}}  ({{sortedDevices[room.name].length}})\n                    .small-2.columns\n                        i.con\n                            .icon.icon-cornerarrow(ng-class='{down:room.selected}')\n            li.grid-item(ng-repeat='device in sortedDevices[room.name]', ng-if='room.selected && !device.hide', co-tap=\"tapAction(device)\", co-hold=\"holdAction(device)\")\n                .device(id='dd-{{device.id}}', ng-class='{unknown: !device.state.reachable, blink: device.busy==true}')\n                    .container\n                        i.icon(ng-class='device.iconClasses')\n                            .circle(ng-if='device.styleClasses' ng-class='device.styleClasses')\n                            //- temperature on first line\n                            .count.row1-temp(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- just temperature\n                            .count.row-alone(ng-if='device.features.temperature&&!device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- humidity on second line\n                            .count.row2-hum(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            //- just humidity\n                            .count.row-alone(ng-if='!device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            .count(ng-if='device.types.GROUP')\n                                {{device.count}}\n\n                    .name(ng-class='{unknown: !device.state.reachable}')\n                        span {{device.name}}\n                    //-.name(ng-class='{unknown: !device.state.reachable}') {{device.count}}\n\n    .small-12.columns.lr-padding-0(ng-if='ui.mode==MODE.EDIT')\n\n        ul.small-block-grid-4.medium-block-grid-6.large-block-grid-12.scroll-y.simple-list.action-list(ng-if='isDevices()', ng-repeat='room in rooms track by room.id')\n            li.grid-item-header.valign-middle.action-header(ng-class='{open:room.selected}', co-tap='selectRoom(room)')\n                .row\n                    .small-10.columns\n                        .icon-center-line {{room.name}} ({{sortedDevices[room.name].length}})\n                    .small-2.columns\n                        i.con\n                            .icon.icon-cornerarrow(ng-class='{down:room.selected}')\n            //-li.grid-item(ng-repeat='device in sortedDevices[room.name]', ng-if='room.selected && !device.hide', co-tap=\"tapAction(device)\", co-hold=\"holdAction(device)\")\n            li.grid-item(ng-repeat='device in sortedDevices[room.name]', ng-if='room.selected && !device.hide', co-tap=\"tapAction(device)\", co-hold=\"holdAction(device)\", co-dd='{{$index}}', co-dd-item-id='dd-{{device.id}}', co-dd-drop-cb='dropDev(from, to)')\n                .device(id='dd-{{device.id}}', ng-class='{unknown: !device.state.reachable, blink: device.busy==true}')\n                    .container\n                        i.icon(ng-class='device.iconClasses')\n                            .circle(ng-if='device.styleClasses' ng-class='device.styleClasses')\n                            //- temperature on first line\n                            .count.row1-temp(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- just temperature\n                            .count.row-alone(ng-if='device.features.temperature&&!device.features.humidity')\n                                {{device.state.temperature| number:1}}°C\n                            //- humidity on second line\n                            .count.row2-hum(ng-if='device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            //- just humidity\n                            .count.row-alone(ng-if='!device.features.temperature&&device.features.humidity')\n                                {{device.state.humidity| number:1}}%\n                            .count(ng-if='device.types.GROUP')\n                                {{device.count}}\n\n\n                    .name(ng-class='{unknown: !device.state.reachable}', draggable='true')\n                        i.con.small(ng-if='ui.mode==MODE.EDIT')\n                            .icon.icon-editpen\n                        span {{device.name}}\n                    //-.name(ng-class='{unknown: !device.state.reachable}') {{device.count}}\n\n\n//- Include modal templates\n.slide-animate(co-include=\"'/template-devices-filter.tpl.html'\", ng-if='menu.modalPage==\"DeviceFilter\"')\n"}),require.register("devices/template-devices-name.jade",function(e,t,n){n.exports="form.row.main-view(ng-if='!menu.modalPage')\n\n    div(ng-include=\" '/partitial-devices-settings.tpl.html' \", ng-if='viewMode==\"controls\" ')\n\n.slide-animate(ng-include=\"'/template-rooms.tpl.html'\",  ng-if='menu.modalPage==\"ShowAddRooms\"',  ng-controller='RoomsCtrl')\n\n//- Modal kind of change name -dialog should not be used\n    form.modal.overlay\n        .content\n            .top-section\n                //- Name\n                .row.t-margin-S(ng-if='device.isNameable')\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                        label.small.text-center {{'TYPE IN DEVICE NAME'|tr}}\n\n                .row(ng-if='device.isNameable')\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                        input.text-center(type='text', ng-model='ui.name', palceholder='{{\"Device name\"|tr}}', co-focus, ng-change='changeName()')\n\n                .row(ng-if='features.isRooms', ng-controller='RoomsCtrl')\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        label.small.text-center {{'ROOM'|tr}}\n                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                        //-select(ng-options='room.name for room in rooms track by room.id' ng-model='ui.selectedRoom')\n                        input.select.text-center(type='text', ng-model='$parent.ui.room.name',  co-tap='selectRoom($parent.ui.room)', co-hold='selectRoom($parent.ui.room)')\n\n                //-.row(ng-if='device.isNameable')\n                    .small-10.small-centered.medium-6.medium-centered.columns\n                        button.success.row-button.bottom(type='submit', ng-click='updateName()') {{'DONE'|tr}}\n\n                .row(ng-if='device.isNameable || eatures.isRooms')\n                    .small-10.small-centered.medium-6.medium-centered.columns(ng-if='ui.settingsChanged')\n                        button.row-button.success(type='submit', ng-click='saveSettings()', ng-class='{spin:ui.saveBusy}') {{ui.saveButtonText}}\n\n\n                //- Ignore button\n            .bottom-section\n                .row(ng-if='!device.types.GROUP')\n                    hr\n                    .small-10.small-centered.end.medium-6.medium-centered.columns.t-margin-0\n                        button.alert.row-button(type='button', ng-click='ignoreDevice()', ng-class='{spin:ui.deleteBusy}') {{ui.deleteButtonText}}\n\n"}),require.register("devices/template-devices.jade",function(e,t,n){n.exports="//- Just placeholder for abstact view (see app.config $stateProvider.state 'c')\n#devices(ui-view='devices', autoscroll='false')\n"}),require.register("scenes/template-scenes.jade",function(e,t,n){n.exports="//- Just placeholder for abstact view (see app.config $stateProvider.state 'c')\n#scenes(ui-view='scenes', autoscroll='false')\n\n\n"}),require.register("scenes/template-scenes-list.jade",function(e,t,n){n.exports="form.main-view.no-top(ng-init='initializeUI()')\n\n\n    //- Morning...  away selection\n    .scene-grid.excluded\n        //-.row SCENES\n            pre {{scenes | json}}\n\n        .row\n            span(ng-repeat='factory in [1,2,3]')\n                a.small-4.button(ng-repeat='(id, scene) in scenes', ng-if='scene.factory==factory', co-tap='tapAction(scene)', co-hold='holdAction(scene)', ng-class='{on: scene.isOn, off: !scene.isOn, blink: scene.busy==true}')\n                    i.icon(ng-class='scene.icon')\n                    .name\n                        i.con.small(ng-if='ui.mode==MODE.EDIT')\n                            .icon.icon-editpen\n                        span {{scene.name}}\n\n\n    //- Rest of scenes\n    .scene-grid\n        .row\n            .small-12.columns.t-margin-S\n                h3.dark-font {{'FAVORITES'|tr}}\n            a.small-4.button(ng-repeat='(id, scene) in scenes', ng-if='!scene.factory>0',  co-tap='tapAction(scene)', co-hold='holdAction(scene)', ng-class='{on: scene.isOn, off: !scene.isOn, blink: scene.busy==true}')\n                i.icon(ng-class='scene.icon')\n                .name\n                    i.con.small(ng-if='ui.mode==MODE.EDIT')\n                        .icon.icon-editpen\n                    span {{scene.name}}\n\n\n.slide-animate(ng-include=\"'/template-scene-create.tpl.html'\", ng-if='menu.modalPage==\"SceneCreation\"')\n"}),require.register("scenes/template-scene-detail.jade",function(e,t,n){n.exports="form.main-view.row(ng-if='!menu.modalPage')\n    .small-12.columns\n        h3(ng-if='ui.mode==MODE.LIST') {{'STATES AND RULES'|tr}}\n        h3(ng-if='ui.mode==MODE.EDIT') {{'STATES'|tr}}\n\n        .row(ng-if='ui.mode==MODE.LIST')\n            //- No States nor Rules\n            .small-12.columns(ng-if='(!presets || presets.length==0) && !scene.isRules ')\n                .preset-list\n                    .row\n                        a.small-12.columns(co-tap='goToDeviceSelection()')\n                             .row.preset-row.valign-middle\n                                .small-2.columns\n                                    i.con\n                                        .icon.icon-state\n                                .small-8.columns\n                                        span {{'No state or rule in this scene'|tr}}\n                                        .icon-center-line.trunc.device-names {{'Add new state or rule in devices view'|tr}}\n                                .small-2.columns.text-center\n                                    i.con\n                                        .icon.icon-cornerarrow\n\n        .row(ng-if='ui.mode==MODE.EDIT')\n            //- No States\n            .small-12.columns(ng-if='(!presets || presets.length==0)')\n                .preset-list\n                    .row\n                        a.small-12.columns(co-tap='goToDeviceSelection()')\n                             .row.preset-row.valign-middle\n                                .small-2.columns\n                                    i.con\n                                        .icon.icon-state\n                                .small-8.columns\n                                        span {{'No state in this scene'|tr}}\n                                        .icon-center-line.trunc.device-names {{'Add new state in devices view'|tr}}\n                                .small-2.columns.text-center\n                                    i.con\n                                        .icon.icon-cornerarrow\n\n        .row\n            //- LIST-mode\n            .small-12.columns\n                //- Preset list\n                .preset-list(ng-if='ui.mode==MODE.LIST')\n                    .row(ng-repeat='preset in presets track by $index')\n                        a.small-12.columns(co-tap='presetDetails(preset.id) ')\n                            .row.preset-row.valign-middle\n                                .small-2.columns\n                                     i.con\n                                        i.icon.icon-state\n                                .small-8.columns\n                                        .icon-center-line.trunc {{preset.name}}\n                                        .icon-center-line.trunc.device-names(ng-if='preset.type==\"DEVICE_GROUP\"') {{preset.memberNames}}\n                                .small-2.columns.text-center\n                                     i.con\n                                        i.icon.icon-cornerarrow\n                //- Rule list\n                .preset-list(ng-if='ui.mode==MODE.LIST', ng-controller='RulesListCtrl')\n                    .row(ng-repeat='(ruleId,rule) in $parent.scene.rules', ng-include=\"'/partitial-rules-filtered.tpl.html'\")\n                    //-.row(ng-repeat='(ruleId, rule) in rulesForScene')\n                         a.small-12.columns(co-tap='ruleDetails(scene.id, rule)')\n                            .row.preset-row.valign-middle\n                                .small-2.columns\n                                     i.con\n                                        i.icon.icon-rule\n                                .small-8.columns\n                                        .icon-center-line.trunc {{rule.config.name}}\n                                        .icon-center-line.trunc.device-names {{rule.inputDevicesNames}}\n                                        .icon-center-line.trunc.device-names {{rule.outputDevicesNames}}\n                                .small-2.columns.text-center\n                                     i.con\n                                        i.icon.icon-cornerarrow\n\n            //- EDIT-mode\n            .small-12.columns\n                 .preset-list(ng-if='ui.mode==MODE.EDIT')\n                    .row(ng-repeat='preset in presets track by $index')\n                        a.preset-remove.small-2.columns(co-tap='removePreset(preset) ')\n                            i.con\n                                .icon.icon-trash\n                        .small-10.columns\n                            .row.preset-row.valign-middle\n                                .small-2.columns\n                                    i.con\n                                        .icon.icon-state\n                                .small-10.columns.end\n                                        .icon-center-line.trunc {{preset.name}}\n                                        .icon-center-line.trunc.device-names(ng-if='preset.type==\"DEVICE_GROUP\"') {{preset.memberNames}}\n\n\n        .row\n            .small-12.columns(ng-if='ui.mode==MODE.LIST||scene.sceneTimers.length>0')\n                h3.t-margin-S {{'TIMER'|tr}}\n\n            //- List mode\n            .small-12.columns(ng-if='ui.mode==MODE.LIST', ng-repeat='timer in scene.sceneTimers')\n                a.preset-list( co-tap='showDateSelection($index)')\n                    .row.preset-row.valign-middle\n                        .small-2.columns\n                            i.con\n                                .icon.icon-time\n\n                        .small-8.columns\n\n                            //- Same days\n                            .row.text-center(ng-if='timer.isSameStartStopDays')\n                                .small-12.inline-truncated\n                                    span {{timer.startDays}}\n                                //- time\n                                .small-5.inline-truncated.t-margin-XXS.upper-case(ng-if='timer.timerStart.time')\n                                    sapn.i {{timer.timerStart.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in.t-margin-XXS(ng-if='timer.timerStart.sun')\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{timer.timerStart.sunTime}}\n                                .small-1.inline-truncated.t-margin-XXS\n                                    span -\n                                //- time\n                                .small-5.inline-truncated.t-margin-XXS.upper-case.end(ng-if='timer.timerStop.time')\n                                    span.i {{timer.timerStop.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in.t-margin-XXS.end(ng-if='timer.timerStop.sun')\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{timer.timerStop.sunTime}}\n\n\n                            //- Different days\n                            .row.text-center(ng-if='!timer.isSameStartStopDays')\n                                .small-5.inline-truncated.upper-case\n                                    span {{timer.startDays}}\n                                .small-1.inline-truncated\n                                    span\n                                .small-5.inline-truncated.upper-case.end\n                                    span {{timer.stopDays}}\n                                //- time\n                                .small-5.inline-truncated.upper-case(ng-if='timer.timerStart.time')\n                                    span.i {{timer.timerStart.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in(ng-if='timer.timerStart.sun')\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{timer.timerStart.sunTime}}\n\n                                .small-1.inline-truncated\n                                    span -\n                                //- time\n                                .small-5.inline-truncated.upper-case.end(ng-if='timer.timerStop.time')\n                                    span.i {{timer.timerStop.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in.end(ng-if='timer.timerStop.sun')\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{timer.timerStop.sunTime}}\n\n                        .small-2.columns.text-center\n                            i.con\n                                .icon.icon-cornerarrow\n            //- Edit mode\n            .small-12.columns(ng-if='ui.mode==MODE.EDIT', ng-repeat='timer in scene.sceneTimers')\n                .preset-list\n                    .row\n                        a.preset-remove.small-2.columns(co-tap='removeTimer($index) ')\n                            i.con\n                                .icon.icon-trash\n                        .small-10.columns\n                            .row.preset-row.valign-middle\n\n                                .small-2.inline.lr-padding-XS\n                                    i.con\n                                        i.icon.icon-time.position-up-XS\n\n                                .small-10.inline.lr-padding-XS\n                                    //- Same days\n                                    .row.text-center(ng-if='timer.isSameStartStopDays')\n                                        .small-12.inline-truncated\n                                            span {{timer.startDays}}\n                                        //- time\n                                        .small-5.inline-truncated.t-margin-XXS.upper-case(ng-if='timer.timerStart.time')\n                                            sapn.i {{timer.timerStart.time}}\n                                         //- sun\n                                        .small-5.inline-truncated.icon-in.t-margin-XXS(ng-if='timer.timerStart.sun')\n                                            i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                                .icon.icon-sunrise\n                                            i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                                .icon.icon-sunset\n                                            span.i {{timer.timerStart.sunTime}}\n                                        .small-1.inline-truncated.t-margin-XXS\n                                            span -\n                                        //- time\n                                        .small-5.inline-truncated.t-margin-XXS.upper-case.end(ng-if='timer.timerStop.time')\n                                            span.i {{timer.timerStop.time}}\n                                          //- sun\n                                        .small-5.inline-truncated.icon-in.t-margin-XXS.end(ng-if='timer.timerStop.sun')\n                                            i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                                .icon.icon-sunrise\n                                            i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                                .icon.icon-sunset\n                                            span.i {{timer.timerStop.sunTime}}\n\n\n                                    //- Different days\n                                    .row.text-center(ng-if='!timer.isSameStartStopDays')\n                                        .small-5.inline-truncated.upper-case\n                                            span {{timer.startDays}}\n                                        .small-1.inline-truncated\n                                            span\n                                        .small-5.inline-truncated.upper-case.end\n                                            span {{timer.stopDays}}\n                                        //- time\n                                        .small-5.inline-truncated.upper-case(ng-if='timer.timerStart.time')\n                                            sapn.i {{timer.timerStart.time}}\n                                        //- sun\n                                        .small-5.inline-truncated.icon-in.t-margin-XXS(ng-if='timer.timerStart.sun')\n                                            i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                                .icon.icon-sunrise\n                                            i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                                .icon.icon-sunset\n                                            span.i {{timer.timerStart.sunTime}}\n                                        .small-1.inline-truncated\n                                            span -\n                                        //- time\n                                        .small-5.inline-truncated.upper-case.end(ng-if='timer.timerStart.time')\n                                            span.i {{timer.timerStop.time}}\n                                        //- sun\n                                        .small-5.inline-truncated.icon-in.t-margin-XXS.end(ng-if='timer.timerStop.sun')\n                                            i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                                .icon.icon-sunrise\n                                            i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                                .icon.icon-sunset\n                                            span.i {{timer.timerStop.sunTime}}\n\n        .row(ng-if='ui.mode==MODE.LIST')\n            .small-12.small-centered.columns.end\n                a.row-link(co-tap='addTimer()')\n                    i.con\n                        .icon.icon-addsmall.big\n                    span {{'Add timer'|tr}}\n\n        //- Deletion of whole scene\n        .row(ng-if='ui.mode==MODE.EDIT && !ui.homeOrAway')\n            .small-12.small-centered.medium-6.medium-centered.columns\n                button.row-button(type='submit', ng-click='removeScene()') {{'DELETE SCENE'|tr}}\n\n//- Include roller selection dialogs\n.slide-animate(ng-include=\"'/template-date-selection.tpl.html'\", ng-if='menu.modalPage==\"DateSelection\"')\n.slide-animate(ng-include=\"'/template-roller-clock.tpl.html'\", ng-if='menu.modalPage==\"ClockRoller\"')\n.slide-animate(ng-include=\"'/template-roller-time.tpl.html'\", ng-if='menu.modalPage==\"TimeRoller\"')\n\n"
}),require.register("scenes/template-scene-create.jade",function(e,t,n){n.exports="//- New Scene in 'overlay modal'\n//- Note that $parent referes to device in DeviceDetailCtrl\nform.modal.overlay(ng-controller='SceneListCtrl')\n      .content\n            //-.align-middle.short\n            .row.t-margin-S\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    label.text-center {{'TYPE IN SCENE NAME'|tr}}\n\n                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                    input(type='text', ng-model='ui.newSceneName', palceholder='', autofocus='autofocus')\n\n             .row\n                .small-12.small-centered.medium-6.medium-centered.columns\n                    //-button.row-button.bottom(type='submit', ng-click='createNewSceneFromPreset($parent.device); closeModal()') {{'DONE'|tr}}\n                    button.row-button.bottom(type='submit', ng-click='createNewSceneFromPreset(); closeModal()') {{'DONE'|tr}}\n\n"}),require.register("rules/partitial-rules-filtered.jade",function(e,t,n){n.exports="\n//-.small-12.columns.lr-padding-0()\n.small-12.columns.lr-padding-0(co-tap='tapAction(rule)', co-hold='holdAction(rule)', ng-if='!rule.isHidden')\n    .row.rule-row.tight(ng-class='{on:rule.isOn, base:!rule.hasScenes, busy:rule.busy}')\n        .small-1.columns.lr-padding-0\n            //-.ruleOnOff(ng-if='ui.mode==MODE.VIEW&&!rule.hasScenes')\n            .ruleOnOff(ng-if='!rule.hasScenes')\n                 i.con.small\n                    .icon.icon-power\n\n        .small-11.columns.l-padding-0\n            //- Name/descr\n            .row\n                .small-12.columns.smaller-font.l-padding-0\n                    .quote.twolines-ellipses{{rule.config.name}}\n                    //- onel line\n                        .quote.inline-truncated{{rule.name}}\n\n            //- Device icons & names\n            .row\n                .small-12.columns\n                    .row\n                        .columns.lr-padding-0(ng-repeat='(deviceId, device) in getInputs(rule)' ng-class='getCols(rule)')\n                            //- input icons\n                            .device.small.tall.full-width.text-center(ng-class='{unknown: device.state&&!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}' )\n                                .container\n                                    i.icon(ng-class='device.iconClasses')\n                                        //- temperature on first line\n                                        .count.row1-temp-small(ng-if='device.features.temperature&&device.features.humidity')\n                                            {{device.state.temperature| number:1}}°C\n                                        //- just temperature\n                                        .count.row-alone-small(ng-if='device.features.temperature&&!device.features.humidity')\n                                            {{device.state.temperature| number:1}}°C\n                                        //- humidity on second line\n                                        .count.row2-hum-small(ng-if='device.features.temperature&&device.features.humidity')\n                                            {{device.state.humidity| number:1}}%\n                                        //- just humidity\n                                        .count.row-alone-small(ng-if='!device.features.temperature&&device.features.humidity')\n                                            {{device.state.humidity| number:1}}%\n                                        .count\n                                            {{device.count}}\n                                .name {{device.name}}\n                        //- hidden ones\n                        .columns.lr-padding-0.text.center(ng-if='getHiddenInputCount(rule) > 0', ng-class='getCols(rule)')\n                            .device.small.tall.full-width.text-center\n                                .separator (+{{getHiddenInputCount(rule)}})\n\n                        .columns.lr-padding-0(ng-class='getCols(rule)')\n                            //- arrow\n                            .device.small.tall.full-width.text-center(ng-if='isOutputs(rule)')\n                                .arrow &rarr;\n\n                        .columns.lr-padding-0(ng-repeat='(deviceId, device) in getOutputs(rule)', ng-class='getCols(rule)'  )\n                            //- output icons\n                            .device.small.tall.full-width.text-center(ng-class='{unknown: device.state&&!device.state.reachable, scene: device.type==FIELDTYPE.SCENE, user: device.type==FIELDTYPE.USER}' )\n                                .container\n                                    i.icon(ng-class='device.iconClasses')\n                                        .count\n                                            {{device.count}}\n                                .name {{device.name}}\n                        //- hidden ones\n                        .columns.lr-padding-0.text-center(ng-if='getHiddenOutputCount(rule)>0', ng-class='getCols(rule)')\n                            .device.small.tall.full-width.text-center\n                                .separator (+{{getHiddenOutputCount(rule)}})\n\n                        //- Next arrow\n                        a.columns.rule-detail-arrow.text-right(ng-class='getCols(rule)')\n                            i.con.medium(ng-if='ui.mode==MODE.EDIT')\n                                .icon.icon-editpen\n\n                            i.con(ng-if='ui.mode==MODE.VIEW&&rule.hasScenes', ng-class='{on:rule.isOn}')\n                                 i.con.medium\n                                    .icon.icon-cornerarrow\n"}),require.register("rules/template-rules-add-1-a.jade",function(e,t,n){n.exports="//-form.main-view.row.no-top(ng-if='!menu.modalPage')\n//-\n//- ACTIONS\n//-\n    .small-12.columns\n        h3.dark-font {{'What should happen?'|tr}}\n\n    //-.row.simple-list.action-list\n         pre Actions {{actions | json}}\n\n.row.simple-list.action-list\n    .small-12.columns(ng-if='action.show' ng-repeat='action in actions', ng-class='{selected:action.selected}')\n        //- Checked-mark & name\n        .a.row.valign-middle.action-header(co-tap='toggleAction(action)')\n            .small-9.name.columns(ng-if='action.selected')\n                .row\n                    .small-3.columns.device.small.link-like(ng-class='{scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}' )\n                        .container\n                             i.icon(ng-class='action.icon')\n                    .small-9.columns\n                        .icon-center-line.trunc {{action.description}} :&nbsp;\n                            .lowercase(ng-repeat='option in action.state.isOn.options', ng-if='action.state.isOn.value==option.value'){{option.label}}:&nbsp;\n\n                            span(ng-repeat='device in getSelectedDevices(action.devices) | orderBy:\"name\"')\n                                span.link-color(ng-if='$middle'),{{' '}}\n                                span(ng-if='!$first&&$last'){{' '}}{{'and'|tr}}{{' '}}\n                                span.link-like.click-it(co-tap='show(device)'){{device.name}}\n                        //-span(ng-if='action.icon==ICONS.DEVICE')&nbsp;\n                        //-span(ng-if='action.icon==ICONS.SCENE')&nbsp;\n                        //-span(ng-if='action.icon==ICONS.USER')&nbsp;\n            .small-10.name.columns(ng-if='!action.selected')\n                .row.light-font\n                    .small-3.columns.device.small.link-like(ng-class='{scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}' )\n                        .container\n                            i.icon(ng-class='action.icon')\n                    .small-9.columns\n                        .icon-center-line{{action.description}}\n            .small-2.columns.link-color\n                i.con\n                    .icon.icon-cornerarrow(ng-class='{down:ui.toggledAction!=action.id, up:ui.toggledAction==action.id}')\n\n\n        //- Devices of action\n        .row.open.action-row(ng-if='ui.toggledAction==action.id')\n            .device.small.small-3.tall.text-center(ng-repeat='(deviceId, device) in action.devices', ng-class='{checked: device.selected, unknown: device.state&&!device.state.reachable, scene: action.icon==ICONS.SCENE, user: action.icon==ICONS.USER}', co-tap='selectDeviceForActionEdit(action, device)')\n                .container\n                    i.icon(ng-class='device.iconClasses')\n                        .count\n                            {{device.count}}\n                .name {{device.name}}\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n\n            //- message input\n            .small-12.columns(ng-if='action.selected&&action.state.message')\n                input(type='text', ng-model='action.state.message.value', placeholder='{{action.state.message.label}}')\n\n            //- setting ON/OFF\n            .small-12.columns.t-margin-XS(ng-if='action.selected&&action.state.isOn.type==\"radio\"')\n                //-{{action.state.isOn.label}}\n                label.small-label\n                    a.button.tiny.groupped(ng-repeat='option in action.state.isOn.options', ng-class='{off:action.state.isOn.value!=option.value}', co-tap='setActionValue(action.state.isOn, option.value)') {{option.label}}\n\n            //- Extra setting\n            .small-12.columnst.t-margin-S(ng-if='action.selected&&action.extras')\n                a.button.full-width(co-tap='showExtras(action)')\n                    i.icon.icon-settings\n                    span {{'Extra settings'|tr}} ({{getExtraCounts(action)}})\n\n\n        //-.row.t-margin-L(ng-if='ui.toggledAction==action.name')\n            {{action}}\n\n"}),require.register("rules/template-rules-add-2-a.jade",function(e,t,n){n.exports="//-form.main-view.row.no-top(ng-if='!menu.modalPage')\n//-\n//- CONDITIONS\n//-\n//-.small-12.columns.t-margin-S\n    h3.dark-font {{'If'|tr}}...\n\n.row.simple-list.action-list\n    .small-12.columns(ng-if='condition.show', ng-repeat='condition in conditions', ng-class='{selected:condition.selected}')\n        //- Checked-mark & name\n        .a.row.valign-middle.action-header(co-tap='toggleCondition(condition)')\n            .small-9.name.columns(ng-if='condition.selected')\n               .row\n                    .small-3.columns.device.small.link-like(ng-class='{scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}' )\n                        .container\n                             i.icon(ng-class='condition.icon')\n                    .small-9.columns\n                        .icon-center-line.trunc {{condition.description}}:&nbsp;\n                            .lowercase(ng-repeat='option in condition.state.isOn.options', ng-if='condition.state.isOn.value==option.value'){{option.label}}:&nbsp;\n\n                            span(ng-repeat='device in getSelectedDevices(condition.devices) | orderBy:\"name\"')\n                                span.link-color(ng-if='$middle'),{{' '}}\n                                span(ng-if='!$first&&$last'){{' '}}{{'and'|tr}}{{' '}}\n                                span.link-like.click-it(co-tap='show(device)'){{device.name}}\n                        //-span(ng-if='condition.icon==ICONS.DEVICE')&nbsp;\n                        //-span(ng-if='condition.icon==ICONS.SCENE')&nbsp;\n                        //-span(ng-if='condition.icon==ICONS.USER')&nbsp;\n            .small-10.name.columns(ng-if='!condition.selected')\n                .row.light-font\n                    .small-3.columns.device.small.link-like(ng-class='{scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}' )\n                        .container\n                            i.icon(ng-class='condition.icon')\n                    .small-9.columns\n                        .icon-center-line {{condition.description}}\n            .small-2.columns.link-color\n                i.con\n                    .icon.icon-cornerarrow(ng-class='{down:ui.toggledCondition!=condition.id, up:ui.toggledCondition==condition.id}')\n\n         //- Devices of condition\n        .row.open.action-row(ng-if='ui.toggledCondition==condition.id')\n            .device.small.small-3.tall.text-center(ng-if='!condition.state.timeranges' ng-repeat='(deviceId, device) in condition.devices', ng-class='{checked: device.selected, unknown: device.state&&!device.state.reachable, scene: condition.icon==ICONS.SCENE, user: condition.icon==ICONS.USER}', co-tap='selectDeviceForConditionEdit(condition, device)')\n                .container\n                    i.icon(ng-class='device.iconClasses')\n                        //- temperature on first line\n                        .count.row1-temp-small(ng-if='device.features.temperature&&device.features.humidity')\n                            {{device.state.temperature| number:1}}°C\n                        //- just temperature\n                        .count.row-alone-small(ng-if='device.features.temperature&&!device.features.humidity')\n                            {{device.state.temperature| number:1}}°C\n                        //- humidity on second line\n                        .count.row2-hum-small(ng-if='device.features.temperature&&device.features.humidity')\n                            {{device.state.humidity| number:1}}%\n                        //- just humidity\n                        .count.row-alone-small(ng-if='!device.features.temperature&&device.features.humidity')\n                        .count\n                            {{device.count}}\n                .name {{device.name}}\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n\n            //- Timerange\n            .small-12.columns(ng-if='condition.state.timeranges')\n                .row(ng-repeat='timer in condition.state.timeranges.values')\n                    .small-10.small-centered.columns.end\n                         a.button.tiny.full-width(co-tap='selectTimer(condition, timer)') {{timer.daySelection}}\n                    br\n                    .small-4.small-offset-1.columns.text-right\n                         a.button.tiny.full-width(co-tap='selectTimer(condition, timer)') {{timer.startTime}}\n                    .small-2.columns.text-center -\n                    .small-4.columns.end.text-left\n                         a.button.tiny.full-width(co-tap='selectTimer(condition,timer)') {{timer.endTime}}\n                hr\n                .row\n                    a.button.transparent.small-12.columns.text-center.end(co-tap='addTimer(condition)')\n                        i.icon.icon-circleaddnew&nbsp;&nbsp;&nbsp;\n                        span {{'Add new time'|tr}}\n\n                        //- Same days\n                            .row.text-center(ng-if='isSameStartStopDays(timer)')\n                                .small-12.inline-truncated\n                                    span {{getSelectedDays(timer, \"timerStart\")}}\n\n                                .small-5.inline-truncated.t-margin-XXS.upper-case\n                                    sapn.i {{timer.timerStart.time}}\n                                .small-1.inline-truncated.t-margin-XXS\n                                    span -\n                                .small-5.inline-truncated.t-margin-XXS.upper-case\n                                    span.i {{timer.timerStop.time}}\n\n\n                        //- Different days\n                            .row.text-center(ng-if='!isSameStartStopDays(timer)')\n                                .small-5.inline-truncated.upper-case\n                                    span {{getSelectedDays(timer, \"timerStart\")}}\n                                .small-1.inline-truncated\n                                    span\n                                .small-5.inline-truncated.upper-case\n                                    span {{getSelectedDays(timer, \"timerStop\")}}\n\n                                .small-5.inline-truncated.upper-case\n                                    sapn {{timer.timerStart.time}}\n                                .small-1.inline-truncated\n                                    span -\n                                .small-5.inline-truncated.upper-case\n                                    span {{timer.timerStop.time}}\n            //- ON/OFF\n            .small-12.columns.t-margin-XS(ng-if='condition.selected&&condition.state.isOn.type==\"radio\"')\n                //-{{condition.state.isOn.label}}\n                label.small-label\n                    a.button.tiny.groupped(ng-repeat='option in condition.state.isOn.options', ng-class='{off:condition.state.isOn.value!=option.value}', co-tap='setActionValue(condition.state.isOn, option.value)') {{option.label}}\n\n            //- Range\n            .small-12.columns(ng-if='condition.selected&&condition.state.range')\n                .row\n                    .small-3.small-offset-3.columns.text-center\n                        label.small-label {{condition.state.range.options.min.label}}\n\n                    .small-3.columns.end.text-center\n                        label.small-label {{condition.state.range.options.max.label}}\n\n                    .small-3.small-offset-3.columns.text-center(co-tap='alert(\"Not in proto\")')\n                        a.button.tiny(co-tap='selectRangeMin(extra)') {{condition.state.range.options.min.value}}&nbsp;{{condition.state.range.options.min.unit}}\n\n                    .small-3.columns.end.text-center(co-tap='alert(\"Not in proto\")')\n                        a.button.tiny(co-tap='selectRangeMax(extra)') {{condition.state.range.options.max.value}}&nbsp;{{condition.state.range.options.max.unit}}\n\n            //- Extra setting\n            .small-12.columnst.t-margin-S(ng-if='condition.selected&&condition.extras')\n                a.button.full-width(co-tap='showExtras(condition)')\n                    i.icon.icon-settings\n                    span {{'Extra settings'|tr}} ({{getExtraCounts(condition)}})\n"}),require.register("rules/template-rules-add-3-a.jade",function(e,t,n){n.exports="//-form.main-view.row.no-top(ng-if='!menu.modalPage')\n//-\n//- SCENES\n//-\n\n.row.simple-list.action-list.checkbox\n    //- Actions\n    .small-12.columns(ng-class='{selected: ui.sceneAllSelected}')\n        //- Always\n        a.row.valign-middle.action-header\n            .small-1.check.columns.text-left(co-tap='toggleScene(\"all\")')\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n                span &nbsp;\n            .small-11.name.columns(co-tap='toggleScene(\"all\")')\n                .icon-center-line {{'Always'|tr}}\n\nhr\n\n.row.simple-list.action-list.checkbox\n    .small-12.columns(ng-repeat='(sceneId,scene) in getHomeScenes()', ng-class='{selected: scene.selected}')\n        //- Checkbox & name\n        a.row.valign-middle.action-header\n            .small-1.check.columns.text-left(co-tap='toggleScene(scene)')\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n                span &nbsp;\n            .small-9.name.columns(co-tap='toggleScene(scene)')\n                .icon-center-line {{scene.name}}\n            .small-2.columns.text-center(co-tap='toggleScene(scene)')\n                 i.con\n                    .icon(ng-class='scene.icon')\n\n    .small-12.columns(ng-repeat='(sceneId,scene) in getFavoriteScenes()', ng-class='{selected: scene.selected}')\n        //- Checkbox & name\n        a.row.valign-middle.action-header\n            .small-1.check.columns.text-left(co-tap='toggleScene(scene)')\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n                span &nbsp;\n            .small-9.name.columns(co-tap='toggleScene(scene)')\n              .icon-center-line {{scene.name}}\n            .small-2.columns.text-center(co-tap='toggleScene(scene)')\n               i.con\n                    .icon(ng-class='scene.icon')\n\n\n\n"}),require.register("rules/template-rules-add-4-a.jade",function(e,t,n){n.exports="//-\n//- EXTRAS\n//-\n.row.simple-list.action-list.checkbox\n    .small-12.columns(ng-repeat='extra in rule.config.sortedExtras', ng-class='{selected:extra[0].isOn}')\n        //-div\n            pre {{extra|json}}\n        .row.valign-middle.action-header(ng-if='extra[0].fieldType==\"TIME_DELTA_MS\"')\n            a.small-1.check.columns.text-left(co-tap='extra[0].isOn=!extra[0].isOn')\n                i.icon.icon-checkboxbg\n                    i.icon.icon-done\n                span &nbsp;\n\n            a.small-8.name.columns(co-tap='extra[0].isOn=!extra[0].isOn')\n                .icon-center-line {{extra[0].description}}\n            a.small-3.name.columns(ng-if='extra[0].isOn', co-tap='selectExtraTime(extra[0])')\n                .icon-center-line.button.tiny(ng-disabled='!extra[0].isOn') {{extra[0].value}}&nbsp;{{extra[0].unit}}\n            .small-3.name.columns(ng-if='!extra[0].isOn')\n                .icon-center-line.button.tiny(ng-disabled='!extra[0].isOn') - &nbsp;{{extra[0].unit}}\n\n        //- When extra is message\n        .row.valign-middle.action-header(ng-if='extra[0].fieldType==\"FREE_TEXT\" ')\n\n            .small-12.columns.t-margin-S\n                h3.dark-font {{extra[0].description}}\n\n            .small-12.columns\n                input(type='text', ng-model='extra[0].text')\n\n        //- When extra is number\n            .row.valign-middle.action-header(ng-if='extra[0].fieldType==\"RC_BUTTON\" ')\n                .small-12.columns.t-margin-S\n                    h3.dark-font {{extra[0].description}}\n                .small-12.columns\n                    .row.collapse\n                        .small-4.columns {{'Button id|'|tr}} extra[0].value\n\n        .row.valign-middle.action-header(ng-if='extra[0].fieldType==\"CELSIUS\" || extra[0].fieldType==\"PERCENT\" || extra[0].fieldType==\"NUMBER\" || extra[0].fieldType==\"BUTTON_ID\" ')\n\n            .small-12.columns.t-margin-S\n                h3.dark-font {{extra[0].description}}\n\n            .small-12.columns\n                .row.collapse\n                    .small-4.columns\n                        input.text-center(ng-if='extra[0].minCount' type='number', ng-model='extra[0].value' min='{{extra[0].minValue}}' max='{{extra[0].MaxValue}}' required)\n                        input.text-center(ng-if='!extra[0].minCount' type='number', ng-model='extra[0].value' min='{{extra[0].minValue}}' max='{{extra[0].MaxValue}}')\n                    .small-2.columns.end\n                        a.button.postfix(ng-if='extra[0].fieldType==\"CELSIUS\"') °C\n                        a.button.postfix(ng-if='extra[0].fieldType==\"PERCENT\"') %\n\n        //- When extra is boolean\n        .row.simple-list.action-list.checkbox(ng-if='extra[0].fieldType==\"BOOL\"')\n\n            //- Actions\n            .small-12.columns(ng-class='{selected: extra[0].value}')\n                //- Always\n                a.row.valign-middle.action-header(co-tap='extra[0].value = !extra[0].value')\n                    .small-1.check.columns.text-left\n                        i.icon.icon-checkboxbg\n                            i.icon.icon-done\n                        span &nbsp;\n                    .small-11.name.columns\n                         h3.dark-font.icon-center-line {{extra[0].description}}\n\n        //- When extra is option list\n        //-.row(ng-if='extra[0].fieldType==\"OPTION\"')\n            p Key: {{extra.key}}\n            p Extra: {{extra|json}}\n        .row.simple-list.action-list.checkbox(ng-if='extra[0].fieldType==\"OPTION\"' )\n            .small-12.columns\n                h3.dark-font {{extra[0].description}}\n            .small-12.columns\n                .row.simple-list.action-list.checkbox(ng-repeat='optio in extra[0].options')\n                    .small-12.columns(ng-class='{selected: extra[0].value==value}' ng-repeat='(key, value) in optio')\n                        //- Always\n                        a.row.valign-middle.action-header(co-tap='extra[0].value = value')\n                            .small-1.check.columns.text-left\n                                i.icon.icon-checkboxbg\n                                    i.icon.icon-done\n                                span &nbsp;\n                            .small-11.name.columns\n                                 span {{key}}\n\n            //- Actions\n                .small-12.columns(ng-class='{selected: extra[0].value}')\n                    //- Always\n                    a.row.valign-middle.action-header\n                        .small-1.check.columns.text-left(co-tap='extra[0].value = !extra[0].value')\n                            i.icon.icon-checkboxbg\n                                i.icon.icon-done\n                            span &nbsp;\n                        .small-11.name.columns(co-tap='toggleScene(\"all\")')\n                             h3.dark-font.icon-center-line {{extra[0].description}}\n\n        //- When extra is timer\n        .row.valign-middle.action-header(ng-if='extra[0].fieldType==\"RULETIME\"')\n            .rule-border.small-12.small-centered.end(ng-repeat='currentTimer in extra')\n                a.preset-list(co-tap='showDateSelection(currentTimer, extra)')\n                    .row.preset-row.valign-middle\n                        .small-2.columns.device\n                            i.icon.icon-time\n\n                        .small-8.columns\n\n                            //- Same days\n                            .row.text-center(ng-if='isSameStartStopDays(currentTimer)')\n                                .small-12.inline-truncated\n                                    span {{getSelectedDays(currentTimer, \"timerStart\")}}\n                                //- time\n                                .small-5.inline-truncated.t-margin-XXS.upper-case(ng-if='currentTimer.timerStart.time')\n                                    span.i {{currentTimer.timerStart.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in.t-margin-XXS(ng-if='currentTimer.timerStart.sun')\n                                    i.con.button.sun(ng-if='currentTimer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='currentTimer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{currentTimer.timerStart.sunTime}}\n                                .small-1.inline-truncated.t-margin-XXS\n                                    span -\n                                //- time\n                                .small-5.inline-truncated.t-margin-XXS.upper-case(ng-if='currentTimer.timerStop.time')\n                                    span.i {{currentTimer.timerStop.time}}\n                                 //- sun\n                                .small-5.inline-truncated.icon-in.t-margin-XXS.end(ng-if='currentTimer.timerStop.sun')\n                                    i.con.button.sun(ng-if='currentTimer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='currentTimer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{currentTimer.timerStop.sunTime}}\n\n\n\n                            //- Different days\n                            .row.text-center(ng-if='!isSameStartStopDays(currentTimer)')\n                                .small-5.inline-truncated.upper-case\n                                    span {{getSelectedDays(currentTimer, \"timerStart\")}}\n                                .small-1.inline-truncated\n                                    span\n                                .small-5.inline-truncated.upper-case\n                                    span {{getSelectedDays(currentTimer, \"timerStop\")}}\n\n                                //- time\n                                .small-5.inline-truncated.upper-case(ng-if='currentTimer.timerStart.time')\n                                    sapn {{currentTimer.timerStart.time}}\n                                //- sun\n                                .small-5.inline-truncated.icon-in(ng-if='currentTimer.timerStart.sun')\n                                    i.con.button.sun(ng-if='currentTimer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='currentTimer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{currentTimer.timerStart.sunTime}}\n\n                                .small-1.inline-truncated\n                                    span -\n                                //- time\n                                .small-5.inline-truncated.upper-case(ng-if='currentTimer.timerStop.time')\n                                    span {{currentTimer.timerStop.time}}\n                                 //- sun\n                                .small-5.inline-truncated.icon-in.end(ng-if='currentTimer.timerStop.sun')\n                                    i.con.button.sun(ng-if='currentTimer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='currentTimer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span.i {{currentTimer.timerStop.sunTime}}\n\n                        .small-2.columns.text-center\n                            i.icon.icon-cornerarrow\n\n\n        //-.row\n            pre Type {{type}}\n            pre Extra: {{extra | json}}\n\n\n\n"}),require.register("rules/template-rules-add.jade",function(e,t,n){n.exports="form.main-view.row.no-top(ng-if='!menu.modalPage')\n\n    //-\n    //- DEVICE SELECTION\n    //-\n    .small-12.columns.t-margin-S(ng-if='!hideDeviceSelection')\n        h3.dark-font {{'What would you like to control?'|tr}}\n\n    //-.small-12.columns.t-margin(ng-include=\"'/template-rules-add-2-a.tpl.html'\")\n    .small-12.columns(ng-if='!hideDeviceSelection')\n        //- pre {{inputTypes|json}}\n        .row.simple-list.action-list.checkbox\n            .device.small.small-4.tall.text-center.columns(ng-repeat='input in inputTypes', ng-if='input.type!=FIELDTYPE.RC&&input.type!=FIELDTYPE.KEYFOB', co-tap='selectInputTypes(input)', ng-class='{checked:input.selected, selected:input.selected, scene: input.icon==ICONS.SCENE, end: $last}')\n                .container\n                    i.icon(ng-class='input.icon')\n                .name {{input.name}}\n                i.icon.icon-checkboxbg\n                     i.icon.icon-done\n\n\n\n    //- ACTIONS\n    //-.small-12.columns.t-margin-M(ng-include=\"'/template-rules-add-1-a.tpl.html'\")\n\n    //-\n    //- TEMPLATES\n    //-\n    .small-12.columns.t-margin-S\n        label {{'FOUND RULES'|tr}}\n    //-.small-12.columns {{fromDevice.name}} -> {{toDevice.name}}\n    .small-12.columns\n        .row.simple-list.action-list\n            .small-12.columns\n                .row.t-margin-S(ng-if='!isRuleTemplates()' )\n                    .small-12.columns {{'Suitable template not found'|tr}}\n\n                a.row.valign-middle.action-header(ng-repeat='(templateId, template) in ruleTemplates' co-tap='selectTemplate(templateId, fromDevice, toDevice)', ng-if='template.category!=\"CUSTOM_RULE\" ')\n                    .small-10.columns\n                        .icon-center-line.trunc {{template.description}}\n                    .small-2.columns\n                        i.con\n                            .icon.icon-cornerarrow\n\n\n    .small-12.columns.t-margin-M(ng-if='showUserRules')\n        label {{'USER RULES'|tr}}\n\n    .small-12.columns(ng-if='showUserRules')\n        .row.simple-list.action-list\n                .small-12.columns\n                    .row.t-margin-S(ng-if='!isRuleUserTemplates()' )\n                        .small-12.columns {{'Suitable template not found'|tr}}\n                    a.row.valign-middle.action-header(ng-repeat='template in userTemplates')\n                        .small-6.columns(co-tap='selectUserTemplate(template)')\n                            .icon-center-line.trunc {{template.description}}\n                        .small-2.columns(co-tap='selectUserTemplate(template)')\n                            i.con\n                                .icon.icon-cornerarrow\n                        .small-2.columns(co-tap='openEditor(template.configType)')\n                            i.con\n                                .icon.icon-editpen\n                        .small-2.columns(co-tap='removeCutomTemplate(template.configType)')\n                            i.con\n                                .icon.icon-trash\n\n    .small-12.columns.t-margin-S(ng-if='showUserRules')\n        .row\n            a.button.transparent.small-12.columns.text-center.end(co-tap='openEditor()')\n                i.icon.icon-circleaddnew&nbsp;&nbsp;&nbsp;\n                span {{'ADD USER RULE'|tr}}\n"
}),require.register("rules/template-rules-edit.jade",function(e,t,n){n.exports="form.css-form.main-view.row.no-top(ng-if='!menu.modalPage')\n\n    .small-12.columns.t-margin-S\n        h3{{rule.config.description}}\n        .light-font {{rule.config.summary}}\n\n    //-.small-12.columns {{fromDevice.name}} -> {{toDevice.name}}\n    //-\n    //- CONDITIONS\n    //-\n    .small-12.columns.t-margin-S(ng-include=\"'/template-rules-add-2-a.tpl.html'\", ng-if='!isEmpty(conditions)')\n\n    //-\n    //- ACTIONS\n    //-\n    .small-12.columns.t-margin-M(ng-include=\"'/template-rules-add-1-a.tpl.html'\")\n\n    //-\n    //- EXTRAS\n    //-\n    //-.small-12.columns.t-margin-S(ng-if='!isEmpty(rule.config.extras)')\n         h3.dark-font {{'Extra settings'|tr}}\n\n    .small-12.columns(ng-include=\"'/template-rules-add-4-a.tpl.html'\")\n\n    //-\n    //- NAME\n    //-\n    .small-12.columns.t-margin-S\n        h3.dark-font {{'Name the rule'|tr}}\n\n    .small-12.columns\n        input(type='text', ng-model='ui.name')\n\n    //-\n    //- SCENES\n    //-\n    .small-12.columns.t-margin-S\n        h3.dark-font {{'When rule should be active'|tr}}?\n\n    .small-12.columns(ng-include=\"'/template-rules-add-3-a.tpl.html'\",)\n\n\n    //-\n    //- DELETE\n    //-\n    .small-12.columns.t-margin-M(ng-if='rule.config.id')\n        .row\n            .small-10.columns\n                h3.dark-font {{'DELETE RULE'|tr}}\n\n        .row\n            .small-2.small-centered.columns.end\n                a(co-tap='rule.remove()')\n                    i.con\n                        .icon.icon-trash\n\n\n\n//-\n//- Demo Extras in 'modal'\n//-\n.fade(ng-if='menu.modalPage==\"ExtraSettings\"')\n    form.modal\n        .content\n            .row.t-margin-S.simple-list.action-list.checkbox\n                .small-12.columns(ng-repeat='extra in ui.currentExtras', ng-class='{selected:extra.selected}')\n                    //- when time\n                    .row.valign-middle.action-header(ng-if='extra.type==\"time\"')\n                        a.small-1.check.columns.text-left(co-tap='extra.selected=!extra.selected')\n                            i.icon.icon-checkboxbg\n                                i.icon.icon-done\n                        a.small-8.name.columns.text-left(co-tap='extra.selected=!extra.selected') {{extra.label}}\n                        .small-3.columns.text-right(co-tap='')\n                             a.button.tiny(co-tap='extra.selected=true;selectExtraTime(extra)') {{extra.value}}&nbsp;{{extra.unit}}\n\n                    //- else\n                    .row.valign-middle.action-header(ng-if='extra.type!=\"time\"')\n                        a.small-1.check.columns.text-left(co-tap='extra.selected=!extra.selected')\n                                i.icon.icon-checkboxbg\n                                    i.icon.icon-done\n                        a.small-11.name.columns.text-left(co-tap='extra.selected=!extra.selected') {{extra.label}}\n\n\n                 //-.small-12.text-center.columns\n                    {{ui.currentExtras}}\n\n//- Real extra selectors\n.slide-animate(ng-include=\"'/template-roller-time.tpl.html'\", ng-if='menu.modalPage==\"TimeRoller\"')\n.slide-animate(ng-include=\"'/template-date-selection.tpl.html'\", ng-if='menu.modalPage==\"DateSelection\"')\n.slide-animate(ng-include=\"'/template-roller-clock.tpl.html'\", ng-if='menu.modalPage==\"ClockRoller\"')\n"}),require.register("rules/template-rules-editor.jade",function(e,t,n){n.exports="form.main-view.row.no-top(ng-if='!menu.modalPage')\n    .small-12.columns.t-margin-S\n\n    .small-12.columns.t-margin-S\n        #python-editor()\n\n    //-\n    //- NAME\n    //-\n        .small-12.columns.t-margin-S\n            h3.dark-font {{'Name the rule'|tr}}\n\n        .small-12.columns\n            input(type='text', ng-model='ui.name')\n\n\n    .small-10.small-centered.medium-6.medium-centered.columns\n        button.row-button.bottom(type='submit', ng-click='saveEditor()') {{'DONE'|tr}}\n\n    .small-10.small-centered.medium-6.medium-centered.columns.text-center\n        a(ng-click='showLog()'){{'Show log'|tr}}\n            i.con\n                .icon.icon-cornerarrow(ng-class='{down:ui.showLog}')\n\n    .small-12.small-centered.medium-8.medium-centered.columns.max-10lines(ng-if='ui.showLog')\n            .row.log-lines.pre.info(ng-repeat='line in templateLog track by line', ng-class-odd=\"'odd'\" , ng-class-even=\"'even'\")\n                .small-12.columns {{line}}\n\n\n    .small-10.small-centered.medium-6.medium-centered.columns.text-center\n        a(ng-click='openDocumentation()'){{'See documentation'|tr}}\n            i.con\n                .icon.icon-cornerarrow\n\n"}),require.register("rules/template-rules-filter.jade",function(e,t,n){n.exports="form.modal.overlay\n    .content\n        .row.t-margin-S.tabs\n            a.small-6.columns.text-center(ng-class='{selected:search.kind==\"use\"}', co-tap='setSearchKind(\"use\")') {{'Use type'|tr}}\n            a.small-6.columns.text-center(ng-class='{selected:search.kind==\"device\"}', co-tap='setSearchKind(\"device\")') {{'Device type'|tr}}\n\n\n\n        .row(ng-if='search.kind==\"use\"')\n            .small-12.columns\n                .row.t-margin-XS.simple-list\n                    .small-12.columns(ng-class='{selected:search.scene==\"All rules\"}')\n                        a.row.valign-middle(co-tap='setSceneSearch(\"All rules\")')\n                            .small-2.columns.text-center\n                                i.con\n                                    .icon.icon-mainmenu\n                            .small-10.columns\n                                .icon-center-line.trunc {{'All rules'|tr}}\n\n                .row.t-margin-XS.simple-list\n                    .small-12.columns(ng-class='{selected:search.scene==\"Recent rules\"}')\n                        a.row.valign-middle(co-tap='setSceneSearch(\"Recent rules\")')\n                            .small-2.columns.text-center\n                                i.con\n                                    .icon.icon-mainmenu\n                            .small-10.columns\n                                .icon-center-line.trunc {{'Recent rules'|tr}}\n\n                //- HOME SCENES\n                .row.t-margin-XS\n                    .small-12.columns\n                        h3.dark-font {{'SCENES'|tr}}\n\n                .row.t-margin-XS.simple-list\n                    .small-12.columns(ng-repeat='(id, scene) in getHomeScenes()', ng-class='{selected:search.scene==scene.name}')\n                        a.row.valign-middle(co-tap='setSceneSearch(scene.name, scene.icon)')\n                            .small-2.columns.text-center\n                                i.con\n                                    .icon(ng-class='scene.icon')\n                            .small-10.columns\n                                .icon-center-line.trunc {{scene.name}}\n\n                //- FAVORITES\n                    .row.t-margin-XS\n                        .small-12.columns\n                            h3.dark-font {{'FAVORITES'|tr}}\n\n                .row.t-margin-XS.simple-list\n                    .small-12.columns(ng-repeat='(id, scene) in getFavoriteScenes()', ng-class='{selected:search.scene==scene.name}')\n                        a.row.valign-middle(co-tap='setSceneSearch(scene.name, scene.icon)')\n                            .small-2.columns.text-center\n                                i.con\n                                    .icon(ng-class='scene.icon')\n                            .small-10.columns\n                                .icon-center-line.trunc {{scene.name}}\n\n        //- Device types\n        .row.t-margin-S.simple-list(ng-if='search.kind==\"device\"')\n            .small-12.columns(ng-repeat='deviceType in sortedDeviceTypes', ng-class='{selected:search.device==deviceType.id}', ng-if='deviceType.id')\n                a.row.t-margin-XS.valign-middle(co-tap='setDeviceSearch(deviceType.id, deviceType.icon)')\n                    .small-3.columns.text-center.device.small(ng-class='{scene: deviceType.id==FIELDTYPE.SCENE, user: deviceType.id==FIELDTYPE.USER}' )\n                        .container\n                            i.icon(ng-class='deviceType.icon')\n                    .small-7.columns\n                        .icon-center-line {{deviceType.id+'-devices'|tr}}\n                    .small-2.columns\n                        .icon-center-line.dark-font {{deviceType.count}}\n"}),require.register("rules/template-rules-list.jade",function(e,t,n){n.exports="form.main-view.no-top\n    //- Filtterting\n\n    .row.valign-middle.top-page.button(co-tap='openFilterModal()')\n        .small-2.columns\n             i.con\n                .icon.type(ng-if='search.icon', ng-class='search.icon')\n        .small-8.columns\n            //- like:\n            h3(ng-if='search.kind==\"use\"')\n                .icon-center-line.trunc {{search.sceneName}}\n            h3(ng-if='search.kind==\"device\"')\n                .icon-center-line.trunc {{(search.device+'-devices')|tr}}\n\n        .small-2.columns\n            i.con\n                .icon.icon-cornerarrow.down\n\n    //-.row\n        p Search = {{search|json}}\n        p Rule kind = {{ui.ruleKind}}\n        p Filtered rules {{filteredRules}}\n        p Home rules {{homeRules}}\n        p Scene rules {{sceneRules}}\n    .row.t-margin-XS.tabs(ng-if='(search.kind == \"use\" && (search.scene==\"All rules\" || search.scene==\"Recent rules\") || search.kind == \"device\") ')\n        a.small-6.columns.text-center(ng-class='{selected:ui.ruleKind==\"root\"}', co-tap='setRuleKind(\"root\")') {{'Root rules'|tr}}\n        a.small-6.columns.text-center(ng-class='{selected:ui.ruleKind==\"scene\"}', co-tap='setRuleKind(\"scene\")') {{'Scene rules'|tr}}\n\n    .waiting.t-margin-S(ng-if='!menu.isRules')\n        span\n        span\n        span\n    //- ROOT rules\n\n    //-.row(ng-if='isHomeRules')\n        .small-12.columns\n            h3.dark-font {{'ROOT RULES'|tr}}\n\n    //-.row(ng-if='!isHomeRules')\n        .small-12.columns\n            h3.dark-font {{'NO RULES'|tr}}\n    //-.row.t-margin-XS\n    //- All root rules or devices list\n    .row.preset-list.rule(ng-if='menu.isRules && ui.ruleKind==\"root\" ', ng-class='{first:$first}', ng-repeat='(ruleId,rule) in homeRules', co-include=\"'/partitial-rules-filtered.tpl.html'\")\n\n\n    //- SCENE RELATED RULES\n        .row.t-margin-S(ng-if='isHomeRules') &nbsp;\n        .row(ng-if='isSceneRules && (search.kind == \"use\" && (search.scene==\"All rules\" || search.scene==\"Recent rules\") || search.kind == \"device\") ')\n            .small-12.columns\n                h3.dark-font {{'SCENE RULES'|tr}}\n\n    //-.row(ng-if='!isSceneRules')\n        .small-12.columns\n            h3.dark-font {{'NO RULES'|tr}}\n\n    //- All not root rules\n    .row.preset-list.rule(ng-if='menu.isRules && ui.ruleKind==\"scene\" ', ng-class='{first:$first}', ng-repeat='(ruleId,rule) in sceneRules', co-include=\"'/partitial-rules-filtered.tpl.html'\")\n\n\n    .row.t-margin-S(ng-if='!isHomeRules && !isSceneRules')\n        .small-12.columns\n            h3.dark-font {{'NO RULES'|tr}}\n\n\n    //- Per scene type\n        .row(ng-if='search.scene==\"All rules\"')\n            .small-12.columns\n                h3.dark-font {{'WAKE-UP'|tr}}\n        .row.preset-list(ng-if='search.scene==\"All rules\"', ng-repeat='(ruleId,rule) in getFilteredRulesBySceneName(\"Wake-Up\")', ng-include=\"'/partitial-rules-filtered.tpl.html'\")\n\n//- Include modal templates\n.slide-animate(co-include=\"'/template-rules-filter.tpl.html'\", ng-if='menu.modalPage==\"RuleFilter\"')\n\n"}),require.register("rules/template-rules.jade",function(e,t,n){n.exports="//- Just placeholder for abstact view (see app.config $stateProvider.state 'c')\n#rules(ui-view='rules', autoscroll='false')\n\n\n"}),require.register("connection/template-connecting.jade",function(e,t,n){n.exports="//-\n//- CONNECTING page\n//- .slide-animate(ng-if='isInModals(\"RuleTemplateSelection\")')\n\nform.main-view.row\n    //- Basic list\n    .small-12.columns.lighter-background(ng-if='ui.showList')\n\n        .row.t-margin-XS\n            .small-7.name.columns\n                label.top.secondary {{'HUB'|tr}}\n            .small-5.name.columns.end\n                label.top.secondary {{'ROLE'|tr}}\n\n        .row.simple-list.action-list.t-margin-XS\n            .small-12.columns(ng-repeat='hub in hubs', ng-class='{selected:hub.id == selectedHub.id, blink: hub.busy}')\n                a.row.valign-middle.action-header(co-tap='selectHub(hub)')\n                    .small-2.name.columns\n                        //- local\n                        i.con(ng-if='hub.connState!=undefined && (hub.connState == HUB_STATE.LOCAL_UNCLAIMED || hub.connState != HUB_STATE.REMOTE && hub.connState != HUB_STATE.NO_CONN)')\n                            .icon.icon-hub\n                        //- remote\n                        i.con(ng-if='hub.connState==undefined || hub.connState == HUB_STATE.REMOTE')\n                            .icon.icon-hub-remote\n                        //- no connection\n                        i.con(ng-if='hub.connState == HUB_STATE.NO_CONN')\n                            .icon.icon-clear-values\n                    .small-5.name.columns\n                        .icon-center-line\n                            span.text {{hub.name}}\n                            //-span.text : {{hub.connState}}\n\n                    .small-3.name.columns\n                        span.icon-center-line(ng-if='hub.connState!=0')\n                            .label  {{hub.roleName}}\n                          //- unclaimed\n                        span.icon-center-line.explanation(ng-if='hub.connState==0') {{'New' |tr}}!\n\n                    .small-2.columns.text-right.link-color(ng-if='hub.connState!=HUB_STATE.NO_CONN&&hub.connState!=HUB_STATE.LOCAL_NO_ACCESS')\n                        i.con\n                            .icon.icon-cornerarrow\n                    //- no access\n                    .small-2.columns.text-center.lr-padding-0(ng-if='hub.connState==HUB_STATE.LOCAL_NO_ACCESS')\n                        span.icon-center-line.explanation {{'No access'|tr}}\n                    //- general failure\n                    .small-2.columns.text-center.lr-padding-0(ng-if='hub.connState==HUB_STATE.NO_CONN')\n                        span &nbsp;\n\n                //-.row.valign-middle.action-header\n                    pre {{hub | json}}\n\n            .small-10.small-centered.medium-6.medium-centered.columns.end.text-center.t-margin-S(ng-if='hubs.length<1')\n                {{'No hub found - are you connected to correct network?'|tr}}\n\n    //- Rescan\n    .small-12.columns(ng-if='ui.showList')\n        .row.t-margin-S\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width(ng-if='hubs.length<1', type='button', co-tap='reConnect()')\n                   i.con.button\n                        i.icon.icon-refresh\n                   .inline {{'SEARCH HUB'|tr}}\n                button.full-width(ng-if='hubs.length>0', type='button', co-tap='reConnect()')\n                   i.con.button\n                        i.icon.icon-refresh\n                   .inline {{'REFRESH LIST'|tr}}\n\n\n    //- Logout\n    hr(ng-if='ui.showList'))\n    .small-12.columns(ng-if='ui.showList')\n        .row.t-margin-S\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                button.full-width(type='button',  co-tap='logout()' )\n                    //-a.button.postfix(co-tap='logout()')\n                    {{'LOGOUT'|tr}}\n\n\n    //- Spinner\n    .small-12.columns(ng-if='!ui.showList')\n        .row\n            a.block.row.t-margin-XL(ng-tap='ui.showList = true')\n                .small-8.small-centered.columns.end.text-center\n                    i.icon.icon-cozifyen.big(ng-if='selectedLanguage==\"en\"')\n                    i.icon.icon-cozifyfi.big(ng-if='selectedLanguage==\"fi\"')\n                    .spinner.top-logo.size200\n\n\n"}),require.register("connection/template-claim.jade",function(e,t,n){n.exports="//-\n//- Login page\n\n\nform.main-view.row\n    .small-12.columns\n        //- pre {{selectedHub | json}}\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                {{'Register HUB _name_ ?' | tr : 'name': selectedHub.name}}\n\n\n        .row.t-margin-M\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='claimingAccepted()') {{'DONE'|tr}}\n\n"}),require.register("connection/template-timezone.jade",function(e,t,n){n.exports="form.modal()\n    .content\n        .row.t-margin-L\n            .small-12.small-centered.medium-6.medium-centered.text-center.columns.end\n                label.top.text-center {{'Search capitals'|tr}}\n            .small-12.small-centered.medium-6.medium-centered.text-center.columns.end\n                input.text-center(type='text', required=true, ng-model='searchTimeZone', placeholder=' {{\"City\"|tr}}')\n\n        .row.t-margin-XS(ng-if='searchTimeZone.length>1')\n            .small-12.columns\n                h3.dark-font {{'SELECT'|tr}}\n\n        .row(ng-if='searchTimeZone.length>1')\n            .small-12.columns(ng-repeat='zone in ui.timeZones | filter:searchTimeZone')\n                    a.row.valign-middle.action-header(co-tap='selectTimeZone(zone)')\n                        .small-10.name.columns.text-left\n                            .icon-center-line {{zone}}\n                        .small-2.columns.text-center.link-color\n                            i.con\n                                .icon.icon-cornerarrow\n\n\n"}),require.register("connection/template-zigbee.jade",function(e,t,n){n.exports="form.modal()\n    .content\n        .row.t-margin-S &nbsp;\n        .row.t-margin-L\n\n            .small-4.columns\n                label.top.right.inline.text-left {{'Status'|tr}}\n            .small-8.columns\n                label.top.right.inline.text-left(ng-if='ui.zigbeeStatus.hasNetwork') {{'OK'|tr}}\n                label.top.right.inline.text-left(ng-if='!ui.zigbeeStatus.hasNetwork||!ui.zigbeeStatus.connected') {{'Failure'|tr}}\n\n        .row(ng-if='ui.zigbeeStatus.hasNetwork&&ui.zigbeeStatus.connected')\n            .small-4.columns\n                label.top.right.inline.text-left {{'Zigbee channel'|tr}}\n            .small-8.columns\n                select(ng-model='ui.zigbeeStatus.channel' convert-to-number ng-change='setZigbeeChannel()')\n                    option 11\n                    option 12\n                    option 13\n                    option 14\n                    option 15\n                    option 16\n                    option 17\n                    option 18\n                    option 19\n                    option 20\n                    option 21\n                    option 22\n                    option 23\n                    option 24\n                    option 25\n                    option 26\n\n        .row(ng-if='ui.zigbeeStatus.hasNetwork&&ui.zigbeeStatus.connected')\n            .small-4.columns\n                label.top.right.inline.text-left {{'Zigbee power'|tr}}\n            .small-8.columns\n                select(ng-model='ui.zigbeeStatus.power' convert-to-number ng-change='setZigbeePower()')\n                    option(value='3') {{'Normal'|tr}}\n                    option(value='6') {{'Increased'|tr}}\n                    option(value='8') {{'High'|tr}}\n        .row\n            .small-4.columns\n                label.top.right.inline.text-left {{'Firmware'|tr}}\n            .small-8.columns\n                label.top.right.inline.text-left {{ui.zigbeeStatus.firmware}}\n\n\n\n\n\n"}),require.register("connection/template-appstore.jade",function(e,t,n){n.exports="//-\n//- Ask access page\nform.main-view.row\n    .small-12.columns\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                h2 {{'Load new application'|tr}}\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n\n                p {{'HUB version _version1_ is too new for your application _version2_' |tr :  'version1': ui.HUBVersion :  'version2':ui.UIVersion}}\n\n\n        .row.t-margin-S\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='appStoreOk()') {{'OK'|tr}}\n\n"}),require.register("connection/template-access.jade",function(e,t,n){n.exports="//-\n//- Ask access page\nform.main-view.row\n    .small-12.columns\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                h2(ng-if='selectedHub.name') {{'Ask access for this HUB _hub_?' |tr  : 'hub': selectedHub.name}}\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                p {{'Wait wait until admin accepts your access'|tr}}\n\n\n        .row.t-margin-S\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='askAccess()') {{'OK'|tr}}\n\n"}),require.register("connection/template-login.jade",function(e,t,n){n.exports="//-\n//- Login page\nform.main-view.row\n    .small-12.columns\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end(ng-if='ui.mode==\"email\" ')\n                {{'Login with email'|tr}}\n\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end(ng-if='ui.mode==\"code\" ')\n                {{'Login by activation code sent to your email _email_'|tr : 'email': ui.mailSent }}\n\n        .row.t-margin-S\n            //- , co-ok='emailDone()'\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end(ng-if='ui.mode==\"email\" ')\n                input.text-center(type='email', required=true, ng-model='ui.email', placeholder='email.address@domain.com'))\n                small.error(ng-if='ui.mailSuggestion')\n                    {{'Did you mean'|tr}} {{ui.mailSuggestion}} ?\n\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end(ng-if='ui.mode==\"code\" ')\n                 input.upper-case.text-center(type='text', minlength='6' maxlength='6', size='6', ng-model='ui.activationCode', reguired=true)\n\n\n        .row.t-margin-S(ng-if='ui.mode==\"email\" ')\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='emailDone()') {{'DONE'|tr}}\n\n        .row.t-margin-S(ng-if='ui.mode==\"code\" ')\n            .small-10.small-centered.medium-6.medium-centered.columns.end\n                button.full-width.bottom(type='submit', ng-click='loginDone()') {{'DONE'|tr}}\n\n"}),require.register("boot/template-menu.jade",function(e,t,n){n.exports="//- Just placeholder for abstact view (see app.config $stateProvider.state 'c')\n#menu(ui-view='menu', autoscroll='false')\n"}),require.register("boot/template-left-menu.jade",function(e,t,n){n.exports="//- Some controls in preferences some in rootscope\n//-nav#slide-in-menu.menu-background(ng-class='{active: menuOpen==true}', co-tap='closeMenu()', co-swipe-x='closeMenu()')\nnav#slide-in-menu.menu-background(ng-class='{active: menuOpen==true}', co-tap='closeMenu()')\n\n    .row\n        .small-12.columns.text-center\n            i.icon.icon-cozifyen(ng-if='currentLanguage==\"en\"')\n            i.icon.icon-cozifyfi(ng-if='currentLanguage==\"fi\"')\n\n    .row\n        .small-10.small-centered.columns.end(co-tap='gotoHUBSelection()', ng-controller='ConnectionCtrl')\n            //- selectedHub from root\n            .row.hub-selection.valign-middle\n                .small-2.columns.text-left.lr-padding-0\n                    //- local\n                    i.con(ng-if='selectedHub.connState!=undefined && (selectedHub.connState == HUB_STATE.LOCAL_UNCLAIMED || selectedHub.connState != HUB_STATE.REMOTE && selectedHub.connState != HUB_STATE.NO_CONN)')\n                        .icon.icon-hub\n\n                    //- remote\n                    i.con(ng-if='!selectedHub.connState==undefined || selectedHub.connState == HUB_STATE.REMOTE')\n                        .icon.icon-hub-remote\n\n                    //- no connection\n                    i.con(ng-if='selectedHub.connState == HUB_STATE.NO_CONN')\n                        .icon.icon-clear-values\n\n\n                .small-8.columns.text-center\n                    .icon-center-line {{selectedHub.name}}\n\n                .small-2.columns.text-right.lr-padding-0\n                    i.con\n                        .icon.icon-cornerarrow.down\n\n\n\n        button.small-4.button.main(co-tap='swipeToRules()', ng-class='{on: menu.isRules, select: !menu.isRules}')\n            i.con\n                .icon.icon-rule\n            span {{'RULES'|tr}}\n\n\n        button.small-4.button.main(co-tap='swipeToScenes()', ng-class='{on: menu.isScenes, select: !menu.isScenes}')\n            i.con\n                .icon.icon-scene\n            span {{'SCENES'|tr}}\n\n        button.small-4.button.main(co-tap='swipeToDevices()', ng-class='{on: menu.isDevices, select: !menu.isDevices}')\n            i.con\n                .icon.icon-devices\n            span {{'DEVICES'|tr}}\n\n\n\n        //-button.small-12.button(co-tap='alert(\"TBD\")')\n            .row\n                .small-3.columns.text-center\n                    i.icon.icon-mainmenu\n                .small-9.columns.text-left\n                    span {{'NOTIFICATIONS'|tr}}\n        button.small-12.button(ng-if='features.isRooms', co-tap='gotoRooms()')\n            .row.valign-middle\n                .small-2.lr-padding-0.columns.text-center\n                    i.con\n                        .icon.icon-room\n                .small-10.columns.text-left\n                    .icon-center-line\n                        span {{'ROOMS'|tr}}\n\n        button.small-12.button(co-tap='gotoSupportAndFeedback()')\n            .row.valign-middle\n                .small-2.lr-padding-0.columns.text-center\n                    i.con\n                        .icon.icon-guide\n                .small-10.columns.text-left\n                    .icon-center-line\n                        span {{'SUPPORT AND FEEDBACK'|tr}}\n\n\n       button.small-12.button(co-tap='gotoHubSettings()')\n            .row.valign-middle\n                .small-2.lr-padding-0.columns.text-center\n                    i.con\n                        .icon.icon-hub-settings\n                .small-10.columns.text-left\n                    .icon-center-line\n                        span {{'HUB SETTINGS'|tr}}\n\n        button.small-12.button(co-tap='gotoPreferences()')\n            .row.valign-middle\n                .small-2.lr-padding-0.columns.text-center\n                    i.con\n                        .icon.icon-my-settings\n                .small-10.columns.text-left\n                    .icon-center-line\n                        span {{'MY SETTINGS'|tr}}\n\n        button.small-12.button(co-tap='gotoLogs()')\n            .row.valign-middle\n                .small-2.lr-padding-0.columns.text-center\n                    i.con\n                        .icon.icon-mainmenu\n                .small-10.columns.text-left\n                    .icon-center-line\n                        span {{'LOGS'|tr}}\n                //- .small-3.columns.text-left(co-tap='setLevel(LEVELS.INFO)')\n                    span INFO\n                    .small-3.columns.text-left(co-tap='setLevel(LEVELS.DEBUG)')\n                        span DBG\n\n        button.small-12.button(ng-controller='ConnectionCtrl')\n\n            .explanation {{'HUB VERSION'|tr}} {{ui.HUBVersion}}, {{'APP VERSION'|tr}} {{ui.UIVersion}}\n"}),require.register("boot/template-left-support.jade",function(e,t,n){n.exports="form.main-view.row\n    .row\n        .small-10.small-centered.columns.end\n\n            button.small-12.button(co-tap='sendFeedback()')\n                  .row.valign-middle\n                      .small-2.lr-padding-0.columns.text-center\n                          i.con\n                              .icon.icon-notification\n                      .small-10.columns.text-left\n                          .icon-center-line\n                              span {{'FEEDBACK'|tr}}\n\n            button.small-12.button(co-tap='goToSupport()')\n                  .row.valign-middle\n                      .small-2.lr-padding-0.columns.text-center\n                          i.con\n                              .icon.icon-guide\n                      .small-10.columns.text-left\n                          .icon-center-line\n                              span {{'SUPPORT'|tr}}\n\n            button.small-12.button(co-tap='gotoForum()')\n                .row.valign-middle\n                    .small-2.lr-padding-0.columns.text-center\n                        i.con\n                            .icon.icon-community\n                    .small-10.columns.text-left\n                        .icon-center-line\n                            span {{'WEB FORUM'|tr}}\n\n"}),require.register("boot/template-left-hub-settings.jade",function(e,t,n){n.exports="form.main-view\n    .row.t-margin-S\n        //-.small-12.columns()\n          HUB: {{selectedHub|json}}\n\n        //- Details\n        .small-12.columns()\n\n                .HUBInput.small-10.small-centered.medium-6.medium-centered.columns.end\n                    .row\n                        .small-12.small-centered.medium-6.medium-centered.text-center.columns.end\n                            label.top.text-center {{'HUB NAME'|tr}}\n\n                        .small-12.columns\n                            //- Name\n                            .row.collapse(ng-if='selectedHub.role==32')\n                                .small-10.columns\n                                    input.text-center(type='text', ng-model='ui.HUBName', co-ok='nameHUBOk()', co-ok-focus-scroll='HUBInput', placeholder='{{\"Enter name\"|tr}}')\n                                .small-2.columns\n                                    a.button.postfix(co-tap='nameHUBOk()') Ok\n\n                            .row.b-margin-M(ng-if='selectedHub.role!=32')\n                                .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                    span {{ui.HUBName}}\n\n                    .row(ng-if='features.isTimeZone')\n                        .small-12.small-centered.text-center.columns.end\n                            label.top.text-center {{'TIMEZONE'|tr}}\n\n\n                        .small-12.small-centered.text-center.columns.end(co-tap='showTimeZones()')\n                            button.row-button.t-margin-0(ng-if='selectedHub.role==32') {{ui.HUBZone}}\n                            span(ng-if='selectedHub.role!=32') {{ui.HUBZone}}\n\n\n                            //- url & id\n                                .row.up-S\n                                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span.explanation {{selectedHub.url}}\n                                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span.explanation id: {{selectedHub.id}}\n                                    //-.small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span {{selectedHub.version}}\n\n                    .row(ng-if='features.isAdvancedSettings')\n                        .small-12.small-centered.text-center.columns.end\n                            label.top.text-center {{'ADVANCED SETTINGS'|tr}}\n\n\n                        .small-12.small-centered.text-center.columns.end(co-tap='showZigbeeSettings()')\n                            button.row-button.t-margin-0(ng-if='selectedHub.role==32', ng-class='{disabled:!ui.zigbeeStatus.hasNetwork}') {{'ZIGBEE CONNECTION'|tr}}\n\n\n                            //- url & id\n                                .row.up-S\n                                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span.explanation {{selectedHub.url}}\n                                    .small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span.explanation id: {{selectedHub.id}}\n                                    //-.small-10.small-centered.medium-6.medium-centered.text-center.columns.end\n                                        span {{selectedHub.version}}\n    hr\n\n    .row.t-margin-M(ng-controller='UsersCtrl', ng-if='!menu.modalPage')\n        .small-12.columns\n            h3.dark-font {{'USERS'|tr}}\n\n\n        .small-6.name.columns\n            label.top.secondary {{'ACCOUNT'|tr}}\n        .small-4.name.columns.end\n            label.top.secondary {{'ROLE'|tr}}\n\n        .small-12.columns.lighter-background\n            .row.simple-list.action-list\n                .small-12.columns.selected\n                    a.row.valign-middle.action-header(co-tap='gotoPreferences()')\n                        .small-6.name.columns.text-left\n                            .icon-center-line(ng-if='me.email.length>=14') {{me.email | limitTo:14}}...({{'you'|tr}})\n                            .icon-center-line(ng-if='me.email.length<14') {{me.email}} ({{'you'|tr}})\n                        .small-4.name.columns\n                            .icon-center-line\n                                span {{me.roleName}}\n                        .small-2.columns.text-center.link-color\n                           i.con\n                                .icon.icon-cornerarrow\n\n                .small-12.columns(ng-repeat='user in users')\n                    a.row.valign-middle.action-header(co-tap='userDetails(user.id)')\n                        .small-6.name.columns.text-left\n                            .icon-center-line(ng-if='user.email.length>=20') {{user.email | limitTo:20}}...\n                            .icon-center-line(ng-if='user.email.length<20') {{user.email}}\n                        .small-4.name.columns\n                            .icon-center-line\n                                span {{user.roleName}}\n                        .small-2.columns.text-center.link-color\n                            i.con\n                                .icon.icon-cornerarrow\n\n.slide-animate(ng-include=\"'/template-users.tpl.html'\", ng-controller='UsersCtrl', ng-if='menu.modalPage==\"Users\"')\n.slide-animate(ng-include=\"'/template-timezone.tpl.html'\", ng-if='menu.modalPage==\"TimeZone\"')\n.slide-animate(ng-include=\"'/template-zigbee.tpl.html'\", ng-if='menu.modalPage==\"ZigbeeSettings\"')\n"
}),require.register("boot/template-offcanvas.jade",function(e,t,n){n.exports="//- Just placeholder for abstact view (see app.config $stateProvider.state 'c')\n#offcanvas(ui-view='offcanvas', autoscroll='false')\n"}),require.register("boot/template-header.jade",function(e,t,n){n.exports="//-pre {{ui|json}}\nnav#header-menu.row.header-bar.background.movable(ng-if='ui.show&&ui.mode!=MODE.MODAL&&ui.mode!=MODE.MODAL_KIND&&!menu.modalPage', ng-class='{bymenu:menuOpen, preset:ui.preset}')\n    //- mainmenu or prev\n    a.header-bar-height.small-2.columns.l-padding-0(ng-if='!ui.previous', co-tap='toggleMenu()')\n        i.con(ng-if='!isRemote')\n            .icon.icon-mainmenu\n        i.con(ng-if='isRemote')\n            .icon.icon-mainmenu-remote\n\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.previous', co-tap='ui.prev()')\n        i.con\n            .icon.icon-backarrow\n\n    //- optional icon + title\n    .header-bar-height.small-8.columns(ng-if='!ui.mode&&!ui.add')\n        .header-center.title(ng-class='{long:ui.longTitle}')\n            i.right-padded.icon(class='{{ui.icon}}', ng-if='ui.icon')\n            span.name-title {{ui.title}}\n     .header-bar-height.small-2.columns(ng-if='!ui.mode&&!ui.add')\n\n    //- title + add\n    .header-bar-height.small-8.columns(ng-if='ui.add&&!ui.mode')\n        .header-center.title\n            i.right-padded.icon(class='{{ui.icon}}', ng-if='ui.icon')\n            span.name-title {{ui.title}}\n\n    //- wizard title + next\n    .header-bar-height.small-7.columns.small(ng-if='ui.mode==MODE.WIZARD_NEXT||ui.mode==MODE.WIZARD_LAST')\n        .header-center.title\n             span.name-title {{ui.title}}\n     a.header-bar-height.small-3.columns.text-center.lr-padding-0(ng-if='ui.mode==MODE.WIZARD_NEXT', co-tap='wizNext()', ng-disabled='ui.wizDisabled')\n        .header-center.header-button(ng-class='{disabled: ui.wizDisabled}') {{'Next'|tr}}\n    a.header-bar-height.small-3.columns.text-center.lr-padding-0(ng-if='ui.mode==MODE.WIZARD_LAST', co-tap='wizLast()', ng-disabled='ui.wizDisabled')\n        .header-center.header-button(ng-class='{disabled: ui.wizDisabled}') {{'Done'|tr}}\n\n    //- editable title + optional icon - no add - no settings+onfff\n\n    .header-bar-height.small-8.columns(ng-if='!ui.add&&ui.mode&&ui.mode!=MODE.WIZARD_NEXT&&ui.mode!=MODE.WIZARD_LAST&&(!ui.settings&&ui.onoff!=MODE.NONE)')\n        .header-center.title.view(ng-if='ui.mode==MODE.VIEW', ng-class='{icon:ui.icon}')\n            i.right-padded.icon(class='{{ui.icon}}', ng-if='ui.icon')\n            span.name-title.for-icon{{ui.title}}\n        .title.edit(ng-if='ui.mode==MODE.EDIT')\n            input.header-center.header-control(type='text', ng-model='ui.title', palceholder='{{ui.placeholder}}', co-ok='setTitle()')\n\n    //- main view + edit + add\n    .header-bar-height.small-7.name.columns(ng-if='ui.add&&ui.mode&&ui.mode!=MODE.WIZARD_NEXT&&ui.mode!=MODE.WIZARD_LAST')\n        .header-center.title.main.trunc\n            span {{ui.title}}\n\n    //- details view  settings + onoff\n    .header-bar-height.small-7.name.columns(ng-if='ui.settings&&ui.onoff&&ui.onoff!=MODE.NONE')\n        .header-center.title.main.trunc\n            span {{ui.title}}\n\n    //- details view  no settings + no onoff\n    .header-bar-height.small-7.end.name.columns(ng-if='!ui.settings&&ui.onoff==MODE.NONE')\n        .header-center.title.main.trunc\n            span {{ui.title}}\n\n    //- details view  settings + no onoff\n    .header-bar-height.small-8.end.name.columns(ng-if='ui.settings&&ui.onoff==MODE.NONE')\n        .header-center.title.main.trunc\n            span {{ui.title}}\n\n\n    //- action\n    //- view or edit no add\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.add&&ui.mode==MODE.VIEW&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='setEdit()')\n        i.con\n            .icon.icon-editpen\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.add&&ui.mode==MODE.EDIT&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='setView()')\n        i.con\n            .icon.icon-done\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.add&&ui.mode==MODE.EDIT&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff==MODE.NONE', co-tap='setView()')\n        i.con\n            &nbsp;\n    //- view or edit and add\n    a.header-bar-height.small-1.columns.text-center.lr-padding-0(ng-if='ui.add&&ui.mode==MODE.VIEW&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='setEdit()')\n        i.con\n            .icon.icon-editpen\n    a.header-bar-height.small-2.columns.text-right.r-padding-0(ng-if='ui.add&&ui.mode==MODE.VIEW&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='add()')\n        i.con\n            .icon.icon-plus\n    a.header-bar-height.small-1.columns.text-center.lr-padding-0(ng-if='ui.add&&ui.mode==MODE.EDIT&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='setView()')\n        i.con\n            .icon.icon-done\n    a.header-bar-height.small-2.columns.text-right.r-padding-0(ng-if='ui.add&&ui.mode==MODE.EDIT&&ui.onoff!=MODE.ON&&ui.onoff!=MODE.OFF&&ui.onoff!=MODE.NONE', co-tap='add()')\n        i.con\n            .icon.icon-plus\n    //- settings -without onoff\n    a.header-bar-height.small-2.columns.text-left(ng-if='ui.settings&&!ui.onoff', co-tap='toggleSettings()')\n        i.con\n            .icon.icon-settings\n    //- settings -without onoff\n    a.header-bar-height.small-2.columns.text-left(ng-if='ui.settings&&ui.onoff==MODE.NONE', co-tap='toggleSettings()')\n        i.con\n            .icon.icon-settings\n    //- on/off - without settings\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.settings&&ui.onoff==MODE.ON', co-tap='setOff()')\n        i.con\n            .icon.icon-power.on\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.settings&&ui.onoff==MODE.OFF', co-tap='setOn()')\n        i.con\n            .icon.icon-power.off\n\n    //- settings\n    a.header-bar-height.small-1.columns.text-center(ng-if='ui.settings&&ui.onoff&&ui.onoff!=MODE.NONE', co-tap='toggleSettings()')\n        i.con\n            .icon.icon-settings\n    //- on/off\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.settings&&ui.onoff==MODE.ON', co-tap='setOff()')\n        i.con\n            .icon.icon-power.on\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.settings&&ui.onoff==MODE.OFF', co-tap='setOn()')\n        i.con\n            .icon.icon-power.off\n\n    //- add only\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.mode!=MODE.VIEW&&ui.mode!=MODE.EDIT&&ui.add', co-tap='add()')\n        i.con\n            .icon.icon-plus\n\n\nnav#header-menu.row.header-bar.black-background(ng-if='!ui.show&&ui.mode==MODE.LOGO')\n    //- mainmenu\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.previous', co-tap='toggleMenu()')\n        i.header-center.icon.icon-mainmenu\n\n    .header-bar-height.small-10.columns\n        .cozify-icon\n            i.icon.icon-cozifyen(ng-if='selectedLanguage==\"en\"')\n            i.icon.icon-cozifyfi(ng-if='selectedLanguage==\"fi\"')\n\n//- modal (this kind of modal at least in connection, add group-view and in rule filters)\nnav#header-menu.row.header-bar.black-background(ng-if='ui.show&&(ui.mode==MODE.MODAL||ui.mode==MODE.MODAL_KIND)')\n\n    .small-8.small-offset-2.small-centered.columns\n        .header-center.title.in-modal\n           span.name-title {{ui.title}}\n\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.previous && ui.previous!=\"-\"', co-tap='ui.prev()')\n        i.con\n            .icon.icon-close\n\n    //- Just empty for connecting-view\n    a.header-bar-height.small-2.columns.text-center(ng-if='ui.previous==\"-\"') &nbsp;\n\n    a.header-bar-height.small-2.columns.text-center(ng-if='!ui.previous && ui.previous!=\"-\"', co-tap='closeModal()')\n        i.con\n            .icon.icon-close\n"}),require.register("boot/template-logger.jade",function(e,t,n){n.exports="form.main-view.row\n    .small-12.columns\n        .row\n            .small-3.columns.text-center\n                a.label(co-tap='setLevel(LEVELS.NONE)',  ng-class='{success: logLevel==LEVELS.NONE}') NONE\n            .small-3.columns.text-center\n                a.label(co-tap='setLevel(LEVELS.ERROR)',  ng-class='{success: logLevel==LEVELS.ERROR}') ERROR\n            .small-3.columns.text-center\n                a.label(co-tap='setLevel(LEVELS.INFO)',  ng-class='{success: logLevel==LEVELS.INFO}') INFO\n            .small-3.columns.text-center\n                a.label(co-tap='setLevel(LEVELS.DEBUG)',  ng-class='{success: logLevel==LEVELS.DEBUG}') DEBUG\n\n        .row\n            .small-10.small-centered.medium-6.medium-centered.text-center.columns.end()\n                label.text-center {{uuid}}\n\n        .row.log-headers\n            .small-2.columns Time\n            .small-2.columns Level\n            .small-8.columns Msg\n\n        .row.log-lines(ng-repeat='line in logs', ng-class-odd=\"'odd'\" , ng-class-even=\"'even'\", class='{{line.level}}')\n            .small-2.columns {{line.time}}\n            .small-2.columns {{line.level}}\n            a.small-8.columns(ng-if='line.arg1', co-tap='alertDialog(\"Args: \" +line.arg1)') {{line.msg}}...\n            .small-8.columns(ng-if='!line.arg1') {{line.msg}}\n"}),require.register("boot/template-roller-time.jade",function(e,t,n){n.exports="//- Time Roller dialog in 'overlay modal'\n\n//-     Example usage:\n//-     $scope.selectExtra = (extra)->\n//-         $rootScope.showModal \"TimeRoller\", \"Select time\"\n//-         $rootScope.timeRoller.listItems = $rootScope.timeRoller.TIME_SELECTION\n//-         $rootScope.timeRoller.selected = extra.value || $rootScope.timeRoller.TIME_DEFAULT\n//-         $rootScope.timeRoller.name = 'time'\n//-         $rootScope.timeRoller.unit = 'minutes'\n//-         $rootScope.timeRoller.object = extra\n\n//-     $scope.setTimeRollerOk = ()->\n//-         $rootScope.timeRoller.object.value = $rootScope.timeRoller.selected\n\n//- Note that $parent referes to current controller - so it is not set here\nform.modal.overlay\n      .content\n            .align-middle(ng-class='{long: timeRoller.getRollerList().length>5}')\n                .row\n                    .small-12.small-centered.medium-6.medium-centered.columns.end.text-center\n                        label {{timeRoller.unit|tr}}\n\n                .row.collapse.select-list\n                    .small-8.small-centered.medium-6.medium-centered.large-4.large-centered.columns.end(co-roller='true', co-selection='timeRoller.selected', co-roller-list='timeRoller.getRollerList()')\n\n                .row\n                    .small-12.small-centered.medium-6.medium-centered.columns.end\n                        button.row-button(type='submit', ng-click='setTimeRollerOk()') {{'SELECT'|tr}}\n"}),require.register("boot/template-roller-clock.jade",function(e,t,n){n.exports="//- Clock roller dialog in 'overlay modal'\n//-     Example usage\n\n//-     #Show Clock button handler\n//-     $scope.selectExtraClock = (timers, selectedTimer)->\n//-         return unless timers and selectedTimer and timers[selectedTimer]\n//-         timer = timers[selectedTimer]\n//-         $rootScope.showModal \"ClockRoller\", ['Select', 'clock time']\n//-         $rootScope.clockRoller.minute.listItems = $rootScope.clockRoller.MIN_SELECTION\n//-         $rootScope.clockRoller.minute.selected = i18nSrv.localizedMin(timer.minute) || i18nSrv.localizedMin '0'\n//-         $rootScope.clockRoller.minute.unit = 'minutes'\n//-         $rootScope.clockRoller.hour.listItems = $rootScope.clockRoller.HOUR_SELECTION\n//-         $rootScope.clockRoller.hour.selected = i18nSrv.localizedHour(timer.hour) || i18nSrv.localizedHour '8'\n//-         $rootScope.clockRoller.hour.unit = 'hours'\n//-         $rootScope.clockRoller.object = timers\n//-         $rootScope.clockRoller.timer = timer\n//-         $rootScope.clockRoller.timerType = selectedTimer\n\n\n//-     #Clock Roller template ok button handler\n//-     $scope.setClockRollerOk = ()->\n//-         $rootScope.clockRoller.timer.minute = $rootScope.clockRoller.minute.selected\n//-         $rootScope.clockRoller.timer.hour = i18nSrv.get24hFormat $rootScope.clockRoller.hour.selected\n//-         $rootScope.clockRoller.timer.time =  i18nSrv.localizedTime \"#{$rootScope.clockRoller.timer.hour}:#{$rootScope.clockRoller.timer.minute}\"\n//-         if $rootScope.clockRoller.timerType is 'timerStart'\n//-            #set cron\n//-            $rootScope.clockRoller.object.cronDef.start = CronSrv.formatHourForCron $rootScope.clockRoller.timer.hour, $rootScope.clockRoller.object.cronDef.start\n//-             $rootScope.clockRoller.object.cronDef.start = CronSrv.formatMinuteForCron $rootScope.clockRoller.timer.minute, $rootScope.clockRoller.object.cronDef.start\n//-             $rootScope.$emit 'HEADER_PREV'\n//-         else if $rootScope.clockRoller.timerType is 'timerStop'\n//-             #set cron\n//-             $rootScope.clockRoller.object.cronDef.stop = CronSrv.formatHourForCron $rootScope.clockRoller.timer.hour, $rootScope.clockRoller.object.cronDef.stop\n//-             $rootScope.clockRoller.object.cronDef.stop = CronSrv.formatMinuteForCron $rootScope.clockRoller.timer.minute, $rootScope.clockRoller.object.cronDef.stop\n//-             $rootScope.$emit 'HEADER_PREV'\n\n\n//- Note that $parent referes to current controller - so it is not set here\nform.modal.overlay\n      .content\n            .align-middle.long\n                .row.tabs\n                    a.small-6.columns.text-center(ng-class='{selected:clockKind==\"time\"}', co-tap='setClockKind(\"time\")')\n                        i.con\n                            .icon.icon-time\n                    a.small-6.columns.text-center(ng-class='{selected:clockKind==\"sun\"}', co-tap='setClockKind(\"sun\")')\n                        i.con\n                            .icon.icon-time-sun\n\n                .row(ng-if='clockKind==\"time\"')\n                    .small-4.small-offset-2.columns.text-center\n                        label.inline-mt0.right {{clockRoller.hour.unit|tr}}\n                    .small-4.columns.end.text-center\n                        //- right by purpose to get centerd\n                        label.inline-mt0.right {{clockRoller.minute.unit|tr}}\n\n                .row.collapse.select-list(ng-if='clockKind==\"time\"')\n                    .small-4.small-offset-2.columns(co-roller='true', co-selection='clockRoller.hour.selected', co-roller-list='clockRoller.hour.getRollerList()')\n                    span.roller-divider.clock :\n                    .small-4.columns.end(co-roller='true', co-selection='clockRoller.minute.selected', co-roller-list='clockRoller.minute.getRollerList()')\n\n                  .row(ng-if='clockKind==\"sun\"')\n                    .small-6.small-offset-0.columns.text-center\n                        label.small.inline-mt0.right {{'rise or set'|tr}}\n                    .small-6.columns.end.text-center\n                        label.small.inline-mt0 {{clockRoller.sunTime.unit|tr}}\n\n                .row.collapse.select-list(ng-if='clockKind==\"sun\"')\n                    .small-5.small-offset-1.columns.roller-sunrise(co-roller='true', co-icons='true', co-selection='clockRoller.sun.selected', co-roller-list='clockRoller.sun.getRollerList()')\n                    span.roller-divider.sunrise :\n                    .small-6.columns.end.l-margin-50-percent(co-roller='true', co-selection='clockRoller.sunTime.selected', co-roller-list='clockRoller.sunTime.getRollerList()')\n\n                .row\n                    .small-12.small-centered.medium-6.medium-centered.columns.end\n                        button.row-button(type='submit', ng-click='setClockRollerOk(); ui.prev()') {{'SELECT'|tr}}\n"}),require.register("boot/template-date-selection.jade",function(e,t,n){n.exports="//- Date selection dialog in 'overlay modal'\n\n//-  Example usage:\n//-     $scope.showDateSelection = (timer)->\n//-         # Make copy so that back is not saving it\n//-         $scope.timer = angular.copy timer\n//-         $rootScope.showModal 'DateSelection', ['Rule timer']\n\n//-      $scope.saveTimers = ()->\n//-         $log.debug \"saveTimers\", $scope.timer\n//-         # Save $scope.timer\n//-         $rootScope.closeModal()\n\n//-     $scope.isSameStartStopDays = CronSrv.isSameStartStopDays\n//-     $scope.getSelectedDays = CronSrv.getSelectedDays\n//-     $scope.selectDay= CronSrv.selectDay\n//-     $scope.isEveryDaySelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Every day'\n//-     $scope.isWeekdaysSelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Weekdays'\n//-     $scope.isWeekendSelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Weekend'\n\n\n\n//-     # Select Day button handler\n//-     $scope.selectExtraDays = (timers, selectedTimer)->\n//-         return unless timers and selectedTimer and timers[selectedTimer]\n//-         timer = timers[selectedTimer]\n//-         $rootScope.showModal \"TimeRoller\", ['Select', 'Day']\n//-         $rootScope.timeRoller.listItems = CronSrv.extendedDays.concat(CronSrv.extendedDays) # 2x for getting roller\n//-         selectedDay = CronSrv.getSelectedDays(timers, selectedTimer) || $rootScope.timeRoller.DATE_DEFAULT\n//-         $rootScope.timeRoller.selected = CronSrv.getLongDay selectedDay\n//-         $rootScope.timeRoller.name = 'date'\n//-         $rootScope.timeRoller.unit = ''\n//-         $rootScope.timeRoller.object = timers\n//-         $rootScope.timeRoller.timer = timer\n//-         $rootScope.timeRoller.timerType = selectedTimer\n\n//-     $scope.isSameStartStopDays = CronSrv.isSameStartStopDays\n//-     $scope.getSelectedDays = CronSrv.getSelectedDays\n//-     $scope.getSelectedLongDays = CronSrv.getSelectedLongDays\n//-     $scope.selectDay= CronSrv.selectDay\n//-     $scope.isEveryDaySelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Every day'\n//-     $scope.isWeekdaysSelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Weekdays'\n//-     $scope.isWeekendSelected=  (timerObj, selectedTimer)-> CronSrv.getSelectedDays(timerObj, selectedTimer) is i18nSrv.tr 'Weekend\n\n//- Note that $parent referes to current controller - so it is not set here\nform.modal.overlay\n      .content\n            .align-middle.long\n                .row\n                    .small-12.small-centered.medium-8.medium-centered.columns.text-center\n                        label {{'Date(s)'|tr}}:\n                .row\n                    .small-12.small-centered.medium-8.medium-centered.columns\n                        ul.plain-list.text-center\n                            li(co-tap='selectDay(\"Every day\", timer, \"timerStart\")' ng-class='{selected:isEveryDaySelected(timer, \"timerStart\")}')\n                                a.upper-case {{'Every day'|tr}}\n                            li(co-tap='selectDay(\"Weekdays\", timer, \"timerStart\")' ng-class='{selected:isWeekdaysSelected(timer, \"timerStart\")}')\n                                a.upper-case{{'Weekdays'|tr}}\n                            li(co-tap='selectDay(\"Weekend\", timer, \"timerStart\")' ng-class='{selected:isWeekendSelected(timer, \"timerStart\")}')\n                                a.upper-case {{'Weekend'|tr}}\n                            li(co-tap='selectDay(\"Own period\", timer, \"timerStart\")' ng-class='{selected:!isSameStartStopDays(timer)}')\n                                a.upper-case {{'Own period'|tr}}\n\n                    hr\n\n                .row\n                    .small-12.small-centered.medium-8.medium-centered.columns.text-center\n                        label {{'Time period'|tr}}:\n\n                .row.t-margin-S\n                    .small-12.small-centered.medium-8.medium-centered.columns.end\n                        //- Same days\n                        .row.text-center(ng-if='isSameStartStopDays(timer)')\n                            //-a.button.date-button.small-12.inline-truncated(co-tap='selectExtraDays(timer, \"timerStart\")')\n                                span {{getSelectedDays(timer, \"timerStart\")}}\n                            .small-5-5.columns\n                                //- time\n                                a.button.time-button.small-5(ng-if='timer.timerStart.time' co-tap='selectExtraClock(timer, \"timerStart\")' ng-class='{disabled:!timer.timerStart.enabled}')\n                                    sapn.i {{timer.timerStart.time}}\n                                //- sun\n                                a.button.time-button(ng-if='timer.timerStart.sun' co-tap='selectExtraClock(timer, \"timerStart\")' ng-class='{disabled:!timer.timerStart.enabled}')\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span {{timer.timerStart.sunTime}}\n\n                            .small-1.columns\n                                 a.separator-button -\n\n                            .small-5-5.columns\n                                //- time\n                                a.button.time-button.small-5(ng-if='timer.timerStop.time' co-tap='selectExtraClock(timer, \"timerStop\")'  ng-class='{disabled:!timer.timerStart.enabled}')\n                                    span.i {{timer.timerStop.time}}\n                                //- sun\n                                a.button.time-button(ng-if='timer.timerStop.sun' co-tap='selectExtraClock(timer, \"timerStop\")' ng-class='{disabled:!timer.timerStart.enabled}')\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span {{timer.timerStop.sunTime}}\n\n\n\n                        //- Different days\n                        .row.text-center(ng-if='!isSameStartStopDays(timer)')\n                            .small-5-5.columns\n                                a.button.date-button(co-tap='selectExtraDays(timer, \"timerStart\")') {{getSelectedLongDays(timer, \"timerStart\")}}\n                                br\n                                //- time\n                                a.button.time-button(ng-if='timer.timerStart.time' co-tap='selectExtraClock(timer, \"timerStart\")' ng-class='{disabled:!timer.timerStart.enabled}') {{timer.timerStart.time}}\n                                //- sun\n                                a.button.time-button(ng-if='timer.timerStart.sun' co-tap='selectExtraClock(timer, \"timerStart\")' ng-class='{disabled:!timer.timerStart.enabled}')\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStart.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span {{timer.timerStart.sunTime}}\n                            .small-1.columns\n                                a.separator-button -\n\n                            .small-5-5.columns\n                                a.button.date-button(co-tap='selectExtraDays(timer, \"timerStop\")') {{getSelectedLongDays(timer, \"timerStop\")}}\n                                br\n                                //- time\n                                a.button.time-button(ng-if='timer.timerStop.time' co-tap='selectExtraClock(timer, \"timerStop\")'  ng-class='{disabled:!timer.timerStart.enabled}'){{timer.timerStop.time}}\n                                //- sun\n                                a.button.time-button(ng-if='timer.timerStop.sun' co-tap='selectExtraClock(timer, \"timerStop\")' ng-class='{disabled:!timer.timerStart.enabled}')\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunrise\"')\n                                        .icon.icon-sunrise\n                                    i.con.button.sun(ng-if='timer.timerStop.sun==\"sunset\"')\n                                        .icon.icon-sunset\n                                    span {{timer.timerStop.sunTime}}\n                .row\n                    .small-12.small-centered.medium-8.medium-centered.columns.end\n                        button.row-button(type='submit', ng-click='saveTimers()') {{'DONE'|tr}}\n"}),require.alias("boot/index.js","app-ui/deps/boot/index.js"),require.alias("boot/http-auth.js","app-ui/deps/boot/http-auth.js"),require.alias("boot/dec-logger.js","app-ui/deps/boot/dec-logger.js"),require.alias("boot/dec-exception.js","app-ui/deps/boot/dec-exception.js"),require.alias("boot/ctrl-header.js","app-ui/deps/boot/ctrl-header.js"),require.alias("boot/ctrl-alert.js","app-ui/deps/boot/ctrl-alert.js"),require.alias("boot/ctrl-logger.js","app-ui/deps/boot/ctrl-logger.js"),require.alias("boot/ctrl-speech.js","app-ui/deps/boot/ctrl-speech.js"),require.alias("boot/srv-logger.js","app-ui/deps/boot/srv-logger.js"),require.alias("boot/index.js","boot/index.js"),require.alias("vendors/index.js","boot/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","boot/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","boot/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","boot/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","boot/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","boot/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","boot/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","boot/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","boot/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","boot/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","boot/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","boot/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","boot/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","boot/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","boot/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","boot/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","boot/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","boot/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","boot/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","boot/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","boot/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","boot/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","boot/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","boot/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","boot/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","boot/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","boot/deps/preferences/index.js"),require.alias("preferences/ctrl.js","boot/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","boot/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","boot/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","boot/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","boot/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","boot/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","boot/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("devices/index.js","boot/deps/devices/index.js"),require.alias("devices/ctrl-detail-camera.js","boot/deps/devices/ctrl-detail-camera.js"),require.alias("devices/ctrl-detail-light.js","boot/deps/devices/ctrl-detail-light.js"),require.alias("devices/ctrl-detail-media.js","boot/deps/devices/ctrl-detail-media.js"),require.alias("devices/ctrl-detail-remote-control.js","boot/deps/devices/ctrl-detail-remote-control.js"),require.alias("devices/ctrl-detail-uidev.js","boot/deps/devices/ctrl-detail-uidev.js"),require.alias("devices/ctrl-detail.js","boot/deps/devices/ctrl-detail.js"),require.alias("devices/ctrl-devices-add.js","boot/deps/devices/ctrl-devices-add.js"),require.alias("devices/ctrl-group.js","boot/deps/devices/ctrl-group.js"),require.alias("devices/ctrl-list.js","boot/deps/devices/ctrl-list.js"),require.alias("devices/srv-devices.js","boot/deps/devices/srv-devices.js"),require.alias("devices/srv-helpers.js","boot/deps/devices/srv-helpers.js"),require.alias("devices/srv-mock-poll.js","boot/deps/devices/srv-mock-poll.js"),require.alias("i18n/index.js","devices/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","devices/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","devices/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","devices/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","devices/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","devices/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","devices/deps/i18n/i18n-fltr.js"),require.alias("connection/index.js","devices/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","devices/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","devices/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","devices/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","devices/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","devices/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","devices/deps/preferences/index.js"),require.alias("preferences/ctrl.js","devices/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","devices/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","devices/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","devices/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","devices/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","devices/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","devices/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-drag-drop/index.js","devices/deps/drv-drag-drop/index.js"),require.alias("drv-color-picker/index.js","devices/deps/drv-color-picker/index.js"),require.alias("connection/index.js","drv-color-picker/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","drv-color-picker/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","drv-color-picker/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","drv-color-picker/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","drv-color-picker/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","drv-color-picker/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-gauge/index.js","devices/deps/drv-gauge/index.js"),require.alias("drv-video/index.js","devices/deps/drv-video/index.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","drv-video/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","drv-video/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","drv-video/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","drv-video/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","drv-video/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","drv-video/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","drv-video/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","drv-video/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","drv-video/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","drv-video/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","drv-video/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","drv-video/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","drv-video/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","drv-video/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","drv-video/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","drv-video/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","drv-video/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("drv-roller/index.js","devices/deps/drv-roller/index.js"),require.alias("scenes/index.js","boot/deps/scenes/index.js"),require.alias("scenes/ctrl-detail.js","boot/deps/scenes/ctrl-detail.js"),require.alias("scenes/ctrl-list.js","boot/deps/scenes/ctrl-list.js"),require.alias("scenes/srv-scenes.js","boot/deps/scenes/srv-scenes.js"),require.alias("scenes/srv-helpers.js","boot/deps/scenes/srv-helpers.js"),require.alias("devices/index.js","scenes/deps/devices/index.js"),require.alias("devices/ctrl-detail-camera.js","scenes/deps/devices/ctrl-detail-camera.js"),require.alias("devices/ctrl-detail-light.js","scenes/deps/devices/ctrl-detail-light.js"),require.alias("devices/ctrl-detail-media.js","scenes/deps/devices/ctrl-detail-media.js"),require.alias("devices/ctrl-detail-remote-control.js","scenes/deps/devices/ctrl-detail-remote-control.js"),require.alias("devices/ctrl-detail-uidev.js","scenes/deps/devices/ctrl-detail-uidev.js"),require.alias("devices/ctrl-detail.js","scenes/deps/devices/ctrl-detail.js"),require.alias("devices/ctrl-devices-add.js","scenes/deps/devices/ctrl-devices-add.js"),require.alias("devices/ctrl-group.js","scenes/deps/devices/ctrl-group.js"),require.alias("devices/ctrl-list.js","scenes/deps/devices/ctrl-list.js"),require.alias("devices/srv-devices.js","scenes/deps/devices/srv-devices.js"),require.alias("devices/srv-helpers.js","scenes/deps/devices/srv-helpers.js"),require.alias("devices/srv-mock-poll.js","scenes/deps/devices/srv-mock-poll.js"),require.alias("i18n/index.js","devices/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","devices/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","devices/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","devices/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","devices/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","devices/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","devices/deps/i18n/i18n-fltr.js"),require.alias("connection/index.js","devices/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","devices/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","devices/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","devices/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","devices/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","devices/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","devices/deps/preferences/index.js"),require.alias("preferences/ctrl.js","devices/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","devices/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","devices/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","devices/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","devices/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","devices/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","devices/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-drag-drop/index.js","devices/deps/drv-drag-drop/index.js"),require.alias("drv-color-picker/index.js","devices/deps/drv-color-picker/index.js"),require.alias("connection/index.js","drv-color-picker/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","drv-color-picker/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","drv-color-picker/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","drv-color-picker/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","drv-color-picker/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","drv-color-picker/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-gauge/index.js","devices/deps/drv-gauge/index.js"),require.alias("drv-video/index.js","devices/deps/drv-video/index.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","drv-video/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","drv-video/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","drv-video/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","drv-video/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","drv-video/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","drv-video/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","drv-video/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","drv-video/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","drv-video/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","drv-video/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","drv-video/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","drv-video/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","drv-video/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","drv-video/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","drv-video/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","drv-video/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","drv-video/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("drv-roller/index.js","devices/deps/drv-roller/index.js"),require.alias("preferences/index.js","scenes/deps/preferences/index.js"),require.alias("preferences/ctrl.js","scenes/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","scenes/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","scenes/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","scenes/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","scenes/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","scenes/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","scenes/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("i18n/index.js","scenes/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","scenes/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","scenes/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","scenes/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","scenes/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","scenes/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","scenes/deps/i18n/i18n-fltr.js"),require.alias("rules/index.js","boot/deps/rules/index.js"),require.alias("rules/ctrl-rules-list.js","boot/deps/rules/ctrl-rules-list.js"),require.alias("rules/ctrl-rules-detail.js","boot/deps/rules/ctrl-rules-detail.js"),require.alias("rules/srv-rules.js","boot/deps/rules/srv-rules.js"),require.alias("rules/srv-helpers.js","boot/deps/rules/srv-helpers.js"),require.alias("rules/srv-mock-templates.js","boot/deps/rules/srv-mock-templates.js"),require.alias("devices/index.js","rules/deps/devices/index.js"),require.alias("devices/ctrl-detail-camera.js","rules/deps/devices/ctrl-detail-camera.js"),require.alias("devices/ctrl-detail-light.js","rules/deps/devices/ctrl-detail-light.js"),require.alias("devices/ctrl-detail-media.js","rules/deps/devices/ctrl-detail-media.js"),require.alias("devices/ctrl-detail-remote-control.js","rules/deps/devices/ctrl-detail-remote-control.js"),require.alias("devices/ctrl-detail-uidev.js","rules/deps/devices/ctrl-detail-uidev.js"),require.alias("devices/ctrl-detail.js","rules/deps/devices/ctrl-detail.js"),require.alias("devices/ctrl-devices-add.js","rules/deps/devices/ctrl-devices-add.js"),require.alias("devices/ctrl-group.js","rules/deps/devices/ctrl-group.js"),require.alias("devices/ctrl-list.js","rules/deps/devices/ctrl-list.js"),require.alias("devices/srv-devices.js","rules/deps/devices/srv-devices.js"),require.alias("devices/srv-helpers.js","rules/deps/devices/srv-helpers.js"),require.alias("devices/srv-mock-poll.js","rules/deps/devices/srv-mock-poll.js"),require.alias("i18n/index.js","devices/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","devices/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","devices/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","devices/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","devices/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","devices/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","devices/deps/i18n/i18n-fltr.js"),require.alias("connection/index.js","devices/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","devices/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","devices/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","devices/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","devices/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","devices/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","devices/deps/preferences/index.js"),require.alias("preferences/ctrl.js","devices/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","devices/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","devices/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","devices/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","devices/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","devices/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","devices/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-drag-drop/index.js","devices/deps/drv-drag-drop/index.js"),require.alias("drv-color-picker/index.js","devices/deps/drv-color-picker/index.js"),require.alias("connection/index.js","drv-color-picker/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","drv-color-picker/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","drv-color-picker/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","drv-color-picker/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","drv-color-picker/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","drv-color-picker/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-gauge/index.js","devices/deps/drv-gauge/index.js"),require.alias("drv-video/index.js","devices/deps/drv-video/index.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","drv-video/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","drv-video/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","drv-video/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","drv-video/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","drv-video/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","drv-video/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","drv-video/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","drv-video/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","drv-video/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","drv-video/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","drv-video/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","drv-video/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","drv-video/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","drv-video/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","drv-video/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","drv-video/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","drv-video/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("drv-roller/index.js","devices/deps/drv-roller/index.js"),require.alias("scenes/index.js","rules/deps/scenes/index.js"),require.alias("scenes/ctrl-detail.js","rules/deps/scenes/ctrl-detail.js"),require.alias("scenes/ctrl-list.js","rules/deps/scenes/ctrl-list.js"),require.alias("scenes/srv-scenes.js","rules/deps/scenes/srv-scenes.js"),require.alias("scenes/srv-helpers.js","rules/deps/scenes/srv-helpers.js"),require.alias("devices/index.js","scenes/deps/devices/index.js"),require.alias("devices/ctrl-detail-camera.js","scenes/deps/devices/ctrl-detail-camera.js"),require.alias("devices/ctrl-detail-light.js","scenes/deps/devices/ctrl-detail-light.js"),require.alias("devices/ctrl-detail-media.js","scenes/deps/devices/ctrl-detail-media.js"),require.alias("devices/ctrl-detail-remote-control.js","scenes/deps/devices/ctrl-detail-remote-control.js"),require.alias("devices/ctrl-detail-uidev.js","scenes/deps/devices/ctrl-detail-uidev.js"),require.alias("devices/ctrl-detail.js","scenes/deps/devices/ctrl-detail.js"),require.alias("devices/ctrl-devices-add.js","scenes/deps/devices/ctrl-devices-add.js"),require.alias("devices/ctrl-group.js","scenes/deps/devices/ctrl-group.js"),require.alias("devices/ctrl-list.js","scenes/deps/devices/ctrl-list.js"),require.alias("devices/srv-devices.js","scenes/deps/devices/srv-devices.js"),require.alias("devices/srv-helpers.js","scenes/deps/devices/srv-helpers.js"),require.alias("devices/srv-mock-poll.js","scenes/deps/devices/srv-mock-poll.js"),require.alias("i18n/index.js","devices/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","devices/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","devices/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","devices/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","devices/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","devices/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","devices/deps/i18n/i18n-fltr.js"),require.alias("connection/index.js","devices/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","devices/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","devices/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","devices/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","devices/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","devices/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","devices/deps/preferences/index.js"),require.alias("preferences/ctrl.js","devices/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","devices/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","devices/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","devices/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","devices/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","devices/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","devices/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-drag-drop/index.js","devices/deps/drv-drag-drop/index.js"),require.alias("drv-color-picker/index.js","devices/deps/drv-color-picker/index.js"),require.alias("connection/index.js","drv-color-picker/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","drv-color-picker/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","drv-color-picker/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","drv-color-picker/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","drv-color-picker/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","drv-color-picker/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-gauge/index.js","devices/deps/drv-gauge/index.js"),require.alias("drv-video/index.js","devices/deps/drv-video/index.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","drv-video/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","drv-video/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","drv-video/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","drv-video/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","drv-video/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","drv-video/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","drv-video/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","drv-video/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","drv-video/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","drv-video/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","drv-video/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","drv-video/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","drv-video/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","drv-video/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","drv-video/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","drv-video/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","drv-video/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("drv-roller/index.js","devices/deps/drv-roller/index.js"),require.alias("preferences/index.js","scenes/deps/preferences/index.js"),require.alias("preferences/ctrl.js","scenes/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","scenes/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","scenes/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","scenes/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","scenes/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","scenes/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","scenes/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("i18n/index.js","scenes/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","scenes/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","scenes/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","scenes/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","scenes/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","scenes/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","scenes/deps/i18n/i18n-fltr.js"),require.alias("i18n/index.js","rules/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","rules/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","rules/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","rules/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","rules/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","rules/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","rules/deps/i18n/i18n-fltr.js"),require.alias("drv-roller/index.js","rules/deps/drv-roller/index.js"),require.alias("vendors/index.js","rules/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","rules/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","rules/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","rules/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","rules/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","rules/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","rules/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","rules/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","rules/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","rules/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","rules/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","rules/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","rules/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","rules/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","rules/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","rules/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","rules/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","rules/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","rules/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("connection/index.js","boot/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","boot/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","boot/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","boot/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","boot/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","boot/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("utils/index.js","boot/deps/utils/index.js"),require.alias("utils/cron-srv.js","boot/deps/utils/cron-srv.js"),require.alias("utils/push-srv.js","boot/deps/utils/push-srv.js"),require.alias("utils/user-srv.js","boot/deps/utils/user-srv.js"),require.alias("utils/map-fltr.js","boot/deps/utils/map-fltr.js"),require.alias("drv-color-picker/index.js","boot/deps/drv-color-picker/index.js"),require.alias("connection/index.js","drv-color-picker/deps/connection/index.js"),require.alias("connection/ctrl-connection.js","drv-color-picker/deps/connection/ctrl-connection.js"),require.alias("connection/srv-helpers.js","drv-color-picker/deps/connection/srv-helpers.js"),require.alias("connection/srv-connection-state.js","drv-color-picker/deps/connection/srv-connection-state.js"),require.alias("connection/srv-connect.js","drv-color-picker/deps/connection/srv-connect.js"),require.alias("connection/srv-mock-polls.js","drv-color-picker/deps/connection/srv-mock-polls.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","connection/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","connection/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","connection/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","connection/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","connection/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","connection/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","connection/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","connection/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","connection/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","connection/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","connection/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","connection/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","connection/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","connection/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","connection/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","connection/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","connection/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","connection/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("i18n/index.js","connection/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","connection/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","connection/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","connection/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","connection/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","connection/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","connection/deps/i18n/i18n-fltr.js"),require.alias("preferences/index.js","connection/deps/preferences/index.js"),require.alias("preferences/ctrl.js","connection/deps/preferences/ctrl.js"),require.alias("preferences/ctrl-rooms.js","connection/deps/preferences/ctrl-rooms.js"),require.alias("preferences/ctrl-users.js","connection/deps/preferences/ctrl-users.js"),require.alias("preferences/ctrl-features.js","connection/deps/preferences/ctrl-features.js"),require.alias("preferences/srv-helpers.js","connection/deps/preferences/srv-helpers.js"),require.alias("preferences/srv.js","connection/deps/preferences/srv.js"),require.alias("preferences/srv-rooms.js","connection/deps/preferences/srv-rooms.js"),require.alias("i18n/index.js","preferences/deps/i18n/index.js"),require.alias("i18n/en/en-GB.js","preferences/deps/i18n/en/en-GB.js"),require.alias("i18n/en/angular-locale.js","preferences/deps/i18n/en/angular-locale.js"),require.alias("i18n/fi/fi-FI.js","preferences/deps/i18n/fi/fi-FI.js"),require.alias("i18n/fi/angular-locale.js","preferences/deps/i18n/fi/angular-locale.js"),require.alias("i18n/i18n-srv.js","preferences/deps/i18n/i18n-srv.js"),require.alias("i18n/i18n-fltr.js","preferences/deps/i18n/i18n-fltr.js"),require.alias("drv-drag-drop/index.js","boot/deps/drv-drag-drop/index.js"),require.alias("drv-gauge/index.js","boot/deps/drv-gauge/index.js"),require.alias("drv-roller/index.js","boot/deps/drv-roller/index.js"),require.alias("drv-video/index.js","boot/deps/drv-video/index.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/js/es5-shim.js","drv-video/deps/vendors/js/es5-shim.js"),require.alias("vendors/js/fastclick.js","drv-video/deps/vendors/js/fastclick.js"),require.alias("vendors/js/hammer.js","drv-video/deps/vendors/js/hammer.js"),require.alias("vendors/js/lodash.js","drv-video/deps/vendors/js/lodash.js"),require.alias("vendors/js/mailcheck.js","drv-video/deps/vendors/js/mailcheck.js"),require.alias("vendors/js/modernizr.js","drv-video/deps/vendors/js/modernizr.js"),require.alias("vendors/js/stately.js","drv-video/deps/vendors/js/stately.js"),require.alias("vendors/js/codemirror.js","drv-video/deps/vendors/js/codemirror.js"),require.alias("vendors/js/python.js","drv-video/deps/vendors/js/python.js"),require.alias("vendors/js/jwplayer.js","drv-video/deps/vendors/js/jwplayer.js"),require.alias("vendors/js/angular/angular.js","drv-video/deps/vendors/js/angular/angular.js"),require.alias("vendors/js/angular/angular-animate.js","drv-video/deps/vendors/js/angular/angular-animate.js"),require.alias("vendors/js/angular/angular-sanitize.js","drv-video/deps/vendors/js/angular/angular-sanitize.js"),require.alias("vendors/js/angular/angular-ui-router.js","drv-video/deps/vendors/js/angular/angular-ui-router.js"),require.alias("vendors/js/angular/angular-ios9-uiwebview-patch.js","drv-video/deps/vendors/js/angular/angular-ios9-uiwebview-patch.js"),require.alias("vendors/js/angular/ng-sortable.js","drv-video/deps/vendors/js/angular/ng-sortable.js"),require.alias("vendors/js/spectra.js","drv-video/deps/vendors/js/spectra.js"),require.alias("vendors/index.js","drv-video/deps/vendors/index.js"),require.alias("vendors/index.js","vendors/index.js"),require.alias("drv-swipe/index.js","boot/deps/drv-swipe/index.js"),require.alias("drv-input/index.js","boot/deps/drv-input/index.js"),require.alias("drv-modals/index.js","boot/deps/drv-modals/index.js"),require.alias("drv-img/index.js","boot/deps/drv-img/index.js"),require.alias("drv-include/index.js","boot/deps/drv-include/index.js"),require.alias("drv-tap-hold/index.js","boot/deps/drv-tap-hold/index.js"),require("app-ui/jade-runtime");
if (typeof exports == "object") {
  module.exports = require("app-ui");
} else if (typeof define == "function" && define.amd) {
  define([], function(){ return require("app-ui"); });
} else {
  this["cozify"] = require("app-ui");
}})();